var ife=Object.defineProperty;var TB=t=>{throw TypeError(t)};var sfe=(t,e,n)=>e in t?ife(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var GA=(t,e,n)=>sfe(t,typeof e!="symbol"?e+"":e,n),qA=(t,e,n)=>e.has(t)||TB("Cannot "+n);var Xe=(t,e,n)=>(qA(t,e,"read from private field"),n?n.call(t):e.get(t)),Pn=(t,e,n)=>e.has(t)?TB("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),en=(t,e,n,r)=>(qA(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),cs=(t,e,n)=>(qA(t,e,"access private method"),n);var Q1=(t,e,n,r)=>({set _(i){en(t,e,i,n)},get _(){return Xe(t,e,r)}});function afe(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Wo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pa(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ofe(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var t7={exports:{}},qM={},n7={exports:{}},bn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tw=Symbol.for("react.element"),lfe=Symbol.for("react.portal"),cfe=Symbol.for("react.fragment"),ufe=Symbol.for("react.strict_mode"),dfe=Symbol.for("react.profiler"),ffe=Symbol.for("react.provider"),hfe=Symbol.for("react.context"),mfe=Symbol.for("react.forward_ref"),pfe=Symbol.for("react.suspense"),gfe=Symbol.for("react.memo"),vfe=Symbol.for("react.lazy"),PB=Symbol.iterator;function xfe(t){return t===null||typeof t!="object"?null:(t=PB&&t[PB]||t["@@iterator"],typeof t=="function"?t:null)}var r7={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},i7=Object.assign,s7={};function qv(t,e,n){this.props=t,this.context=e,this.refs=s7,this.updater=n||r7}qv.prototype.isReactComponent={};qv.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};qv.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function a7(){}a7.prototype=qv.prototype;function oI(t,e,n){this.props=t,this.context=e,this.refs=s7,this.updater=n||r7}var lI=oI.prototype=new a7;lI.constructor=oI;i7(lI,qv.prototype);lI.isPureReactComponent=!0;var kB=Array.isArray,o7=Object.prototype.hasOwnProperty,cI={current:null},l7={key:!0,ref:!0,__self:!0,__source:!0};function c7(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)o7.call(e,r)&&!l7.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:tw,type:t,key:s,ref:a,props:i,_owner:cI.current}}function yfe(t,e){return{$$typeof:tw,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function uI(t){return typeof t=="object"&&t!==null&&t.$$typeof===tw}function bfe(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var RB=/\/+/g;function KA(t,e){return typeof t=="object"&&t!==null&&t.key!=null?bfe(""+t.key):e.toString(36)}function HS(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case tw:case lfe:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+KA(a,0):r,kB(i)?(n="",t!=null&&(n=t.replace(RB,"$&/")+"/"),HS(i,e,n,"",function(u){return u})):i!=null&&(uI(i)&&(i=yfe(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(RB,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",kB(t))for(var l=0;l<t.length;l++){s=t[l];var c=r+KA(s,l);a+=HS(s,e,n,c,i)}else if(c=xfe(t),typeof c=="function")for(t=c.call(t),l=0;!(s=t.next()).done;)s=s.value,c=r+KA(s,l++),a+=HS(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function J1(t,e,n){if(t==null)return t;var r=[],i=0;return HS(t,r,"","",function(s){return e.call(n,s,i++)}),r}function wfe(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ta={current:null},GS={transition:null},_fe={ReactCurrentDispatcher:ta,ReactCurrentBatchConfig:GS,ReactCurrentOwner:cI};function u7(){throw Error("act(...) is not supported in production builds of React.")}bn.Children={map:J1,forEach:function(t,e,n){J1(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return J1(t,function(){e++}),e},toArray:function(t){return J1(t,function(e){return e})||[]},only:function(t){if(!uI(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};bn.Component=qv;bn.Fragment=cfe;bn.Profiler=dfe;bn.PureComponent=oI;bn.StrictMode=ufe;bn.Suspense=pfe;bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_fe;bn.act=u7;bn.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=i7({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=cI.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)o7.call(e,c)&&!l7.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:tw,type:t.type,key:i,ref:s,props:r,_owner:a}};bn.createContext=function(t){return t={$$typeof:hfe,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:ffe,_context:t},t.Consumer=t};bn.createElement=c7;bn.createFactory=function(t){var e=c7.bind(null,t);return e.type=t,e};bn.createRef=function(){return{current:null}};bn.forwardRef=function(t){return{$$typeof:mfe,render:t}};bn.isValidElement=uI;bn.lazy=function(t){return{$$typeof:vfe,_payload:{_status:-1,_result:t},_init:wfe}};bn.memo=function(t,e){return{$$typeof:gfe,type:t,compare:e===void 0?null:e}};bn.startTransition=function(t){var e=GS.transition;GS.transition={};try{t()}finally{GS.transition=e}};bn.unstable_act=u7;bn.useCallback=function(t,e){return ta.current.useCallback(t,e)};bn.useContext=function(t){return ta.current.useContext(t)};bn.useDebugValue=function(){};bn.useDeferredValue=function(t){return ta.current.useDeferredValue(t)};bn.useEffect=function(t,e){return ta.current.useEffect(t,e)};bn.useId=function(){return ta.current.useId()};bn.useImperativeHandle=function(t,e,n){return ta.current.useImperativeHandle(t,e,n)};bn.useInsertionEffect=function(t,e){return ta.current.useInsertionEffect(t,e)};bn.useLayoutEffect=function(t,e){return ta.current.useLayoutEffect(t,e)};bn.useMemo=function(t,e){return ta.current.useMemo(t,e)};bn.useReducer=function(t,e,n){return ta.current.useReducer(t,e,n)};bn.useRef=function(t){return ta.current.useRef(t)};bn.useState=function(t){return ta.current.useState(t)};bn.useSyncExternalStore=function(t,e,n){return ta.current.useSyncExternalStore(t,e,n)};bn.useTransition=function(){return ta.current.useTransition()};bn.version="18.3.1";n7.exports=bn;var S=n7.exports;const Ze=Pa(S),dI=afe({__proto__:null,default:Ze},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sfe=S,Efe=Symbol.for("react.element"),Nfe=Symbol.for("react.fragment"),Mfe=Object.prototype.hasOwnProperty,Cfe=Sfe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,jfe={key:!0,ref:!0,__self:!0,__source:!0};function d7(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)Mfe.call(e,r)&&!jfe.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Efe,type:t,key:s,ref:a,props:i,_owner:Cfe.current}}qM.Fragment=Nfe;qM.jsx=d7;qM.jsxs=d7;t7.exports=qM;var o=t7.exports,f7={exports:{}},mo={},h7={exports:{}},m7={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,V){var K=L.length;L.push(V);e:for(;0<K;){var W=K-1>>>1,B=L[W];if(0<i(B,V))L[W]=V,L[K]=B,K=W;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var V=L[0],K=L.pop();if(K!==V){L[0]=K;e:for(var W=0,B=L.length,ee=B>>>1;W<ee;){var Y=2*(W+1)-1,Q=L[Y],de=Y+1,te=L[de];if(0>i(Q,K))de<B&&0>i(te,Q)?(L[W]=te,L[de]=K,W=de):(L[W]=Q,L[Y]=K,W=Y);else if(de<B&&0>i(te,K))L[W]=te,L[de]=K,W=de;else break e}}return V}function i(L,V){var K=L.sortIndex-V.sortIndex;return K!==0?K:L.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,p=!1,x=!1,v=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(L){for(var V=n(u);V!==null;){if(V.callback===null)r(u);else if(V.startTime<=L)r(u),V.sortIndex=V.expirationTime,e(c,V);else break;V=n(u)}}function E(L){if(x=!1,_(L),!p)if(n(c)!==null)p=!0,q(N);else{var V=n(u);V!==null&&$(E,V.startTime-L)}}function N(L,V){p=!1,x&&(x=!1,g(T),T=-1),m=!0;var K=h;try{for(_(V),f=n(c);f!==null&&(!(f.expirationTime>V)||L&&!R());){var W=f.callback;if(typeof W=="function"){f.callback=null,h=f.priorityLevel;var B=W(f.expirationTime<=V);V=t.unstable_now(),typeof B=="function"?f.callback=B:f===n(c)&&r(c),_(V)}else r(c);f=n(c)}if(f!==null)var ee=!0;else{var Y=n(u);Y!==null&&$(E,Y.startTime-V),ee=!1}return ee}finally{f=null,h=K,m=!1}}var C=!1,j=null,T=-1,A=5,P=-1;function R(){return!(t.unstable_now()-P<A)}function D(){if(j!==null){var L=t.unstable_now();P=L;var V=!0;try{V=j(!0,L)}finally{V?F():(C=!1,j=null)}}else C=!1}var F;if(typeof w=="function")F=function(){w(D)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,G=I.port2;I.port1.onmessage=D,F=function(){G.postMessage(null)}}else F=function(){v(D,0)};function q(L){j=L,C||(C=!0,F())}function $(L,V){T=v(function(){L(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){p||m||(p=!0,q(N))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(L){switch(h){case 1:case 2:case 3:var V=3;break;default:V=h}var K=h;h=V;try{return L()}finally{h=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,V){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var K=h;h=L;try{return V()}finally{h=K}},t.unstable_scheduleCallback=function(L,V,K){var W=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?W+K:W):K=W,L){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=K+B,L={id:d++,callback:V,priorityLevel:L,startTime:K,expirationTime:B,sortIndex:-1},K>W?(L.sortIndex=K,e(u,L),n(c)===null&&L===n(u)&&(x?(g(T),T=-1):x=!0,$(E,K-W))):(L.sortIndex=B,e(c,L),p||m||(p=!0,q(N))),L},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(L){var V=h;return function(){var K=h;h=V;try{return L.apply(this,arguments)}finally{h=K}}}})(m7);h7.exports=m7;var Afe=h7.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tfe=S,so=Afe;function ct(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p7=new Set,I0={};function Gm(t,e){uv(t,e),uv(t+"Capture",e)}function uv(t,e){for(I0[t]=e,t=0;t<e.length;t++)p7.add(e[t])}var wu=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dk=Object.prototype.hasOwnProperty,Pfe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,OB={},DB={};function kfe(t){return Dk.call(DB,t)?!0:Dk.call(OB,t)?!1:Pfe.test(t)?DB[t]=!0:(OB[t]=!0,!1)}function Rfe(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Ofe(t,e,n,r){if(e===null||typeof e>"u"||Rfe(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function na(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var ts={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ts[t]=new na(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ts[e]=new na(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ts[t]=new na(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ts[t]=new na(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ts[t]=new na(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ts[t]=new na(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ts[t]=new na(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ts[t]=new na(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ts[t]=new na(t,5,!1,t.toLowerCase(),null,!1,!1)});var fI=/[\-:]([a-z])/g;function hI(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(fI,hI);ts[e]=new na(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(fI,hI);ts[e]=new na(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(fI,hI);ts[e]=new na(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ts[t]=new na(t,1,!1,t.toLowerCase(),null,!1,!1)});ts.xlinkHref=new na("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ts[t]=new na(t,1,!1,t.toLowerCase(),null,!0,!0)});function mI(t,e,n,r){var i=ts.hasOwnProperty(e)?ts[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Ofe(e,n,i,r)&&(n=null),r||i===null?kfe(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var zu=Tfe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,e_=Symbol.for("react.element"),pg=Symbol.for("react.portal"),gg=Symbol.for("react.fragment"),pI=Symbol.for("react.strict_mode"),Ik=Symbol.for("react.profiler"),g7=Symbol.for("react.provider"),v7=Symbol.for("react.context"),gI=Symbol.for("react.forward_ref"),Lk=Symbol.for("react.suspense"),Fk=Symbol.for("react.suspense_list"),vI=Symbol.for("react.memo"),Pd=Symbol.for("react.lazy"),x7=Symbol.for("react.offscreen"),IB=Symbol.iterator;function ey(t){return t===null||typeof t!="object"?null:(t=IB&&t[IB]||t["@@iterator"],typeof t=="function"?t:null)}var Nr=Object.assign,XA;function Ly(t){if(XA===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);XA=e&&e[1]||""}return`
`+XA+t}var YA=!1;function ZA(t,e){if(!t||YA)return"";YA=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,l=s.length-1;1<=a&&0<=l&&i[a]!==s[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==s[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==s[l]){var c=`
`+i[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=l);break}}}finally{YA=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ly(t):""}function Dfe(t){switch(t.tag){case 5:return Ly(t.type);case 16:return Ly("Lazy");case 13:return Ly("Suspense");case 19:return Ly("SuspenseList");case 0:case 2:case 15:return t=ZA(t.type,!1),t;case 11:return t=ZA(t.type.render,!1),t;case 1:return t=ZA(t.type,!0),t;default:return""}}function Uk(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case gg:return"Fragment";case pg:return"Portal";case Ik:return"Profiler";case pI:return"StrictMode";case Lk:return"Suspense";case Fk:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case v7:return(t.displayName||"Context")+".Consumer";case g7:return(t._context.displayName||"Context")+".Provider";case gI:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case vI:return e=t.displayName||null,e!==null?e:Uk(t.type)||"Memo";case Pd:e=t._payload,t=t._init;try{return Uk(t(e))}catch{}}return null}function Ife(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Uk(e);case 8:return e===pI?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function df(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function y7(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Lfe(t){var e=y7(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function t_(t){t._valueTracker||(t._valueTracker=Lfe(t))}function b7(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=y7(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function SE(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Bk(t,e){var n=e.checked;return Nr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function LB(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=df(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function w7(t,e){e=e.checked,e!=null&&mI(t,"checked",e,!1)}function zk(t,e){w7(t,e);var n=df(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Vk(t,e.type,n):e.hasOwnProperty("defaultValue")&&Vk(t,e.type,df(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function FB(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Vk(t,e,n){(e!=="number"||SE(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Fy=Array.isArray;function Bg(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+df(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Wk(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ct(91));return Nr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function UB(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ct(92));if(Fy(n)){if(1<n.length)throw Error(ct(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:df(n)}}function _7(t,e){var n=df(e.value),r=df(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function BB(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function S7(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $k(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?S7(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var n_,E7=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(n_=n_||document.createElement("div"),n_.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=n_.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function L0(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Qy={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ffe=["Webkit","ms","Moz","O"];Object.keys(Qy).forEach(function(t){Ffe.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Qy[e]=Qy[t]})});function N7(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Qy.hasOwnProperty(t)&&Qy[t]?(""+e).trim():e+"px"}function M7(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=N7(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Ufe=Nr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hk(t,e){if(e){if(Ufe[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ct(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ct(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ct(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ct(62))}}function Gk(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qk=null;function xI(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Kk=null,zg=null,Vg=null;function zB(t){if(t=iw(t)){if(typeof Kk!="function")throw Error(ct(280));var e=t.stateNode;e&&(e=QM(e),Kk(t.stateNode,t.type,e))}}function C7(t){zg?Vg?Vg.push(t):Vg=[t]:zg=t}function j7(){if(zg){var t=zg,e=Vg;if(Vg=zg=null,zB(t),e)for(t=0;t<e.length;t++)zB(e[t])}}function A7(t,e){return t(e)}function T7(){}var QA=!1;function P7(t,e,n){if(QA)return t(e,n);QA=!0;try{return A7(t,e,n)}finally{QA=!1,(zg!==null||Vg!==null)&&(T7(),j7())}}function F0(t,e){var n=t.stateNode;if(n===null)return null;var r=QM(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ct(231,e,typeof n));return n}var Xk=!1;if(wu)try{var ty={};Object.defineProperty(ty,"passive",{get:function(){Xk=!0}}),window.addEventListener("test",ty,ty),window.removeEventListener("test",ty,ty)}catch{Xk=!1}function Bfe(t,e,n,r,i,s,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Jy=!1,EE=null,NE=!1,Yk=null,zfe={onError:function(t){Jy=!0,EE=t}};function Vfe(t,e,n,r,i,s,a,l,c){Jy=!1,EE=null,Bfe.apply(zfe,arguments)}function Wfe(t,e,n,r,i,s,a,l,c){if(Vfe.apply(this,arguments),Jy){if(Jy){var u=EE;Jy=!1,EE=null}else throw Error(ct(198));NE||(NE=!0,Yk=u)}}function qm(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function k7(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function VB(t){if(qm(t)!==t)throw Error(ct(188))}function $fe(t){var e=t.alternate;if(!e){if(e=qm(t),e===null)throw Error(ct(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return VB(i),t;if(s===r)return VB(i),e;s=s.sibling}throw Error(ct(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(ct(189))}}if(n.alternate!==r)throw Error(ct(190))}if(n.tag!==3)throw Error(ct(188));return n.stateNode.current===n?t:e}function R7(t){return t=$fe(t),t!==null?O7(t):null}function O7(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=O7(t);if(e!==null)return e;t=t.sibling}return null}var D7=so.unstable_scheduleCallback,WB=so.unstable_cancelCallback,Hfe=so.unstable_shouldYield,Gfe=so.unstable_requestPaint,Br=so.unstable_now,qfe=so.unstable_getCurrentPriorityLevel,yI=so.unstable_ImmediatePriority,I7=so.unstable_UserBlockingPriority,ME=so.unstable_NormalPriority,Kfe=so.unstable_LowPriority,L7=so.unstable_IdlePriority,KM=null,gc=null;function Xfe(t){if(gc&&typeof gc.onCommitFiberRoot=="function")try{gc.onCommitFiberRoot(KM,t,void 0,(t.current.flags&128)===128)}catch{}}var Ml=Math.clz32?Math.clz32:Qfe,Yfe=Math.log,Zfe=Math.LN2;function Qfe(t){return t>>>=0,t===0?32:31-(Yfe(t)/Zfe|0)|0}var r_=64,i_=4194304;function Uy(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function CE(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var l=a&~i;l!==0?r=Uy(l):(s&=a,s!==0&&(r=Uy(s)))}else a=n&~i,a!==0?r=Uy(a):s!==0&&(r=Uy(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ml(e),i=1<<n,r|=t[n],e&=~i;return r}function Jfe(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ehe(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-Ml(s),l=1<<a,c=i[a];c===-1?(!(l&n)||l&r)&&(i[a]=Jfe(l,e)):c<=e&&(t.expiredLanes|=l),s&=~l}}function Zk(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function F7(){var t=r_;return r_<<=1,!(r_&4194240)&&(r_=64),t}function JA(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function nw(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ml(e),t[e]=n}function the(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ml(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function bI(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ml(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Vn=0;function U7(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var B7,wI,z7,V7,W7,Qk=!1,s_=[],Yd=null,Zd=null,Qd=null,U0=new Map,B0=new Map,Dd=[],nhe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $B(t,e){switch(t){case"focusin":case"focusout":Yd=null;break;case"dragenter":case"dragleave":Zd=null;break;case"mouseover":case"mouseout":Qd=null;break;case"pointerover":case"pointerout":U0.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":B0.delete(e.pointerId)}}function ny(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=iw(e),e!==null&&wI(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function rhe(t,e,n,r,i){switch(e){case"focusin":return Yd=ny(Yd,t,e,n,r,i),!0;case"dragenter":return Zd=ny(Zd,t,e,n,r,i),!0;case"mouseover":return Qd=ny(Qd,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return U0.set(s,ny(U0.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,B0.set(s,ny(B0.get(s)||null,t,e,n,r,i)),!0}return!1}function $7(t){var e=Bh(t.target);if(e!==null){var n=qm(e);if(n!==null){if(e=n.tag,e===13){if(e=k7(n),e!==null){t.blockedOn=e,W7(t.priority,function(){z7(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qS(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Jk(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);qk=r,n.target.dispatchEvent(r),qk=null}else return e=iw(n),e!==null&&wI(e),t.blockedOn=n,!1;e.shift()}return!0}function HB(t,e,n){qS(t)&&n.delete(e)}function ihe(){Qk=!1,Yd!==null&&qS(Yd)&&(Yd=null),Zd!==null&&qS(Zd)&&(Zd=null),Qd!==null&&qS(Qd)&&(Qd=null),U0.forEach(HB),B0.forEach(HB)}function ry(t,e){t.blockedOn===e&&(t.blockedOn=null,Qk||(Qk=!0,so.unstable_scheduleCallback(so.unstable_NormalPriority,ihe)))}function z0(t){function e(i){return ry(i,t)}if(0<s_.length){ry(s_[0],t);for(var n=1;n<s_.length;n++){var r=s_[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Yd!==null&&ry(Yd,t),Zd!==null&&ry(Zd,t),Qd!==null&&ry(Qd,t),U0.forEach(e),B0.forEach(e),n=0;n<Dd.length;n++)r=Dd[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Dd.length&&(n=Dd[0],n.blockedOn===null);)$7(n),n.blockedOn===null&&Dd.shift()}var Wg=zu.ReactCurrentBatchConfig,jE=!0;function she(t,e,n,r){var i=Vn,s=Wg.transition;Wg.transition=null;try{Vn=1,_I(t,e,n,r)}finally{Vn=i,Wg.transition=s}}function ahe(t,e,n,r){var i=Vn,s=Wg.transition;Wg.transition=null;try{Vn=4,_I(t,e,n,r)}finally{Vn=i,Wg.transition=s}}function _I(t,e,n,r){if(jE){var i=Jk(t,e,n,r);if(i===null)cT(t,e,r,AE,n),$B(t,r);else if(rhe(i,t,e,n,r))r.stopPropagation();else if($B(t,r),e&4&&-1<nhe.indexOf(t)){for(;i!==null;){var s=iw(i);if(s!==null&&B7(s),s=Jk(t,e,n,r),s===null&&cT(t,e,r,AE,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else cT(t,e,r,null,n)}}var AE=null;function Jk(t,e,n,r){if(AE=null,t=xI(r),t=Bh(t),t!==null)if(e=qm(t),e===null)t=null;else if(n=e.tag,n===13){if(t=k7(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return AE=t,null}function H7(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qfe()){case yI:return 1;case I7:return 4;case ME:case Kfe:return 16;case L7:return 536870912;default:return 16}default:return 16}}var Hd=null,SI=null,KS=null;function G7(){if(KS)return KS;var t,e=SI,n=e.length,r,i="value"in Hd?Hd.value:Hd.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return KS=i.slice(t,1<r?1-r:void 0)}function XS(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function a_(){return!0}function GB(){return!1}function po(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?a_:GB,this.isPropagationStopped=GB,this}return Nr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=a_)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=a_)},persist:function(){},isPersistent:a_}),e}var Kv={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},EI=po(Kv),rw=Nr({},Kv,{view:0,detail:0}),ohe=po(rw),eT,tT,iy,XM=Nr({},rw,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:NI,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==iy&&(iy&&t.type==="mousemove"?(eT=t.screenX-iy.screenX,tT=t.screenY-iy.screenY):tT=eT=0,iy=t),eT)},movementY:function(t){return"movementY"in t?t.movementY:tT}}),qB=po(XM),lhe=Nr({},XM,{dataTransfer:0}),che=po(lhe),uhe=Nr({},rw,{relatedTarget:0}),nT=po(uhe),dhe=Nr({},Kv,{animationName:0,elapsedTime:0,pseudoElement:0}),fhe=po(dhe),hhe=Nr({},Kv,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),mhe=po(hhe),phe=Nr({},Kv,{data:0}),KB=po(phe),ghe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vhe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xhe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yhe(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=xhe[t])?!!e[t]:!1}function NI(){return yhe}var bhe=Nr({},rw,{key:function(t){if(t.key){var e=ghe[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=XS(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?vhe[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:NI,charCode:function(t){return t.type==="keypress"?XS(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?XS(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),whe=po(bhe),_he=Nr({},XM,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),XB=po(_he),She=Nr({},rw,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:NI}),Ehe=po(She),Nhe=Nr({},Kv,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mhe=po(Nhe),Che=Nr({},XM,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),jhe=po(Che),Ahe=[9,13,27,32],MI=wu&&"CompositionEvent"in window,e0=null;wu&&"documentMode"in document&&(e0=document.documentMode);var The=wu&&"TextEvent"in window&&!e0,q7=wu&&(!MI||e0&&8<e0&&11>=e0),YB=" ",ZB=!1;function K7(t,e){switch(t){case"keyup":return Ahe.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function X7(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var vg=!1;function Phe(t,e){switch(t){case"compositionend":return X7(e);case"keypress":return e.which!==32?null:(ZB=!0,YB);case"textInput":return t=e.data,t===YB&&ZB?null:t;default:return null}}function khe(t,e){if(vg)return t==="compositionend"||!MI&&K7(t,e)?(t=G7(),KS=SI=Hd=null,vg=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return q7&&e.locale!=="ko"?null:e.data;default:return null}}var Rhe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function QB(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Rhe[t.type]:e==="textarea"}function Y7(t,e,n,r){C7(r),e=TE(e,"onChange"),0<e.length&&(n=new EI("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var t0=null,V0=null;function Ohe(t){oq(t,0)}function YM(t){var e=bg(t);if(b7(e))return t}function Dhe(t,e){if(t==="change")return e}var Z7=!1;if(wu){var rT;if(wu){var iT="oninput"in document;if(!iT){var JB=document.createElement("div");JB.setAttribute("oninput","return;"),iT=typeof JB.oninput=="function"}rT=iT}else rT=!1;Z7=rT&&(!document.documentMode||9<document.documentMode)}function ez(){t0&&(t0.detachEvent("onpropertychange",Q7),V0=t0=null)}function Q7(t){if(t.propertyName==="value"&&YM(V0)){var e=[];Y7(e,V0,t,xI(t)),P7(Ohe,e)}}function Ihe(t,e,n){t==="focusin"?(ez(),t0=e,V0=n,t0.attachEvent("onpropertychange",Q7)):t==="focusout"&&ez()}function Lhe(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return YM(V0)}function Fhe(t,e){if(t==="click")return YM(e)}function Uhe(t,e){if(t==="input"||t==="change")return YM(e)}function Bhe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Al=typeof Object.is=="function"?Object.is:Bhe;function W0(t,e){if(Al(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Dk.call(e,i)||!Al(t[i],e[i]))return!1}return!0}function tz(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function nz(t,e){var n=tz(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=tz(n)}}function J7(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?J7(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function eq(){for(var t=window,e=SE();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=SE(t.document)}return e}function CI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function zhe(t){var e=eq(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&J7(n.ownerDocument.documentElement,n)){if(r!==null&&CI(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=nz(n,s);var a=nz(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Vhe=wu&&"documentMode"in document&&11>=document.documentMode,xg=null,eR=null,n0=null,tR=!1;function rz(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;tR||xg==null||xg!==SE(r)||(r=xg,"selectionStart"in r&&CI(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),n0&&W0(n0,r)||(n0=r,r=TE(eR,"onSelect"),0<r.length&&(e=new EI("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=xg)))}function o_(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var yg={animationend:o_("Animation","AnimationEnd"),animationiteration:o_("Animation","AnimationIteration"),animationstart:o_("Animation","AnimationStart"),transitionend:o_("Transition","TransitionEnd")},sT={},tq={};wu&&(tq=document.createElement("div").style,"AnimationEvent"in window||(delete yg.animationend.animation,delete yg.animationiteration.animation,delete yg.animationstart.animation),"TransitionEvent"in window||delete yg.transitionend.transition);function ZM(t){if(sT[t])return sT[t];if(!yg[t])return t;var e=yg[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in tq)return sT[t]=e[n];return t}var nq=ZM("animationend"),rq=ZM("animationiteration"),iq=ZM("animationstart"),sq=ZM("transitionend"),aq=new Map,iz="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nf(t,e){aq.set(t,e),Gm(e,[t])}for(var aT=0;aT<iz.length;aT++){var oT=iz[aT],Whe=oT.toLowerCase(),$he=oT[0].toUpperCase()+oT.slice(1);Nf(Whe,"on"+$he)}Nf(nq,"onAnimationEnd");Nf(rq,"onAnimationIteration");Nf(iq,"onAnimationStart");Nf("dblclick","onDoubleClick");Nf("focusin","onFocus");Nf("focusout","onBlur");Nf(sq,"onTransitionEnd");uv("onMouseEnter",["mouseout","mouseover"]);uv("onMouseLeave",["mouseout","mouseover"]);uv("onPointerEnter",["pointerout","pointerover"]);uv("onPointerLeave",["pointerout","pointerover"]);Gm("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Gm("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Gm("onBeforeInput",["compositionend","keypress","textInput","paste"]);Gm("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Gm("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Gm("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var By="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hhe=new Set("cancel close invalid load scroll toggle".split(" ").concat(By));function sz(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Wfe(r,e,void 0,t),t.currentTarget=null}function oq(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;sz(i,l,u),s=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;sz(i,l,u),s=c}}}if(NE)throw t=Yk,NE=!1,Yk=null,t}function ar(t,e){var n=e[aR];n===void 0&&(n=e[aR]=new Set);var r=t+"__bubble";n.has(r)||(lq(e,t,2,!1),n.add(r))}function lT(t,e,n){var r=0;e&&(r|=4),lq(n,t,r,e)}var l_="_reactListening"+Math.random().toString(36).slice(2);function $0(t){if(!t[l_]){t[l_]=!0,p7.forEach(function(n){n!=="selectionchange"&&(Hhe.has(n)||lT(n,!1,t),lT(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[l_]||(e[l_]=!0,lT("selectionchange",!1,e))}}function lq(t,e,n,r){switch(H7(e)){case 1:var i=she;break;case 4:i=ahe;break;default:i=_I}n=i.bind(null,e,n,t),i=void 0,!Xk||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function cT(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;l!==null;){if(a=Bh(l),a===null)return;if(c=a.tag,c===5||c===6){r=s=a;continue e}l=l.parentNode}}r=r.return}P7(function(){var u=s,d=xI(n),f=[];e:{var h=aq.get(t);if(h!==void 0){var m=EI,p=t;switch(t){case"keypress":if(XS(n)===0)break e;case"keydown":case"keyup":m=whe;break;case"focusin":p="focus",m=nT;break;case"focusout":p="blur",m=nT;break;case"beforeblur":case"afterblur":m=nT;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=qB;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=che;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Ehe;break;case nq:case rq:case iq:m=fhe;break;case sq:m=Mhe;break;case"scroll":m=ohe;break;case"wheel":m=jhe;break;case"copy":case"cut":case"paste":m=mhe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=XB}var x=(e&4)!==0,v=!x&&t==="scroll",g=x?h!==null?h+"Capture":null:h;x=[];for(var w=u,_;w!==null;){_=w;var E=_.stateNode;if(_.tag===5&&E!==null&&(_=E,g!==null&&(E=F0(w,g),E!=null&&x.push(H0(w,E,_)))),v)break;w=w.return}0<x.length&&(h=new m(h,p,null,n,d),f.push({event:h,listeners:x}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==qk&&(p=n.relatedTarget||n.fromElement)&&(Bh(p)||p[_u]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(p=n.relatedTarget||n.toElement,m=u,p=p?Bh(p):null,p!==null&&(v=qm(p),p!==v||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=u),m!==p)){if(x=qB,E="onMouseLeave",g="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(x=XB,E="onPointerLeave",g="onPointerEnter",w="pointer"),v=m==null?h:bg(m),_=p==null?h:bg(p),h=new x(E,w+"leave",m,n,d),h.target=v,h.relatedTarget=_,E=null,Bh(d)===u&&(x=new x(g,w+"enter",p,n,d),x.target=_,x.relatedTarget=v,E=x),v=E,m&&p)t:{for(x=m,g=p,w=0,_=x;_;_=Ap(_))w++;for(_=0,E=g;E;E=Ap(E))_++;for(;0<w-_;)x=Ap(x),w--;for(;0<_-w;)g=Ap(g),_--;for(;w--;){if(x===g||g!==null&&x===g.alternate)break t;x=Ap(x),g=Ap(g)}x=null}else x=null;m!==null&&az(f,h,m,x,!1),p!==null&&v!==null&&az(f,v,p,x,!0)}}e:{if(h=u?bg(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var N=Dhe;else if(QB(h))if(Z7)N=Uhe;else{N=Lhe;var C=Ihe}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=Fhe);if(N&&(N=N(t,u))){Y7(f,N,n,d);break e}C&&C(t,h,u),t==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&Vk(h,"number",h.value)}switch(C=u?bg(u):window,t){case"focusin":(QB(C)||C.contentEditable==="true")&&(xg=C,eR=u,n0=null);break;case"focusout":n0=eR=xg=null;break;case"mousedown":tR=!0;break;case"contextmenu":case"mouseup":case"dragend":tR=!1,rz(f,n,d);break;case"selectionchange":if(Vhe)break;case"keydown":case"keyup":rz(f,n,d)}var j;if(MI)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else vg?K7(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(q7&&n.locale!=="ko"&&(vg||T!=="onCompositionStart"?T==="onCompositionEnd"&&vg&&(j=G7()):(Hd=d,SI="value"in Hd?Hd.value:Hd.textContent,vg=!0)),C=TE(u,T),0<C.length&&(T=new KB(T,t,null,n,d),f.push({event:T,listeners:C}),j?T.data=j:(j=X7(n),j!==null&&(T.data=j)))),(j=The?Phe(t,n):khe(t,n))&&(u=TE(u,"onBeforeInput"),0<u.length&&(d=new KB("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=j))}oq(f,e)})}function H0(t,e,n){return{instance:t,listener:e,currentTarget:n}}function TE(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=F0(t,n),s!=null&&r.unshift(H0(t,s,i)),s=F0(t,e),s!=null&&r.push(H0(t,s,i))),t=t.return}return r}function Ap(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function az(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,i?(c=F0(n,s),c!=null&&a.unshift(H0(n,c,l))):i||(c=F0(n,s),c!=null&&a.push(H0(n,c,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var Ghe=/\r\n?/g,qhe=/\u0000|\uFFFD/g;function oz(t){return(typeof t=="string"?t:""+t).replace(Ghe,`
`).replace(qhe,"")}function c_(t,e,n){if(e=oz(e),oz(t)!==e&&n)throw Error(ct(425))}function PE(){}var nR=null,rR=null;function iR(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var sR=typeof setTimeout=="function"?setTimeout:void 0,Khe=typeof clearTimeout=="function"?clearTimeout:void 0,lz=typeof Promise=="function"?Promise:void 0,Xhe=typeof queueMicrotask=="function"?queueMicrotask:typeof lz<"u"?function(t){return lz.resolve(null).then(t).catch(Yhe)}:sR;function Yhe(t){setTimeout(function(){throw t})}function uT(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),z0(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);z0(e)}function Jd(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function cz(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Xv=Math.random().toString(36).slice(2),nc="__reactFiber$"+Xv,G0="__reactProps$"+Xv,_u="__reactContainer$"+Xv,aR="__reactEvents$"+Xv,Zhe="__reactListeners$"+Xv,Qhe="__reactHandles$"+Xv;function Bh(t){var e=t[nc];if(e)return e;for(var n=t.parentNode;n;){if(e=n[_u]||n[nc]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=cz(t);t!==null;){if(n=t[nc])return n;t=cz(t)}return e}t=n,n=t.parentNode}return null}function iw(t){return t=t[nc]||t[_u],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function bg(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ct(33))}function QM(t){return t[G0]||null}var oR=[],wg=-1;function Mf(t){return{current:t}}function cr(t){0>wg||(t.current=oR[wg],oR[wg]=null,wg--)}function tr(t,e){wg++,oR[wg]=t.current,t.current=e}var ff={},Cs=Mf(ff),Ca=Mf(!1),Sm=ff;function dv(t,e){var n=t.type.contextTypes;if(!n)return ff;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ja(t){return t=t.childContextTypes,t!=null}function kE(){cr(Ca),cr(Cs)}function uz(t,e,n){if(Cs.current!==ff)throw Error(ct(168));tr(Cs,e),tr(Ca,n)}function cq(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ct(108,Ife(t)||"Unknown",i));return Nr({},n,r)}function RE(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ff,Sm=Cs.current,tr(Cs,t),tr(Ca,Ca.current),!0}function dz(t,e,n){var r=t.stateNode;if(!r)throw Error(ct(169));n?(t=cq(t,e,Sm),r.__reactInternalMemoizedMergedChildContext=t,cr(Ca),cr(Cs),tr(Cs,t)):cr(Ca),tr(Ca,n)}var su=null,JM=!1,dT=!1;function uq(t){su===null?su=[t]:su.push(t)}function Jhe(t){JM=!0,uq(t)}function Cf(){if(!dT&&su!==null){dT=!0;var t=0,e=Vn;try{var n=su;for(Vn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}su=null,JM=!1}catch(i){throw su!==null&&(su=su.slice(t+1)),D7(yI,Cf),i}finally{Vn=e,dT=!1}}return null}var _g=[],Sg=0,OE=null,DE=0,ko=[],Ro=0,Em=null,du=1,fu="";function Mh(t,e){_g[Sg++]=DE,_g[Sg++]=OE,OE=t,DE=e}function dq(t,e,n){ko[Ro++]=du,ko[Ro++]=fu,ko[Ro++]=Em,Em=t;var r=du;t=fu;var i=32-Ml(r)-1;r&=~(1<<i),n+=1;var s=32-Ml(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,du=1<<32-Ml(e)+i|n<<i|r,fu=s+t}else du=1<<s|n<<i|r,fu=t}function jI(t){t.return!==null&&(Mh(t,1),dq(t,1,0))}function AI(t){for(;t===OE;)OE=_g[--Sg],_g[Sg]=null,DE=_g[--Sg],_g[Sg]=null;for(;t===Em;)Em=ko[--Ro],ko[Ro]=null,fu=ko[--Ro],ko[Ro]=null,du=ko[--Ro],ko[Ro]=null}var Qa=null,Za=null,hr=!1,xl=null;function fq(t,e){var n=Do(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function fz(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Qa=t,Za=Jd(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Qa=t,Za=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Em!==null?{id:du,overflow:fu}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Do(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Qa=t,Za=null,!0):!1;default:return!1}}function lR(t){return(t.mode&1)!==0&&(t.flags&128)===0}function cR(t){if(hr){var e=Za;if(e){var n=e;if(!fz(t,e)){if(lR(t))throw Error(ct(418));e=Jd(n.nextSibling);var r=Qa;e&&fz(t,e)?fq(r,n):(t.flags=t.flags&-4097|2,hr=!1,Qa=t)}}else{if(lR(t))throw Error(ct(418));t.flags=t.flags&-4097|2,hr=!1,Qa=t}}}function hz(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Qa=t}function u_(t){if(t!==Qa)return!1;if(!hr)return hz(t),hr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!iR(t.type,t.memoizedProps)),e&&(e=Za)){if(lR(t))throw hq(),Error(ct(418));for(;e;)fq(t,e),e=Jd(e.nextSibling)}if(hz(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ct(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Za=Jd(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Za=null}}else Za=Qa?Jd(t.stateNode.nextSibling):null;return!0}function hq(){for(var t=Za;t;)t=Jd(t.nextSibling)}function fv(){Za=Qa=null,hr=!1}function TI(t){xl===null?xl=[t]:xl.push(t)}var eme=zu.ReactCurrentBatchConfig;function sy(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ct(309));var r=n.stateNode}if(!r)throw Error(ct(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var l=i.refs;a===null?delete l[s]:l[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(ct(284));if(!n._owner)throw Error(ct(290,t))}return t}function d_(t,e){throw t=Object.prototype.toString.call(e),Error(ct(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function mz(t){var e=t._init;return e(t._payload)}function mq(t){function e(g,w){if(t){var _=g.deletions;_===null?(g.deletions=[w],g.flags|=16):_.push(w)}}function n(g,w){if(!t)return null;for(;w!==null;)e(g,w),w=w.sibling;return null}function r(g,w){for(g=new Map;w!==null;)w.key!==null?g.set(w.key,w):g.set(w.index,w),w=w.sibling;return g}function i(g,w){return g=rf(g,w),g.index=0,g.sibling=null,g}function s(g,w,_){return g.index=_,t?(_=g.alternate,_!==null?(_=_.index,_<w?(g.flags|=2,w):_):(g.flags|=2,w)):(g.flags|=1048576,w)}function a(g){return t&&g.alternate===null&&(g.flags|=2),g}function l(g,w,_,E){return w===null||w.tag!==6?(w=xT(_,g.mode,E),w.return=g,w):(w=i(w,_),w.return=g,w)}function c(g,w,_,E){var N=_.type;return N===gg?d(g,w,_.props.children,E,_.key):w!==null&&(w.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Pd&&mz(N)===w.type)?(E=i(w,_.props),E.ref=sy(g,w,_),E.return=g,E):(E=nE(_.type,_.key,_.props,null,g.mode,E),E.ref=sy(g,w,_),E.return=g,E)}function u(g,w,_,E){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=yT(_,g.mode,E),w.return=g,w):(w=i(w,_.children||[]),w.return=g,w)}function d(g,w,_,E,N){return w===null||w.tag!==7?(w=lm(_,g.mode,E,N),w.return=g,w):(w=i(w,_),w.return=g,w)}function f(g,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return w=xT(""+w,g.mode,_),w.return=g,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case e_:return _=nE(w.type,w.key,w.props,null,g.mode,_),_.ref=sy(g,null,w),_.return=g,_;case pg:return w=yT(w,g.mode,_),w.return=g,w;case Pd:var E=w._init;return f(g,E(w._payload),_)}if(Fy(w)||ey(w))return w=lm(w,g.mode,_,null),w.return=g,w;d_(g,w)}return null}function h(g,w,_,E){var N=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return N!==null?null:l(g,w,""+_,E);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case e_:return _.key===N?c(g,w,_,E):null;case pg:return _.key===N?u(g,w,_,E):null;case Pd:return N=_._init,h(g,w,N(_._payload),E)}if(Fy(_)||ey(_))return N!==null?null:d(g,w,_,E,null);d_(g,_)}return null}function m(g,w,_,E,N){if(typeof E=="string"&&E!==""||typeof E=="number")return g=g.get(_)||null,l(w,g,""+E,N);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case e_:return g=g.get(E.key===null?_:E.key)||null,c(w,g,E,N);case pg:return g=g.get(E.key===null?_:E.key)||null,u(w,g,E,N);case Pd:var C=E._init;return m(g,w,_,C(E._payload),N)}if(Fy(E)||ey(E))return g=g.get(_)||null,d(w,g,E,N,null);d_(w,E)}return null}function p(g,w,_,E){for(var N=null,C=null,j=w,T=w=0,A=null;j!==null&&T<_.length;T++){j.index>T?(A=j,j=null):A=j.sibling;var P=h(g,j,_[T],E);if(P===null){j===null&&(j=A);break}t&&j&&P.alternate===null&&e(g,j),w=s(P,w,T),C===null?N=P:C.sibling=P,C=P,j=A}if(T===_.length)return n(g,j),hr&&Mh(g,T),N;if(j===null){for(;T<_.length;T++)j=f(g,_[T],E),j!==null&&(w=s(j,w,T),C===null?N=j:C.sibling=j,C=j);return hr&&Mh(g,T),N}for(j=r(g,j);T<_.length;T++)A=m(j,g,T,_[T],E),A!==null&&(t&&A.alternate!==null&&j.delete(A.key===null?T:A.key),w=s(A,w,T),C===null?N=A:C.sibling=A,C=A);return t&&j.forEach(function(R){return e(g,R)}),hr&&Mh(g,T),N}function x(g,w,_,E){var N=ey(_);if(typeof N!="function")throw Error(ct(150));if(_=N.call(_),_==null)throw Error(ct(151));for(var C=N=null,j=w,T=w=0,A=null,P=_.next();j!==null&&!P.done;T++,P=_.next()){j.index>T?(A=j,j=null):A=j.sibling;var R=h(g,j,P.value,E);if(R===null){j===null&&(j=A);break}t&&j&&R.alternate===null&&e(g,j),w=s(R,w,T),C===null?N=R:C.sibling=R,C=R,j=A}if(P.done)return n(g,j),hr&&Mh(g,T),N;if(j===null){for(;!P.done;T++,P=_.next())P=f(g,P.value,E),P!==null&&(w=s(P,w,T),C===null?N=P:C.sibling=P,C=P);return hr&&Mh(g,T),N}for(j=r(g,j);!P.done;T++,P=_.next())P=m(j,g,T,P.value,E),P!==null&&(t&&P.alternate!==null&&j.delete(P.key===null?T:P.key),w=s(P,w,T),C===null?N=P:C.sibling=P,C=P);return t&&j.forEach(function(D){return e(g,D)}),hr&&Mh(g,T),N}function v(g,w,_,E){if(typeof _=="object"&&_!==null&&_.type===gg&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case e_:e:{for(var N=_.key,C=w;C!==null;){if(C.key===N){if(N=_.type,N===gg){if(C.tag===7){n(g,C.sibling),w=i(C,_.props.children),w.return=g,g=w;break e}}else if(C.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Pd&&mz(N)===C.type){n(g,C.sibling),w=i(C,_.props),w.ref=sy(g,C,_),w.return=g,g=w;break e}n(g,C);break}else e(g,C);C=C.sibling}_.type===gg?(w=lm(_.props.children,g.mode,E,_.key),w.return=g,g=w):(E=nE(_.type,_.key,_.props,null,g.mode,E),E.ref=sy(g,w,_),E.return=g,g=E)}return a(g);case pg:e:{for(C=_.key;w!==null;){if(w.key===C)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){n(g,w.sibling),w=i(w,_.children||[]),w.return=g,g=w;break e}else{n(g,w);break}else e(g,w);w=w.sibling}w=yT(_,g.mode,E),w.return=g,g=w}return a(g);case Pd:return C=_._init,v(g,w,C(_._payload),E)}if(Fy(_))return p(g,w,_,E);if(ey(_))return x(g,w,_,E);d_(g,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,w!==null&&w.tag===6?(n(g,w.sibling),w=i(w,_),w.return=g,g=w):(n(g,w),w=xT(_,g.mode,E),w.return=g,g=w),a(g)):n(g,w)}return v}var hv=mq(!0),pq=mq(!1),IE=Mf(null),LE=null,Eg=null,PI=null;function kI(){PI=Eg=LE=null}function RI(t){var e=IE.current;cr(IE),t._currentValue=e}function uR(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function $g(t,e){LE=t,PI=Eg=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(wa=!0),t.firstContext=null)}function $o(t){var e=t._currentValue;if(PI!==t)if(t={context:t,memoizedValue:e,next:null},Eg===null){if(LE===null)throw Error(ct(308));Eg=t,LE.dependencies={lanes:0,firstContext:t}}else Eg=Eg.next=t;return e}var zh=null;function OI(t){zh===null?zh=[t]:zh.push(t)}function gq(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,OI(e)):(n.next=i.next,i.next=n),e.interleaved=n,Su(t,r)}function Su(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var kd=!1;function DI(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vq(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function pu(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ef(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,En&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Su(t,n)}return i=r.interleaved,i===null?(e.next=e,OI(r)):(e.next=i.next,i.next=e),r.interleaved=e,Su(t,n)}function YS(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,bI(t,n)}}function pz(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function FE(t,e,n,r){var i=t.updateQueue;kd=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?s=u:a.next=u,a=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=i.baseState;a=0,d=u=c=null,l=s;do{var h=l.lane,m=l.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=t,x=l;switch(h=e,m=n,x.tag){case 1:if(p=x.payload,typeof p=="function"){f=p.call(m,f,h);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=x.payload,h=typeof p=="function"?p.call(m,f,h):p,h==null)break e;f=Nr({},f,h);break e;case 2:kd=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,a|=h;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;h=l,l=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Mm|=a,t.lanes=a,t.memoizedState=f}}function gz(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ct(191,i));i.call(r)}}}var sw={},vc=Mf(sw),q0=Mf(sw),K0=Mf(sw);function Vh(t){if(t===sw)throw Error(ct(174));return t}function II(t,e){switch(tr(K0,e),tr(q0,t),tr(vc,sw),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:$k(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=$k(e,t)}cr(vc),tr(vc,e)}function mv(){cr(vc),cr(q0),cr(K0)}function xq(t){Vh(K0.current);var e=Vh(vc.current),n=$k(e,t.type);e!==n&&(tr(q0,t),tr(vc,n))}function LI(t){q0.current===t&&(cr(vc),cr(q0))}var yr=Mf(0);function UE(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var fT=[];function FI(){for(var t=0;t<fT.length;t++)fT[t]._workInProgressVersionPrimary=null;fT.length=0}var ZS=zu.ReactCurrentDispatcher,hT=zu.ReactCurrentBatchConfig,Nm=0,Sr=null,pi=null,Ri=null,BE=!1,r0=!1,X0=0,tme=0;function us(){throw Error(ct(321))}function UI(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Al(t[n],e[n]))return!1;return!0}function BI(t,e,n,r,i,s){if(Nm=s,Sr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ZS.current=t===null||t.memoizedState===null?sme:ame,t=n(r,i),r0){s=0;do{if(r0=!1,X0=0,25<=s)throw Error(ct(301));s+=1,Ri=pi=null,e.updateQueue=null,ZS.current=ome,t=n(r,i)}while(r0)}if(ZS.current=zE,e=pi!==null&&pi.next!==null,Nm=0,Ri=pi=Sr=null,BE=!1,e)throw Error(ct(300));return t}function zI(){var t=X0!==0;return X0=0,t}function Zl(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ri===null?Sr.memoizedState=Ri=t:Ri=Ri.next=t,Ri}function Ho(){if(pi===null){var t=Sr.alternate;t=t!==null?t.memoizedState:null}else t=pi.next;var e=Ri===null?Sr.memoizedState:Ri.next;if(e!==null)Ri=e,pi=t;else{if(t===null)throw Error(ct(310));pi=t,t={memoizedState:pi.memoizedState,baseState:pi.baseState,baseQueue:pi.baseQueue,queue:pi.queue,next:null},Ri===null?Sr.memoizedState=Ri=t:Ri=Ri.next=t}return Ri}function Y0(t,e){return typeof e=="function"?e(t):e}function mT(t){var e=Ho(),n=e.queue;if(n===null)throw Error(ct(311));n.lastRenderedReducer=t;var r=pi,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=a=null,c=null,u=s;do{var d=u.lane;if((Nm&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,a=r):c=c.next=f,Sr.lanes|=d,Mm|=d}u=u.next}while(u!==null&&u!==s);c===null?a=r:c.next=l,Al(r,e.memoizedState)||(wa=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Sr.lanes|=s,Mm|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function pT(t){var e=Ho(),n=e.queue;if(n===null)throw Error(ct(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Al(s,e.memoizedState)||(wa=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function yq(){}function bq(t,e){var n=Sr,r=Ho(),i=e(),s=!Al(r.memoizedState,i);if(s&&(r.memoizedState=i,wa=!0),r=r.queue,VI(Sq.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Ri!==null&&Ri.memoizedState.tag&1){if(n.flags|=2048,Z0(9,_q.bind(null,n,r,i,e),void 0,null),Di===null)throw Error(ct(349));Nm&30||wq(n,e,i)}return i}function wq(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Sr.updateQueue,e===null?(e={lastEffect:null,stores:null},Sr.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function _q(t,e,n,r){e.value=n,e.getSnapshot=r,Eq(e)&&Nq(t)}function Sq(t,e,n){return n(function(){Eq(e)&&Nq(t)})}function Eq(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Al(t,n)}catch{return!0}}function Nq(t){var e=Su(t,1);e!==null&&Cl(e,t,1,-1)}function vz(t){var e=Zl();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Y0,lastRenderedState:t},e.queue=t,t=t.dispatch=ime.bind(null,Sr,t),[e.memoizedState,t]}function Z0(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Sr.updateQueue,e===null?(e={lastEffect:null,stores:null},Sr.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Mq(){return Ho().memoizedState}function QS(t,e,n,r){var i=Zl();Sr.flags|=t,i.memoizedState=Z0(1|e,n,void 0,r===void 0?null:r)}function e2(t,e,n,r){var i=Ho();r=r===void 0?null:r;var s=void 0;if(pi!==null){var a=pi.memoizedState;if(s=a.destroy,r!==null&&UI(r,a.deps)){i.memoizedState=Z0(e,n,s,r);return}}Sr.flags|=t,i.memoizedState=Z0(1|e,n,s,r)}function xz(t,e){return QS(8390656,8,t,e)}function VI(t,e){return e2(2048,8,t,e)}function Cq(t,e){return e2(4,2,t,e)}function jq(t,e){return e2(4,4,t,e)}function Aq(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Tq(t,e,n){return n=n!=null?n.concat([t]):null,e2(4,4,Aq.bind(null,e,t),n)}function WI(){}function Pq(t,e){var n=Ho();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&UI(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function kq(t,e){var n=Ho();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&UI(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Rq(t,e,n){return Nm&21?(Al(n,e)||(n=F7(),Sr.lanes|=n,Mm|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,wa=!0),t.memoizedState=n)}function nme(t,e){var n=Vn;Vn=n!==0&&4>n?n:4,t(!0);var r=hT.transition;hT.transition={};try{t(!1),e()}finally{Vn=n,hT.transition=r}}function Oq(){return Ho().memoizedState}function rme(t,e,n){var r=nf(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Dq(t))Iq(e,n);else if(n=gq(t,e,n,r),n!==null){var i=Ks();Cl(n,t,r,i),Lq(n,e,r)}}function ime(t,e,n){var r=nf(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Dq(t))Iq(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,l=s(a,n);if(i.hasEagerState=!0,i.eagerState=l,Al(l,a)){var c=e.interleaved;c===null?(i.next=i,OI(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=gq(t,e,i,r),n!==null&&(i=Ks(),Cl(n,t,r,i),Lq(n,e,r))}}function Dq(t){var e=t.alternate;return t===Sr||e!==null&&e===Sr}function Iq(t,e){r0=BE=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Lq(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,bI(t,n)}}var zE={readContext:$o,useCallback:us,useContext:us,useEffect:us,useImperativeHandle:us,useInsertionEffect:us,useLayoutEffect:us,useMemo:us,useReducer:us,useRef:us,useState:us,useDebugValue:us,useDeferredValue:us,useTransition:us,useMutableSource:us,useSyncExternalStore:us,useId:us,unstable_isNewReconciler:!1},sme={readContext:$o,useCallback:function(t,e){return Zl().memoizedState=[t,e===void 0?null:e],t},useContext:$o,useEffect:xz,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,QS(4194308,4,Aq.bind(null,e,t),n)},useLayoutEffect:function(t,e){return QS(4194308,4,t,e)},useInsertionEffect:function(t,e){return QS(4,2,t,e)},useMemo:function(t,e){var n=Zl();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Zl();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=rme.bind(null,Sr,t),[r.memoizedState,t]},useRef:function(t){var e=Zl();return t={current:t},e.memoizedState=t},useState:vz,useDebugValue:WI,useDeferredValue:function(t){return Zl().memoizedState=t},useTransition:function(){var t=vz(!1),e=t[0];return t=nme.bind(null,t[1]),Zl().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Sr,i=Zl();if(hr){if(n===void 0)throw Error(ct(407));n=n()}else{if(n=e(),Di===null)throw Error(ct(349));Nm&30||wq(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,xz(Sq.bind(null,r,s,t),[t]),r.flags|=2048,Z0(9,_q.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Zl(),e=Di.identifierPrefix;if(hr){var n=fu,r=du;n=(r&~(1<<32-Ml(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=X0++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=tme++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ame={readContext:$o,useCallback:Pq,useContext:$o,useEffect:VI,useImperativeHandle:Tq,useInsertionEffect:Cq,useLayoutEffect:jq,useMemo:kq,useReducer:mT,useRef:Mq,useState:function(){return mT(Y0)},useDebugValue:WI,useDeferredValue:function(t){var e=Ho();return Rq(e,pi.memoizedState,t)},useTransition:function(){var t=mT(Y0)[0],e=Ho().memoizedState;return[t,e]},useMutableSource:yq,useSyncExternalStore:bq,useId:Oq,unstable_isNewReconciler:!1},ome={readContext:$o,useCallback:Pq,useContext:$o,useEffect:VI,useImperativeHandle:Tq,useInsertionEffect:Cq,useLayoutEffect:jq,useMemo:kq,useReducer:pT,useRef:Mq,useState:function(){return pT(Y0)},useDebugValue:WI,useDeferredValue:function(t){var e=Ho();return pi===null?e.memoizedState=t:Rq(e,pi.memoizedState,t)},useTransition:function(){var t=pT(Y0)[0],e=Ho().memoizedState;return[t,e]},useMutableSource:yq,useSyncExternalStore:bq,useId:Oq,unstable_isNewReconciler:!1};function ul(t,e){if(t&&t.defaultProps){e=Nr({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function dR(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Nr({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var t2={isMounted:function(t){return(t=t._reactInternals)?qm(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ks(),i=nf(t),s=pu(r,i);s.payload=e,n!=null&&(s.callback=n),e=ef(t,s,i),e!==null&&(Cl(e,t,i,r),YS(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ks(),i=nf(t),s=pu(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ef(t,s,i),e!==null&&(Cl(e,t,i,r),YS(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ks(),r=nf(t),i=pu(n,r);i.tag=2,e!=null&&(i.callback=e),e=ef(t,i,r),e!==null&&(Cl(e,t,r,n),YS(e,t,r))}};function yz(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!W0(n,r)||!W0(i,s):!0}function Fq(t,e,n){var r=!1,i=ff,s=e.contextType;return typeof s=="object"&&s!==null?s=$o(s):(i=ja(e)?Sm:Cs.current,r=e.contextTypes,s=(r=r!=null)?dv(t,i):ff),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=t2,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function bz(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&t2.enqueueReplaceState(e,e.state,null)}function fR(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},DI(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=$o(s):(s=ja(e)?Sm:Cs.current,i.context=dv(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(dR(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&t2.enqueueReplaceState(i,i.state,null),FE(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function pv(t,e){try{var n="",r=e;do n+=Dfe(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function gT(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function hR(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var lme=typeof WeakMap=="function"?WeakMap:Map;function Uq(t,e,n){n=pu(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){WE||(WE=!0,SR=r),hR(t,e)},n}function Bq(t,e,n){n=pu(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){hR(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){hR(t,e),typeof r!="function"&&(tf===null?tf=new Set([this]):tf.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function wz(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new lme;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=_me.bind(null,t,e,n),e.then(t,t))}function _z(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Sz(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=pu(-1,1),e.tag=2,ef(n,e,1))),n.lanes|=1),t)}var cme=zu.ReactCurrentOwner,wa=!1;function Bs(t,e,n,r){e.child=t===null?pq(e,null,n,r):hv(e,t.child,n,r)}function Ez(t,e,n,r,i){n=n.render;var s=e.ref;return $g(e,i),r=BI(t,e,n,r,s,i),n=zI(),t!==null&&!wa?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Eu(t,e,i)):(hr&&n&&jI(e),e.flags|=1,Bs(t,e,r,i),e.child)}function Nz(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!ZI(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,zq(t,e,s,r,i)):(t=nE(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:W0,n(a,r)&&t.ref===e.ref)return Eu(t,e,i)}return e.flags|=1,t=rf(s,r),t.ref=e.ref,t.return=e,e.child=t}function zq(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(W0(s,r)&&t.ref===e.ref)if(wa=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(wa=!0);else return e.lanes=t.lanes,Eu(t,e,i)}return mR(t,e,n,r,i)}function Vq(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},tr(Mg,Ka),Ka|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,tr(Mg,Ka),Ka|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,tr(Mg,Ka),Ka|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,tr(Mg,Ka),Ka|=r;return Bs(t,e,i,n),e.child}function Wq(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function mR(t,e,n,r,i){var s=ja(n)?Sm:Cs.current;return s=dv(e,s),$g(e,i),n=BI(t,e,n,r,s,i),r=zI(),t!==null&&!wa?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Eu(t,e,i)):(hr&&r&&jI(e),e.flags|=1,Bs(t,e,n,i),e.child)}function Mz(t,e,n,r,i){if(ja(n)){var s=!0;RE(e)}else s=!1;if($g(e,i),e.stateNode===null)JS(t,e),Fq(e,n,r),fR(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=$o(u):(u=ja(n)?Sm:Cs.current,u=dv(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==u)&&bz(e,a,r,u),kd=!1;var h=e.memoizedState;a.state=h,FE(e,r,a,i),c=e.memoizedState,l!==r||h!==c||Ca.current||kd?(typeof d=="function"&&(dR(e,n,d,r),c=e.memoizedState),(l=kd||yz(e,n,l,r,h,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,vq(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:ul(e.type,l),a.props=u,f=e.pendingProps,h=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=$o(c):(c=ja(n)?Sm:Cs.current,c=dv(e,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||h!==c)&&bz(e,a,r,c),kd=!1,h=e.memoizedState,a.state=h,FE(e,r,a,i);var p=e.memoizedState;l!==f||h!==p||Ca.current||kd?(typeof m=="function"&&(dR(e,n,m,r),p=e.memoizedState),(u=kd||yz(e,n,u,r,h,p,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,p,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,p,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),a.props=r,a.state=p,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return pR(t,e,n,r,s,i)}function pR(t,e,n,r,i,s){Wq(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&dz(e,n,!1),Eu(t,e,s);r=e.stateNode,cme.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=hv(e,t.child,null,s),e.child=hv(e,null,l,s)):Bs(t,e,l,s),e.memoizedState=r.state,i&&dz(e,n,!0),e.child}function $q(t){var e=t.stateNode;e.pendingContext?uz(t,e.pendingContext,e.pendingContext!==e.context):e.context&&uz(t,e.context,!1),II(t,e.containerInfo)}function Cz(t,e,n,r,i){return fv(),TI(i),e.flags|=256,Bs(t,e,n,r),e.child}var gR={dehydrated:null,treeContext:null,retryLane:0};function vR(t){return{baseLanes:t,cachePool:null,transitions:null}}function Hq(t,e,n){var r=e.pendingProps,i=yr.current,s=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),tr(yr,i&1),t===null)return cR(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=i2(a,r,0,null),t=lm(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=vR(n),e.memoizedState=gR,t):$I(e,a));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return ume(t,e,a,r,l,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=rf(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=rf(l,s):(s=lm(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?vR(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=gR,r}return s=t.child,t=s.sibling,r=rf(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function $I(t,e){return e=i2({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function f_(t,e,n,r){return r!==null&&TI(r),hv(e,t.child,null,n),t=$I(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ume(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=gT(Error(ct(422))),f_(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=i2({mode:"visible",children:r.children},i,0,null),s=lm(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&hv(e,t.child,null,a),e.child.memoizedState=vR(a),e.memoizedState=gR,s);if(!(e.mode&1))return f_(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(ct(419)),r=gT(s,r,void 0),f_(t,e,a,r)}if(l=(a&t.childLanes)!==0,wa||l){if(r=Di,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Su(t,i),Cl(r,t,i,-1))}return YI(),r=gT(Error(ct(421))),f_(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Sme.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Za=Jd(i.nextSibling),Qa=e,hr=!0,xl=null,t!==null&&(ko[Ro++]=du,ko[Ro++]=fu,ko[Ro++]=Em,du=t.id,fu=t.overflow,Em=e),e=$I(e,r.children),e.flags|=4096,e)}function jz(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),uR(t.return,e,n)}function vT(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Gq(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Bs(t,e,r.children,n),r=yr.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&jz(t,n,e);else if(t.tag===19)jz(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(tr(yr,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&UE(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),vT(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&UE(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}vT(e,!0,n,null,s);break;case"together":vT(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function JS(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Eu(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Mm|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ct(153));if(e.child!==null){for(t=e.child,n=rf(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=rf(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function dme(t,e,n){switch(e.tag){case 3:$q(e),fv();break;case 5:xq(e);break;case 1:ja(e.type)&&RE(e);break;case 4:II(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;tr(IE,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(tr(yr,yr.current&1),e.flags|=128,null):n&e.child.childLanes?Hq(t,e,n):(tr(yr,yr.current&1),t=Eu(t,e,n),t!==null?t.sibling:null);tr(yr,yr.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Gq(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),tr(yr,yr.current),r)break;return null;case 22:case 23:return e.lanes=0,Vq(t,e,n)}return Eu(t,e,n)}var qq,xR,Kq,Xq;qq=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};xR=function(){};Kq=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Vh(vc.current);var s=null;switch(n){case"input":i=Bk(t,i),r=Bk(t,r),s=[];break;case"select":i=Nr({},i,{value:void 0}),r=Nr({},r,{value:void 0}),s=[];break;case"textarea":i=Wk(t,i),r=Wk(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=PE)}Hk(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(I0.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(I0.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ar("scroll",t),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};Xq=function(t,e,n,r){n!==r&&(e.flags|=4)};function ay(t,e){if(!hr)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ds(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function fme(t,e,n){var r=e.pendingProps;switch(AI(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ds(e),null;case 1:return ja(e.type)&&kE(),ds(e),null;case 3:return r=e.stateNode,mv(),cr(Ca),cr(Cs),FI(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(u_(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,xl!==null&&(MR(xl),xl=null))),xR(t,e),ds(e),null;case 5:LI(e);var i=Vh(K0.current);if(n=e.type,t!==null&&e.stateNode!=null)Kq(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ct(166));return ds(e),null}if(t=Vh(vc.current),u_(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[nc]=e,r[G0]=s,t=(e.mode&1)!==0,n){case"dialog":ar("cancel",r),ar("close",r);break;case"iframe":case"object":case"embed":ar("load",r);break;case"video":case"audio":for(i=0;i<By.length;i++)ar(By[i],r);break;case"source":ar("error",r);break;case"img":case"image":case"link":ar("error",r),ar("load",r);break;case"details":ar("toggle",r);break;case"input":LB(r,s),ar("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ar("invalid",r);break;case"textarea":UB(r,s),ar("invalid",r)}Hk(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&c_(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&c_(r.textContent,l,t),i=["children",""+l]):I0.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&ar("scroll",r)}switch(n){case"input":t_(r),FB(r,s,!0);break;case"textarea":t_(r),BB(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=PE)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=S7(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[nc]=e,t[G0]=r,qq(t,e,!1,!1),e.stateNode=t;e:{switch(a=Gk(n,r),n){case"dialog":ar("cancel",t),ar("close",t),i=r;break;case"iframe":case"object":case"embed":ar("load",t),i=r;break;case"video":case"audio":for(i=0;i<By.length;i++)ar(By[i],t);i=r;break;case"source":ar("error",t),i=r;break;case"img":case"image":case"link":ar("error",t),ar("load",t),i=r;break;case"details":ar("toggle",t),i=r;break;case"input":LB(t,r),i=Bk(t,r),ar("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Nr({},r,{value:void 0}),ar("invalid",t);break;case"textarea":UB(t,r),i=Wk(t,r),ar("invalid",t);break;default:i=r}Hk(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?M7(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&E7(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&L0(t,c):typeof c=="number"&&L0(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(I0.hasOwnProperty(s)?c!=null&&s==="onScroll"&&ar("scroll",t):c!=null&&mI(t,s,c,a))}switch(n){case"input":t_(t),FB(t,r,!1);break;case"textarea":t_(t),BB(t);break;case"option":r.value!=null&&t.setAttribute("value",""+df(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Bg(t,!!r.multiple,s,!1):r.defaultValue!=null&&Bg(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=PE)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ds(e),null;case 6:if(t&&e.stateNode!=null)Xq(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ct(166));if(n=Vh(K0.current),Vh(vc.current),u_(e)){if(r=e.stateNode,n=e.memoizedProps,r[nc]=e,(s=r.nodeValue!==n)&&(t=Qa,t!==null))switch(t.tag){case 3:c_(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&c_(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[nc]=e,e.stateNode=r}return ds(e),null;case 13:if(cr(yr),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(hr&&Za!==null&&e.mode&1&&!(e.flags&128))hq(),fv(),e.flags|=98560,s=!1;else if(s=u_(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(ct(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ct(317));s[nc]=e}else fv(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ds(e),s=!1}else xl!==null&&(MR(xl),xl=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||yr.current&1?gi===0&&(gi=3):YI())),e.updateQueue!==null&&(e.flags|=4),ds(e),null);case 4:return mv(),xR(t,e),t===null&&$0(e.stateNode.containerInfo),ds(e),null;case 10:return RI(e.type._context),ds(e),null;case 17:return ja(e.type)&&kE(),ds(e),null;case 19:if(cr(yr),s=e.memoizedState,s===null)return ds(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)ay(s,!1);else{if(gi!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=UE(t),a!==null){for(e.flags|=128,ay(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return tr(yr,yr.current&1|2),e.child}t=t.sibling}s.tail!==null&&Br()>gv&&(e.flags|=128,r=!0,ay(s,!1),e.lanes=4194304)}else{if(!r)if(t=UE(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ay(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!hr)return ds(e),null}else 2*Br()-s.renderingStartTime>gv&&n!==1073741824&&(e.flags|=128,r=!0,ay(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Br(),e.sibling=null,n=yr.current,tr(yr,r?n&1|2:n&1),e):(ds(e),null);case 22:case 23:return XI(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ka&1073741824&&(ds(e),e.subtreeFlags&6&&(e.flags|=8192)):ds(e),null;case 24:return null;case 25:return null}throw Error(ct(156,e.tag))}function hme(t,e){switch(AI(e),e.tag){case 1:return ja(e.type)&&kE(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return mv(),cr(Ca),cr(Cs),FI(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return LI(e),null;case 13:if(cr(yr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ct(340));fv()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return cr(yr),null;case 4:return mv(),null;case 10:return RI(e.type._context),null;case 22:case 23:return XI(),null;case 24:return null;default:return null}}var h_=!1,xs=!1,mme=typeof WeakSet=="function"?WeakSet:Set,jt=null;function Ng(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Pr(t,e,r)}else n.current=null}function yR(t,e,n){try{n()}catch(r){Pr(t,e,r)}}var Az=!1;function pme(t,e){if(nR=jE,t=eq(),CI(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(l=a+i),f!==s||r!==0&&f.nodeType!==3||(c=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===t)break t;if(h===n&&++u===i&&(l=a),h===s&&++d===r&&(c=a),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(rR={focusedElem:t,selectionRange:n},jE=!1,jt=e;jt!==null;)if(e=jt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,jt=t;else for(;jt!==null;){e=jt;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var x=p.memoizedProps,v=p.memoizedState,g=e.stateNode,w=g.getSnapshotBeforeUpdate(e.elementType===e.type?x:ul(e.type,x),v);g.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ct(163))}}catch(E){Pr(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,jt=t;break}jt=e.return}return p=Az,Az=!1,p}function i0(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&yR(e,n,s)}i=i.next}while(i!==r)}}function n2(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function bR(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Yq(t){var e=t.alternate;e!==null&&(t.alternate=null,Yq(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[nc],delete e[G0],delete e[aR],delete e[Zhe],delete e[Qhe])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Zq(t){return t.tag===5||t.tag===3||t.tag===4}function Tz(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Zq(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function wR(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=PE));else if(r!==4&&(t=t.child,t!==null))for(wR(t,e,n),t=t.sibling;t!==null;)wR(t,e,n),t=t.sibling}function _R(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(_R(t,e,n),t=t.sibling;t!==null;)_R(t,e,n),t=t.sibling}var Ki=null,gl=!1;function fd(t,e,n){for(n=n.child;n!==null;)Qq(t,e,n),n=n.sibling}function Qq(t,e,n){if(gc&&typeof gc.onCommitFiberUnmount=="function")try{gc.onCommitFiberUnmount(KM,n)}catch{}switch(n.tag){case 5:xs||Ng(n,e);case 6:var r=Ki,i=gl;Ki=null,fd(t,e,n),Ki=r,gl=i,Ki!==null&&(gl?(t=Ki,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ki.removeChild(n.stateNode));break;case 18:Ki!==null&&(gl?(t=Ki,n=n.stateNode,t.nodeType===8?uT(t.parentNode,n):t.nodeType===1&&uT(t,n),z0(t)):uT(Ki,n.stateNode));break;case 4:r=Ki,i=gl,Ki=n.stateNode.containerInfo,gl=!0,fd(t,e,n),Ki=r,gl=i;break;case 0:case 11:case 14:case 15:if(!xs&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&yR(n,e,a),i=i.next}while(i!==r)}fd(t,e,n);break;case 1:if(!xs&&(Ng(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Pr(n,e,l)}fd(t,e,n);break;case 21:fd(t,e,n);break;case 22:n.mode&1?(xs=(r=xs)||n.memoizedState!==null,fd(t,e,n),xs=r):fd(t,e,n);break;default:fd(t,e,n)}}function Pz(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new mme),e.forEach(function(r){var i=Eme.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function nl(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:Ki=l.stateNode,gl=!1;break e;case 3:Ki=l.stateNode.containerInfo,gl=!0;break e;case 4:Ki=l.stateNode.containerInfo,gl=!0;break e}l=l.return}if(Ki===null)throw Error(ct(160));Qq(s,a,i),Ki=null,gl=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Pr(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Jq(e,t),e=e.sibling}function Jq(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(nl(e,t),ql(t),r&4){try{i0(3,t,t.return),n2(3,t)}catch(x){Pr(t,t.return,x)}try{i0(5,t,t.return)}catch(x){Pr(t,t.return,x)}}break;case 1:nl(e,t),ql(t),r&512&&n!==null&&Ng(n,n.return);break;case 5:if(nl(e,t),ql(t),r&512&&n!==null&&Ng(n,n.return),t.flags&32){var i=t.stateNode;try{L0(i,"")}catch(x){Pr(t,t.return,x)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&w7(i,s),Gk(l,a);var u=Gk(l,s);for(a=0;a<c.length;a+=2){var d=c[a],f=c[a+1];d==="style"?M7(i,f):d==="dangerouslySetInnerHTML"?E7(i,f):d==="children"?L0(i,f):mI(i,d,f,u)}switch(l){case"input":zk(i,s);break;case"textarea":_7(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Bg(i,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?Bg(i,!!s.multiple,s.defaultValue,!0):Bg(i,!!s.multiple,s.multiple?[]:"",!1))}i[G0]=s}catch(x){Pr(t,t.return,x)}}break;case 6:if(nl(e,t),ql(t),r&4){if(t.stateNode===null)throw Error(ct(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(x){Pr(t,t.return,x)}}break;case 3:if(nl(e,t),ql(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{z0(e.containerInfo)}catch(x){Pr(t,t.return,x)}break;case 4:nl(e,t),ql(t);break;case 13:nl(e,t),ql(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(qI=Br())),r&4&&Pz(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(xs=(u=xs)||d,nl(e,t),xs=u):nl(e,t),ql(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(jt=t,d=t.child;d!==null;){for(f=jt=d;jt!==null;){switch(h=jt,m=h.child,h.tag){case 0:case 11:case 14:case 15:i0(4,h,h.return);break;case 1:Ng(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(x){Pr(r,n,x)}}break;case 5:Ng(h,h.return);break;case 22:if(h.memoizedState!==null){Rz(f);continue}}m!==null?(m.return=h,jt=m):Rz(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=N7("display",a))}catch(x){Pr(t,t.return,x)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){Pr(t,t.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:nl(e,t),ql(t),r&4&&Pz(t);break;case 21:break;default:nl(e,t),ql(t)}}function ql(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Zq(n)){var r=n;break e}n=n.return}throw Error(ct(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(L0(i,""),r.flags&=-33);var s=Tz(t);_R(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,l=Tz(t);wR(t,l,a);break;default:throw Error(ct(161))}}catch(c){Pr(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function gme(t,e,n){jt=t,eK(t)}function eK(t,e,n){for(var r=(t.mode&1)!==0;jt!==null;){var i=jt,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||h_;if(!a){var l=i.alternate,c=l!==null&&l.memoizedState!==null||xs;l=h_;var u=xs;if(h_=a,(xs=c)&&!u)for(jt=i;jt!==null;)a=jt,c=a.child,a.tag===22&&a.memoizedState!==null?Oz(i):c!==null?(c.return=a,jt=c):Oz(i);for(;s!==null;)jt=s,eK(s),s=s.sibling;jt=i,h_=l,xs=u}kz(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,jt=s):kz(t)}}function kz(t){for(;jt!==null;){var e=jt;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:xs||n2(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!xs)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ul(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&gz(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}gz(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&z0(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ct(163))}xs||e.flags&512&&bR(e)}catch(h){Pr(e,e.return,h)}}if(e===t){jt=null;break}if(n=e.sibling,n!==null){n.return=e.return,jt=n;break}jt=e.return}}function Rz(t){for(;jt!==null;){var e=jt;if(e===t){jt=null;break}var n=e.sibling;if(n!==null){n.return=e.return,jt=n;break}jt=e.return}}function Oz(t){for(;jt!==null;){var e=jt;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{n2(4,e)}catch(c){Pr(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){Pr(e,i,c)}}var s=e.return;try{bR(e)}catch(c){Pr(e,s,c)}break;case 5:var a=e.return;try{bR(e)}catch(c){Pr(e,a,c)}}}catch(c){Pr(e,e.return,c)}if(e===t){jt=null;break}var l=e.sibling;if(l!==null){l.return=e.return,jt=l;break}jt=e.return}}var vme=Math.ceil,VE=zu.ReactCurrentDispatcher,HI=zu.ReactCurrentOwner,Bo=zu.ReactCurrentBatchConfig,En=0,Di=null,ai=null,Qi=0,Ka=0,Mg=Mf(0),gi=0,Q0=null,Mm=0,r2=0,GI=0,s0=null,va=null,qI=0,gv=1/0,ru=null,WE=!1,SR=null,tf=null,m_=!1,Gd=null,$E=0,a0=0,ER=null,eE=-1,tE=0;function Ks(){return En&6?Br():eE!==-1?eE:eE=Br()}function nf(t){return t.mode&1?En&2&&Qi!==0?Qi&-Qi:eme.transition!==null?(tE===0&&(tE=F7()),tE):(t=Vn,t!==0||(t=window.event,t=t===void 0?16:H7(t.type)),t):1}function Cl(t,e,n,r){if(50<a0)throw a0=0,ER=null,Error(ct(185));nw(t,n,r),(!(En&2)||t!==Di)&&(t===Di&&(!(En&2)&&(r2|=n),gi===4&&Id(t,Qi)),Aa(t,r),n===1&&En===0&&!(e.mode&1)&&(gv=Br()+500,JM&&Cf()))}function Aa(t,e){var n=t.callbackNode;ehe(t,e);var r=CE(t,t===Di?Qi:0);if(r===0)n!==null&&WB(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&WB(n),e===1)t.tag===0?Jhe(Dz.bind(null,t)):uq(Dz.bind(null,t)),Xhe(function(){!(En&6)&&Cf()}),n=null;else{switch(U7(r)){case 1:n=yI;break;case 4:n=I7;break;case 16:n=ME;break;case 536870912:n=L7;break;default:n=ME}n=lK(n,tK.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function tK(t,e){if(eE=-1,tE=0,En&6)throw Error(ct(327));var n=t.callbackNode;if(Hg()&&t.callbackNode!==n)return null;var r=CE(t,t===Di?Qi:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=HE(t,r);else{e=r;var i=En;En|=2;var s=rK();(Di!==t||Qi!==e)&&(ru=null,gv=Br()+500,om(t,e));do try{bme();break}catch(l){nK(t,l)}while(!0);kI(),VE.current=s,En=i,ai!==null?e=0:(Di=null,Qi=0,e=gi)}if(e!==0){if(e===2&&(i=Zk(t),i!==0&&(r=i,e=NR(t,i))),e===1)throw n=Q0,om(t,0),Id(t,r),Aa(t,Br()),n;if(e===6)Id(t,r);else{if(i=t.current.alternate,!(r&30)&&!xme(i)&&(e=HE(t,r),e===2&&(s=Zk(t),s!==0&&(r=s,e=NR(t,s))),e===1))throw n=Q0,om(t,0),Id(t,r),Aa(t,Br()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ct(345));case 2:Ch(t,va,ru);break;case 3:if(Id(t,r),(r&130023424)===r&&(e=qI+500-Br(),10<e)){if(CE(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ks(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=sR(Ch.bind(null,t,va,ru),e);break}Ch(t,va,ru);break;case 4:if(Id(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Ml(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=Br()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*vme(r/1960))-r,10<r){t.timeoutHandle=sR(Ch.bind(null,t,va,ru),r);break}Ch(t,va,ru);break;case 5:Ch(t,va,ru);break;default:throw Error(ct(329))}}}return Aa(t,Br()),t.callbackNode===n?tK.bind(null,t):null}function NR(t,e){var n=s0;return t.current.memoizedState.isDehydrated&&(om(t,e).flags|=256),t=HE(t,e),t!==2&&(e=va,va=n,e!==null&&MR(e)),t}function MR(t){va===null?va=t:va.push.apply(va,t)}function xme(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Al(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Id(t,e){for(e&=~GI,e&=~r2,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ml(e),r=1<<n;t[n]=-1,e&=~r}}function Dz(t){if(En&6)throw Error(ct(327));Hg();var e=CE(t,0);if(!(e&1))return Aa(t,Br()),null;var n=HE(t,e);if(t.tag!==0&&n===2){var r=Zk(t);r!==0&&(e=r,n=NR(t,r))}if(n===1)throw n=Q0,om(t,0),Id(t,e),Aa(t,Br()),n;if(n===6)throw Error(ct(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ch(t,va,ru),Aa(t,Br()),null}function KI(t,e){var n=En;En|=1;try{return t(e)}finally{En=n,En===0&&(gv=Br()+500,JM&&Cf())}}function Cm(t){Gd!==null&&Gd.tag===0&&!(En&6)&&Hg();var e=En;En|=1;var n=Bo.transition,r=Vn;try{if(Bo.transition=null,Vn=1,t)return t()}finally{Vn=r,Bo.transition=n,En=e,!(En&6)&&Cf()}}function XI(){Ka=Mg.current,cr(Mg)}function om(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Khe(n)),ai!==null)for(n=ai.return;n!==null;){var r=n;switch(AI(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&kE();break;case 3:mv(),cr(Ca),cr(Cs),FI();break;case 5:LI(r);break;case 4:mv();break;case 13:cr(yr);break;case 19:cr(yr);break;case 10:RI(r.type._context);break;case 22:case 23:XI()}n=n.return}if(Di=t,ai=t=rf(t.current,null),Qi=Ka=e,gi=0,Q0=null,GI=r2=Mm=0,va=s0=null,zh!==null){for(e=0;e<zh.length;e++)if(n=zh[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}zh=null}return t}function nK(t,e){do{var n=ai;try{if(kI(),ZS.current=zE,BE){for(var r=Sr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}BE=!1}if(Nm=0,Ri=pi=Sr=null,r0=!1,X0=0,HI.current=null,n===null||n.return===null){gi=1,Q0=e,ai=null;break}e:{var s=t,a=n.return,l=n,c=e;if(e=Qi,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=_z(a);if(m!==null){m.flags&=-257,Sz(m,a,l,s,e),m.mode&1&&wz(s,u,e),e=m,c=u;var p=e.updateQueue;if(p===null){var x=new Set;x.add(c),e.updateQueue=x}else p.add(c);break e}else{if(!(e&1)){wz(s,u,e),YI();break e}c=Error(ct(426))}}else if(hr&&l.mode&1){var v=_z(a);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Sz(v,a,l,s,e),TI(pv(c,l));break e}}s=c=pv(c,l),gi!==4&&(gi=2),s0===null?s0=[s]:s0.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=Uq(s,c,e);pz(s,g);break e;case 1:l=c;var w=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(tf===null||!tf.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=Bq(s,l,e);pz(s,E);break e}}s=s.return}while(s!==null)}sK(n)}catch(N){e=N,ai===n&&n!==null&&(ai=n=n.return);continue}break}while(!0)}function rK(){var t=VE.current;return VE.current=zE,t===null?zE:t}function YI(){(gi===0||gi===3||gi===2)&&(gi=4),Di===null||!(Mm&268435455)&&!(r2&268435455)||Id(Di,Qi)}function HE(t,e){var n=En;En|=2;var r=rK();(Di!==t||Qi!==e)&&(ru=null,om(t,e));do try{yme();break}catch(i){nK(t,i)}while(!0);if(kI(),En=n,VE.current=r,ai!==null)throw Error(ct(261));return Di=null,Qi=0,gi}function yme(){for(;ai!==null;)iK(ai)}function bme(){for(;ai!==null&&!Hfe();)iK(ai)}function iK(t){var e=oK(t.alternate,t,Ka);t.memoizedProps=t.pendingProps,e===null?sK(t):ai=e,HI.current=null}function sK(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=hme(n,e),n!==null){n.flags&=32767,ai=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{gi=6,ai=null;return}}else if(n=fme(n,e,Ka),n!==null){ai=n;return}if(e=e.sibling,e!==null){ai=e;return}ai=e=t}while(e!==null);gi===0&&(gi=5)}function Ch(t,e,n){var r=Vn,i=Bo.transition;try{Bo.transition=null,Vn=1,wme(t,e,n,r)}finally{Bo.transition=i,Vn=r}return null}function wme(t,e,n,r){do Hg();while(Gd!==null);if(En&6)throw Error(ct(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ct(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(the(t,s),t===Di&&(ai=Di=null,Qi=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||m_||(m_=!0,lK(ME,function(){return Hg(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Bo.transition,Bo.transition=null;var a=Vn;Vn=1;var l=En;En|=4,HI.current=null,pme(t,n),Jq(n,t),zhe(rR),jE=!!nR,rR=nR=null,t.current=n,gme(n),Gfe(),En=l,Vn=a,Bo.transition=s}else t.current=n;if(m_&&(m_=!1,Gd=t,$E=i),s=t.pendingLanes,s===0&&(tf=null),Xfe(n.stateNode),Aa(t,Br()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(WE)throw WE=!1,t=SR,SR=null,t;return $E&1&&t.tag!==0&&Hg(),s=t.pendingLanes,s&1?t===ER?a0++:(a0=0,ER=t):a0=0,Cf(),null}function Hg(){if(Gd!==null){var t=U7($E),e=Bo.transition,n=Vn;try{if(Bo.transition=null,Vn=16>t?16:t,Gd===null)var r=!1;else{if(t=Gd,Gd=null,$E=0,En&6)throw Error(ct(331));var i=En;for(En|=4,jt=t.current;jt!==null;){var s=jt,a=s.child;if(jt.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(jt=u;jt!==null;){var d=jt;switch(d.tag){case 0:case 11:case 15:i0(8,d,s)}var f=d.child;if(f!==null)f.return=d,jt=f;else for(;jt!==null;){d=jt;var h=d.sibling,m=d.return;if(Yq(d),d===u){jt=null;break}if(h!==null){h.return=m,jt=h;break}jt=m}}}var p=s.alternate;if(p!==null){var x=p.child;if(x!==null){p.child=null;do{var v=x.sibling;x.sibling=null,x=v}while(x!==null)}}jt=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,jt=a;else e:for(;jt!==null;){if(s=jt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:i0(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,jt=g;break e}jt=s.return}}var w=t.current;for(jt=w;jt!==null;){a=jt;var _=a.child;if(a.subtreeFlags&2064&&_!==null)_.return=a,jt=_;else e:for(a=w;jt!==null;){if(l=jt,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:n2(9,l)}}catch(N){Pr(l,l.return,N)}if(l===a){jt=null;break e}var E=l.sibling;if(E!==null){E.return=l.return,jt=E;break e}jt=l.return}}if(En=i,Cf(),gc&&typeof gc.onPostCommitFiberRoot=="function")try{gc.onPostCommitFiberRoot(KM,t)}catch{}r=!0}return r}finally{Vn=n,Bo.transition=e}}return!1}function Iz(t,e,n){e=pv(n,e),e=Uq(t,e,1),t=ef(t,e,1),e=Ks(),t!==null&&(nw(t,1,e),Aa(t,e))}function Pr(t,e,n){if(t.tag===3)Iz(t,t,n);else for(;e!==null;){if(e.tag===3){Iz(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(tf===null||!tf.has(r))){t=pv(n,t),t=Bq(e,t,1),e=ef(e,t,1),t=Ks(),e!==null&&(nw(e,1,t),Aa(e,t));break}}e=e.return}}function _me(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ks(),t.pingedLanes|=t.suspendedLanes&n,Di===t&&(Qi&n)===n&&(gi===4||gi===3&&(Qi&130023424)===Qi&&500>Br()-qI?om(t,0):GI|=n),Aa(t,e)}function aK(t,e){e===0&&(t.mode&1?(e=i_,i_<<=1,!(i_&130023424)&&(i_=4194304)):e=1);var n=Ks();t=Su(t,e),t!==null&&(nw(t,e,n),Aa(t,n))}function Sme(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),aK(t,n)}function Eme(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ct(314))}r!==null&&r.delete(e),aK(t,n)}var oK;oK=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ca.current)wa=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return wa=!1,dme(t,e,n);wa=!!(t.flags&131072)}else wa=!1,hr&&e.flags&1048576&&dq(e,DE,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;JS(t,e),t=e.pendingProps;var i=dv(e,Cs.current);$g(e,n),i=BI(null,e,r,t,i,n);var s=zI();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ja(r)?(s=!0,RE(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,DI(e),i.updater=t2,e.stateNode=i,i._reactInternals=e,fR(e,r,t,n),e=pR(null,e,r,!0,s,n)):(e.tag=0,hr&&s&&jI(e),Bs(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(JS(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Mme(r),t=ul(r,t),i){case 0:e=mR(null,e,r,t,n);break e;case 1:e=Mz(null,e,r,t,n);break e;case 11:e=Ez(null,e,r,t,n);break e;case 14:e=Nz(null,e,r,ul(r.type,t),n);break e}throw Error(ct(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ul(r,i),mR(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ul(r,i),Mz(t,e,r,i,n);case 3:e:{if($q(e),t===null)throw Error(ct(387));r=e.pendingProps,s=e.memoizedState,i=s.element,vq(t,e),FE(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=pv(Error(ct(423)),e),e=Cz(t,e,r,n,i);break e}else if(r!==i){i=pv(Error(ct(424)),e),e=Cz(t,e,r,n,i);break e}else for(Za=Jd(e.stateNode.containerInfo.firstChild),Qa=e,hr=!0,xl=null,n=pq(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(fv(),r===i){e=Eu(t,e,n);break e}Bs(t,e,r,n)}e=e.child}return e;case 5:return xq(e),t===null&&cR(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,iR(r,i)?a=null:s!==null&&iR(r,s)&&(e.flags|=32),Wq(t,e),Bs(t,e,a,n),e.child;case 6:return t===null&&cR(e),null;case 13:return Hq(t,e,n);case 4:return II(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=hv(e,null,r,n):Bs(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ul(r,i),Ez(t,e,r,i,n);case 7:return Bs(t,e,e.pendingProps,n),e.child;case 8:return Bs(t,e,e.pendingProps.children,n),e.child;case 12:return Bs(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,tr(IE,r._currentValue),r._currentValue=a,s!==null)if(Al(s.value,a)){if(s.children===i.children&&!Ca.current){e=Eu(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){a=s.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=pu(-1,n&-n),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),uR(s.return,n,e),l.lanes|=n;break}c=c.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(ct(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),uR(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Bs(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,$g(e,n),i=$o(i),r=r(i),e.flags|=1,Bs(t,e,r,n),e.child;case 14:return r=e.type,i=ul(r,e.pendingProps),i=ul(r.type,i),Nz(t,e,r,i,n);case 15:return zq(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ul(r,i),JS(t,e),e.tag=1,ja(r)?(t=!0,RE(e)):t=!1,$g(e,n),Fq(e,r,i),fR(e,r,i,n),pR(null,e,r,!0,t,n);case 19:return Gq(t,e,n);case 22:return Vq(t,e,n)}throw Error(ct(156,e.tag))};function lK(t,e){return D7(t,e)}function Nme(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Do(t,e,n,r){return new Nme(t,e,n,r)}function ZI(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Mme(t){if(typeof t=="function")return ZI(t)?1:0;if(t!=null){if(t=t.$$typeof,t===gI)return 11;if(t===vI)return 14}return 2}function rf(t,e){var n=t.alternate;return n===null?(n=Do(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function nE(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")ZI(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case gg:return lm(n.children,i,s,e);case pI:a=8,i|=8;break;case Ik:return t=Do(12,n,e,i|2),t.elementType=Ik,t.lanes=s,t;case Lk:return t=Do(13,n,e,i),t.elementType=Lk,t.lanes=s,t;case Fk:return t=Do(19,n,e,i),t.elementType=Fk,t.lanes=s,t;case x7:return i2(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case g7:a=10;break e;case v7:a=9;break e;case gI:a=11;break e;case vI:a=14;break e;case Pd:a=16,r=null;break e}throw Error(ct(130,t==null?t:typeof t,""))}return e=Do(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function lm(t,e,n,r){return t=Do(7,t,r,e),t.lanes=n,t}function i2(t,e,n,r){return t=Do(22,t,r,e),t.elementType=x7,t.lanes=n,t.stateNode={isHidden:!1},t}function xT(t,e,n){return t=Do(6,t,null,e),t.lanes=n,t}function yT(t,e,n){return e=Do(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Cme(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=JA(0),this.expirationTimes=JA(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=JA(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function QI(t,e,n,r,i,s,a,l,c){return t=new Cme(t,e,n,l,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Do(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},DI(s),t}function jme(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pg,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function cK(t){if(!t)return ff;t=t._reactInternals;e:{if(qm(t)!==t||t.tag!==1)throw Error(ct(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ja(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ct(171))}if(t.tag===1){var n=t.type;if(ja(n))return cq(t,n,e)}return e}function uK(t,e,n,r,i,s,a,l,c){return t=QI(n,r,!0,t,i,s,a,l,c),t.context=cK(null),n=t.current,r=Ks(),i=nf(n),s=pu(r,i),s.callback=e??null,ef(n,s,i),t.current.lanes=i,nw(t,i,r),Aa(t,r),t}function s2(t,e,n,r){var i=e.current,s=Ks(),a=nf(i);return n=cK(n),e.context===null?e.context=n:e.pendingContext=n,e=pu(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ef(i,e,a),t!==null&&(Cl(t,i,a,s),YS(t,i,a)),a}function GE(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Lz(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function JI(t,e){Lz(t,e),(t=t.alternate)&&Lz(t,e)}function Ame(){return null}var dK=typeof reportError=="function"?reportError:function(t){console.error(t)};function e3(t){this._internalRoot=t}a2.prototype.render=e3.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ct(409));s2(t,e,null,null)};a2.prototype.unmount=e3.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Cm(function(){s2(null,t,null,null)}),e[_u]=null}};function a2(t){this._internalRoot=t}a2.prototype.unstable_scheduleHydration=function(t){if(t){var e=V7();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Dd.length&&e!==0&&e<Dd[n].priority;n++);Dd.splice(n,0,t),n===0&&$7(t)}};function t3(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function o2(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Fz(){}function Tme(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=GE(a);s.call(u)}}var a=uK(e,r,t,0,null,!1,!1,"",Fz);return t._reactRootContainer=a,t[_u]=a.current,$0(t.nodeType===8?t.parentNode:t),Cm(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=GE(c);l.call(u)}}var c=QI(t,0,!1,null,null,!1,!1,"",Fz);return t._reactRootContainer=c,t[_u]=c.current,$0(t.nodeType===8?t.parentNode:t),Cm(function(){s2(e,c,n,r)}),c}function l2(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var l=i;i=function(){var c=GE(a);l.call(c)}}s2(e,a,t,i)}else a=Tme(n,e,t,i,r);return GE(a)}B7=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Uy(e.pendingLanes);n!==0&&(bI(e,n|1),Aa(e,Br()),!(En&6)&&(gv=Br()+500,Cf()))}break;case 13:Cm(function(){var r=Su(t,1);if(r!==null){var i=Ks();Cl(r,t,1,i)}}),JI(t,1)}};wI=function(t){if(t.tag===13){var e=Su(t,134217728);if(e!==null){var n=Ks();Cl(e,t,134217728,n)}JI(t,134217728)}};z7=function(t){if(t.tag===13){var e=nf(t),n=Su(t,e);if(n!==null){var r=Ks();Cl(n,t,e,r)}JI(t,e)}};V7=function(){return Vn};W7=function(t,e){var n=Vn;try{return Vn=t,e()}finally{Vn=n}};Kk=function(t,e,n){switch(e){case"input":if(zk(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=QM(r);if(!i)throw Error(ct(90));b7(r),zk(r,i)}}}break;case"textarea":_7(t,n);break;case"select":e=n.value,e!=null&&Bg(t,!!n.multiple,e,!1)}};A7=KI;T7=Cm;var Pme={usingClientEntryPoint:!1,Events:[iw,bg,QM,C7,j7,KI]},oy={findFiberByHostInstance:Bh,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kme={bundleType:oy.bundleType,version:oy.version,rendererPackageName:oy.rendererPackageName,rendererConfig:oy.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zu.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=R7(t),t===null?null:t.stateNode},findFiberByHostInstance:oy.findFiberByHostInstance||Ame,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var p_=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!p_.isDisabled&&p_.supportsFiber)try{KM=p_.inject(kme),gc=p_}catch{}}mo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pme;mo.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t3(e))throw Error(ct(200));return jme(t,e,null,n)};mo.createRoot=function(t,e){if(!t3(t))throw Error(ct(299));var n=!1,r="",i=dK;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=QI(t,1,!1,null,null,n,!1,r,i),t[_u]=e.current,$0(t.nodeType===8?t.parentNode:t),new e3(e)};mo.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ct(188)):(t=Object.keys(t).join(","),Error(ct(268,t)));return t=R7(e),t=t===null?null:t.stateNode,t};mo.flushSync=function(t){return Cm(t)};mo.hydrate=function(t,e,n){if(!o2(e))throw Error(ct(200));return l2(null,t,e,!0,n)};mo.hydrateRoot=function(t,e,n){if(!t3(t))throw Error(ct(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=dK;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=uK(e,null,t,1,n??null,i,!1,s,a),t[_u]=e.current,$0(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new a2(e)};mo.render=function(t,e,n){if(!o2(e))throw Error(ct(200));return l2(null,t,e,!1,n)};mo.unmountComponentAtNode=function(t){if(!o2(t))throw Error(ct(40));return t._reactRootContainer?(Cm(function(){l2(null,null,t,!1,function(){t._reactRootContainer=null,t[_u]=null})}),!0):!1};mo.unstable_batchedUpdates=KI;mo.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!o2(n))throw Error(ct(200));if(t==null||t._reactInternals===void 0)throw Error(ct(38));return l2(t,e,n,!1,r)};mo.version="18.3.1-next-f1338f8080-20240426";function fK(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(fK)}catch(t){console.error(t)}}fK(),f7.exports=mo;var Vu=f7.exports;const hK=Pa(Vu);var mK,Uz=Vu;mK=Uz.createRoot,Uz.hydrateRoot;const Rme=1,Ome=1e6;let bT=0;function Dme(){return bT=(bT+1)%Number.MAX_SAFE_INTEGER,bT.toString()}const wT=new Map,Bz=t=>{if(wT.has(t))return;const e=setTimeout(()=>{wT.delete(t),o0({type:"REMOVE_TOAST",toastId:t})},Ome);wT.set(t,e)},Ime=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Rme)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?Bz(n):t.toasts.forEach(r=>{Bz(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},rE=[];let iE={toasts:[]};function o0(t){iE=Ime(iE,t),rE.forEach(e=>{e(iE)})}function zy({...t}){const e=Dme(),n=i=>o0({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>o0({type:"DISMISS_TOAST",toastId:e});return o0({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function Ui(){const[t,e]=S.useState(iE);return S.useEffect(()=>(rE.push(e),()=>{const n=rE.indexOf(e);n>-1&&rE.splice(n,1)}),[t]),{...t,toast:zy,dismiss:n=>o0({type:"DISMISS_TOAST",toastId:n})}}function ot(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function zz(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function c2(...t){return e=>{let n=!1;const r=t.map(i=>{const s=zz(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():zz(t[i],null)}}}}function Wt(...t){return S.useCallback(c2(...t),t)}function Lme(t,e){const n=S.createContext(e),r=s=>{const{children:a,...l}=s,c=S.useMemo(()=>l,Object.values(l));return o.jsx(n.Provider,{value:c,children:a})};r.displayName=t+"Provider";function i(s){const a=S.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function qr(t,e=[]){let n=[];function r(s,a){const l=S.createContext(a),c=n.length;n=[...n,a];const u=f=>{var g;const{scope:h,children:m,...p}=f,x=((g=h==null?void 0:h[t])==null?void 0:g[c])||l,v=S.useMemo(()=>p,Object.values(p));return o.jsx(x.Provider,{value:v,children:m})};u.displayName=s+"Provider";function d(f,h){var x;const m=((x=h==null?void 0:h[t])==null?void 0:x[c])||l,p=S.useContext(m);if(p)return p;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=n.map(a=>S.createContext(a));return function(l){const c=(l==null?void 0:l[t])||s;return S.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[r,Fme(i,...e)]}function Fme(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function hf(t){const e=Bme(t),n=S.forwardRef((r,i)=>{const{children:s,...a}=r,l=S.Children.toArray(s),c=l.find(zme);if(c){const u=c.props.children,d=l.map(f=>f===c?S.Children.count(u)>1?S.Children.only(null):S.isValidElement(u)?u.props.children:null:f);return o.jsx(e,{...a,ref:i,children:S.isValidElement(u)?S.cloneElement(u,void 0,d):null})}return o.jsx(e,{...a,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var Ume=hf("Slot");function Bme(t){const e=S.forwardRef((n,r)=>{const{children:i,...s}=n;if(S.isValidElement(i)){const a=Wme(i),l=Vme(s,i.props);return i.type!==S.Fragment&&(l.ref=r?c2(r,a):a),S.cloneElement(i,l)}return S.Children.count(i)>1?S.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var pK=Symbol("radix.slottable");function gK(t){const e=({children:n})=>o.jsx(o.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=pK,e}function zme(t){return S.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===pK}function Vme(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function Wme(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Yv(t){const e=t+"CollectionProvider",[n,r]=qr(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=x=>{const{scope:v,children:g}=x,w=Ze.useRef(null),_=Ze.useRef(new Map).current;return o.jsx(i,{scope:v,itemMap:_,collectionRef:w,children:g})};a.displayName=e;const l=t+"CollectionSlot",c=hf(l),u=Ze.forwardRef((x,v)=>{const{scope:g,children:w}=x,_=s(l,g),E=Wt(v,_.collectionRef);return o.jsx(c,{ref:E,children:w})});u.displayName=l;const d=t+"CollectionItemSlot",f="data-radix-collection-item",h=hf(d),m=Ze.forwardRef((x,v)=>{const{scope:g,children:w,..._}=x,E=Ze.useRef(null),N=Wt(v,E),C=s(d,g);return Ze.useEffect(()=>(C.itemMap.set(E,{ref:E,..._}),()=>void C.itemMap.delete(E))),o.jsx(h,{[f]:"",ref:N,children:w})});m.displayName=d;function p(x){const v=s(t+"CollectionConsumer",x);return Ze.useCallback(()=>{const w=v.collectionRef.current;if(!w)return[];const _=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((C,j)=>_.indexOf(C.ref.current)-_.indexOf(j.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:a,Slot:u,ItemSlot:m},p,r]}var $me=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],_t=$me.reduce((t,e)=>{const n=hf(`Primitive.${e}`),r=S.forwardRef((i,s)=>{const{asChild:a,...l}=i,c=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function n3(t,e){t&&Vu.flushSync(()=>t.dispatchEvent(e))}function Qs(t){const e=S.useRef(t);return S.useEffect(()=>{e.current=t}),S.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function Hme(t,e=globalThis==null?void 0:globalThis.document){const n=Qs(t);S.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var Gme="DismissableLayer",CR="dismissableLayer.update",qme="dismissableLayer.pointerDownOutside",Kme="dismissableLayer.focusOutside",Vz,vK=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Km=S.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:l,...c}=t,u=S.useContext(vK),[d,f]=S.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=S.useState({}),p=Wt(e,j=>f(j)),x=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),g=x.indexOf(v),w=d?x.indexOf(d):-1,_=u.layersWithOutsidePointerEventsDisabled.size>0,E=w>=g,N=Yme(j=>{const T=j.target,A=[...u.branches].some(P=>P.contains(T));!E||A||(i==null||i(j),a==null||a(j),j.defaultPrevented||l==null||l())},h),C=Zme(j=>{const T=j.target;[...u.branches].some(P=>P.contains(T))||(s==null||s(j),a==null||a(j),j.defaultPrevented||l==null||l())},h);return Hme(j=>{w===u.layers.size-1&&(r==null||r(j),!j.defaultPrevented&&l&&(j.preventDefault(),l()))},h),S.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Vz=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Wz(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Vz)}},[d,h,n,u]),S.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Wz())},[d,u]),S.useEffect(()=>{const j=()=>m({});return document.addEventListener(CR,j),()=>document.removeEventListener(CR,j)},[]),o.jsx(_t.div,{...c,ref:p,style:{pointerEvents:_?E?"auto":"none":void 0,...t.style},onFocusCapture:ot(t.onFocusCapture,C.onFocusCapture),onBlurCapture:ot(t.onBlurCapture,C.onBlurCapture),onPointerDownCapture:ot(t.onPointerDownCapture,N.onPointerDownCapture)})});Km.displayName=Gme;var Xme="DismissableLayerBranch",xK=S.forwardRef((t,e)=>{const n=S.useContext(vK),r=S.useRef(null),i=Wt(e,r);return S.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),o.jsx(_t.div,{...t,ref:i})});xK.displayName=Xme;function Yme(t,e=globalThis==null?void 0:globalThis.document){const n=Qs(t),r=S.useRef(!1),i=S.useRef(()=>{});return S.useEffect(()=>{const s=l=>{if(l.target&&!r.current){let c=function(){yK(qme,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Zme(t,e=globalThis==null?void 0:globalThis.document){const n=Qs(t),r=S.useRef(!1);return S.useEffect(()=>{const i=s=>{s.target&&!r.current&&yK(Kme,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Wz(){const t=new CustomEvent(CR);document.dispatchEvent(t)}function yK(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?n3(i,s):i.dispatchEvent(s)}var Qme=Km,Jme=xK,Gr=globalThis!=null&&globalThis.document?S.useLayoutEffect:()=>{},epe="Portal",Zv=S.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[i,s]=S.useState(!1);Gr(()=>s(!0),[]);const a=n||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?hK.createPortal(o.jsx(_t.div,{...r,ref:e}),a):null});Zv.displayName=epe;function tpe(t,e){return S.useReducer((n,r)=>e[n][r]??n,t)}var js=t=>{const{present:e,children:n}=t,r=npe(e),i=typeof n=="function"?n({present:r.isPresent}):S.Children.only(n),s=Wt(r.ref,rpe(i));return typeof n=="function"||r.isPresent?S.cloneElement(i,{ref:s}):null};js.displayName="Presence";function npe(t){const[e,n]=S.useState(),r=S.useRef(null),i=S.useRef(t),s=S.useRef("none"),a=t?"mounted":"unmounted",[l,c]=tpe(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const u=g_(r.current);s.current=l==="mounted"?u:"none"},[l]),Gr(()=>{const u=r.current,d=i.current;if(d!==t){const h=s.current,m=g_(u);t?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),Gr(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=m=>{const x=g_(r.current).includes(m.animationName);if(m.target===e&&x&&(c("ANIMATION_END"),!i.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},h=m=>{m.target===e&&(s.current=g_(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:S.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function g_(t){return(t==null?void 0:t.animationName)||"none"}function rpe(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var ipe=dI[" useInsertionEffect ".trim().toString()]||Gr;function Js({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,a]=spe({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:i;{const d=S.useRef(t!==void 0);S.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=S.useCallback(d=>{var f;if(l){const h=ape(d)?d(t):d;h!==t&&((f=a.current)==null||f.call(a,h))}else s(d)},[l,t,s,a]);return[c,u]}function spe({defaultProp:t,onChange:e}){const[n,r]=S.useState(t),i=S.useRef(n),s=S.useRef(e);return ipe(()=>{s.current=e},[e]),S.useEffect(()=>{var a;i.current!==n&&((a=s.current)==null||a.call(s,n),i.current=n)},[n,i]),[n,r,s]}function ape(t){return typeof t=="function"}var bK=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),ope="VisuallyHidden",u2=S.forwardRef((t,e)=>o.jsx(_t.span,{...t,ref:e,style:{...bK,...t.style}}));u2.displayName=ope;var lpe=u2,r3="ToastProvider",[i3,cpe,upe]=Yv("Toast"),[wK,Gnt]=qr("Toast",[upe]),[dpe,d2]=wK(r3),_K=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:a}=t,[l,c]=S.useState(null),[u,d]=S.useState(0),f=S.useRef(!1),h=S.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${r3}\`. Expected non-empty \`string\`.`),o.jsx(i3.Provider,{scope:e,children:o.jsx(dpe,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:S.useCallback(()=>d(m=>m+1),[]),onToastRemove:S.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:a})})};_K.displayName=r3;var SK="ToastViewport",fpe=["F8"],jR="toast.viewportPause",AR="toast.viewportResume",EK=S.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=fpe,label:i="Notifications ({hotkey})",...s}=t,a=d2(SK,n),l=cpe(n),c=S.useRef(null),u=S.useRef(null),d=S.useRef(null),f=S.useRef(null),h=Wt(e,f,a.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),p=a.toastCount>0;S.useEffect(()=>{const v=g=>{var _;r.length!==0&&r.every(E=>g[E]||g.code===E)&&((_=f.current)==null||_.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[r]),S.useEffect(()=>{const v=c.current,g=f.current;if(p&&v&&g){const w=()=>{if(!a.isClosePausedRef.current){const C=new CustomEvent(jR);g.dispatchEvent(C),a.isClosePausedRef.current=!0}},_=()=>{if(a.isClosePausedRef.current){const C=new CustomEvent(AR);g.dispatchEvent(C),a.isClosePausedRef.current=!1}},E=C=>{!v.contains(C.relatedTarget)&&_()},N=()=>{v.contains(document.activeElement)||_()};return v.addEventListener("focusin",w),v.addEventListener("focusout",E),v.addEventListener("pointermove",w),v.addEventListener("pointerleave",N),window.addEventListener("blur",w),window.addEventListener("focus",_),()=>{v.removeEventListener("focusin",w),v.removeEventListener("focusout",E),v.removeEventListener("pointermove",w),v.removeEventListener("pointerleave",N),window.removeEventListener("blur",w),window.removeEventListener("focus",_)}}},[p,a.isClosePausedRef]);const x=S.useCallback(({tabbingDirection:v})=>{const w=l().map(_=>{const E=_.ref.current,N=[E,...Npe(E)];return v==="forwards"?N:N.reverse()});return(v==="forwards"?w.reverse():w).flat()},[l]);return S.useEffect(()=>{const v=f.current;if(v){const g=w=>{var N,C,j;const _=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!_){const T=document.activeElement,A=w.shiftKey;if(w.target===v&&A){(N=u.current)==null||N.focus();return}const D=x({tabbingDirection:A?"backwards":"forwards"}),F=D.findIndex(I=>I===T);_T(D.slice(F+1))?w.preventDefault():A?(C=u.current)==null||C.focus():(j=d.current)==null||j.focus()}};return v.addEventListener("keydown",g),()=>v.removeEventListener("keydown",g)}},[l,x]),o.jsxs(Jme,{ref:c,role:"region","aria-label":i.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:p?void 0:"none"},children:[p&&o.jsx(TR,{ref:u,onFocusFromOutsideViewport:()=>{const v=x({tabbingDirection:"forwards"});_T(v)}}),o.jsx(i3.Slot,{scope:n,children:o.jsx(_t.ol,{tabIndex:-1,...s,ref:h})}),p&&o.jsx(TR,{ref:d,onFocusFromOutsideViewport:()=>{const v=x({tabbingDirection:"backwards"});_T(v)}})]})});EK.displayName=SK;var NK="ToastFocusProxy",TR=S.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=d2(NK,n);return o.jsx(u2,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:a=>{var u;const l=a.relatedTarget;!((u=s.viewport)!=null&&u.contains(l))&&r()}})});TR.displayName=NK;var aw="Toast",hpe="toast.swipeStart",mpe="toast.swipeMove",ppe="toast.swipeCancel",gpe="toast.swipeEnd",MK=S.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...a}=t,[l,c]=Js({prop:r,defaultProp:i??!0,onChange:s,caller:aw});return o.jsx(js,{present:n||l,children:o.jsx(ype,{open:l,...a,ref:e,onClose:()=>c(!1),onPause:Qs(t.onPause),onResume:Qs(t.onResume),onSwipeStart:ot(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ot(t.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ot(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ot(t.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});MK.displayName=aw;var[vpe,xpe]=wK(aw,{onClose(){}}),ype=S.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:a,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...p}=t,x=d2(aw,n),[v,g]=S.useState(null),w=Wt(e,I=>g(I)),_=S.useRef(null),E=S.useRef(null),N=i||x.duration,C=S.useRef(0),j=S.useRef(N),T=S.useRef(0),{onToastAdd:A,onToastRemove:P}=x,R=Qs(()=>{var G;(v==null?void 0:v.contains(document.activeElement))&&((G=x.viewport)==null||G.focus()),a()}),D=S.useCallback(I=>{!I||I===1/0||(window.clearTimeout(T.current),C.current=new Date().getTime(),T.current=window.setTimeout(R,I))},[R]);S.useEffect(()=>{const I=x.viewport;if(I){const G=()=>{D(j.current),u==null||u()},q=()=>{const $=new Date().getTime()-C.current;j.current=j.current-$,window.clearTimeout(T.current),c==null||c()};return I.addEventListener(jR,q),I.addEventListener(AR,G),()=>{I.removeEventListener(jR,q),I.removeEventListener(AR,G)}}},[x.viewport,N,c,u,D]),S.useEffect(()=>{s&&!x.isClosePausedRef.current&&D(N)},[s,N,x.isClosePausedRef,D]),S.useEffect(()=>(A(),()=>P()),[A,P]);const F=S.useMemo(()=>v?RK(v):null,[v]);return x.viewport?o.jsxs(o.Fragment,{children:[F&&o.jsx(bpe,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:F}),o.jsx(vpe,{scope:n,onClose:R,children:Vu.createPortal(o.jsx(i3.ItemSlot,{scope:n,children:o.jsx(Qme,{asChild:!0,onEscapeKeyDown:ot(l,()=>{x.isFocusedToastEscapeKeyDownRef.current||R(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(_t.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":x.swipeDirection,...p,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ot(t.onKeyDown,I=>{I.key==="Escape"&&(l==null||l(I.nativeEvent),I.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,R()))}),onPointerDown:ot(t.onPointerDown,I=>{I.button===0&&(_.current={x:I.clientX,y:I.clientY})}),onPointerMove:ot(t.onPointerMove,I=>{if(!_.current)return;const G=I.clientX-_.current.x,q=I.clientY-_.current.y,$=!!E.current,L=["left","right"].includes(x.swipeDirection),V=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,K=L?V(0,G):0,W=L?0:V(0,q),B=I.pointerType==="touch"?10:2,ee={x:K,y:W},Y={originalEvent:I,delta:ee};$?(E.current=ee,v_(mpe,f,Y,{discrete:!1})):$z(ee,x.swipeDirection,B)?(E.current=ee,v_(hpe,d,Y,{discrete:!1}),I.target.setPointerCapture(I.pointerId)):(Math.abs(G)>B||Math.abs(q)>B)&&(_.current=null)}),onPointerUp:ot(t.onPointerUp,I=>{const G=E.current,q=I.target;if(q.hasPointerCapture(I.pointerId)&&q.releasePointerCapture(I.pointerId),E.current=null,_.current=null,G){const $=I.currentTarget,L={originalEvent:I,delta:G};$z(G,x.swipeDirection,x.swipeThreshold)?v_(gpe,m,L,{discrete:!0}):v_(ppe,h,L,{discrete:!0}),$.addEventListener("click",V=>V.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),bpe=t=>{const{__scopeToast:e,children:n,...r}=t,i=d2(aw,e),[s,a]=S.useState(!1),[l,c]=S.useState(!1);return Spe(()=>a(!0)),S.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:o.jsx(Zv,{asChild:!0,children:o.jsx(u2,{...r,children:s&&o.jsxs(o.Fragment,{children:[i.label," ",n]})})})},wpe="ToastTitle",CK=S.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return o.jsx(_t.div,{...r,ref:e})});CK.displayName=wpe;var _pe="ToastDescription",jK=S.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return o.jsx(_t.div,{...r,ref:e})});jK.displayName=_pe;var AK="ToastAction",TK=S.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?o.jsx(kK,{altText:n,asChild:!0,children:o.jsx(s3,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${AK}\`. Expected non-empty \`string\`.`),null)});TK.displayName=AK;var PK="ToastClose",s3=S.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=xpe(PK,n);return o.jsx(kK,{asChild:!0,children:o.jsx(_t.button,{type:"button",...r,ref:e,onClick:ot(t.onClick,i.onClose)})})});s3.displayName=PK;var kK=S.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return o.jsx(_t.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function RK(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),Epe(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const a=r.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...RK(r))}}),e}function v_(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?n3(i,s):i.dispatchEvent(s)}var $z=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function Spe(t=()=>{}){const e=Qs(t);Gr(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function Epe(t){return t.nodeType===t.ELEMENT_NODE}function Npe(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function _T(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var Mpe=_K,OK=EK,DK=MK,IK=CK,LK=jK,FK=TK,UK=s3;function BK(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=BK(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function qt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=BK(t))&&(r&&(r+=" "),r+=e);return r}const Hz=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Gz=qt,ow=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Gz(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,a=Object.keys(i).map(u=>{const d=n==null?void 0:n[u],f=s==null?void 0:s[u];if(d===null)return null;const h=Hz(d)||Hz(f);return i[u][h]}),l=n&&Object.entries(n).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(p=>{let[x,v]=p;return Array.isArray(v)?v.includes({...s,...l}[x]):{...s,...l}[x]===v})?[...u,f,h]:u},[]);return Gz(t,a,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cpe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zK=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jpe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ape=S.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...l},c)=>S.createElement("svg",{ref:c,...jpe,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:zK("lucide",i),...l},[...a.map(([u,d])=>S.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=(t,e)=>{const n=S.forwardRef(({className:r,...i},s)=>S.createElement(Ape,{ref:s,iconNode:e,className:zK(`lucide-${Cpe(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=lt("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=lt("Apple",[["path",{d:"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z",key:"3s7exb"}],["path",{d:"M10 2c1 .5 2 2 2 5",key:"fcco2y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tpe=lt("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xc=lt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sf=lt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ppe=lt("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=lt("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kpe=lt("BedDouble",[["path",{d:"M2 20v-8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v8",key:"1k78r4"}],["path",{d:"M4 10V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4",key:"fb3tl2"}],["path",{d:"M12 4v6",key:"1dcgq2"}],["path",{d:"M2 18h20",key:"ajqnye"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=lt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qz=lt("Bluetooth",[["path",{d:"m7 7 10 10-5 5V2l5 5L7 17",key:"1q5490"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0=lt("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=lt("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=lt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mf=lt("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=lt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=lt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rpe=lt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ql=lt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ope=lt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=lt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=lt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kz=lt("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=lt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pf=lt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dpe=lt("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=lt("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=lt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VK=lt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=lt("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WK=lt("Dumbbell",[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qE=lt("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=lt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xz=lt("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=lt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $K=lt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PR=lt("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ipe=lt("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lpe=lt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kR=lt("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=lt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yz=lt("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fpe=lt("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Upe=lt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=lt("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0=lt("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RR=lt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bpe=lt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=lt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zpe=lt("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=lt("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=lt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=lt("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=lt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HK=lt("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GK=lt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qd=lt("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=lt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vpe=lt("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qK=lt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KK=lt("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nu=lt("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XK=lt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=lt("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=lt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=lt("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=lt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=lt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gu=lt("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=lt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Io=lt("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wpe=lt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $pe=lt("Sunrise",[["path",{d:"M12 2v8",key:"1q4o3n"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hpe=lt("Sunset",[["path",{d:"M12 10V2",key:"16sf7g"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m16 6-4 4-4-4",key:"6wukr"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nn=lt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gpe=lt("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qpe=lt("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=lt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jf=lt("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=lt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=lt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xs=lt("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YK=lt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=lt("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=lt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kpe=lt("UserSearch",[["circle",{cx:"10",cy:"7",r:"4",key:"e45bow"}],["path",{d:"M10.3 15H7a4 4 0 0 0-4 4v2",key:"3bnktk"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["path",{d:"m21 21-1.9-1.9",key:"1g2n9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ao=lt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=lt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZK=lt("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wl=lt("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xpe=lt("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ype=lt("Weight",[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zpe=lt("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=lt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=lt("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),d3="-",Qpe=t=>{const e=ege(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const l=a.split(d3);return l[0]===""&&l.length!==1&&l.shift(),QK(l,e)||Jpe(a)},getConflictingClassGroupIds:(a,l)=>{const c=n[a]||[];return l&&r[a]?[...c,...r[a]]:c}}},QK=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?QK(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(d3);return(a=e.validators.find(({validator:l})=>l(s)))==null?void 0:a.classGroupId},Zz=/^\[(.+)\]$/,Jpe=t=>{if(Zz.test(t)){const e=Zz.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},ege=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return nge(Object.entries(t.classGroups),n).forEach(([s,a])=>{OR(a,r,s,e)}),r},OR=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:Qz(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(tge(i)){OR(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,a])=>{OR(a,Qz(e,s),n,r)})})},Qz=(t,e)=>{let n=t;return e.split(d3).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},tge=t=>t.isThemeGetter,nge=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,l])=>[e+a,l])):s);return[n,i]}):t,rge=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,a)=>{n.set(s,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let a=n.get(s);if(a!==void 0)return a;if((a=r.get(s))!==void 0)return i(s,a),a},set(s,a){n.has(s)?n.set(s,a):i(s,a)}}},JK="!",ige=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,a=l=>{const c=[];let u=0,d=0,f;for(let v=0;v<l.length;v++){let g=l[v];if(u===0){if(g===i&&(r||l.slice(v,v+s)===e)){c.push(l.slice(d,v)),d=v+s;continue}if(g==="/"){f=v;continue}}g==="["?u++:g==="]"&&u--}const h=c.length===0?l:l.substring(d),m=h.startsWith(JK),p=m?h.substring(1):h,x=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:p,maybePostfixModifierPosition:x}};return n?l=>n({className:l,parseClassName:a}):a},sge=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},age=t=>({cache:rge(t.cacheSize),parseClassName:ige(t),...Qpe(t)}),oge=/\s+/,lge=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],a=t.trim().split(oge);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=n(u);let p=!!m,x=r(p?h.substring(0,m):h);if(!x){if(!p){l=u+(l.length>0?" "+l:l);continue}if(x=r(h),!x){l=u+(l.length>0?" "+l:l);continue}p=!1}const v=sge(d).join(":"),g=f?v+JK:v,w=g+x;if(s.includes(w))continue;s.push(w);const _=i(x,p);for(let E=0;E<_.length;++E){const N=_[E];s.push(g+N)}l=u+(l.length>0?" "+l:l)}return l};function cge(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=eX(e))&&(r&&(r+=" "),r+=n);return r}const eX=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=eX(t[r]))&&(n&&(n+=" "),n+=e);return n};function uge(t,...e){let n,r,i,s=a;function a(c){const u=e.reduce((d,f)=>f(d),t());return n=age(u),r=n.cache.get,i=n.cache.set,s=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=lge(c,n);return i(c,d),d}return function(){return s(cge.apply(null,arguments))}}const sr=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},tX=/^\[(?:([a-z-]+):)?(.+)\]$/i,dge=/^\d+\/\d+$/,fge=new Set(["px","full","screen"]),hge=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,mge=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,pge=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,gge=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,vge=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Gc=t=>Gg(t)||fge.has(t)||dge.test(t),hd=t=>Jv(t,"length",Nge),Gg=t=>!!t&&!Number.isNaN(Number(t)),ET=t=>Jv(t,"number",Gg),ly=t=>!!t&&Number.isInteger(Number(t)),xge=t=>t.endsWith("%")&&Gg(t.slice(0,-1)),un=t=>tX.test(t),md=t=>hge.test(t),yge=new Set(["length","size","percentage"]),bge=t=>Jv(t,yge,nX),wge=t=>Jv(t,"position",nX),_ge=new Set(["image","url"]),Sge=t=>Jv(t,_ge,Cge),Ege=t=>Jv(t,"",Mge),cy=()=>!0,Jv=(t,e,n)=>{const r=tX.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},Nge=t=>mge.test(t)&&!pge.test(t),nX=()=>!1,Mge=t=>gge.test(t),Cge=t=>vge.test(t),jge=()=>{const t=sr("colors"),e=sr("spacing"),n=sr("blur"),r=sr("brightness"),i=sr("borderColor"),s=sr("borderRadius"),a=sr("borderSpacing"),l=sr("borderWidth"),c=sr("contrast"),u=sr("grayscale"),d=sr("hueRotate"),f=sr("invert"),h=sr("gap"),m=sr("gradientColorStops"),p=sr("gradientColorStopPositions"),x=sr("inset"),v=sr("margin"),g=sr("opacity"),w=sr("padding"),_=sr("saturate"),E=sr("scale"),N=sr("sepia"),C=sr("skew"),j=sr("space"),T=sr("translate"),A=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto",un,e],D=()=>[un,e],F=()=>["",Gc,hd],I=()=>["auto",Gg,un],G=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],q=()=>["solid","dashed","dotted","double","none"],$=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],V=()=>["","0",un],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>[Gg,un];return{cacheSize:500,separator:":",theme:{colors:[cy],spacing:[Gc,hd],blur:["none","",md,un],brightness:W(),borderColor:[t],borderRadius:["none","","full",md,un],borderSpacing:D(),borderWidth:F(),contrast:W(),grayscale:V(),hueRotate:W(),invert:V(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[xge,hd],inset:R(),margin:R(),opacity:W(),padding:D(),saturate:W(),scale:W(),sepia:V(),skew:W(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",un]}],container:["container"],columns:[{columns:[md]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...G(),un]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ly,un]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",un]}],grow:[{grow:V()}],shrink:[{shrink:V()}],order:[{order:["first","last","none",ly,un]}],"grid-cols":[{"grid-cols":[cy]}],"col-start-end":[{col:["auto",{span:["full",ly,un]},un]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[cy]}],"row-start-end":[{row:["auto",{span:[ly,un]},un]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",un]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",un]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",un,e]}],"min-w":[{"min-w":[un,e,"min","max","fit"]}],"max-w":[{"max-w":[un,e,"none","full","min","max","fit","prose",{screen:[md]},md]}],h:[{h:[un,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[un,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[un,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[un,e,"auto","min","max","fit"]}],"font-size":[{text:["base",md,hd]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ET]}],"font-family":[{font:[cy]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",un]}],"line-clamp":[{"line-clamp":["none",Gg,ET]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Gc,un]}],"list-image":[{"list-image":["none",un]}],"list-style-type":[{list:["none","disc","decimal",un]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Gc,hd]}],"underline-offset":[{"underline-offset":["auto",Gc,un]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",un]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",un]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...G(),wge]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",bge]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Sge]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...q(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:q()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...q()]}],"outline-offset":[{"outline-offset":[Gc,un]}],"outline-w":[{outline:[Gc,hd]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[Gc,hd]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",md,Ege]}],"shadow-color":[{shadow:[cy]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...$(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":$()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",md,un]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[_]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",un]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",un]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",un]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[ly,un]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",un]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",un]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",un]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Gc,hd,ET]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Age=uge(jge);function xt(...t){return Age(qt(t))}const Tge=Mpe,rX=S.forwardRef(({className:t,...e},n)=>o.jsx(OK,{ref:n,className:xt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));rX.displayName=OK.displayName;const Pge=ow("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),iX=S.forwardRef(({className:t,variant:e,...n},r)=>o.jsx(DK,{ref:r,className:xt(Pge({variant:e}),t),...n}));iX.displayName=DK.displayName;const kge=S.forwardRef(({className:t,...e},n)=>o.jsx(FK,{ref:n,className:xt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));kge.displayName=FK.displayName;const sX=S.forwardRef(({className:t,...e},n)=>o.jsx(UK,{ref:n,className:xt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:o.jsx(YE,{className:"h-4 w-4"})}));sX.displayName=UK.displayName;const aX=S.forwardRef(({className:t,...e},n)=>o.jsx(IK,{ref:n,className:xt("text-sm font-semibold",t),...e}));aX.displayName=IK.displayName;const oX=S.forwardRef(({className:t,...e},n)=>o.jsx(LK,{ref:n,className:xt("text-sm opacity-90",t),...e}));oX.displayName=LK.displayName;function Rge(){const{toasts:t}=Ui();return o.jsxs(Tge,{children:[t.map(function({id:e,title:n,description:r,action:i,...s}){return o.jsxs(iX,{...s,children:[o.jsxs("div",{className:"grid gap-1",children:[n&&o.jsx(aX,{children:n}),r&&o.jsx(oX,{children:r})]}),i,o.jsx(sX,{})]},e)}),o.jsx(rX,{})]})}var Jz=["light","dark"],Oge="(prefers-color-scheme: dark)",Dge=S.createContext(void 0),Ige={setTheme:t=>{},themes:[]},Lge=()=>{var t;return(t=S.useContext(Dge))!=null?t:Ige};S.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:a,attrs:l,nonce:c})=>{let u=s==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(p=>`'${p}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=i?Jz.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(p,x=!1,v=!0)=>{let g=a?a[p]:p,w=x?p+"|| ''":`'${g}'`,_="";return i&&v&&!x&&Jz.includes(p)&&(_+=`d.style.colorScheme = '${p}';`),n==="class"?x||g?_+=`c.add(${w})`:_+="null":g&&(_+=`d[s](n,${w})`),_},m=t?`!function(){${d}${h(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${Oge}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${h(a?"x[e]":"e",!0)}}${u?"":"else{"+h(s,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${h(a?"x[e]":"e",!0)}}else{${h(s,!1,!1)};}${f}}catch(t){}}();`;return S.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})});var Fge=t=>{switch(t){case"success":return zge;case"info":return Wge;case"warning":return Vge;case"error":return $ge;default:return null}},Uge=Array(12).fill(0),Bge=({visible:t,className:e})=>Ze.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},Ze.createElement("div",{className:"sonner-spinner"},Uge.map((n,r)=>Ze.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),zge=Ze.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ze.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Vge=Ze.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Ze.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Wge=Ze.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ze.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),$ge=Ze.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ze.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Hge=Ze.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Ze.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Ze.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Gge=()=>{let[t,e]=Ze.useState(document.hidden);return Ze.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},DR=1,qge=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:DR++,s=this.toasts.find(l=>l.id===i),a=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),s?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...t,id:i,title:n}),{...l,...t,id:i,dismissible:a,title:n}):l):this.addToast({title:n,...r,dismissible:a,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),i=n!==void 0,s,a=r.then(async c=>{if(s=["resolve",c],Ze.isValidElement(c))i=!1,this.create({id:n,type:"default",message:c});else if(Xge(c)&&!c.ok){i=!1;let u=typeof e.error=="function"?await e.error(`HTTP error! status: ${c.status}`):e.error,d=typeof e.description=="function"?await e.description(`HTTP error! status: ${c.status}`):e.description;this.create({id:n,type:"error",message:u,description:d})}else if(e.success!==void 0){i=!1;let u=typeof e.success=="function"?await e.success(c):e.success,d=typeof e.description=="function"?await e.description(c):e.description;this.create({id:n,type:"success",message:u,description:d})}}).catch(async c=>{if(s=["reject",c],e.error!==void 0){i=!1;let u=typeof e.error=="function"?await e.error(c):e.error,d=typeof e.description=="function"?await e.description(c):e.description;this.create({id:n,type:"error",message:u,description:d})}}).finally(()=>{var c;i&&(this.dismiss(n),n=void 0),(c=e.finally)==null||c.call(e)}),l=()=>new Promise((c,u)=>a.then(()=>s[0]==="reject"?u(s[1]):c(s[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||DR++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},ha=new qge,Kge=(t,e)=>{let n=(e==null?void 0:e.id)||DR++;return ha.addToast({title:t,...e,id:n}),n},Xge=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Yge=Kge,Zge=()=>ha.toasts,Qge=()=>ha.getActiveToasts(),cg=Object.assign(Yge,{success:ha.success,info:ha.info,warning:ha.warning,error:ha.error,custom:ha.custom,message:ha.message,promise:ha.promise,dismiss:ha.dismiss,loading:ha.loading},{getHistory:Zge,getToasts:Qge});function Jge(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}Jge(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function x_(t){return t.label!==void 0}var eve=3,tve="32px",nve="16px",e6=4e3,rve=356,ive=14,sve=20,ave=200;function rl(...t){return t.filter(Boolean).join(" ")}function ove(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var lve=t=>{var e,n,r,i,s,a,l,c,u,d,f;let{invert:h,toast:m,unstyled:p,interacting:x,setHeights:v,visibleToasts:g,heights:w,index:_,toasts:E,expanded:N,removeToast:C,defaultRichColors:j,closeButton:T,style:A,cancelButtonStyle:P,actionButtonStyle:R,className:D="",descriptionClassName:F="",duration:I,position:G,gap:q,loadingIcon:$,expandByDefault:L,classNames:V,icons:K,closeButtonAriaLabel:W="Close toast",pauseWhenPageIsHidden:B}=t,[ee,Y]=Ze.useState(null),[Q,de]=Ze.useState(null),[te,he]=Ze.useState(!1),[oe,fe]=Ze.useState(!1),[ve,ne]=Ze.useState(!1),[Be,H]=Ze.useState(!1),[Te,Ne]=Ze.useState(!1),[De,ce]=Ze.useState(0),[Ue,Ae]=Ze.useState(0),ge=Ze.useRef(m.duration||I||e6),nt=Ze.useRef(null),X=Ze.useRef(null),z=_===0,ae=_+1<=g,Me=m.type,Se=m.dismissible!==!1,ye=m.className||"",Ye=m.descriptionClassName||"",$e=Ze.useMemo(()=>w.findIndex(Fe=>Fe.toastId===m.id)||0,[w,m.id]),rt=Ze.useMemo(()=>{var Fe;return(Fe=m.closeButton)!=null?Fe:T},[m.closeButton,T]),st=Ze.useMemo(()=>m.duration||I||e6,[m.duration,I]),ke=Ze.useRef(0),qe=Ze.useRef(0),Ke=Ze.useRef(0),ie=Ze.useRef(null),[be,Je]=G.split("-"),se=Ze.useMemo(()=>w.reduce((Fe,tt,it)=>it>=$e?Fe:Fe+tt.height,0),[w,$e]),Ie=Gge(),Le=m.invert||h,ft=Me==="loading";qe.current=Ze.useMemo(()=>$e*q+se,[$e,se]),Ze.useEffect(()=>{ge.current=st},[st]),Ze.useEffect(()=>{he(!0)},[]),Ze.useEffect(()=>{let Fe=X.current;if(Fe){let tt=Fe.getBoundingClientRect().height;return Ae(tt),v(it=>[{toastId:m.id,height:tt,position:m.position},...it]),()=>v(it=>it.filter(yt=>yt.toastId!==m.id))}},[v,m.id]),Ze.useLayoutEffect(()=>{if(!te)return;let Fe=X.current,tt=Fe.style.height;Fe.style.height="auto";let it=Fe.getBoundingClientRect().height;Fe.style.height=tt,Ae(it),v(yt=>yt.find($t=>$t.toastId===m.id)?yt.map($t=>$t.toastId===m.id?{...$t,height:it}:$t):[{toastId:m.id,height:it,position:m.position},...yt])},[te,m.title,m.description,v,m.id]);let Ve=Ze.useCallback(()=>{fe(!0),ce(qe.current),v(Fe=>Fe.filter(tt=>tt.toastId!==m.id)),setTimeout(()=>{C(m)},ave)},[m,C,v,qe]);Ze.useEffect(()=>{if(m.promise&&Me==="loading"||m.duration===1/0||m.type==="loading")return;let Fe;return N||x||B&&Ie?(()=>{if(Ke.current<ke.current){let tt=new Date().getTime()-ke.current;ge.current=ge.current-tt}Ke.current=new Date().getTime()})():ge.current!==1/0&&(ke.current=new Date().getTime(),Fe=setTimeout(()=>{var tt;(tt=m.onAutoClose)==null||tt.call(m,m),Ve()},ge.current)),()=>clearTimeout(Fe)},[N,x,m,Me,B,Ie,Ve]),Ze.useEffect(()=>{m.delete&&Ve()},[Ve,m.delete]);function Pe(){var Fe,tt,it;return K!=null&&K.loading?Ze.createElement("div",{className:rl(V==null?void 0:V.loader,(Fe=m==null?void 0:m.classNames)==null?void 0:Fe.loader,"sonner-loader"),"data-visible":Me==="loading"},K.loading):$?Ze.createElement("div",{className:rl(V==null?void 0:V.loader,(tt=m==null?void 0:m.classNames)==null?void 0:tt.loader,"sonner-loader"),"data-visible":Me==="loading"},$):Ze.createElement(Bge,{className:rl(V==null?void 0:V.loader,(it=m==null?void 0:m.classNames)==null?void 0:it.loader),visible:Me==="loading"})}return Ze.createElement("li",{tabIndex:0,ref:X,className:rl(D,ye,V==null?void 0:V.toast,(e=m==null?void 0:m.classNames)==null?void 0:e.toast,V==null?void 0:V.default,V==null?void 0:V[Me],(n=m==null?void 0:m.classNames)==null?void 0:n[Me]),"data-sonner-toast":"","data-rich-colors":(r=m.richColors)!=null?r:j,"data-styled":!(m.jsx||m.unstyled||p),"data-mounted":te,"data-promise":!!m.promise,"data-swiped":Te,"data-removed":oe,"data-visible":ae,"data-y-position":be,"data-x-position":Je,"data-index":_,"data-front":z,"data-swiping":ve,"data-dismissible":Se,"data-type":Me,"data-invert":Le,"data-swipe-out":Be,"data-swipe-direction":Q,"data-expanded":!!(N||L&&te),style:{"--index":_,"--toasts-before":_,"--z-index":E.length-_,"--offset":`${oe?De:qe.current}px`,"--initial-height":L?"auto":`${Ue}px`,...A,...m.style},onDragEnd:()=>{ne(!1),Y(null),ie.current=null},onPointerDown:Fe=>{ft||!Se||(nt.current=new Date,ce(qe.current),Fe.target.setPointerCapture(Fe.pointerId),Fe.target.tagName!=="BUTTON"&&(ne(!0),ie.current={x:Fe.clientX,y:Fe.clientY}))},onPointerUp:()=>{var Fe,tt,it,yt;if(Be||!Se)return;ie.current=null;let $t=Number(((Fe=X.current)==null?void 0:Fe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),tn=Number(((tt=X.current)==null?void 0:tt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),jn=new Date().getTime()-((it=nt.current)==null?void 0:it.getTime()),Wn=ee==="x"?$t:tn,$n=Math.abs(Wn)/jn;if(Math.abs(Wn)>=sve||$n>.11){ce(qe.current),(yt=m.onDismiss)==null||yt.call(m,m),de(ee==="x"?$t>0?"right":"left":tn>0?"down":"up"),Ve(),H(!0),Ne(!1);return}ne(!1),Y(null)},onPointerMove:Fe=>{var tt,it,yt,$t;if(!ie.current||!Se||((tt=window.getSelection())==null?void 0:tt.toString().length)>0)return;let tn=Fe.clientY-ie.current.y,jn=Fe.clientX-ie.current.x,Wn=(it=t.swipeDirections)!=null?it:ove(G);!ee&&(Math.abs(jn)>1||Math.abs(tn)>1)&&Y(Math.abs(jn)>Math.abs(tn)?"x":"y");let $n={x:0,y:0};ee==="y"?(Wn.includes("top")||Wn.includes("bottom"))&&(Wn.includes("top")&&tn<0||Wn.includes("bottom")&&tn>0)&&($n.y=tn):ee==="x"&&(Wn.includes("left")||Wn.includes("right"))&&(Wn.includes("left")&&jn<0||Wn.includes("right")&&jn>0)&&($n.x=jn),(Math.abs($n.x)>0||Math.abs($n.y)>0)&&Ne(!0),(yt=X.current)==null||yt.style.setProperty("--swipe-amount-x",`${$n.x}px`),($t=X.current)==null||$t.style.setProperty("--swipe-amount-y",`${$n.y}px`)}},rt&&!m.jsx?Ze.createElement("button",{"aria-label":W,"data-disabled":ft,"data-close-button":!0,onClick:ft||!Se?()=>{}:()=>{var Fe;Ve(),(Fe=m.onDismiss)==null||Fe.call(m,m)},className:rl(V==null?void 0:V.closeButton,(i=m==null?void 0:m.classNames)==null?void 0:i.closeButton)},(s=K==null?void 0:K.close)!=null?s:Hge):null,m.jsx||S.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:Ze.createElement(Ze.Fragment,null,Me||m.icon||m.promise?Ze.createElement("div",{"data-icon":"",className:rl(V==null?void 0:V.icon,(a=m==null?void 0:m.classNames)==null?void 0:a.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Pe():null,m.type!=="loading"?m.icon||(K==null?void 0:K[Me])||Fge(Me):null):null,Ze.createElement("div",{"data-content":"",className:rl(V==null?void 0:V.content,(l=m==null?void 0:m.classNames)==null?void 0:l.content)},Ze.createElement("div",{"data-title":"",className:rl(V==null?void 0:V.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?Ze.createElement("div",{"data-description":"",className:rl(F,Ye,V==null?void 0:V.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),S.isValidElement(m.cancel)?m.cancel:m.cancel&&x_(m.cancel)?Ze.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||P,onClick:Fe=>{var tt,it;x_(m.cancel)&&Se&&((it=(tt=m.cancel).onClick)==null||it.call(tt,Fe),Ve())},className:rl(V==null?void 0:V.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,S.isValidElement(m.action)?m.action:m.action&&x_(m.action)?Ze.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||R,onClick:Fe=>{var tt,it;x_(m.action)&&((it=(tt=m.action).onClick)==null||it.call(tt,Fe),!Fe.defaultPrevented&&Ve())},className:rl(V==null?void 0:V.actionButton,(f=m==null?void 0:m.classNames)==null?void 0:f.actionButton)},m.action.label):null))};function t6(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function cve(t,e){let n={};return[t,e].forEach((r,i)=>{let s=i===1,a=s?"--mobile-offset":"--offset",l=s?nve:tve;function c(u){["top","right","bottom","left"].forEach(d=>{n[`${a}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${a}-${u}`]=l:n[`${a}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(l)}),n}var uve=S.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:a,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:h,style:m,visibleToasts:p=eve,toastOptions:x,dir:v=t6(),gap:g=ive,loadingIcon:w,icons:_,containerAriaLabel:E="Notifications",pauseWhenPageIsHidden:N}=t,[C,j]=Ze.useState([]),T=Ze.useMemo(()=>Array.from(new Set([r].concat(C.filter(B=>B.position).map(B=>B.position)))),[C,r]),[A,P]=Ze.useState([]),[R,D]=Ze.useState(!1),[F,I]=Ze.useState(!1),[G,q]=Ze.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),$=Ze.useRef(null),L=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),V=Ze.useRef(null),K=Ze.useRef(!1),W=Ze.useCallback(B=>{j(ee=>{var Y;return(Y=ee.find(Q=>Q.id===B.id))!=null&&Y.delete||ha.dismiss(B.id),ee.filter(({id:Q})=>Q!==B.id)})},[]);return Ze.useEffect(()=>ha.subscribe(B=>{if(B.dismiss){j(ee=>ee.map(Y=>Y.id===B.id?{...Y,delete:!0}:Y));return}setTimeout(()=>{hK.flushSync(()=>{j(ee=>{let Y=ee.findIndex(Q=>Q.id===B.id);return Y!==-1?[...ee.slice(0,Y),{...ee[Y],...B},...ee.slice(Y+1)]:[B,...ee]})})})}),[]),Ze.useEffect(()=>{if(d!=="system"){q(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?q("dark"):q("light")),typeof window>"u")return;let B=window.matchMedia("(prefers-color-scheme: dark)");try{B.addEventListener("change",({matches:ee})=>{q(ee?"dark":"light")})}catch{B.addListener(({matches:Y})=>{try{q(Y?"dark":"light")}catch(Q){console.error(Q)}})}},[d]),Ze.useEffect(()=>{C.length<=1&&D(!1)},[C]),Ze.useEffect(()=>{let B=ee=>{var Y,Q;i.every(de=>ee[de]||ee.code===de)&&(D(!0),(Y=$.current)==null||Y.focus()),ee.code==="Escape"&&(document.activeElement===$.current||(Q=$.current)!=null&&Q.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",B),()=>document.removeEventListener("keydown",B)},[i]),Ze.useEffect(()=>{if($.current)return()=>{V.current&&(V.current.focus({preventScroll:!0}),V.current=null,K.current=!1)}},[$.current]),Ze.createElement("section",{ref:e,"aria-label":`${E} ${L}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},T.map((B,ee)=>{var Y;let[Q,de]=B.split("-");return C.length?Ze.createElement("ol",{key:B,dir:v==="auto"?t6():v,tabIndex:-1,ref:$,className:l,"data-sonner-toaster":!0,"data-theme":G,"data-y-position":Q,"data-lifted":R&&C.length>1&&!s,"data-x-position":de,style:{"--front-toast-height":`${((Y=A[0])==null?void 0:Y.height)||0}px`,"--width":`${rve}px`,"--gap":`${g}px`,...m,...cve(c,u)},onBlur:te=>{K.current&&!te.currentTarget.contains(te.relatedTarget)&&(K.current=!1,V.current&&(V.current.focus({preventScroll:!0}),V.current=null))},onFocus:te=>{te.target instanceof HTMLElement&&te.target.dataset.dismissible==="false"||K.current||(K.current=!0,V.current=te.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{F||D(!1)},onDragEnd:()=>D(!1),onPointerDown:te=>{te.target instanceof HTMLElement&&te.target.dataset.dismissible==="false"||I(!0)},onPointerUp:()=>I(!1)},C.filter(te=>!te.position&&ee===0||te.position===B).map((te,he)=>{var oe,fe;return Ze.createElement(lve,{key:te.id,icons:_,index:he,toast:te,defaultRichColors:f,duration:(oe=x==null?void 0:x.duration)!=null?oe:h,className:x==null?void 0:x.className,descriptionClassName:x==null?void 0:x.descriptionClassName,invert:n,visibleToasts:p,closeButton:(fe=x==null?void 0:x.closeButton)!=null?fe:a,interacting:F,position:B,style:x==null?void 0:x.style,unstyled:x==null?void 0:x.unstyled,classNames:x==null?void 0:x.classNames,cancelButtonStyle:x==null?void 0:x.cancelButtonStyle,actionButtonStyle:x==null?void 0:x.actionButtonStyle,removeToast:W,toasts:C.filter(ve=>ve.position==te.position),heights:A.filter(ve=>ve.position==te.position),setHeights:P,expandByDefault:s,gap:g,loadingIcon:w,expanded:R,pauseWhenPageIsHidden:N,swipeDirections:t.swipeDirections})})):null}))});const dve=({...t})=>{const{theme:e="system"}=Lge();return o.jsx(uve,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var fve=dI[" useId ".trim().toString()]||(()=>{}),hve=0;function to(t){const[e,n]=S.useState(fve());return Gr(()=>{n(r=>r??String(hve++))},[t]),e?`radix-${e}`:""}const mve=["top","right","bottom","left"],gf=Math.min,Xa=Math.max,ZE=Math.round,y_=Math.floor,yc=t=>({x:t,y:t}),pve={left:"right",right:"left",bottom:"top",top:"bottom"},gve={start:"end",end:"start"};function IR(t,e,n){return Xa(t,gf(e,n))}function Mu(t,e){return typeof t=="function"?t(e):t}function Cu(t){return t.split("-")[0]}function ex(t){return t.split("-")[1]}function f3(t){return t==="x"?"y":"x"}function h3(t){return t==="y"?"height":"width"}const vve=new Set(["top","bottom"]);function cc(t){return vve.has(Cu(t))?"y":"x"}function m3(t){return f3(cc(t))}function xve(t,e,n){n===void 0&&(n=!1);const r=ex(t),i=m3(t),s=h3(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=QE(a)),[a,QE(a)]}function yve(t){const e=QE(t);return[LR(t),e,LR(e)]}function LR(t){return t.replace(/start|end/g,e=>gve[e])}const n6=["left","right"],r6=["right","left"],bve=["top","bottom"],wve=["bottom","top"];function _ve(t,e,n){switch(t){case"top":case"bottom":return n?e?r6:n6:e?n6:r6;case"left":case"right":return e?bve:wve;default:return[]}}function Sve(t,e,n,r){const i=ex(t);let s=_ve(Cu(t),n==="start",r);return i&&(s=s.map(a=>a+"-"+i),e&&(s=s.concat(s.map(LR)))),s}function QE(t){return t.replace(/left|right|bottom|top/g,e=>pve[e])}function Eve(t){return{top:0,right:0,bottom:0,left:0,...t}}function lX(t){return typeof t!="number"?Eve(t):{top:t,right:t,bottom:t,left:t}}function JE(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function i6(t,e,n){let{reference:r,floating:i}=t;const s=cc(e),a=m3(e),l=h3(a),c=Cu(e),u=s==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,h=r[l]/2-i[l]/2;let m;switch(c){case"top":m={x:d,y:r.y-i.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-i.width,y:f};break;default:m={x:r.x,y:r.y}}switch(ex(e)){case"start":m[a]-=h*(n&&u?-1:1);break;case"end":m[a]+=h*(n&&u?-1:1);break}return m}const Nve=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:a}=n,l=s.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(e));let u=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=i6(u,r,c),h=r,m={},p=0;for(let x=0;x<l.length;x++){const{name:v,fn:g}=l[x],{x:w,y:_,data:E,reset:N}=await g({x:d,y:f,initialPlacement:r,placement:h,strategy:i,middlewareData:m,rects:u,platform:a,elements:{reference:t,floating:e}});d=w??d,f=_??f,m={...m,[v]:{...m[v],...E}},N&&p<=50&&(p++,typeof N=="object"&&(N.placement&&(h=N.placement),N.rects&&(u=N.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):N.rects),{x:d,y:f}=i6(u,h,c)),x=-1)}return{x:d,y:f,placement:h,strategy:i,middlewareData:m}};async function tb(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:a,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=Mu(e,t),p=lX(m),v=l[h?f==="floating"?"reference":"floating":f],g=JE(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(v)))==null||n?v:v.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),w=f==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),E=await(s.isElement==null?void 0:s.isElement(_))?await(s.getScale==null?void 0:s.getScale(_))||{x:1,y:1}:{x:1,y:1},N=JE(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:w,offsetParent:_,strategy:c}):w);return{top:(g.top-N.top+p.top)/E.y,bottom:(N.bottom-g.bottom+p.bottom)/E.y,left:(g.left-N.left+p.left)/E.x,right:(N.right-g.right+p.right)/E.x}}const Mve=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:a,elements:l,middlewareData:c}=e,{element:u,padding:d=0}=Mu(t,e)||{};if(u==null)return{};const f=lX(d),h={x:n,y:r},m=m3(i),p=h3(m),x=await a.getDimensions(u),v=m==="y",g=v?"top":"left",w=v?"bottom":"right",_=v?"clientHeight":"clientWidth",E=s.reference[p]+s.reference[m]-h[m]-s.floating[p],N=h[m]-s.reference[m],C=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let j=C?C[_]:0;(!j||!await(a.isElement==null?void 0:a.isElement(C)))&&(j=l.floating[_]||s.floating[p]);const T=E/2-N/2,A=j/2-x[p]/2-1,P=gf(f[g],A),R=gf(f[w],A),D=P,F=j-x[p]-R,I=j/2-x[p]/2+T,G=IR(D,I,F),q=!c.arrow&&ex(i)!=null&&I!==G&&s.reference[p]/2-(I<D?P:R)-x[p]/2<0,$=q?I<D?I-D:I-F:0;return{[m]:h[m]+$,data:{[m]:G,centerOffset:I-G-$,...q&&{alignmentOffset:$}},reset:q}}}),Cve=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:a,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:x=!0,...v}=Mu(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const g=Cu(i),w=cc(l),_=Cu(l)===l,E=await(c.isRTL==null?void 0:c.isRTL(u.floating)),N=h||(_||!x?[QE(l)]:yve(l)),C=p!=="none";!h&&C&&N.push(...Sve(l,x,p,E));const j=[l,...N],T=await tb(e,v),A=[];let P=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&A.push(T[g]),f){const I=xve(i,a,E);A.push(T[I[0]],T[I[1]])}if(P=[...P,{placement:i,overflows:A}],!A.every(I=>I<=0)){var R,D;const I=(((R=s.flip)==null?void 0:R.index)||0)+1,G=j[I];if(G&&(!(f==="alignment"?w!==cc(G):!1)||P.every(L=>L.overflows[0]>0&&cc(L.placement)===w)))return{data:{index:I,overflows:P},reset:{placement:G}};let q=(D=P.filter($=>$.overflows[0]<=0).sort(($,L)=>$.overflows[1]-L.overflows[1])[0])==null?void 0:D.placement;if(!q)switch(m){case"bestFit":{var F;const $=(F=P.filter(L=>{if(C){const V=cc(L.placement);return V===w||V==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(V=>V>0).reduce((V,K)=>V+K,0)]).sort((L,V)=>L[1]-V[1])[0])==null?void 0:F[0];$&&(q=$);break}case"initialPlacement":q=l;break}if(i!==q)return{reset:{placement:q}}}return{}}}};function s6(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function a6(t){return mve.some(e=>t[e]>=0)}const jve=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Mu(t,e);switch(r){case"referenceHidden":{const s=await tb(e,{...i,elementContext:"reference"}),a=s6(s,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:a6(a)}}}case"escaped":{const s=await tb(e,{...i,altBoundary:!0}),a=s6(s,n.floating);return{data:{escapedOffsets:a,escaped:a6(a)}}}default:return{}}}}},cX=new Set(["left","top"]);async function Ave(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=Cu(n),l=ex(n),c=cc(n)==="y",u=cX.has(a)?-1:1,d=s&&c?-1:1,f=Mu(e,t);let{mainAxis:h,crossAxis:m,alignmentAxis:p}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof p=="number"&&(m=l==="end"?p*-1:p),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const Tve=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:a,middlewareData:l}=e,c=await Ave(e,t);return a===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:a}}}}},Pve=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:l={fn:v=>{let{x:g,y:w}=v;return{x:g,y:w}}},...c}=Mu(t,e),u={x:n,y:r},d=await tb(e,c),f=cc(Cu(i)),h=f3(f);let m=u[h],p=u[f];if(s){const v=h==="y"?"top":"left",g=h==="y"?"bottom":"right",w=m+d[v],_=m-d[g];m=IR(w,m,_)}if(a){const v=f==="y"?"top":"left",g=f==="y"?"bottom":"right",w=p+d[v],_=p-d[g];p=IR(w,p,_)}const x=l.fn({...e,[h]:m,[f]:p});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[h]:s,[f]:a}}}}}},kve=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:a}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Mu(t,e),d={x:n,y:r},f=cc(i),h=f3(f);let m=d[h],p=d[f];const x=Mu(l,e),v=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const _=h==="y"?"height":"width",E=s.reference[h]-s.floating[_]+v.mainAxis,N=s.reference[h]+s.reference[_]-v.mainAxis;m<E?m=E:m>N&&(m=N)}if(u){var g,w;const _=h==="y"?"width":"height",E=cX.has(Cu(i)),N=s.reference[f]-s.floating[_]+(E&&((g=a.offset)==null?void 0:g[f])||0)+(E?0:v.crossAxis),C=s.reference[f]+s.reference[_]+(E?0:((w=a.offset)==null?void 0:w[f])||0)-(E?v.crossAxis:0);p<N?p=N:p>C&&(p=C)}return{[h]:m,[f]:p}}}},Rve=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:a,elements:l}=e,{apply:c=()=>{},...u}=Mu(t,e),d=await tb(e,u),f=Cu(i),h=ex(i),m=cc(i)==="y",{width:p,height:x}=s.floating;let v,g;f==="top"||f==="bottom"?(v=f,g=h===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(g=f,v=h==="end"?"top":"bottom");const w=x-d.top-d.bottom,_=p-d.left-d.right,E=gf(x-d[v],w),N=gf(p-d[g],_),C=!e.middlewareData.shift;let j=E,T=N;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=_),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(j=w),C&&!h){const P=Xa(d.left,0),R=Xa(d.right,0),D=Xa(d.top,0),F=Xa(d.bottom,0);m?T=p-2*(P!==0||R!==0?P+R:Xa(d.left,d.right)):j=x-2*(D!==0||F!==0?D+F:Xa(d.top,d.bottom))}await c({...e,availableWidth:T,availableHeight:j});const A=await a.getDimensions(l.floating);return p!==A.width||x!==A.height?{reset:{rects:!0}}:{}}}};function g2(){return typeof window<"u"}function tx(t){return uX(t)?(t.nodeName||"").toLowerCase():"#document"}function no(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function kc(t){var e;return(e=(uX(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function uX(t){return g2()?t instanceof Node||t instanceof no(t).Node:!1}function Tl(t){return g2()?t instanceof Element||t instanceof no(t).Element:!1}function Cc(t){return g2()?t instanceof HTMLElement||t instanceof no(t).HTMLElement:!1}function o6(t){return!g2()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof no(t).ShadowRoot}const Ove=new Set(["inline","contents"]);function uw(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Pl(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!Ove.has(i)}const Dve=new Set(["table","td","th"]);function Ive(t){return Dve.has(tx(t))}const Lve=[":popover-open",":modal"];function v2(t){return Lve.some(e=>{try{return t.matches(e)}catch{return!1}})}const Fve=["transform","translate","scale","rotate","perspective"],Uve=["transform","translate","scale","rotate","perspective","filter"],Bve=["paint","layout","strict","content"];function p3(t){const e=g3(),n=Tl(t)?Pl(t):t;return Fve.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||Uve.some(r=>(n.willChange||"").includes(r))||Bve.some(r=>(n.contain||"").includes(r))}function zve(t){let e=vf(t);for(;Cc(e)&&!bv(e);){if(p3(e))return e;if(v2(e))return null;e=vf(e)}return null}function g3(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Vve=new Set(["html","body","#document"]);function bv(t){return Vve.has(tx(t))}function Pl(t){return no(t).getComputedStyle(t)}function x2(t){return Tl(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function vf(t){if(tx(t)==="html")return t;const e=t.assignedSlot||t.parentNode||o6(t)&&t.host||kc(t);return o6(e)?e.host:e}function dX(t){const e=vf(t);return bv(e)?t.ownerDocument?t.ownerDocument.body:t.body:Cc(e)&&uw(e)?e:dX(e)}function nb(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=dX(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),a=no(i);if(s){const l=FR(a);return e.concat(a,a.visualViewport||[],uw(i)?i:[],l&&n?nb(l):[])}return e.concat(i,nb(i,[],n))}function FR(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function fX(t){const e=Pl(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Cc(t),s=i?t.offsetWidth:n,a=i?t.offsetHeight:r,l=ZE(n)!==s||ZE(r)!==a;return l&&(n=s,r=a),{width:n,height:r,$:l}}function v3(t){return Tl(t)?t:t.contextElement}function qg(t){const e=v3(t);if(!Cc(e))return yc(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=fX(e);let a=(s?ZE(n.width):n.width)/r,l=(s?ZE(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const Wve=yc(0);function hX(t){const e=no(t);return!g3()||!e.visualViewport?Wve:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function $ve(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==no(t)?!1:e}function Pm(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=v3(t);let a=yc(1);e&&(r?Tl(r)&&(a=qg(r)):a=qg(t));const l=$ve(s,n,r)?hX(s):yc(0);let c=(i.left+l.x)/a.x,u=(i.top+l.y)/a.y,d=i.width/a.x,f=i.height/a.y;if(s){const h=no(s),m=r&&Tl(r)?no(r):r;let p=h,x=FR(p);for(;x&&r&&m!==p;){const v=qg(x),g=x.getBoundingClientRect(),w=Pl(x),_=g.left+(x.clientLeft+parseFloat(w.paddingLeft))*v.x,E=g.top+(x.clientTop+parseFloat(w.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,f*=v.y,c+=_,u+=E,p=no(x),x=FR(p)}}return JE({width:d,height:f,x:c,y:u})}function x3(t,e){const n=x2(t).scrollLeft;return e?e.left+n:Pm(kc(t)).left+n}function mX(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:x3(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function Hve(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",a=kc(r),l=e?v2(e.floating):!1;if(r===a||l&&s)return n;let c={scrollLeft:0,scrollTop:0},u=yc(1);const d=yc(0),f=Cc(r);if((f||!f&&!s)&&((tx(r)!=="body"||uw(a))&&(c=x2(r)),Cc(r))){const m=Pm(r);u=qg(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const h=a&&!f&&!s?mX(a,c,!0):yc(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:n.y*u.y-c.scrollTop*u.y+d.y+h.y}}function Gve(t){return Array.from(t.getClientRects())}function qve(t){const e=kc(t),n=x2(t),r=t.ownerDocument.body,i=Xa(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Xa(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+x3(t);const l=-n.scrollTop;return Pl(r).direction==="rtl"&&(a+=Xa(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:a,y:l}}function Kve(t,e){const n=no(t),r=kc(t),i=n.visualViewport;let s=r.clientWidth,a=r.clientHeight,l=0,c=0;if(i){s=i.width,a=i.height;const u=g3();(!u||u&&e==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:s,height:a,x:l,y:c}}const Xve=new Set(["absolute","fixed"]);function Yve(t,e){const n=Pm(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Cc(t)?qg(t):yc(1),a=t.clientWidth*s.x,l=t.clientHeight*s.y,c=i*s.x,u=r*s.y;return{width:a,height:l,x:c,y:u}}function l6(t,e,n){let r;if(e==="viewport")r=Kve(t,n);else if(e==="document")r=qve(kc(t));else if(Tl(e))r=Yve(e,n);else{const i=hX(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return JE(r)}function pX(t,e){const n=vf(t);return n===e||!Tl(n)||bv(n)?!1:Pl(n).position==="fixed"||pX(n,e)}function Zve(t,e){const n=e.get(t);if(n)return n;let r=nb(t,[],!1).filter(l=>Tl(l)&&tx(l)!=="body"),i=null;const s=Pl(t).position==="fixed";let a=s?vf(t):t;for(;Tl(a)&&!bv(a);){const l=Pl(a),c=p3(a);!c&&l.position==="fixed"&&(i=null),(s?!c&&!i:!c&&l.position==="static"&&!!i&&Xve.has(i.position)||uw(a)&&!c&&pX(t,a))?r=r.filter(d=>d!==a):i=l,a=vf(a)}return e.set(t,r),r}function Qve(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const a=[...n==="clippingAncestors"?v2(e)?[]:Zve(e,this._c):[].concat(n),r],l=a[0],c=a.reduce((u,d)=>{const f=l6(e,d,i);return u.top=Xa(f.top,u.top),u.right=gf(f.right,u.right),u.bottom=gf(f.bottom,u.bottom),u.left=Xa(f.left,u.left),u},l6(e,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Jve(t){const{width:e,height:n}=fX(t);return{width:e,height:n}}function exe(t,e,n){const r=Cc(e),i=kc(e),s=n==="fixed",a=Pm(t,!0,s,e);let l={scrollLeft:0,scrollTop:0};const c=yc(0);function u(){c.x=x3(i)}if(r||!r&&!s)if((tx(e)!=="body"||uw(i))&&(l=x2(e)),r){const m=Pm(e,!0,s,e);c.x=m.x+e.clientLeft,c.y=m.y+e.clientTop}else i&&u();s&&!r&&i&&u();const d=i&&!r&&!s?mX(i,l):yc(0),f=a.left+l.scrollLeft-c.x-d.x,h=a.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:a.width,height:a.height}}function NT(t){return Pl(t).position==="static"}function c6(t,e){if(!Cc(t)||Pl(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return kc(t)===n&&(n=n.ownerDocument.body),n}function gX(t,e){const n=no(t);if(v2(t))return n;if(!Cc(t)){let i=vf(t);for(;i&&!bv(i);){if(Tl(i)&&!NT(i))return i;i=vf(i)}return n}let r=c6(t,e);for(;r&&Ive(r)&&NT(r);)r=c6(r,e);return r&&bv(r)&&NT(r)&&!p3(r)?n:r||zve(t)||n}const txe=async function(t){const e=this.getOffsetParent||gX,n=this.getDimensions,r=await n(t.floating);return{reference:exe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function nxe(t){return Pl(t).direction==="rtl"}const rxe={convertOffsetParentRelativeRectToViewportRelativeRect:Hve,getDocumentElement:kc,getClippingRect:Qve,getOffsetParent:gX,getElementRects:txe,getClientRects:Gve,getDimensions:Jve,getScale:qg,isElement:Tl,isRTL:nxe};function vX(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function ixe(t,e){let n=null,r;const i=kc(t);function s(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const u=t.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(l||e(),!h||!m)return;const p=y_(f),x=y_(i.clientWidth-(d+h)),v=y_(i.clientHeight-(f+m)),g=y_(d),_={rootMargin:-p+"px "+-x+"px "+-v+"px "+-g+"px",threshold:Xa(0,gf(1,c))||1};let E=!0;function N(C){const j=C[0].intersectionRatio;if(j!==c){if(!E)return a();j?a(!1,j):r=setTimeout(()=>{a(!1,1e-7)},1e3)}j===1&&!vX(u,t.getBoundingClientRect())&&a(),E=!1}try{n=new IntersectionObserver(N,{..._,root:i.ownerDocument})}catch{n=new IntersectionObserver(N,_)}n.observe(t)}return a(!0),s}function sxe(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=v3(t),d=i||s?[...u?nb(u):[],...nb(e)]:[];d.forEach(g=>{i&&g.addEventListener("scroll",n,{passive:!0}),s&&g.addEventListener("resize",n)});const f=u&&l?ixe(u,n):null;let h=-1,m=null;a&&(m=new ResizeObserver(g=>{let[w]=g;w&&w.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var _;(_=m)==null||_.observe(e)})),n()}),u&&!c&&m.observe(u),m.observe(e));let p,x=c?Pm(t):null;c&&v();function v(){const g=Pm(t);x&&!vX(x,g)&&n(),x=g,p=requestAnimationFrame(v)}return n(),()=>{var g;d.forEach(w=>{i&&w.removeEventListener("scroll",n),s&&w.removeEventListener("resize",n)}),f==null||f(),(g=m)==null||g.disconnect(),m=null,c&&cancelAnimationFrame(p)}}const axe=Tve,oxe=Pve,lxe=Cve,cxe=Rve,uxe=jve,u6=Mve,dxe=kve,fxe=(t,e,n)=>{const r=new Map,i={platform:rxe,...n},s={...i.platform,_c:r};return Nve(t,e,{...i,platform:s})};var hxe=typeof document<"u",mxe=function(){},aE=hxe?S.useLayoutEffect:mxe;function eN(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!eN(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!eN(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function xX(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function d6(t,e){const n=xX(t);return Math.round(e*n)/n}function MT(t){const e=S.useRef(t);return aE(()=>{e.current=t}),e}function pxe(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[d,f]=S.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,m]=S.useState(r);eN(h,r)||m(r);const[p,x]=S.useState(null),[v,g]=S.useState(null),w=S.useCallback(L=>{L!==C.current&&(C.current=L,x(L))},[]),_=S.useCallback(L=>{L!==j.current&&(j.current=L,g(L))},[]),E=s||p,N=a||v,C=S.useRef(null),j=S.useRef(null),T=S.useRef(d),A=c!=null,P=MT(c),R=MT(i),D=MT(u),F=S.useCallback(()=>{if(!C.current||!j.current)return;const L={placement:e,strategy:n,middleware:h};R.current&&(L.platform=R.current),fxe(C.current,j.current,L).then(V=>{const K={...V,isPositioned:D.current!==!1};I.current&&!eN(T.current,K)&&(T.current=K,Vu.flushSync(()=>{f(K)}))})},[h,e,n,R,D]);aE(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,f(L=>({...L,isPositioned:!1})))},[u]);const I=S.useRef(!1);aE(()=>(I.current=!0,()=>{I.current=!1}),[]),aE(()=>{if(E&&(C.current=E),N&&(j.current=N),E&&N){if(P.current)return P.current(E,N,F);F()}},[E,N,F,P,A]);const G=S.useMemo(()=>({reference:C,floating:j,setReference:w,setFloating:_}),[w,_]),q=S.useMemo(()=>({reference:E,floating:N}),[E,N]),$=S.useMemo(()=>{const L={position:n,left:0,top:0};if(!q.floating)return L;const V=d6(q.floating,d.x),K=d6(q.floating,d.y);return l?{...L,transform:"translate("+V+"px, "+K+"px)",...xX(q.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:V,top:K}},[n,l,q.floating,d.x,d.y]);return S.useMemo(()=>({...d,update:F,refs:G,elements:q,floatingStyles:$}),[d,F,G,q,$])}const gxe=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?u6({element:r.current,padding:i}).fn(n):{}:r?u6({element:r,padding:i}).fn(n):{}}}},vxe=(t,e)=>({...axe(t),options:[t,e]}),xxe=(t,e)=>({...oxe(t),options:[t,e]}),yxe=(t,e)=>({...dxe(t),options:[t,e]}),bxe=(t,e)=>({...lxe(t),options:[t,e]}),wxe=(t,e)=>({...cxe(t),options:[t,e]}),_xe=(t,e)=>({...uxe(t),options:[t,e]}),Sxe=(t,e)=>({...gxe(t),options:[t,e]});var Exe="Arrow",yX=S.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return o.jsx(_t.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});yX.displayName=Exe;var Nxe=yX;function dw(t){const[e,n]=S.useState(void 0);return Gr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,l;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,l=u.blockSize}else a=t.offsetWidth,l=t.offsetHeight;n({width:a,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var y3="Popper",[bX,Af]=qr(y3),[Mxe,wX]=bX(y3),_X=t=>{const{__scopePopper:e,children:n}=t,[r,i]=S.useState(null);return o.jsx(Mxe,{scope:e,anchor:r,onAnchorChange:i,children:n})};_X.displayName=y3;var SX="PopperAnchor",EX=S.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=wX(SX,n),a=S.useRef(null),l=Wt(e,a);return S.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:o.jsx(_t.div,{...i,ref:l})});EX.displayName=SX;var b3="PopperContent",[Cxe,jxe]=bX(b3),NX=S.forwardRef((t,e)=>{var te,he,oe,fe,ve,ne;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:p,...x}=t,v=wX(b3,n),[g,w]=S.useState(null),_=Wt(e,Be=>w(Be)),[E,N]=S.useState(null),C=dw(E),j=(C==null?void 0:C.width)??0,T=(C==null?void 0:C.height)??0,A=r+(s!=="center"?"-"+s:""),P=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},R=Array.isArray(u)?u:[u],D=R.length>0,F={padding:P,boundary:R.filter(Txe),altBoundary:D},{refs:I,floatingStyles:G,placement:q,isPositioned:$,middlewareData:L}=pxe({strategy:"fixed",placement:A,whileElementsMounted:(...Be)=>sxe(...Be,{animationFrame:m==="always"}),elements:{reference:v.anchor},middleware:[vxe({mainAxis:i+T,alignmentAxis:a}),c&&xxe({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?yxe():void 0,...F}),c&&bxe({...F}),wxe({...F,apply:({elements:Be,rects:H,availableWidth:Te,availableHeight:Ne})=>{const{width:De,height:ce}=H.reference,Ue=Be.floating.style;Ue.setProperty("--radix-popper-available-width",`${Te}px`),Ue.setProperty("--radix-popper-available-height",`${Ne}px`),Ue.setProperty("--radix-popper-anchor-width",`${De}px`),Ue.setProperty("--radix-popper-anchor-height",`${ce}px`)}}),E&&Sxe({element:E,padding:l}),Pxe({arrowWidth:j,arrowHeight:T}),h&&_xe({strategy:"referenceHidden",...F})]}),[V,K]=jX(q),W=Qs(p);Gr(()=>{$&&(W==null||W())},[$,W]);const B=(te=L.arrow)==null?void 0:te.x,ee=(he=L.arrow)==null?void 0:he.y,Y=((oe=L.arrow)==null?void 0:oe.centerOffset)!==0,[Q,de]=S.useState();return Gr(()=>{g&&de(window.getComputedStyle(g).zIndex)},[g]),o.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:$?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Q,"--radix-popper-transform-origin":[(fe=L.transformOrigin)==null?void 0:fe.x,(ve=L.transformOrigin)==null?void 0:ve.y].join(" "),...((ne=L.hide)==null?void 0:ne.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:o.jsx(Cxe,{scope:n,placedSide:V,onArrowChange:N,arrowX:B,arrowY:ee,shouldHideArrow:Y,children:o.jsx(_t.div,{"data-side":V,"data-align":K,...x,ref:_,style:{...x.style,animation:$?void 0:"none"}})})})});NX.displayName=b3;var MX="PopperArrow",Axe={top:"bottom",right:"left",bottom:"top",left:"right"},CX=S.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=jxe(MX,r),a=Axe[s.placedSide];return o.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:o.jsx(Nxe,{...i,ref:n,style:{...i.style,display:"block"}})})});CX.displayName=MX;function Txe(t){return t!==null}var Pxe=t=>({name:"transformOrigin",options:t,fn(e){var v,g,w;const{placement:n,rects:r,middlewareData:i}=e,a=((v=i.arrow)==null?void 0:v.centerOffset)!==0,l=a?0:t.arrowWidth,c=a?0:t.arrowHeight,[u,d]=jX(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((g=i.arrow)==null?void 0:g.x)??0)+l/2,m=(((w=i.arrow)==null?void 0:w.y)??0)+c/2;let p="",x="";return u==="bottom"?(p=a?f:`${h}px`,x=`${-c}px`):u==="top"?(p=a?f:`${h}px`,x=`${r.floating.height+c}px`):u==="right"?(p=`${-c}px`,x=a?f:`${m}px`):u==="left"&&(p=`${r.floating.width+c}px`,x=a?f:`${m}px`),{data:{x:p,y:x}}}});function jX(t){const[e,n="center"]=t.split("-");return[e,n]}var w3=_X,fw=EX,y2=NX,b2=CX,[w2,qnt]=qr("Tooltip",[Af]),_3=Af(),AX="TooltipProvider",kxe=700,f6="tooltip.open",[Rxe,TX]=w2(AX),PX=t=>{const{__scopeTooltip:e,delayDuration:n=kxe,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,a=S.useRef(!0),l=S.useRef(!1),c=S.useRef(0);return S.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),o.jsx(Rxe,{scope:e,isOpenDelayedRef:a,delayDuration:n,onOpen:S.useCallback(()=>{window.clearTimeout(c.current),a.current=!1},[]),onClose:S.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:S.useCallback(u=>{l.current=u},[]),disableHoverableContent:i,children:s})};PX.displayName=AX;var kX="Tooltip",[Knt,_2]=w2(kX),UR="TooltipTrigger",Oxe=S.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=_2(UR,n),s=TX(UR,n),a=_3(n),l=S.useRef(null),c=Wt(e,l,i.onTriggerChange),u=S.useRef(!1),d=S.useRef(!1),f=S.useCallback(()=>u.current=!1,[]);return S.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),o.jsx(fw,{asChild:!0,...a,children:o.jsx(_t.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:ot(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:ot(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:ot(t.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ot(t.onFocus,()=>{u.current||i.onOpen()}),onBlur:ot(t.onBlur,i.onClose),onClick:ot(t.onClick,i.onClose)})})});Oxe.displayName=UR;var Dxe="TooltipPortal",[Xnt,Ixe]=w2(Dxe,{forceMount:void 0}),wv="TooltipContent",RX=S.forwardRef((t,e)=>{const n=Ixe(wv,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,a=_2(wv,t.__scopeTooltip);return o.jsx(js,{present:r||a.open,children:a.disableHoverableContent?o.jsx(OX,{side:i,...s,ref:e}):o.jsx(Lxe,{side:i,...s,ref:e})})}),Lxe=S.forwardRef((t,e)=>{const n=_2(wv,t.__scopeTooltip),r=TX(wv,t.__scopeTooltip),i=S.useRef(null),s=Wt(e,i),[a,l]=S.useState(null),{trigger:c,onClose:u}=n,d=i.current,{onPointerInTransitChange:f}=r,h=S.useCallback(()=>{l(null),f(!1)},[f]),m=S.useCallback((p,x)=>{const v=p.currentTarget,g={x:p.clientX,y:p.clientY},w=Vxe(g,v.getBoundingClientRect()),_=Wxe(g,w),E=$xe(x.getBoundingClientRect()),N=Gxe([..._,...E]);l(N),f(!0)},[f]);return S.useEffect(()=>()=>h(),[h]),S.useEffect(()=>{if(c&&d){const p=v=>m(v,d),x=v=>m(v,c);return c.addEventListener("pointerleave",p),d.addEventListener("pointerleave",x),()=>{c.removeEventListener("pointerleave",p),d.removeEventListener("pointerleave",x)}}},[c,d,m,h]),S.useEffect(()=>{if(a){const p=x=>{const v=x.target,g={x:x.clientX,y:x.clientY},w=(c==null?void 0:c.contains(v))||(d==null?void 0:d.contains(v)),_=!Hxe(g,a);w?h():_&&(h(),u())};return document.addEventListener("pointermove",p),()=>document.removeEventListener("pointermove",p)}},[c,d,a,u,h]),o.jsx(OX,{...t,ref:s})}),[Fxe,Uxe]=w2(kX,{isInside:!1}),Bxe=gK("TooltipContent"),OX=S.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:a,...l}=t,c=_2(wv,n),u=_3(n),{onClose:d}=c;return S.useEffect(()=>(document.addEventListener(f6,d),()=>document.removeEventListener(f6,d)),[d]),S.useEffect(()=>{if(c.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),o.jsx(Km,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:o.jsxs(y2,{"data-state":c.stateAttribute,...u,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(Bxe,{children:r}),o.jsx(Fxe,{scope:n,isInside:!0,children:o.jsx(lpe,{id:c.contentId,role:"tooltip",children:i||r})})]})})});RX.displayName=wv;var DX="TooltipArrow",zxe=S.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=_3(n);return Uxe(DX,n).isInside?null:o.jsx(b2,{...i,...r,ref:e})});zxe.displayName=DX;function Vxe(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Wxe(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function $xe(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function Hxe(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const l=e[s],c=e[a],u=l.x,d=l.y,f=c.x,h=c.y;d>r!=h>r&&n<(f-u)*(r-d)/(h-d)+u&&(i=!i)}return i}function Gxe(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),qxe(e)}function qxe(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],a=e[e.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],a=n[n.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var Kxe=PX,IX=RX;const Xxe=Kxe,Yxe=S.forwardRef(({className:t,sideOffset:e=4,...n},r)=>o.jsx(IX,{ref:r,sideOffset:e,className:xt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));Yxe.displayName=IX.displayName;var S2=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},E2=typeof window>"u"||"Deno"in globalThis;function dl(){}function Zxe(t,e){return typeof t=="function"?t(e):t}function Qxe(t){return typeof t=="number"&&t>=0&&t!==1/0}function Jxe(t,e){return Math.max(t+(e||0)-Date.now(),0)}function BR(t,e){return typeof t=="function"?t(e):t}function eye(t,e){return typeof t=="function"?t(e):t}function h6(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:a,stale:l}=t;if(a){if(r){if(e.queryHash!==S3(a,e.options))return!1}else if(!ib(e.queryKey,a))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||i&&i!==e.state.fetchStatus||s&&!s(e))}function m6(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(rb(e.options.mutationKey)!==rb(s))return!1}else if(!ib(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function S3(t,e){return((e==null?void 0:e.queryKeyHashFn)||rb)(t)}function rb(t){return JSON.stringify(t,(e,n)=>zR(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function ib(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>ib(t[n],e[n])):!1}function LX(t,e){if(t===e)return t;const n=p6(t)&&p6(e);if(n||zR(t)&&zR(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),a=s.length,l=n?[]:{},c=new Set(r);let u=0;for(let d=0;d<a;d++){const f=n?d:s[d];(!n&&c.has(f)||n)&&t[f]===void 0&&e[f]===void 0?(l[f]=void 0,u++):(l[f]=LX(t[f],e[f]),l[f]===t[f]&&t[f]!==void 0&&u++)}return i===a&&u===i?t:l}return e}function p6(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function zR(t){if(!g6(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!g6(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function g6(t){return Object.prototype.toString.call(t)==="[object Object]"}function tye(t){return new Promise(e=>{setTimeout(e,t)})}function nye(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?LX(t,e):e}function rye(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function iye(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var E3=Symbol();function FX(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===E3?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var tm,Bd,nv,q9,sye=(q9=class extends S2{constructor(){super();Pn(this,tm);Pn(this,Bd);Pn(this,nv);en(this,nv,e=>{if(!E2&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Xe(this,Bd)||this.setEventListener(Xe(this,nv))}onUnsubscribe(){var e;this.hasListeners()||((e=Xe(this,Bd))==null||e.call(this),en(this,Bd,void 0))}setEventListener(e){var n;en(this,nv,e),(n=Xe(this,Bd))==null||n.call(this),en(this,Bd,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){Xe(this,tm)!==e&&(en(this,tm,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof Xe(this,tm)=="boolean"?Xe(this,tm):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},tm=new WeakMap,Bd=new WeakMap,nv=new WeakMap,q9),UX=new sye,rv,zd,iv,K9,aye=(K9=class extends S2{constructor(){super();Pn(this,rv,!0);Pn(this,zd);Pn(this,iv);en(this,iv,e=>{if(!E2&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){Xe(this,zd)||this.setEventListener(Xe(this,iv))}onUnsubscribe(){var e;this.hasListeners()||((e=Xe(this,zd))==null||e.call(this),en(this,zd,void 0))}setEventListener(e){var n;en(this,iv,e),(n=Xe(this,zd))==null||n.call(this),en(this,zd,e(this.setOnline.bind(this)))}setOnline(e){Xe(this,rv)!==e&&(en(this,rv,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return Xe(this,rv)}},rv=new WeakMap,zd=new WeakMap,iv=new WeakMap,K9),tN=new aye;function oye(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function lye(t){return Math.min(1e3*2**t,3e4)}function BX(t){return(t??"online")==="online"?tN.isOnline():!0}var zX=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function CT(t){return t instanceof zX}function VX(t){let e=!1,n=0,r=!1,i;const s=oye(),a=x=>{var v;r||(h(new zX(x)),(v=t.abort)==null||v.call(t))},l=()=>{e=!0},c=()=>{e=!1},u=()=>UX.isFocused()&&(t.networkMode==="always"||tN.isOnline())&&t.canRun(),d=()=>BX(t.networkMode)&&t.canRun(),f=x=>{var v;r||(r=!0,(v=t.onSuccess)==null||v.call(t,x),i==null||i(),s.resolve(x))},h=x=>{var v;r||(r=!0,(v=t.onError)==null||v.call(t,x),i==null||i(),s.reject(x))},m=()=>new Promise(x=>{var v;i=g=>{(r||u())&&x(g)},(v=t.onPause)==null||v.call(t)}).then(()=>{var x;i=void 0,r||(x=t.onContinue)==null||x.call(t)}),p=()=>{if(r)return;let x;const v=n===0?t.initialPromise:void 0;try{x=v??t.fn()}catch(g){x=Promise.reject(g)}Promise.resolve(x).then(f).catch(g=>{var C;if(r)return;const w=t.retry??(E2?0:3),_=t.retryDelay??lye,E=typeof _=="function"?_(n,g):_,N=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,g);if(e||!N){h(g);return}n++,(C=t.onFail)==null||C.call(t,n,g),tye(E).then(()=>u()?void 0:m()).then(()=>{e?h(g):p()})})};return{promise:s,cancel:a,continue:()=>(i==null||i(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?p():m().then(p),s)}}var cye=t=>setTimeout(t,0);function uye(){let t=[],e=0,n=l=>{l()},r=l=>{l()},i=cye;const s=l=>{e?t.push(l):i(()=>{n(l)})},a=()=>{const l=t;t=[],l.length&&i(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||a()}return c},batchCalls:l=>(...c)=>{s(()=>{l(...c)})},schedule:s,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{i=l}}}var Vs=uye(),nm,X9,WX=(X9=class{constructor(){Pn(this,nm)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Qxe(this.gcTime)&&en(this,nm,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(E2?1/0:5*60*1e3))}clearGcTimeout(){Xe(this,nm)&&(clearTimeout(Xe(this,nm)),en(this,nm,void 0))}},nm=new WeakMap,X9),sv,rm,Po,im,gs,Jb,sm,ml,eu,Y9,dye=(Y9=class extends WX{constructor(e){super();Pn(this,ml);Pn(this,sv);Pn(this,rm);Pn(this,Po);Pn(this,im);Pn(this,gs);Pn(this,Jb);Pn(this,sm);en(this,sm,!1),en(this,Jb,e.defaultOptions),this.setOptions(e.options),this.observers=[],en(this,im,e.client),en(this,Po,Xe(this,im).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,en(this,sv,hye(this.options)),this.state=e.state??Xe(this,sv),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=Xe(this,gs))==null?void 0:e.promise}setOptions(e){this.options={...Xe(this,Jb),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Xe(this,Po).remove(this)}setData(e,n){const r=nye(this.state.data,e,this.options);return cs(this,ml,eu).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){cs(this,ml,eu).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=Xe(this,gs))==null?void 0:r.promise;return(i=Xe(this,gs))==null||i.cancel(e),n?n.then(dl).catch(dl):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Xe(this,sv))}isActive(){return this.observers.some(e=>eye(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===E3||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>BR(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Jxe(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=Xe(this,gs))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=Xe(this,gs))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),Xe(this,Po).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(Xe(this,gs)&&(Xe(this,sm)?Xe(this,gs).cancel({revert:!0}):Xe(this,gs).cancelRetry()),this.scheduleGc()),Xe(this,Po).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||cs(this,ml,eu).call(this,{type:"invalidate"})}fetch(e,n){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(Xe(this,gs))return Xe(this,gs).continueRetry(),Xe(this,gs).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,i=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(en(this,sm,!0),r.signal)})},s=()=>{const h=FX(this.options,n),p=(()=>{const x={client:Xe(this,im),queryKey:this.queryKey,meta:this.meta};return i(x),x})();return en(this,sm,!1),this.options.persister?this.options.persister(h,p,this):h(p)},l=(()=>{const h={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:Xe(this,im),state:this.state,fetchFn:s};return i(h),h})();(u=this.options.behavior)==null||u.onFetch(l,this),en(this,rm,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&cs(this,ml,eu).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta});const c=h=>{var m,p,x,v;CT(h)&&h.silent||cs(this,ml,eu).call(this,{type:"error",error:h}),CT(h)||((p=(m=Xe(this,Po).config).onError)==null||p.call(m,h,this),(v=(x=Xe(this,Po).config).onSettled)==null||v.call(x,this.state.data,h,this)),this.scheduleGc()};return en(this,gs,VX({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var m,p,x,v;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(g){c(g);return}(p=(m=Xe(this,Po).config).onSuccess)==null||p.call(m,h,this),(v=(x=Xe(this,Po).config).onSettled)==null||v.call(x,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,m)=>{cs(this,ml,eu).call(this,{type:"failed",failureCount:h,error:m})},onPause:()=>{cs(this,ml,eu).call(this,{type:"pause"})},onContinue:()=>{cs(this,ml,eu).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),Xe(this,gs).start()}},sv=new WeakMap,rm=new WeakMap,Po=new WeakMap,im=new WeakMap,gs=new WeakMap,Jb=new WeakMap,sm=new WeakMap,ml=new WeakSet,eu=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...fye(r.data,this.options),fetchMeta:e.meta??null};case"success":return en(this,rm,void 0),{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return CT(i)&&i.revert&&Xe(this,rm)?{...Xe(this,rm),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Vs.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),Xe(this,Po).notify({query:this,type:"updated",action:e})})},Y9);function fye(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:BX(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function hye(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Jl,Z9,mye=(Z9=class extends S2{constructor(e={}){super();Pn(this,Jl);this.config=e,en(this,Jl,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??S3(i,n);let a=this.get(s);return a||(a=new dye({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(a)),a}add(e){Xe(this,Jl).has(e.queryHash)||(Xe(this,Jl).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=Xe(this,Jl).get(e.queryHash);n&&(e.destroy(),n===e&&Xe(this,Jl).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Vs.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Xe(this,Jl).get(e)}getAll(){return[...Xe(this,Jl).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>h6(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>h6(e,r)):n}notify(e){Vs.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Vs.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Vs.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Jl=new WeakMap,Z9),ec,Us,am,tc,Md,Q9,pye=(Q9=class extends WX{constructor(e){super();Pn(this,tc);Pn(this,ec);Pn(this,Us);Pn(this,am);this.mutationId=e.mutationId,en(this,Us,e.mutationCache),en(this,ec,[]),this.state=e.state||gye(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){Xe(this,ec).includes(e)||(Xe(this,ec).push(e),this.clearGcTimeout(),Xe(this,Us).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){en(this,ec,Xe(this,ec).filter(n=>n!==e)),this.scheduleGc(),Xe(this,Us).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){Xe(this,ec).length||(this.state.status==="pending"?this.scheduleGc():Xe(this,Us).remove(this))}continue(){var e;return((e=Xe(this,am))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,a,l,c,u,d,f,h,m,p,x,v,g,w,_,E,N,C,j,T;const n=()=>{cs(this,tc,Md).call(this,{type:"continue"})};en(this,am,VX({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(A,P)=>{cs(this,tc,Md).call(this,{type:"failed",failureCount:A,error:P})},onPause:()=>{cs(this,tc,Md).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Xe(this,Us).canRun(this)}));const r=this.state.status==="pending",i=!Xe(this,am).canStart();try{if(r)n();else{cs(this,tc,Md).call(this,{type:"pending",variables:e,isPaused:i}),await((a=(s=Xe(this,Us).config).onMutate)==null?void 0:a.call(s,e,this));const P=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,e));P!==this.state.context&&cs(this,tc,Md).call(this,{type:"pending",context:P,variables:e,isPaused:i})}const A=await Xe(this,am).start();return await((d=(u=Xe(this,Us).config).onSuccess)==null?void 0:d.call(u,A,e,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,A,e,this.state.context)),await((p=(m=Xe(this,Us).config).onSettled)==null?void 0:p.call(m,A,null,this.state.variables,this.state.context,this)),await((v=(x=this.options).onSettled)==null?void 0:v.call(x,A,null,e,this.state.context)),cs(this,tc,Md).call(this,{type:"success",data:A}),A}catch(A){try{throw await((w=(g=Xe(this,Us).config).onError)==null?void 0:w.call(g,A,e,this.state.context,this)),await((E=(_=this.options).onError)==null?void 0:E.call(_,A,e,this.state.context)),await((C=(N=Xe(this,Us).config).onSettled)==null?void 0:C.call(N,void 0,A,this.state.variables,this.state.context,this)),await((T=(j=this.options).onSettled)==null?void 0:T.call(j,void 0,A,e,this.state.context)),A}finally{cs(this,tc,Md).call(this,{type:"error",error:A})}}finally{Xe(this,Us).runNext(this)}}},ec=new WeakMap,Us=new WeakMap,am=new WeakMap,tc=new WeakSet,Md=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Vs.batch(()=>{Xe(this,ec).forEach(r=>{r.onMutationUpdate(e)}),Xe(this,Us).notify({mutation:this,type:"updated",action:e})})},Q9);function gye(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ou,pl,ew,J9,vye=(J9=class extends S2{constructor(e={}){super();Pn(this,ou);Pn(this,pl);Pn(this,ew);this.config=e,en(this,ou,new Set),en(this,pl,new Map),en(this,ew,0)}build(e,n,r){const i=new pye({mutationCache:this,mutationId:++Q1(this,ew)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){Xe(this,ou).add(e);const n=b_(e);if(typeof n=="string"){const r=Xe(this,pl).get(n);r?r.push(e):Xe(this,pl).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(Xe(this,ou).delete(e)){const n=b_(e);if(typeof n=="string"){const r=Xe(this,pl).get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&Xe(this,pl).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=b_(e);if(typeof n=="string"){const r=Xe(this,pl).get(n),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const n=b_(e);if(typeof n=="string"){const i=(r=Xe(this,pl).get(n))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Vs.batch(()=>{Xe(this,ou).forEach(e=>{this.notify({type:"removed",mutation:e})}),Xe(this,ou).clear(),Xe(this,pl).clear()})}getAll(){return Array.from(Xe(this,ou))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>m6(n,r))}findAll(e={}){return this.getAll().filter(n=>m6(e,n))}notify(e){Vs.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Vs.batch(()=>Promise.all(e.map(n=>n.continue().catch(dl))))}},ou=new WeakMap,pl=new WeakMap,ew=new WeakMap,J9);function b_(t){var e;return(e=t.options.scope)==null?void 0:e.id}function v6(t){return{onFetch:(e,n)=>{var d,f,h,m,p;const r=e.options,i=(h=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,s=((m=e.state.data)==null?void 0:m.pages)||[],a=((p=e.state.data)==null?void 0:p.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let x=!1;const v=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?x=!0:e.signal.addEventListener("abort",()=>{x=!0}),e.signal)})},g=FX(e.options,e.fetchOptions),w=async(_,E,N)=>{if(x)return Promise.reject();if(E==null&&_.pages.length)return Promise.resolve(_);const j=(()=>{const R={client:e.client,queryKey:e.queryKey,pageParam:E,direction:N?"backward":"forward",meta:e.options.meta};return v(R),R})(),T=await g(j),{maxPages:A}=e.options,P=N?iye:rye;return{pages:P(_.pages,T,A),pageParams:P(_.pageParams,E,A)}};if(i&&s.length){const _=i==="backward",E=_?xye:x6,N={pages:s,pageParams:a},C=E(r,N);l=await w(N,C,_)}else{const _=t??s.length;do{const E=c===0?a[0]??r.initialPageParam:x6(r,l);if(c>0&&E==null)break;l=await w(l,E),c++}while(c<_)}return l};e.options.persister?e.fetchFn=()=>{var x,v;return(v=(x=e.options).persister)==null?void 0:v.call(x,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function x6(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function xye(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Ar,Vd,Wd,av,ov,$d,lv,cv,e7,yye=(e7=class{constructor(t={}){Pn(this,Ar);Pn(this,Vd);Pn(this,Wd);Pn(this,av);Pn(this,ov);Pn(this,$d);Pn(this,lv);Pn(this,cv);en(this,Ar,t.queryCache||new mye),en(this,Vd,t.mutationCache||new vye),en(this,Wd,t.defaultOptions||{}),en(this,av,new Map),en(this,ov,new Map),en(this,$d,0)}mount(){Q1(this,$d)._++,Xe(this,$d)===1&&(en(this,lv,UX.subscribe(async t=>{t&&(await this.resumePausedMutations(),Xe(this,Ar).onFocus())})),en(this,cv,tN.subscribe(async t=>{t&&(await this.resumePausedMutations(),Xe(this,Ar).onOnline())})))}unmount(){var t,e;Q1(this,$d)._--,Xe(this,$d)===0&&((t=Xe(this,lv))==null||t.call(this),en(this,lv,void 0),(e=Xe(this,cv))==null||e.call(this),en(this,cv,void 0))}isFetching(t){return Xe(this,Ar).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return Xe(this,Vd).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Xe(this,Ar).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=Xe(this,Ar).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(BR(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return Xe(this,Ar).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=Xe(this,Ar).get(r.queryHash),s=i==null?void 0:i.state.data,a=Zxe(e,s);if(a!==void 0)return Xe(this,Ar).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return Vs.batch(()=>Xe(this,Ar).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Xe(this,Ar).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=Xe(this,Ar);Vs.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=Xe(this,Ar);return Vs.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Vs.batch(()=>Xe(this,Ar).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(dl).catch(dl)}invalidateQueries(t,e={}){return Vs.batch(()=>(Xe(this,Ar).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Vs.batch(()=>Xe(this,Ar).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(dl)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(dl)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=Xe(this,Ar).build(this,e);return n.isStaleByTime(BR(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(dl).catch(dl)}fetchInfiniteQuery(t){return t.behavior=v6(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(dl).catch(dl)}ensureInfiniteQueryData(t){return t.behavior=v6(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return tN.isOnline()?Xe(this,Vd).resumePausedMutations():Promise.resolve()}getQueryCache(){return Xe(this,Ar)}getMutationCache(){return Xe(this,Vd)}getDefaultOptions(){return Xe(this,Wd)}setDefaultOptions(t){en(this,Wd,t)}setQueryDefaults(t,e){Xe(this,av).set(rb(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...Xe(this,av).values()],n={};return e.forEach(r=>{ib(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){Xe(this,ov).set(rb(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...Xe(this,ov).values()],n={};return e.forEach(r=>{ib(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...Xe(this,Wd).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=S3(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===E3&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...Xe(this,Wd).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){Xe(this,Ar).clear(),Xe(this,Vd).clear()}},Ar=new WeakMap,Vd=new WeakMap,Wd=new WeakMap,av=new WeakMap,ov=new WeakMap,$d=new WeakMap,lv=new WeakMap,cv=new WeakMap,e7),bye=S.createContext(void 0),wye=({client:t,children:e})=>(S.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),o.jsx(bye.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sb(){return sb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sb.apply(this,arguments)}var Kd;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Kd||(Kd={}));const y6="popstate";function _ye(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:a,hash:l}=r.location;return VR("",{pathname:s,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:nN(i)}return Eye(e,n,null,t)}function ci(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function $X(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Sye(){return Math.random().toString(36).substr(2,8)}function b6(t,e){return{usr:t.state,key:t.key,idx:e}}function VR(t,e,n,r){return n===void 0&&(n=null),sb({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?nx(e):e,{state:n,key:e&&e.key||r||Sye()})}function nN(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function nx(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Eye(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,l=Kd.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(sb({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function f(){l=Kd.Pop;let v=d(),g=v==null?null:v-u;u=v,c&&c({action:l,location:x.location,delta:g})}function h(v,g){l=Kd.Push;let w=VR(x.location,v,g);u=d()+1;let _=b6(w,u),E=x.createHref(w);try{a.pushState(_,"",E)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(E)}s&&c&&c({action:l,location:x.location,delta:1})}function m(v,g){l=Kd.Replace;let w=VR(x.location,v,g);u=d();let _=b6(w,u),E=x.createHref(w);a.replaceState(_,"",E),s&&c&&c({action:l,location:x.location,delta:0})}function p(v){let g=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof v=="string"?v:nN(v);return w=w.replace(/ $/,"%20"),ci(g,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,g)}let x={get action(){return l},get location(){return t(i,a)},listen(v){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(y6,f),c=v,()=>{i.removeEventListener(y6,f),c=null}},createHref(v){return e(i,v)},createURL:p,encodeLocation(v){let g=p(v);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:m,go(v){return a.go(v)}};return x}var w6;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(w6||(w6={}));function Nye(t,e,n){return n===void 0&&(n="/"),Mye(t,e,n)}function Mye(t,e,n,r){let i=typeof e=="string"?nx(e):e,s=N3(i.pathname||"/",n);if(s==null)return null;let a=HX(t);Cye(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=Uye(s);l=Iye(a[c],u)}return l}function HX(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};c.relativePath.startsWith("/")&&(ci(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=of([r,c.relativePath]),d=n.concat(c);s.children&&s.children.length>0&&(ci(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),HX(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:Oye(u,s.index),routesMeta:d})};return t.forEach((s,a)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,a);else for(let c of GX(s.path))i(s,a,c)}),e}function GX(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=GX(r.join("/")),l=[];return l.push(...a.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function Cye(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Dye(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const jye=/^:[\w-]+$/,Aye=3,Tye=2,Pye=1,kye=10,Rye=-2,_6=t=>t==="*";function Oye(t,e){let n=t.split("/"),r=n.length;return n.some(_6)&&(r+=Rye),e&&(r+=Tye),n.filter(i=>!_6(i)).reduce((i,s)=>i+(jye.test(s)?Aye:s===""?Pye:kye),r)}function Dye(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Iye(t,e,n){let{routesMeta:r}=t,i={},s="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=Lye({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:of([s,f.pathname]),pathnameBase:Wye(of([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=of([s,f.pathnameBase]))}return a}function Lye(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Fye(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let x=l[f]||"";a=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const p=l[f];return m&&!p?u[h]=void 0:u[h]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:t}}function Fye(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),$X(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Uye(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $X(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function N3(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Bye(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?nx(t):t;return{pathname:n?n.startsWith("/")?n:zye(n,e):e,search:$ye(r),hash:Hye(i)}}function zye(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function jT(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Vye(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function qX(t,e){let n=Vye(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function KX(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=nx(t):(i=sb({},t),ci(!i.pathname||!i.pathname.includes("?"),jT("?","pathname","search",i)),ci(!i.pathname||!i.pathname.includes("#"),jT("#","pathname","hash",i)),ci(!i.search||!i.search.includes("#"),jT("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,l;if(a==null)l=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}l=f>=0?e[f]:"/"}let c=Bye(i,l),u=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const of=t=>t.join("/").replace(/\/\/+/g,"/"),Wye=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),$ye=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Hye=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Gye(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const XX=["post","put","patch","delete"];new Set(XX);const qye=["get",...XX];new Set(qye);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ab(){return ab=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ab.apply(this,arguments)}const M3=S.createContext(null),Kye=S.createContext(null),Xm=S.createContext(null),N2=S.createContext(null),Tf=S.createContext({outlet:null,matches:[],isDataRoute:!1}),YX=S.createContext(null);function Xye(t,e){let{relative:n}=e===void 0?{}:e;hw()||ci(!1);let{basename:r,navigator:i}=S.useContext(Xm),{hash:s,pathname:a,search:l}=JX(t,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:of([r,a])),i.createHref({pathname:c,search:l,hash:s})}function hw(){return S.useContext(N2)!=null}function mw(){return hw()||ci(!1),S.useContext(N2).location}function ZX(t){S.useContext(Xm).static||S.useLayoutEffect(t)}function Ym(){let{isDataRoute:t}=S.useContext(Tf);return t?l0e():Yye()}function Yye(){hw()||ci(!1);let t=S.useContext(M3),{basename:e,future:n,navigator:r}=S.useContext(Xm),{matches:i}=S.useContext(Tf),{pathname:s}=mw(),a=JSON.stringify(qX(i,n.v7_relativeSplatPath)),l=S.useRef(!1);return ZX(()=>{l.current=!0}),S.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let f=KX(u,JSON.parse(a),s,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:of([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,a,s,t])}function QX(){let{matches:t}=S.useContext(Tf),e=t[t.length-1];return e?e.params:{}}function JX(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=S.useContext(Xm),{matches:i}=S.useContext(Tf),{pathname:s}=mw(),a=JSON.stringify(qX(i,r.v7_relativeSplatPath));return S.useMemo(()=>KX(t,JSON.parse(a),s,n==="path"),[t,a,s,n])}function Zye(t,e){return Qye(t,e)}function Qye(t,e,n,r){hw()||ci(!1);let{navigator:i}=S.useContext(Xm),{matches:s}=S.useContext(Tf),a=s[s.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=mw(),d;if(e){var f;let v=typeof e=="string"?nx(e):e;c==="/"||(f=v.pathname)!=null&&f.startsWith(c)||ci(!1),d=v}else d=u;let h=d.pathname||"/",m=h;if(c!=="/"){let v=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let p=Nye(t,{pathname:m}),x=r0e(p&&p.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:of([c,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:of([c,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,n,r);return e&&x?S.createElement(N2.Provider,{value:{location:ab({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Kd.Pop}},x):x}function Jye(){let t=o0e(),e=Gye(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:i},n):null,null)}const e0e=S.createElement(Jye,null);class t0e extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?S.createElement(Tf.Provider,{value:this.props.routeContext},S.createElement(YX.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function n0e(t){let{routeContext:e,match:n,children:r}=t,i=S.useContext(M3);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(Tf.Provider,{value:e},r)}function r0e(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let d=a.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||ci(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=n,p=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||p){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,f,h)=>{let m,p=!1,x=null,v=null;n&&(m=l&&f.route.id?l[f.route.id]:void 0,x=f.route.errorElement||e0e,c&&(u<0&&h===0?(c0e("route-fallback"),p=!0,v=null):u===h&&(p=!0,v=f.route.hydrateFallbackElement||null)));let g=e.concat(a.slice(0,h+1)),w=()=>{let _;return m?_=x:p?_=v:f.route.Component?_=S.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=d,S.createElement(n0e,{match:f,routeContext:{outlet:d,matches:g,isDataRoute:n!=null},children:_})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?S.createElement(t0e,{location:n.location,revalidation:n.revalidation,component:x,error:m,children:w(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):w()},null)}var eY=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(eY||{}),tY=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(tY||{});function i0e(t){let e=S.useContext(M3);return e||ci(!1),e}function s0e(t){let e=S.useContext(Kye);return e||ci(!1),e}function a0e(t){let e=S.useContext(Tf);return e||ci(!1),e}function nY(t){let e=a0e(),n=e.matches[e.matches.length-1];return n.route.id||ci(!1),n.route.id}function o0e(){var t;let e=S.useContext(YX),n=s0e(),r=nY();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function l0e(){let{router:t}=i0e(eY.UseNavigateStable),e=nY(tY.UseNavigateStable),n=S.useRef(!1);return ZX(()=>{n.current=!0}),S.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ab({fromRouteId:e},s)))},[t,e])}const S6={};function c0e(t,e,n){S6[t]||(S6[t]=!0)}function u0e(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Cd(t){ci(!1)}function d0e(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Kd.Pop,navigator:s,static:a=!1,future:l}=t;hw()&&ci(!1);let c=e.replace(/^\/*/,"/"),u=S.useMemo(()=>({basename:c,navigator:s,static:a,future:ab({v7_relativeSplatPath:!1},l)}),[c,l,s,a]);typeof r=="string"&&(r=nx(r));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:p="default"}=r,x=S.useMemo(()=>{let v=N3(d,c);return v==null?null:{location:{pathname:v,search:f,hash:h,state:m,key:p},navigationType:i}},[c,d,f,h,m,p,i]);return x==null?null:S.createElement(Xm.Provider,{value:u},S.createElement(N2.Provider,{children:n,value:x}))}function f0e(t){let{children:e,location:n}=t;return Zye(WR(e),n)}new Promise(()=>{});function WR(t,e){e===void 0&&(e=[]);let n=[];return S.Children.forEach(t,(r,i)=>{if(!S.isValidElement(r))return;let s=[...e,i];if(r.type===S.Fragment){n.push.apply(n,WR(r.props.children,s));return}r.type!==Cd&&ci(!1),!r.props.index||!r.props.children||ci(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=WR(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $R(){return $R=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$R.apply(this,arguments)}function h0e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function m0e(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function p0e(t,e){return t.button===0&&(!e||e==="_self")&&!m0e(t)}const g0e=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],v0e="6";try{window.__reactRouterVersion=v0e}catch{}const x0e="startTransition",E6=dI[x0e];function y0e(t){let{basename:e,children:n,future:r,window:i}=t,s=S.useRef();s.current==null&&(s.current=_ye({window:i,v5Compat:!0}));let a=s.current,[l,c]=S.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=S.useCallback(f=>{u&&E6?E6(()=>c(f)):c(f)},[c,u]);return S.useLayoutEffect(()=>a.listen(d),[a,d]),S.useEffect(()=>u0e(r),[r]),S.createElement(d0e,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}const b0e=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",w0e=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yl=S.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=e,h=h0e(e,g0e),{basename:m}=S.useContext(Xm),p,x=!1;if(typeof u=="string"&&w0e.test(u)&&(p=u,b0e))try{let _=new URL(window.location.href),E=u.startsWith("//")?new URL(_.protocol+u):new URL(u),N=N3(E.pathname,m);E.origin===_.origin&&N!=null?u=N+E.search+E.hash:x=!0}catch{}let v=Xye(u,{relative:i}),g=_0e(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:f});function w(_){r&&r(_),_.defaultPrevented||g(_)}return S.createElement("a",$R({},h,{href:p||v,onClick:x||s?r:w,ref:n,target:c}))});var N6;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(N6||(N6={}));var M6;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(M6||(M6={}));function _0e(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,viewTransition:l}=e===void 0?{}:e,c=Ym(),u=mw(),d=JX(t,{relative:a});return S.useCallback(f=>{if(p0e(f,n)){f.preventDefault();let h=r!==void 0?r:nN(u)===nN(d);c(t,{replace:h,state:i,preventScrollReset:s,relative:a,viewTransition:l})}},[u,c,d,r,i,n,t,s,a,l])}const S0e="modulepreload",E0e=function(t){return"/"+t},C6={},pw=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(n.map(c=>{if(c=E0e(c),c in C6)return;C6[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":S0e,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return i.then(a=>{for(const l of a||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})},N0e=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>pw(async()=>{const{default:r}=await Promise.resolve().then(()=>rx);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class C3 extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class M0e extends C3{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class j6 extends C3{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class A6 extends C3{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var HR;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(HR||(HR={}));var C0e=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};class j0e{constructor(e,{headers:n={},customFetch:r,region:i=HR.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=N0e(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return C0e(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:a}=n;let l={},{region:c}=n;c||(c=this.region);const u=new URL(`${this.url}/${e}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=a):typeof a=="string"?(l["Content-Type"]="text/plain",d=a):typeof FormData<"u"&&a instanceof FormData?d=a:(l["Content-Type"]="application/json",d=JSON.stringify(a)));const f=yield this.fetch(u.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:d}).catch(x=>{throw new M0e(x)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new j6(f);if(!f.ok)throw new A6(f);let m=((r=f.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),p;return m==="application/json"?p=yield f.json():m==="application/octet-stream"?p=yield f.blob():m==="text/event-stream"?p=f:m==="multipart/form-data"?p=yield f.formData():p=yield f.text(),{data:p,error:null,response:f}}catch(i){return{data:null,error:i,response:i instanceof A6||i instanceof j6?i.context:void 0}}})}}var xa={},j3={},M2={},gw={},C2={},j2={},A0e=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},_v=A0e();const T0e=_v.fetch,rY=_v.fetch.bind(_v),iY=_v.Headers,P0e=_v.Request,k0e=_v.Response,rx=Object.freeze(Object.defineProperty({__proto__:null,Headers:iY,Request:P0e,Response:k0e,default:rY,fetch:T0e},Symbol.toStringTag,{value:"Module"})),R0e=ofe(rx);var A2={};Object.defineProperty(A2,"__esModule",{value:!0});let O0e=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};A2.default=O0e;var sY=Wo&&Wo.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(j2,"__esModule",{value:!0});const D0e=sY(R0e),I0e=sY(A2);let L0e=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=D0e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var a,l,c;let u=null,d=null,f=null,h=s.status,m=s.statusText;if(s.ok){if(this.method!=="HEAD"){const g=await s.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=g:d=JSON.parse(g))}const x=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),v=(l=s.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");x&&v&&v.length>1&&(f=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const x=await s.text();try{u=JSON.parse(x),Array.isArray(u)&&s.status===404&&(d=[],u=null,h=200,m="OK")}catch{s.status===404&&x===""?(h=204,m="No Content"):u={message:x}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,m="OK"),u&&this.shouldThrowOnError)throw new I0e.default(u)}return{error:u,data:d,count:f,status:h,statusText:m}});return this.shouldThrowOnError||(i=i.catch(s=>{var a,l,c;return{error:{message:`${(a=s==null?void 0:s.name)!==null&&a!==void 0?a:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(l=s==null?void 0:s.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=s==null?void 0:s.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,n)}returns(){return this}overrideTypes(){return this}};j2.default=L0e;var F0e=Wo&&Wo.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(C2,"__esModule",{value:!0});const U0e=F0e(j2);let B0e=class extends U0e.default{select(e){let n=!1;const r=(e??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:s=i}={}){const a=s?`${s}.order`:"order",l=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${l?`${l},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:i=r}={}){const s=typeof i>"u"?"offset":`${i}.offset`,a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(a,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:s=!1,format:a="text"}={}){var l;const c=[e?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${u}"; options=${c};`,a==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};C2.default=B0e;var z0e=Wo&&Wo.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(gw,"__esModule",{value:!0});const V0e=z0e(C2);let W0e=class extends V0e.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${a}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};gw.default=W0e;var $0e=Wo&&Wo.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(M2,"__esModule",{value:!0});const uy=$0e(gw);let H0e=class{constructor(e,{headers:n={},schema:r,fetch:i}){this.url=e,this.headers=n,this.schema=r,this.fetch=i}select(e,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let s=!1;const a=(e??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",a),r&&(this.headers.Prefer=`count=${r}`),new uy.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),r||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){const a=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new uy.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:s=!0}={}){const a="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),s||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(e)){const c=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new uy.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new uy.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new uy.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};M2.default=H0e;var T2={},P2={};Object.defineProperty(P2,"__esModule",{value:!0});P2.version=void 0;P2.version="0.0.0-automated";Object.defineProperty(T2,"__esModule",{value:!0});T2.DEFAULT_HEADERS=void 0;const G0e=P2;T2.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${G0e.version}`};var aY=Wo&&Wo.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(j3,"__esModule",{value:!0});const q0e=aY(M2),K0e=aY(gw),X0e=T2;let Y0e=class oY{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},X0e.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=i}from(e){const n=new URL(`${this.url}/${e}`);return new q0e.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new oY(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:s}={}){let a;const l=new URL(`${this.url}/rpc/${e}`);let c;r||i?(a=r?"HEAD":"GET",Object.entries(n).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(a="POST",c=n);const u=Object.assign({},this.headers);return s&&(u.Prefer=`count=${s}`),new K0e.default({method:a,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};j3.default=Y0e;var ix=Wo&&Wo.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xa,"__esModule",{value:!0});xa.PostgrestError=xa.PostgrestBuilder=xa.PostgrestTransformBuilder=xa.PostgrestFilterBuilder=xa.PostgrestQueryBuilder=xa.PostgrestClient=void 0;const lY=ix(j3);xa.PostgrestClient=lY.default;const cY=ix(M2);xa.PostgrestQueryBuilder=cY.default;const uY=ix(gw);xa.PostgrestFilterBuilder=uY.default;const dY=ix(C2);xa.PostgrestTransformBuilder=dY.default;const fY=ix(j2);xa.PostgrestBuilder=fY.default;const hY=ix(A2);xa.PostgrestError=hY.default;var Z0e=xa.default={PostgrestClient:lY.default,PostgrestQueryBuilder:cY.default,PostgrestFilterBuilder:uY.default,PostgrestTransformBuilder:dY.default,PostgrestBuilder:fY.default,PostgrestError:hY.default};const{PostgrestClient:Q0e,PostgrestQueryBuilder:trt,PostgrestFilterBuilder:nrt,PostgrestTransformBuilder:rrt,PostgrestBuilder:irt,PostgrestError:srt}=Z0e;function J0e(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const ebe=J0e(),tbe="2.11.15",nbe=`realtime-js/${tbe}`,rbe="1.0.0",mY=1e4,ibe=1e3;var u0;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(u0||(u0={}));var ps;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ps||(ps={}));var vl;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(vl||(vl={}));var GR;(function(t){t.websocket="websocket"})(GR||(GR={}));var Fh;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Fh||(Fh={}));class sbe{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const i=n.getUint8(1),s=n.getUint8(2);let a=this.HEADER_LENGTH+2;const l=r.decode(e.slice(a,a+i));a=a+i;const c=r.decode(e.slice(a,a+s));a=a+s;const u=JSON.parse(r.decode(e.slice(a,e.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class pY{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Jn;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Jn||(Jn={}));const T6=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((s,a)=>(s[a]=abe(a,t,e,i),s),{})},abe=(t,e,n,r)=>{const i=e.find(l=>l.name===t),s=i==null?void 0:i.type,a=n[t];return s&&!r.includes(s)?gY(s,a):qR(a)},gY=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return ube(e,n)}switch(t){case Jn.bool:return obe(e);case Jn.float4:case Jn.float8:case Jn.int2:case Jn.int4:case Jn.int8:case Jn.numeric:case Jn.oid:return lbe(e);case Jn.json:case Jn.jsonb:return cbe(e);case Jn.timestamp:return dbe(e);case Jn.abstime:case Jn.date:case Jn.daterange:case Jn.int4range:case Jn.int8range:case Jn.money:case Jn.reltime:case Jn.text:case Jn.time:case Jn.timestamptz:case Jn.timetz:case Jn.tsrange:case Jn.tstzrange:return qR(e);default:return qR(e)}},qR=t=>t,obe=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},lbe=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},cbe=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},ube=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let s;const a=t.slice(1,n);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(l=>gY(e,l))}return t},dbe=t=>typeof t=="string"?t.replace(" ","T"):t,vY=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class AT{constructor(e,n,r={},i=mY){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var P6;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(P6||(P6={}));class d0{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=d0.syncState(this.state,i,s,a),this.pendingDiffs.forEach(c=>{this.state=d0.syncDiff(this.state,c,s,a)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=d0.syncDiff(this.state,i,s,a),l())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const s=this.cloneDeep(e),a=this.transformState(n),l={},c={};return this.map(s,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const f=s[u];if(f){const h=d.map(v=>v.presence_ref),m=f.map(v=>v.presence_ref),p=d.filter(v=>m.indexOf(v.presence_ref)<0),x=f.filter(v=>h.indexOf(v.presence_ref)<0);p.length>0&&(l[u]=p),x.length>0&&(c[u]=x)}else l[u]=d}),this.syncDiff(s,{joins:l,leaves:c},r,i)}static syncDiff(e,n,r,i){const{joins:s,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(l,c)=>{var u;const d=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(c),d.length>0){const f=e[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);e[l].unshift(...h)}r(l,d,c)}),this.map(a,(l,c)=>{let u=e[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),e[l]=u,i(l,u,c),u.length===0&&delete e[l]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var k6;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(k6||(k6={}));var R6;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(R6||(R6={}));var iu;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(iu||(iu={}));class A3{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=ps.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new AT(this,vl.join,this.params,this.timeout),this.rejoinTimer=new pY(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ps.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ps.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=ps.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ps.errored,this.rejoinTimer.scheduleTimeout())}),this._on(vl.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new d0(this),this.broadcastEndpointURL=vY(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ps.closed){const{config:{broadcast:s,presence:a,private:l}}=this.params;this._onError(d=>e==null?void 0:e(iu.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(iu.CLOSED));const c={},u={broadcast:s,presence:a,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&i!==void 0?i:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){e==null||e(iu.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,m=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,p=[];for(let x=0;x<m;x++){const v=h[x],{filter:{event:g,schema:w,table:_,filter:E}}=v,N=d&&d[x];if(N&&N.event===g&&N.schema===w&&N.table===_&&N.filter===E)p.push(Object.assign(Object.assign({},v),{id:N.id}));else{this.unsubscribe(),this.state=ps.errored,e==null||e(iu.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,e&&e(iu.SUBSCRIBED);return}}).receive("error",d=>{this.state=ps.errored,e==null||e(iu.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(iu.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:a}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,l,c;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ps.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(vl.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new AT(this,vl.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),a}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new AT(this,e,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,s;const a=e.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=vl;if(r&&[l,c,u,d].indexOf(a)>=0&&r!==this._joinRef())return;let h=this._onMessage(a,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var p,x,v;return((p=m.filter)===null||p===void 0?void 0:p.event)==="*"||((v=(x=m.filter)===null||x===void 0?void 0:x.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===a}).map(m=>m.callback(h,r)):(s=this.bindings[a])===null||s===void 0||s.filter(m=>{var p,x,v,g,w,_;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in m){const E=m.id,N=(p=m.filter)===null||p===void 0?void 0:p.event;return E&&((x=n.ids)===null||x===void 0?void 0:x.includes(E))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((v=n.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const E=(w=(g=m==null?void 0:m.filter)===null||g===void 0?void 0:g.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return E==="*"||E===((_=n==null?void 0:n.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===a}).map(m=>{if(typeof h=="object"&&"ids"in h){const p=h.data,{schema:x,table:v,commit_timestamp:g,type:w,errors:_}=p;h=Object.assign(Object.assign({},{schema:x,table:v,commit_timestamp:g,eventType:w,new:{},old:{},errors:_}),this._getPayloadRecords(p))}m.callback(h,r)})}_isClosed(){return this.state===ps.closed}_isJoined(){return this.state===ps.joined}_isJoining(){return this.state===ps.joining}_isLeaving(){return this.state===ps.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&A3.isEqual(i.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(vl.close,{},e)}_onError(e){this._on(vl.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ps.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=T6(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=T6(e.columns,e.old_record)),n}}const O6=()=>{},fbe=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class hbe{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=mY,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=O6,this.ref=0,this.logger=O6,this.conn=null,this.sendBuffer=[],this.serializer=new sbe,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let a;return s?a=s:typeof fetch>"u"?a=(...l)=>pw(async()=>{const{default:c}=await Promise.resolve().then(()=>rx);return{default:c}},void 0).then(({default:c})=>c(...l)):a=fetch,(...l)=>a(...l)},this.endPoint=`${e}/${GR.websocket}`,this.httpEndpoint=vY(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(s,a)=>a(JSON.stringify(s)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new pY(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=ebe),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:rbe}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case u0.connecting:return Fh.Connecting;case u0.open:return Fh.Open;case u0.closing:return Fh.Closing;default:return Fh.Closed}}isConnected(){return this.connectionState()===Fh.Open}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new A3(`realtime:${e}`,n,this);return this.channels.push(s),s}}push(e){const{topic:n,event:r,payload:i,ref:s}=e,a=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:nbe};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(vl.access_token,{access_token:n})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(ibe,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:i,payload:s,ref:a}=n;r==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${a&&"("+a+")"||""}`,s),Array.from(this.channels).filter(l=>l._isMember(r)).forEach(l=>l._trigger(i,s,a)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(vl.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([fbe],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class T3 extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Pi(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class mbe extends T3{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class KR extends T3{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var pbe=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};const xY=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>pw(async()=>{const{default:r}=await Promise.resolve().then(()=>rx);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},gbe=()=>pbe(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield pw(()=>Promise.resolve().then(()=>rx),void 0)).Response:Response}),XR=t=>{if(Array.isArray(t))return t.map(n=>XR(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=XR(r)}),e};var Zm=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};const TT=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),vbe=(t,e,n)=>Zm(void 0,void 0,void 0,function*(){const r=yield gbe();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{e(new mbe(TT(i),t.status||500))}).catch(i=>{e(new KR(TT(i),i))}):e(new KR(TT(t),t))}),xbe=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),n))};function vw(t,e,n,r,i,s){return Zm(this,void 0,void 0,function*(){return new Promise((a,l)=>{t(n,xbe(e,r,i,s)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>vbe(c,l,r))})})}function rN(t,e,n,r){return Zm(this,void 0,void 0,function*(){return vw(t,"GET",e,n,r)})}function Rd(t,e,n,r,i){return Zm(this,void 0,void 0,function*(){return vw(t,"POST",e,r,i,n)})}function ybe(t,e,n,r,i){return Zm(this,void 0,void 0,function*(){return vw(t,"PUT",e,r,i,n)})}function bbe(t,e,n,r){return Zm(this,void 0,void 0,function*(){return vw(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function yY(t,e,n,r,i){return Zm(this,void 0,void 0,function*(){return vw(t,"DELETE",e,r,i,n)})}var ua=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};const wbe={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},D6={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class _be{constructor(e,n={},r,i){this.url=e,this.headers=n,this.bucketId=r,this.fetch=xY(i)}uploadOrUpdate(e,n,r,i){return ua(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},D6),i);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),c&&s.append("metadata",this.encodeMetadata(c)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",a.cacheControl),c&&s.append("metadata",this.encodeMetadata(c))):(s=r,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:s,headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(s){if(Pi(s))return{data:null,error:s};throw s}})}upload(e,n,r){return ua(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return ua(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),a=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:D6.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),h=yield f.json();return f.ok?{data:{path:s,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(Pi(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,n){return ua(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield Rd(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(this.url+s.url),l=a.searchParams.get("token");if(!l)throw new T3("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:l},error:null}}catch(r){if(Pi(r))return{data:null,error:r};throw r}})}update(e,n,r){return ua(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return ua(this,void 0,void 0,function*(){try{return{data:yield Rd(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Pi(i))return{data:null,error:i};throw i}})}copy(e,n,r){return ua(this,void 0,void 0,function*(){try{return{data:{path:(yield Rd(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Pi(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return ua(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield Rd(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(Pi(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return ua(this,void 0,void 0,function*(){try{const i=yield Rd(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(Pi(i))return{data:null,error:i};throw i}})}download(e,n){return ua(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),a=s?`?${s}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield rN(this.fetch,`${this.url}/${i}/${l}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Pi(l))return{data:null,error:l};throw l}})}info(e){return ua(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield rN(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:XR(r),error:null}}catch(r){if(Pi(r))return{data:null,error:r};throw r}})}exists(e){return ua(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield bbe(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Pi(r)&&r instanceof KR){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(e){return ua(this,void 0,void 0,function*(){try{return{data:yield yY(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(Pi(n))return{data:null,error:n};throw n}})}list(e,n,r){return ua(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},wbe),n),{prefix:e||""});return{data:yield Rd(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(Pi(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const Sbe="2.7.1",Ebe={"X-Client-Info":`storage-js/${Sbe}`};var Tp=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};class Nbe{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},Ebe),n),this.fetch=xY(r)}listBuckets(){return Tp(this,void 0,void 0,function*(){try{return{data:yield rN(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Pi(e))return{data:null,error:e};throw e}})}getBucket(e){return Tp(this,void 0,void 0,function*(){try{return{data:yield rN(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(Pi(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Tp(this,void 0,void 0,function*(){try{return{data:yield Rd(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Pi(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Tp(this,void 0,void 0,function*(){try{return{data:yield ybe(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Pi(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Tp(this,void 0,void 0,function*(){try{return{data:yield Rd(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Pi(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Tp(this,void 0,void 0,function*(){try{return{data:yield yY(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(Pi(n))return{data:null,error:n};throw n}})}}class Mbe extends Nbe{constructor(e,n={},r){super(e,n,r)}from(e){return new _be(this.url,this.headers,e,this.fetch)}}const Cbe="2.51.0";let Vy="";typeof Deno<"u"?Vy="deno":typeof document<"u"?Vy="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Vy="react-native":Vy="node";const jbe={"X-Client-Info":`supabase-js-${Vy}/${Cbe}`},Abe={headers:jbe},Tbe={schema:"public"},Pbe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},kbe={};var Rbe=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};const Obe=t=>{let e;return t?e=t:typeof fetch>"u"?e=rY:e=fetch,(...n)=>e(...n)},Dbe=()=>typeof Headers>"u"?iY:Headers,Ibe=(t,e,n)=>{const r=Obe(n),i=Dbe();return(s,a)=>Rbe(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:t;let u=new i(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(s,Object.assign(Object.assign({},a),{headers:u}))})};var Lbe=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};function Fbe(t){return t.endsWith("/")?t:t+"/"}function Ube(t,e){var n,r;const{db:i,auth:s,realtime:a,global:l}=t,{db:c,auth:u,realtime:d,global:f}=e,h={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},d),a),global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>Lbe(this,void 0,void 0,function*(){return""})};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}const bY="2.71.0",ug=30*1e3,YR=3,PT=YR*ug,Bbe="http://localhost:9999",zbe="supabase.auth.token",Vbe={"X-Client-Info":`gotrue-js/${bY}`},ZR="X-Supabase-Api-Version",wY={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Wbe=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,$be=10*60*1e3;class P3 extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function on(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Hbe extends P3{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Gbe(t){return on(t)&&t.name==="AuthApiError"}class _Y extends P3{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Pf extends P3{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class jd extends Pf{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function qbe(t){return on(t)&&t.name==="AuthSessionMissingError"}class w_ extends Pf{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class __ extends Pf{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class S_ extends Pf{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Kbe(t){return on(t)&&t.name==="AuthImplicitGrantRedirectError"}class I6 extends Pf{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class QR extends Pf{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function kT(t){return on(t)&&t.name==="AuthRetryableFetchError"}class L6 extends Pf{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class JR extends Pf{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const iN="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),F6=` 	
\r=`.split(""),Xbe=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<F6.length;e+=1)t[F6[e].charCodeAt(0)]=-2;for(let e=0;e<iN.length;e+=1)t[iN[e].charCodeAt(0)]=e;return t})();function U6(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(iN[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(iN[r]),e.queuedBits-=6}}function SY(t,e,n){const r=Xbe[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function B6(t){const e=[],n=a=>{e.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{Qbe(a,r,n)};for(let a=0;a<t.length;a+=1)SY(t.charCodeAt(a),i,s);return e.join("")}function Ybe(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Zbe(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}Ybe(r,e)}}function Qbe(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Jbe(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)SY(t.charCodeAt(i),n,r);return new Uint8Array(e)}function ewe(t){const e=[];return Zbe(t,n=>e.push(n)),new Uint8Array(e)}function twe(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>U6(i,n,r)),U6(null,n,r),e.join("")}function nwe(t){return Math.round(Date.now()/1e3)+t}function rwe(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const ol=()=>typeof window<"u"&&typeof document<"u",lh={tested:!1,writable:!1},EY=()=>{if(!ol())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(lh.tested)return lh.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),lh.tested=!0,lh.writable=!0}catch{lh.tested=!0,lh.writable=!1}return lh.writable};function iwe(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const NY=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>pw(async()=>{const{default:r}=await Promise.resolve().then(()=>rx);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},swe=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",dg=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},ch=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},pd=async(t,e)=>{await t.removeItem(e)};class k2{constructor(){this.promise=new k2.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}k2.promiseConstructor=Promise;function RT(t){const e=t.split(".");if(e.length!==3)throw new JR("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Wbe.test(e[r]))throw new JR("JWT not in base64url format");return{header:JSON.parse(B6(e[0])),payload:JSON.parse(B6(e[1])),signature:Jbe(e[2]),raw:{header:e[0],payload:e[1]}}}async function awe(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function owe(t,e){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await t(s);if(!e(s,null,a)){r(a);return}}catch(a){if(!e(s,a)){i(a);return}}})()})}function lwe(t){return("0"+t.toString(16)).substr(-2)}function cwe(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,lwe).join("")}async function uwe(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function dwe(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await uwe(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Pp(t,e,n=!1){const r=cwe();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await dg(t,`${e}-code-verifier`,i);const s=await dwe(r);return[s,r===s?"plain":"s256"]}const fwe=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function hwe(t){const e=t.headers.get(ZR);if(!e||!e.match(fwe))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function mwe(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function pwe(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const gwe=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function kp(t){if(!gwe.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function OT(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}var vwe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const jh=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),xwe=[502,503,504];async function z6(t){var e;if(!swe(t))throw new QR(jh(t),0);if(xwe.includes(t.status))throw new QR(jh(t),t.status);let n;try{n=await t.json()}catch(s){throw new _Y(jh(s),s)}let r;const i=hwe(t);if(i&&i.getTime()>=wY["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new L6(jh(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new jd}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new L6(jh(n),t.status,n.weak_password.reasons);throw new Hbe(jh(n),t.status||500,r)}const ywe=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function yn(t,e,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[ZR]||(s[ZR]=wY["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const a=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await bwe(t,e,n+l,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function bwe(t,e,n,r,i,s){const a=ywe(e,r,i,s);let l;try{l=await t(n,Object.assign({},a))}catch(c){throw console.error(c),new QR(jh(c),0)}if(l.ok||await z6(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await z6(c)}}function tu(t){var e;let n=null;Ewe(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=nwe(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function V6(t){const e=tu(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ld(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function wwe(t){return{data:t,error:null}}function _we(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=t,a=vwe(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function Swe(t){return t}function Ewe(t){return t.access_token&&t.refresh_token&&t.expires_in}const DT=["global","local","others"];var Nwe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class Mwe{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=NY(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=DT[0]){if(DT.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${DT.join(", ")}`);try{return await yn(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(on(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await yn(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ld})}catch(r){if(on(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Nwe(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await yn(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:_we,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(on(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await yn(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ld})}catch(n){if(on(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,s,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await yn(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Swe});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(p=>{const x=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(p.split(";")[1].split("=")[1]);u[`${v}Page`]=x}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(on(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){kp(e);try{return await yn(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ld})}catch(n){if(on(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){kp(e);try{return await yn(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Ld})}catch(r){if(on(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){kp(e);try{return await yn(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ld})}catch(r){if(on(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){kp(e.userId);try{const{data:n,error:r}=await yn(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(on(n))return{data:null,error:n};throw n}}async _deleteFactor(e){kp(e.userId),kp(e.id);try{return{data:await yn(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(on(n))return{data:null,error:n};throw n}}}function W6(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function Cwe(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Rp={debug:!!(globalThis&&EY()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class MY extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class jwe extends MY{}async function Awe(t,e,n){Rp.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Rp.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Rp.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{Rp.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Rp.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new jwe(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Rp.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Cwe();const Twe={url:Bbe,storageKey:zbe,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Vbe,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function $6(t,e,n){return await n()}const Op={};class ob{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ob.nextInstanceID,ob.nextInstanceID+=1,this.instanceID>0&&ol()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},Twe),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Mwe({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=NY(i.fetch),this.lock=i.lock||$6,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:ol()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Awe:this.lock=$6,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:EY()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=W6(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=W6(this.memoryStorage)),ol()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=Op[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Op[this.storageKey]=Object.assign(Object.assign({},Op[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Op[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Op[this.storageKey]=Object.assign(Object.assign({},Op[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${bY}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=iwe(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),ol()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Kbe(s)){const c=(e=s.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return on(n)?{error:n}:{error:new _Y("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const s=await yn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:tu}),{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(on(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var n,r,i;try{let s;if("email"in e){const{email:d,password:f,options:h}=e;let m=null,p=null;this.flowType==="pkce"&&([m,p]=await Pp(this.storage,this.storageKey)),s=await yn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:p},xform:tu})}else if("phone"in e){const{phone:d,password:f,options:h}=e;s=await yn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:tu})}else throw new __("You must provide either an email or phone number and a password");const{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(on(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let n;if("email"in e){const{email:s,password:a,options:l}=e;n=await yn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:V6})}else if("phone"in e){const{phone:s,password:a,options:l}=e;n=await yn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:V6})}else throw new __("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new w_}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(on(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,i,s,a,l,c,u,d,f,h,m;let p,x;if("message"in e)p=e.message,x=e.signature;else{const{chain:v,wallet:g,statement:w,options:_}=e;let E;if(ol())if(typeof g=="object")E=g;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))E=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=g}const N=new URL((n=_==null?void 0:_.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in E&&E.signIn){const C=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),w?{statement:w}:null));let j;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")j=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)j=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)p=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),x=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${N.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(i=(r=_==null?void 0:_.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=_==null?void 0:_.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((a=_==null?void 0:_.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((l=_==null?void 0:_.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((c=_==null?void 0:_.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((u=_==null?void 0:_.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((f=(d=_==null?void 0:_.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",..._.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const C=await E.signMessage(new TextEncoder().encode(p),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=C}}try{const{data:v,error:g}=await yn(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:twe(x)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:tu});if(g)throw g;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new w_}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:g})}catch(v){if(on(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(e){const n=await ch(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:a}=await yn(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:tu});if(await pd(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new w_}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(on(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:s,nonce:a}=e,l=await yn(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:tu}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new w_}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(on(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,i,s,a;try{if("email"in e){const{email:l,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Pp(this.storage,this.storageKey));const{error:f}=await yn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:l,options:c}=e,{data:u,error:d}=await yn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new __("You must provide either an email or phone number.")}catch(l){if(on(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var n,r;try{let i,s;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,s=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:l}=await yn(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:tu});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(on(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,r,i;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=await Pp(this.storage,this.storageKey)),await yn(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:wwe})}catch(s){if(on(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new jd;const{error:i}=await yn(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(on(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:s}=e,{error:a}=await yn(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:r,type:i,options:s}=e,{data:a,error:l}=await yn(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l}}throw new __("You must provide either an email or phone number and a type")}catch(n){if(on(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await ch(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<PT:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const a=await ch(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=OT()}if(this.storage.isServer&&e.user){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:e},error:null}}const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await yn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ld}):await this._useSession(async n=>{var r,i,s;const{data:a,error:l}=n;if(l)throw l;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new jd}:await yn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Ld})})}catch(n){if(on(n))return qbe(n)&&(await this._removeSession(),await pd(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new jd;const a=i.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await Pp(this.storage,this.storageKey));const{data:u,error:d}=await yn(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:Ld});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(r){if(on(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new jd;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:a}=RT(e.access_token);if(a.exp&&(r=a.exp,i=r<=n),i){const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;s={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(on(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:a,error:l}=n;if(l)throw l;e=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new jd;const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(on(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!ol())throw new S_("No browser detected.");if(e.error||e.error_description||e.error_code)throw new S_(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new I6("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new S_("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new I6("No code detected.");const{data:w,error:_}=await this._exchangeCodeForSession(e.code);if(_)throw _;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=e;if(!s||!l||!a||!u)throw new S_("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=ug&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const p=h-f;d-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,h,d):d-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,h,d);const{data:x,error:v}=await this._getUser(s);if(v)throw v;const g={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:f,expires_at:h,refresh_token:a,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(r){if(on(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await ch(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const a=(r=i.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:l}=await this.admin.signOut(a,e);if(l&&!(Gbe(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await pd(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=rwe(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Pp(this.storage,this.storageKey,!0));try{return await yn(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(on(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(on(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var a,l,c,u,d;const{data:f,error:h}=s;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await yn(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return ol()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(on(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:a}=n;if(a)throw a;return await yn(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(on(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await owe(async i=>(i>0&&await awe(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await yn(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:tu})),(i,s)=>{const a=200*Math.pow(2,i);return s&&kT(s)&&Date.now()+a-r<ug})}catch(r){if(this._debug(n,"error",r),on(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),ol()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await ch(this.storage,this.storageKey);if(i&&this.userStorage){let a=await ch(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await dg(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:OT()}else if(i&&!i.user&&!i.user){const a=await ch(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await pd(this.storage,this.storageKey+"-user"),await dg(this.storage,this.storageKey,i)):i.user=OT()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<PT;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${PT}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),kT(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(i.access_token);!l&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new jd;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new k2;const{data:s,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new jd;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(i,"error",s),on(s)){const a={session:null,error:s};return kT(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,n)}catch(c){s.push(c)}});if(await Promise.all(a),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await dg(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=structuredClone(i);await dg(this.storage,this.storageKey,s)}else{const i=structuredClone(n);await dg(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await pd(this.storage,this.storageKey),await pd(this.storage,this.storageKey+"-code-verifier"),await pd(this.storage,this.storageKey+"-user"),this.userStorage&&await pd(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ol()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ug);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/ug);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${ug}ms, refresh threshold is ${YR} ticks`),i<=YR&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof MY)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ol()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,a]=await Pp(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(l.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await yn(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(on(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:a}=n;if(a)return{data:null,error:a};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:u}=await yn(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(on(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const{data:a,error:l}=await yn(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(n){if(on(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await yn(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(on(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],i=r.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=r.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:r,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:i},error:s}=e;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=RT(i.access_token);let l=null;a.aal&&(l=a.aal);let c=l;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(l=>l.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(l=>l.kid===e),r&&this.jwks_cached_at+$be>i)return r;const{data:s,error:a}=await yn(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(l=>l.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:m,error:p}=await this.getSession();if(p||!m.session)return{data:null,error:p};r=m.session.access_token}const{header:i,payload:s,signature:a,raw:{header:l,payload:c}}=RT(r);n!=null&&n.allowExpired||mwe(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:s,header:i,signature:a},error:null}}const d=pwe(i.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,a,ewe(`${l}.${c}`)))throw new JR("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(r){if(on(r))return{data:null,error:r};throw r}}}ob.nextInstanceID=0;const Pwe=ob;class kwe extends Pwe{constructor(e){super(e)}}var Rwe=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};class Owe{constructor(e,n,r){var i,s,a;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=Fbe(e),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:Tbe,realtime:kbe,auth:Object.assign(Object.assign({},Pbe),{storageKey:u}),global:Abe},f=Ube(r??{},d);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=f.global.headers)!==null&&s!==void 0?s:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=f.auth)!==null&&a!==void 0?a:{},this.headers,f.global.fetch),this.fetch=Ibe(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new Q0e(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new j0e(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Mbe(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return Rwe(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:s,flowType:a,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new kwe({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:s,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,flowType:a,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new hbe(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Dwe=(t,e,n)=>new Owe(t,e,n),Iwe="https://skcfeldqipxaomrjfuym.supabase.co",Lwe="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNrY2ZlbGRxaXB4YW9tcmpmdXltIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTIzNjAxMjksImV4cCI6MjA2NzkzNjEyOX0.fSW8E59RnrKZdeuyGlxgjJdYgE87w53ahcwqL1GP4cw",He=Dwe(Iwe,Lwe,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),CY=S.createContext(void 0),Fwe=({children:t})=>{const[e,n]=S.useState(null),[r,i]=S.useState(null);S.useEffect(()=>{const{data:{subscription:c}}=He.auth.onAuthStateChange((u,d)=>{i(d),n((d==null?void 0:d.user)??null)});return He.auth.getSession().then(({data:{session:u}})=>{i(u),n((u==null?void 0:u.user)??null)}),()=>c.unsubscribe()},[]);const s=async(c,u)=>{const{error:d}=await He.auth.signInWithPassword({email:c,password:u});return{error:d}},a=async(c,u,d,f,h,m,p)=>{const x=`${window.location.origin}/`,{error:v}=await He.auth.signUp({email:c,password:u,options:{emailRedirectTo:x,data:{full_name:d||"",celular:f||"",data_nascimento:h||"",sexo:m||"",altura_cm:(p==null?void 0:p.toString())||""}}});return{error:v}},l=async()=>{try{e&&(localStorage.removeItem(`physical_data_complete_${e.id}`),Object.keys(localStorage).forEach(c=>{c.includes(e.id)&&localStorage.removeItem(c)})),await He.auth.signOut(),n(null),i(null),window.location.href="/"}catch(c){console.error("Erro ao fazer logout:",c),n(null),i(null),window.location.href="/"}};return o.jsx(CY.Provider,{value:{user:e,session:r,signIn:s,signUp:a,signOut:l},children:t})},Or=()=>{const t=S.useContext(CY);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},Uwe=()=>{const{user:t}=Or(),[e,n]=S.useState(null),[r,i]=S.useState(!0),[s,a]=S.useState(!1),l=()=>`physical_data_complete_${t==null?void 0:t.id}`,c=S.useCallback(async(f=!1)=>{if(!t){i(!1);return}const h=l(),m=localStorage.getItem(h);if(!f&&m&&s){n(m==="true"),i(!1);return}try{i(!0),console.log("🔍 Verificando dados físicos para usuário:",t.id);const{data:p}=await He.from("profiles").select("role").eq("user_id",t.id).maybeSingle();if(console.log("👤 Perfil encontrado:",p),(p==null?void 0:p.role)==="admin"){n(!0),a(!0),localStorage.setItem(h,"true"),i(!1);return}const{data:x,error:v}=await He.rpc("check_physical_data_complete",{user_uuid:t.id});console.log("📊 Resultado da verificação:",{hasPhysicalData:x,error:v}),v?(console.error("Erro ao verificar dados físicos:",v),n(!1)):(n(x),x?localStorage.setItem(h,"true"):localStorage.removeItem(h)),a(!0)}catch(p){console.error("Erro ao verificar dados físicos:",p),n(!1)}finally{i(!1)}},[t,s]),u=S.useCallback(()=>{t&&(n(!0),a(!0),localStorage.setItem(l(),"true"))},[t]),d=S.useCallback(()=>{t&&(localStorage.removeItem(l()),a(!1),n(null))},[t]);return S.useEffect(()=>{t&&!s?c():t||(n(null),i(!1),a(!1))},[t,s,c]),{isComplete:e,isLoading:r,checkPhysicalDataComplete:c,markAsComplete:u,clearCache:d,hasChecked:s}},Bwe=()=>{const[t,e]=S.useState(null),[n,r]=S.useState(!0),{user:i}=Or(),s=async()=>{try{if(r(!0),!i){const f=localStorage.getItem("dados_saude_temp");f&&e(JSON.parse(f));return}const l=await He.from("profiles").select("id").eq("user_id",i.id).single();if(l.error)throw l.error;const{data:c}=await He.from("dados_saude_usuario").select("*").eq("user_id",l.data.id).order("data_atualizacao",{ascending:!1}).limit(1).single(),{data:u}=await He.from("pesagens").select("*").eq("user_id",l.data.id).order("data_medicao",{ascending:!1}).limit(1).single();let d=c;if(u){const f=d!=null&&d.altura_cm?d.altura_cm/100:1.7,h=u.peso_kg/(f*f);d={...d,peso_atual_kg:u.peso_kg,imc:Math.round(h*10)/10,data_atualizacao:u.data_medicao}}e(d||null)}catch(l){console.error("Erro ao buscar dados de saúde:",l)}finally{r(!1)}},a=async l=>{try{if(!i){const d={...l,user_id:"temp",imc:l.peso_atual_kg/Math.pow(l.altura_cm/100,2),data_atualizacao:new Date().toISOString()};localStorage.setItem("dados_saude_temp",JSON.stringify(d)),e(d);return}const c=await He.from("profiles").select("id").eq("user_id",i.id).single();if(c.error)throw c.error;const{error:u}=await He.from("dados_saude_usuario").upsert([{user_id:c.data.id,...l}]);if(u)throw u;await s()}catch(c){throw console.error("Erro ao salvar dados de saúde:",c),c}};return S.useEffect(()=>{s()},[i]),{dadosSaude:t,loading:n,salvarDadosSaude:a,refetch:s}},zwe=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(!0),{user:i}=Or(),s=async()=>{try{if(r(!0),!i){e([]);return}const a=await He.from("profiles").select("id").eq("user_id",i.id).single();if(a.error)throw a.error;const l=new Date;l.setDate(l.getDate()-7);const{data:c,error:u}=await He.from("missoes_usuario").select("*").eq("user_id",a.data.id).gte("data",l.toISOString().split("T")[0]).order("data",{ascending:!0});if(u)throw u;e(c||[])}catch(a){console.error("Erro ao buscar missões da semana:",a)}finally{r(!1)}};return S.useEffect(()=>{s()},[i]),{missoesDaSemana:t,loading:n,refetch:s}},xw=()=>{const{user:t}=Or(),{dadosSaude:e,loading:n,salvarDadosSaude:r,refetch:i}=Bwe(),{missoesDaSemana:s,loading:a,refetch:l}=zwe();return{dadosSaude:e,missoesDaSemana:s,loading:n||a,salvarDadosSaude:r,calcularDiferencaCircunferencia:()=>e?{reducao:3.4,dias:15}:null,migrarDadosTemporarios:async()=>{if(!t)return;const f=localStorage.getItem("dados_saude_temp");if(f)try{const h=JSON.parse(f);await r({peso_atual_kg:h.peso_atual_kg,altura_cm:h.altura_cm,circunferencia_abdominal_cm:h.circunferencia_abdominal_cm,meta_peso_kg:h.meta_peso_kg}),localStorage.removeItem("dados_saude_temp"),cg.success("Dados temporários migrados com sucesso!")}catch(h){console.error("Erro ao migrar dados temporários:",h)}},refetch:async()=>{await Promise.all([i(),l()])}}},le=S.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:xt("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));le.displayName="Card";const Qe=S.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:xt("flex flex-col space-y-1.5 p-6",t),...e}));Qe.displayName="CardHeader";const et=S.forwardRef(({className:t,...e},n)=>o.jsx("h3",{ref:n,className:xt("text-2xl font-semibold leading-none tracking-tight",t),...e}));et.displayName="CardTitle";const lb=S.forwardRef(({className:t,...e},n)=>o.jsx("p",{ref:n,className:xt("text-sm text-muted-foreground",t),...e}));lb.displayName="CardDescription";const ue=S.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:xt("p-6 pt-0",t),...e}));ue.displayName="CardContent";const Vwe=S.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:xt("flex items-center p-6 pt-0",t),...e}));Vwe.displayName="CardFooter";const cb=ow("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),pe=S.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const a=r?Ume:"button";return o.jsx(a,{className:xt(cb({variant:e,size:n,className:t})),ref:s,...i})});pe.displayName="Button";var Wwe=S.createContext(void 0);function Qm(t){const e=S.useContext(Wwe);return t||e||"ltr"}var IT=0;function R2(){S.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??H6()),document.body.insertAdjacentElement("beforeend",t[1]??H6()),IT++,()=>{IT===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),IT--}},[])}function H6(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var LT="focusScope.autoFocusOnMount",FT="focusScope.autoFocusOnUnmount",G6={bubbles:!1,cancelable:!0},$we="FocusScope",yw=S.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=t,[l,c]=S.useState(null),u=Qs(i),d=Qs(s),f=S.useRef(null),h=Wt(e,x=>c(x)),m=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(r){let x=function(_){if(m.paused||!l)return;const E=_.target;l.contains(E)?f.current=E:Ad(f.current,{select:!0})},v=function(_){if(m.paused||!l)return;const E=_.relatedTarget;E!==null&&(l.contains(E)||Ad(f.current,{select:!0}))},g=function(_){if(document.activeElement===document.body)for(const N of _)N.removedNodes.length>0&&Ad(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",v);const w=new MutationObserver(g);return l&&w.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",v),w.disconnect()}}},[r,l,m.paused]),S.useEffect(()=>{if(l){K6.add(m);const x=document.activeElement;if(!l.contains(x)){const g=new CustomEvent(LT,G6);l.addEventListener(LT,u),l.dispatchEvent(g),g.defaultPrevented||(Hwe(Ywe(jY(l)),{select:!0}),document.activeElement===x&&Ad(l))}return()=>{l.removeEventListener(LT,u),setTimeout(()=>{const g=new CustomEvent(FT,G6);l.addEventListener(FT,d),l.dispatchEvent(g),g.defaultPrevented||Ad(x??document.body,{select:!0}),l.removeEventListener(FT,d),K6.remove(m)},0)}}},[l,u,d,m]);const p=S.useCallback(x=>{if(!n&&!r||m.paused)return;const v=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,g=document.activeElement;if(v&&g){const w=x.currentTarget,[_,E]=Gwe(w);_&&E?!x.shiftKey&&g===E?(x.preventDefault(),n&&Ad(_,{select:!0})):x.shiftKey&&g===_&&(x.preventDefault(),n&&Ad(E,{select:!0})):g===w&&x.preventDefault()}},[n,r,m.paused]);return o.jsx(_t.div,{tabIndex:-1,...a,ref:h,onKeyDown:p})});yw.displayName=$we;function Hwe(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ad(r,{select:e}),document.activeElement!==n)return}function Gwe(t){const e=jY(t),n=q6(e,t),r=q6(e.reverse(),t);return[n,r]}function jY(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function q6(t,e){for(const n of t)if(!qwe(n,{upTo:e}))return n}function qwe(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Kwe(t){return t instanceof HTMLInputElement&&"select"in t}function Ad(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Kwe(t)&&e&&t.select()}}var K6=Xwe();function Xwe(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=X6(t,e),t.unshift(e)},remove(e){var n;t=X6(t,e),(n=t[0])==null||n.resume()}}}function X6(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Ywe(t){return t.filter(e=>e.tagName!=="A")}var UT="rovingFocusGroup.onEntryFocus",Zwe={bubbles:!1,cancelable:!0},bw="RovingFocusGroup",[eO,AY,Qwe]=Yv(bw),[Jwe,sx]=qr(bw,[Qwe]),[e1e,t1e]=Jwe(bw),TY=S.forwardRef((t,e)=>o.jsx(eO.Provider,{scope:t.__scopeRovingFocusGroup,children:o.jsx(eO.Slot,{scope:t.__scopeRovingFocusGroup,children:o.jsx(n1e,{...t,ref:e})})}));TY.displayName=bw;var n1e=S.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=t,h=S.useRef(null),m=Wt(e,h),p=Qm(s),[x,v]=Js({prop:a,defaultProp:l??null,onChange:c,caller:bw}),[g,w]=S.useState(!1),_=Qs(u),E=AY(n),N=S.useRef(!1),[C,j]=S.useState(0);return S.useEffect(()=>{const T=h.current;if(T)return T.addEventListener(UT,_),()=>T.removeEventListener(UT,_)},[_]),o.jsx(e1e,{scope:n,orientation:r,dir:p,loop:i,currentTabStopId:x,onItemFocus:S.useCallback(T=>v(T),[v]),onItemShiftTab:S.useCallback(()=>w(!0),[]),onFocusableItemAdd:S.useCallback(()=>j(T=>T+1),[]),onFocusableItemRemove:S.useCallback(()=>j(T=>T-1),[]),children:o.jsx(_t.div,{tabIndex:g||C===0?-1:0,"data-orientation":r,...f,ref:m,style:{outline:"none",...t.style},onMouseDown:ot(t.onMouseDown,()=>{N.current=!0}),onFocus:ot(t.onFocus,T=>{const A=!N.current;if(T.target===T.currentTarget&&A&&!g){const P=new CustomEvent(UT,Zwe);if(T.currentTarget.dispatchEvent(P),!P.defaultPrevented){const R=E().filter(q=>q.focusable),D=R.find(q=>q.active),F=R.find(q=>q.id===x),G=[D,F,...R].filter(Boolean).map(q=>q.ref.current);RY(G,d)}}N.current=!1}),onBlur:ot(t.onBlur,()=>w(!1))})})}),PY="RovingFocusGroupItem",kY=S.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:a,...l}=t,c=to(),u=s||c,d=t1e(PY,n),f=d.currentTabStopId===u,h=AY(n),{onFocusableItemAdd:m,onFocusableItemRemove:p,currentTabStopId:x}=d;return S.useEffect(()=>{if(r)return m(),()=>p()},[r,m,p]),o.jsx(eO.ItemSlot,{scope:n,id:u,focusable:r,active:i,children:o.jsx(_t.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:e,onMouseDown:ot(t.onMouseDown,v=>{r?d.onItemFocus(u):v.preventDefault()}),onFocus:ot(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:ot(t.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const g=s1e(v,d.orientation,d.dir);if(g!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let _=h().filter(E=>E.focusable).map(E=>E.ref.current);if(g==="last")_.reverse();else if(g==="prev"||g==="next"){g==="prev"&&_.reverse();const E=_.indexOf(v.currentTarget);_=d.loop?a1e(_,E+1):_.slice(E+1)}setTimeout(()=>RY(_))}}),children:typeof a=="function"?a({isCurrentTabStop:f,hasTabStop:x!=null}):a})})});kY.displayName=PY;var r1e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function i1e(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function s1e(t,e,n){const r=i1e(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return r1e[r]}function RY(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function a1e(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var k3=TY,R3=kY,o1e=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Dp=new WeakMap,E_=new WeakMap,N_={},BT=0,OY=function(t){return t&&(t.host||OY(t.parentNode))},l1e=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=OY(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},c1e=function(t,e,n,r){var i=l1e(e,Array.isArray(t)?t:[t]);N_[n]||(N_[n]=new WeakMap);var s=N_[n],a=[],l=new Set,c=new Set(i),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};i.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var m=h.getAttribute(r),p=m!==null&&m!=="false",x=(Dp.get(h)||0)+1,v=(s.get(h)||0)+1;Dp.set(h,x),s.set(h,v),a.push(h),x===1&&p&&E_.set(h,!0),v===1&&h.setAttribute(n,"true"),p||h.setAttribute(r,"true")}catch(g){console.error("aria-hidden: cannot operate on ",h,g)}})};return d(e),l.clear(),BT++,function(){a.forEach(function(f){var h=Dp.get(f)-1,m=s.get(f)-1;Dp.set(f,h),s.set(f,m),h||(E_.has(f)||f.removeAttribute(r),E_.delete(f)),m||f.removeAttribute(n)}),BT--,BT||(Dp=new WeakMap,Dp=new WeakMap,E_=new WeakMap,N_={})}},O2=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=o1e(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),c1e(r,i,n,"aria-hidden")):function(){return null}},rc=function(){return rc=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},rc.apply(this,arguments)};function DY(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function u1e(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var oE="right-scroll-bar-position",lE="width-before-scroll-bar",d1e="with-scroll-bars-hidden",f1e="--removed-body-scroll-bar-size";function zT(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function h1e(t,e){var n=S.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var m1e=typeof window<"u"?S.useLayoutEffect:S.useEffect,Y6=new WeakMap;function p1e(t,e){var n=h1e(null,function(r){return t.forEach(function(i){return zT(i,r)})});return m1e(function(){var r=Y6.get(n);if(r){var i=new Set(r),s=new Set(t),a=n.current;i.forEach(function(l){s.has(l)||zT(l,null)}),s.forEach(function(l){i.has(l)||zT(l,a)})}Y6.set(n,t)},[t]),n}function g1e(t){return t}function v1e(t,e){e===void 0&&(e=g1e);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var a=e(s,r);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(s){for(r=!0;n.length;){var a=n;n=[],a.forEach(s)}n={push:function(l){return s(l)},filter:function(){return n}}},assignMedium:function(s){r=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(s),a=n}var c=function(){var d=a;a=[],d.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),n}}}};return i}function x1e(t){t===void 0&&(t={});var e=v1e(null);return e.options=rc({async:!0,ssr:!1},t),e}var IY=function(t){var e=t.sideCar,n=DY(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return S.createElement(r,rc({},n))};IY.isSideCarExport=!0;function y1e(t,e){return t.useMedium(e),IY}var LY=x1e(),VT=function(){},D2=S.forwardRef(function(t,e){var n=S.useRef(null),r=S.useState({onScrollCapture:VT,onWheelCapture:VT,onTouchMoveCapture:VT}),i=r[0],s=r[1],a=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,h=t.sideCar,m=t.noRelative,p=t.noIsolation,x=t.inert,v=t.allowPinchZoom,g=t.as,w=g===void 0?"div":g,_=t.gapMode,E=DY(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=h,C=p1e([n,e]),j=rc(rc({},E),i);return S.createElement(S.Fragment,null,d&&S.createElement(N,{sideCar:LY,removeScrollBar:u,shards:f,noRelative:m,noIsolation:p,inert:x,setCallbacks:s,allowPinchZoom:!!v,lockRef:n,gapMode:_}),a?S.cloneElement(S.Children.only(l),rc(rc({},j),{ref:C})):S.createElement(w,rc({},j,{className:c,ref:C}),l))});D2.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};D2.classNames={fullWidth:lE,zeroRight:oE};var b1e=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function w1e(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=b1e();return e&&t.setAttribute("nonce",e),t}function _1e(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function S1e(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var E1e=function(){var t=0,e=null;return{add:function(n){t==0&&(e=w1e())&&(_1e(e,n),S1e(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},N1e=function(){var t=E1e();return function(e,n){S.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},FY=function(){var t=N1e(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},M1e={left:0,top:0,right:0,gap:0},WT=function(t){return parseInt(t||"",10)||0},C1e=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[WT(n),WT(r),WT(i)]},j1e=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return M1e;var e=C1e(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},A1e=FY(),Kg="data-scroll-locked",T1e=function(t,e,n,r){var i=t.left,s=t.top,a=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(d1e,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Kg,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(oE,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(lE,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(oE," .").concat(oE,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(lE," .").concat(lE,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Kg,`] {
    `).concat(f1e,": ").concat(l,`px;
  }
`)},Z6=function(){var t=parseInt(document.body.getAttribute(Kg)||"0",10);return isFinite(t)?t:0},P1e=function(){S.useEffect(function(){return document.body.setAttribute(Kg,(Z6()+1).toString()),function(){var t=Z6()-1;t<=0?document.body.removeAttribute(Kg):document.body.setAttribute(Kg,t.toString())}},[])},k1e=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;P1e();var s=S.useMemo(function(){return j1e(i)},[i]);return S.createElement(A1e,{styles:T1e(s,!e,i,n?"":"!important")})},tO=!1;if(typeof window<"u")try{var M_=Object.defineProperty({},"passive",{get:function(){return tO=!0,!0}});window.addEventListener("test",M_,M_),window.removeEventListener("test",M_,M_)}catch{tO=!1}var Ip=tO?{passive:!1}:!1,R1e=function(t){return t.tagName==="TEXTAREA"},UY=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!R1e(t)&&n[e]==="visible")},O1e=function(t){return UY(t,"overflowY")},D1e=function(t){return UY(t,"overflowX")},Q6=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=BY(t,r);if(i){var s=zY(t,r),a=s[1],l=s[2];if(a>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},I1e=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},L1e=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},BY=function(t,e){return t==="v"?O1e(e):D1e(e)},zY=function(t,e){return t==="v"?I1e(e):L1e(e)},F1e=function(t,e){return t==="h"&&e==="rtl"?-1:1},U1e=function(t,e,n,r,i){var s=F1e(t,window.getComputedStyle(e).direction),a=s*r,l=n.target,c=e.contains(l),u=!1,d=a>0,f=0,h=0;do{if(!l)break;var m=zY(t,l),p=m[0],x=m[1],v=m[2],g=x-v-s*p;(p||g)&&BY(t,l)&&(f+=g,h+=p);var w=l.parentNode;l=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},C_=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},J6=function(t){return[t.deltaX,t.deltaY]},e8=function(t){return t&&"current"in t?t.current:t},B1e=function(t,e){return t[0]===e[0]&&t[1]===e[1]},z1e=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},V1e=0,Lp=[];function W1e(t){var e=S.useRef([]),n=S.useRef([0,0]),r=S.useRef(),i=S.useState(V1e++)[0],s=S.useState(FY)[0],a=S.useRef(t);S.useEffect(function(){a.current=t},[t]),S.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var x=u1e([t.lockRef.current],(t.shards||[]).map(e8),!0).filter(Boolean);return x.forEach(function(v){return v.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),x.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var l=S.useCallback(function(x,v){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!a.current.allowPinchZoom;var g=C_(x),w=n.current,_="deltaX"in x?x.deltaX:w[0]-g[0],E="deltaY"in x?x.deltaY:w[1]-g[1],N,C=x.target,j=Math.abs(_)>Math.abs(E)?"h":"v";if("touches"in x&&j==="h"&&C.type==="range")return!1;var T=Q6(j,C);if(!T)return!0;if(T?N=j:(N=j==="v"?"h":"v",T=Q6(j,C)),!T)return!1;if(!r.current&&"changedTouches"in x&&(_||E)&&(r.current=N),!N)return!0;var A=r.current||N;return U1e(A,v,x,A==="h"?_:E)},[]),c=S.useCallback(function(x){var v=x;if(!(!Lp.length||Lp[Lp.length-1]!==s)){var g="deltaY"in v?J6(v):C_(v),w=e.current.filter(function(N){return N.name===v.type&&(N.target===v.target||v.target===N.shadowParent)&&B1e(N.delta,g)})[0];if(w&&w.should){v.cancelable&&v.preventDefault();return}if(!w){var _=(a.current.shards||[]).map(e8).filter(Boolean).filter(function(N){return N.contains(v.target)}),E=_.length>0?l(v,_[0]):!a.current.noIsolation;E&&v.cancelable&&v.preventDefault()}}},[]),u=S.useCallback(function(x,v,g,w){var _={name:x,delta:v,target:g,should:w,shadowParent:$1e(g)};e.current.push(_),setTimeout(function(){e.current=e.current.filter(function(E){return E!==_})},1)},[]),d=S.useCallback(function(x){n.current=C_(x),r.current=void 0},[]),f=S.useCallback(function(x){u(x.type,J6(x),x.target,l(x,t.lockRef.current))},[]),h=S.useCallback(function(x){u(x.type,C_(x),x.target,l(x,t.lockRef.current))},[]);S.useEffect(function(){return Lp.push(s),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Ip),document.addEventListener("touchmove",c,Ip),document.addEventListener("touchstart",d,Ip),function(){Lp=Lp.filter(function(x){return x!==s}),document.removeEventListener("wheel",c,Ip),document.removeEventListener("touchmove",c,Ip),document.removeEventListener("touchstart",d,Ip)}},[]);var m=t.removeScrollBar,p=t.inert;return S.createElement(S.Fragment,null,p?S.createElement(s,{styles:z1e(i)}):null,m?S.createElement(k1e,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function $1e(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const H1e=y1e(LY,W1e);var ww=S.forwardRef(function(t,e){return S.createElement(D2,rc({},t,{ref:e,sideCar:H1e}))});ww.classNames=D2.classNames;var nO=["Enter"," "],G1e=["ArrowDown","PageUp","Home"],VY=["ArrowUp","PageDown","End"],q1e=[...G1e,...VY],K1e={ltr:[...nO,"ArrowRight"],rtl:[...nO,"ArrowLeft"]},X1e={ltr:["ArrowLeft"],rtl:["ArrowRight"]},_w="Menu",[ub,Y1e,Z1e]=Yv(_w),[Jm,WY]=qr(_w,[Z1e,Af,sx]),I2=Af(),$Y=sx(),[Q1e,ep]=Jm(_w),[J1e,Sw]=Jm(_w),HY=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:s,modal:a=!0}=t,l=I2(e),[c,u]=S.useState(null),d=S.useRef(!1),f=Qs(s),h=Qm(i);return S.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",p,{capture:!0,once:!0}),document.addEventListener("pointermove",p,{capture:!0,once:!0})},p=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",p,{capture:!0}),document.removeEventListener("pointermove",p,{capture:!0})}},[]),o.jsx(w3,{...l,children:o.jsx(Q1e,{scope:e,open:n,onOpenChange:f,content:c,onContentChange:u,children:o.jsx(J1e,{scope:e,onClose:S.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:a,children:r})})})};HY.displayName=_w;var e_e="MenuAnchor",O3=S.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=I2(n);return o.jsx(fw,{...i,...r,ref:e})});O3.displayName=e_e;var D3="MenuPortal",[t_e,GY]=Jm(D3,{forceMount:void 0}),qY=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,s=ep(D3,e);return o.jsx(t_e,{scope:e,forceMount:n,children:o.jsx(js,{present:n||s.open,children:o.jsx(Zv,{asChild:!0,container:i,children:r})})})};qY.displayName=D3;var zo="MenuContent",[n_e,I3]=Jm(zo),KY=S.forwardRef((t,e)=>{const n=GY(zo,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=ep(zo,t.__scopeMenu),a=Sw(zo,t.__scopeMenu);return o.jsx(ub.Provider,{scope:t.__scopeMenu,children:o.jsx(js,{present:r||s.open,children:o.jsx(ub.Slot,{scope:t.__scopeMenu,children:a.modal?o.jsx(r_e,{...i,ref:e}):o.jsx(i_e,{...i,ref:e})})})})}),r_e=S.forwardRef((t,e)=>{const n=ep(zo,t.__scopeMenu),r=S.useRef(null),i=Wt(e,r);return S.useEffect(()=>{const s=r.current;if(s)return O2(s)},[]),o.jsx(L3,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ot(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),i_e=S.forwardRef((t,e)=>{const n=ep(zo,t.__scopeMenu);return o.jsx(L3,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),s_e=hf("MenuContent.ScrollLock"),L3=S.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,disableOutsideScroll:p,...x}=t,v=ep(zo,n),g=Sw(zo,n),w=I2(n),_=$Y(n),E=Y1e(n),[N,C]=S.useState(null),j=S.useRef(null),T=Wt(e,j,v.onContentChange),A=S.useRef(0),P=S.useRef(""),R=S.useRef(0),D=S.useRef(null),F=S.useRef("right"),I=S.useRef(0),G=p?ww:S.Fragment,q=p?{as:s_e,allowPinchZoom:!0}:void 0,$=V=>{var te,he;const K=P.current+V,W=E().filter(oe=>!oe.disabled),B=document.activeElement,ee=(te=W.find(oe=>oe.ref.current===B))==null?void 0:te.textValue,Y=W.map(oe=>oe.textValue),Q=v_e(Y,K,ee),de=(he=W.find(oe=>oe.textValue===Q))==null?void 0:he.ref.current;(function oe(fe){P.current=fe,window.clearTimeout(A.current),fe!==""&&(A.current=window.setTimeout(()=>oe(""),1e3))})(K),de&&setTimeout(()=>de.focus())};S.useEffect(()=>()=>window.clearTimeout(A.current),[]),R2();const L=S.useCallback(V=>{var W,B;return F.current===((W=D.current)==null?void 0:W.side)&&y_e(V,(B=D.current)==null?void 0:B.area)},[]);return o.jsx(n_e,{scope:n,searchRef:P,onItemEnter:S.useCallback(V=>{L(V)&&V.preventDefault()},[L]),onItemLeave:S.useCallback(V=>{var K;L(V)||((K=j.current)==null||K.focus(),C(null))},[L]),onTriggerLeave:S.useCallback(V=>{L(V)&&V.preventDefault()},[L]),pointerGraceTimerRef:R,onPointerGraceIntentChange:S.useCallback(V=>{D.current=V},[]),children:o.jsx(G,{...q,children:o.jsx(yw,{asChild:!0,trapped:i,onMountAutoFocus:ot(s,V=>{var K;V.preventDefault(),(K=j.current)==null||K.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:o.jsx(Km,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,children:o.jsx(k3,{asChild:!0,..._,dir:g.dir,orientation:"vertical",loop:r,currentTabStopId:N,onCurrentTabStopIdChange:C,onEntryFocus:ot(c,V=>{g.isUsingKeyboardRef.current||V.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(y2,{role:"menu","aria-orientation":"vertical","data-state":uZ(v.open),"data-radix-menu-content":"",dir:g.dir,...w,...x,ref:T,style:{outline:"none",...x.style},onKeyDown:ot(x.onKeyDown,V=>{const W=V.target.closest("[data-radix-menu-content]")===V.currentTarget,B=V.ctrlKey||V.altKey||V.metaKey,ee=V.key.length===1;W&&(V.key==="Tab"&&V.preventDefault(),!B&&ee&&$(V.key));const Y=j.current;if(V.target!==Y||!q1e.includes(V.key))return;V.preventDefault();const de=E().filter(te=>!te.disabled).map(te=>te.ref.current);VY.includes(V.key)&&de.reverse(),p_e(de)}),onBlur:ot(t.onBlur,V=>{V.currentTarget.contains(V.target)||(window.clearTimeout(A.current),P.current="")}),onPointerMove:ot(t.onPointerMove,db(V=>{const K=V.target,W=I.current!==V.clientX;if(V.currentTarget.contains(K)&&W){const B=V.clientX>I.current?"right":"left";F.current=B,I.current=V.clientX}}))})})})})})})});KY.displayName=zo;var a_e="MenuGroup",F3=S.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return o.jsx(_t.div,{role:"group",...r,ref:e})});F3.displayName=a_e;var o_e="MenuLabel",XY=S.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return o.jsx(_t.div,{...r,ref:e})});XY.displayName=o_e;var sN="MenuItem",t8="menu.itemSelect",L2=S.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,s=S.useRef(null),a=Sw(sN,t.__scopeMenu),l=I3(sN,t.__scopeMenu),c=Wt(e,s),u=S.useRef(!1),d=()=>{const f=s.current;if(!n&&f){const h=new CustomEvent(t8,{bubbles:!0,cancelable:!0});f.addEventListener(t8,m=>r==null?void 0:r(m),{once:!0}),n3(f,h),h.defaultPrevented?u.current=!1:a.onClose()}};return o.jsx(YY,{...i,ref:c,disabled:n,onClick:ot(t.onClick,d),onPointerDown:f=>{var h;(h=t.onPointerDown)==null||h.call(t,f),u.current=!0},onPointerUp:ot(t.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:ot(t.onKeyDown,f=>{const h=l.searchRef.current!=="";n||h&&f.key===" "||nO.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});L2.displayName=sN;var YY=S.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=t,a=I3(sN,n),l=$Y(n),c=S.useRef(null),u=Wt(e,c),[d,f]=S.useState(!1),[h,m]=S.useState("");return S.useEffect(()=>{const p=c.current;p&&m((p.textContent??"").trim())},[s.children]),o.jsx(ub.ItemSlot,{scope:n,disabled:r,textValue:i??h,children:o.jsx(R3,{asChild:!0,...l,focusable:!r,children:o.jsx(_t.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:u,onPointerMove:ot(t.onPointerMove,db(p=>{r?a.onItemLeave(p):(a.onItemEnter(p),p.defaultPrevented||p.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ot(t.onPointerLeave,db(p=>a.onItemLeave(p))),onFocus:ot(t.onFocus,()=>f(!0)),onBlur:ot(t.onBlur,()=>f(!1))})})})}),l_e="MenuCheckboxItem",ZY=S.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return o.jsx(nZ,{scope:t.__scopeMenu,checked:n,children:o.jsx(L2,{role:"menuitemcheckbox","aria-checked":aN(n)?"mixed":n,...i,ref:e,"data-state":B3(n),onSelect:ot(i.onSelect,()=>r==null?void 0:r(aN(n)?!0:!n),{checkForDefaultPrevented:!1})})})});ZY.displayName=l_e;var QY="MenuRadioGroup",[c_e,u_e]=Jm(QY,{value:void 0,onValueChange:()=>{}}),JY=S.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,s=Qs(r);return o.jsx(c_e,{scope:t.__scopeMenu,value:n,onValueChange:s,children:o.jsx(F3,{...i,ref:e})})});JY.displayName=QY;var eZ="MenuRadioItem",tZ=S.forwardRef((t,e)=>{const{value:n,...r}=t,i=u_e(eZ,t.__scopeMenu),s=n===i.value;return o.jsx(nZ,{scope:t.__scopeMenu,checked:s,children:o.jsx(L2,{role:"menuitemradio","aria-checked":s,...r,ref:e,"data-state":B3(s),onSelect:ot(r.onSelect,()=>{var a;return(a=i.onValueChange)==null?void 0:a.call(i,n)},{checkForDefaultPrevented:!1})})})});tZ.displayName=eZ;var U3="MenuItemIndicator",[nZ,d_e]=Jm(U3,{checked:!1}),rZ=S.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,s=d_e(U3,n);return o.jsx(js,{present:r||aN(s.checked)||s.checked===!0,children:o.jsx(_t.span,{...i,ref:e,"data-state":B3(s.checked)})})});rZ.displayName=U3;var f_e="MenuSeparator",iZ=S.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return o.jsx(_t.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});iZ.displayName=f_e;var h_e="MenuArrow",sZ=S.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=I2(n);return o.jsx(b2,{...i,...r,ref:e})});sZ.displayName=h_e;var m_e="MenuSub",[art,aZ]=Jm(m_e),Wy="MenuSubTrigger",oZ=S.forwardRef((t,e)=>{const n=ep(Wy,t.__scopeMenu),r=Sw(Wy,t.__scopeMenu),i=aZ(Wy,t.__scopeMenu),s=I3(Wy,t.__scopeMenu),a=S.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=s,u={__scopeMenu:t.__scopeMenu},d=S.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return S.useEffect(()=>d,[d]),S.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),o.jsx(O3,{asChild:!0,...u,children:o.jsx(YY,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":uZ(n.open),...t,ref:c2(e,i.onTriggerChange),onClick:f=>{var h;(h=t.onClick)==null||h.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ot(t.onPointerMove,db(f=>{s.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!n.open&&!a.current&&(s.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:ot(t.onPointerLeave,db(f=>{var m,p;d();const h=(m=n.content)==null?void 0:m.getBoundingClientRect();if(h){const x=(p=n.content)==null?void 0:p.dataset.side,v=x==="right",g=v?-5:5,w=h[v?"left":"right"],_=h[v?"right":"left"];s.onPointerGraceIntentChange({area:[{x:f.clientX+g,y:f.clientY},{x:w,y:h.top},{x:_,y:h.top},{x:_,y:h.bottom},{x:w,y:h.bottom}],side:x}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(f),f.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:ot(t.onKeyDown,f=>{var m;const h=s.searchRef.current!=="";t.disabled||h&&f.key===" "||K1e[r.dir].includes(f.key)&&(n.onOpenChange(!0),(m=n.content)==null||m.focus(),f.preventDefault())})})})});oZ.displayName=Wy;var lZ="MenuSubContent",cZ=S.forwardRef((t,e)=>{const n=GY(zo,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=ep(zo,t.__scopeMenu),a=Sw(zo,t.__scopeMenu),l=aZ(lZ,t.__scopeMenu),c=S.useRef(null),u=Wt(e,c);return o.jsx(ub.Provider,{scope:t.__scopeMenu,children:o.jsx(js,{present:r||s.open,children:o.jsx(ub.Slot,{scope:t.__scopeMenu,children:o.jsx(L3,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:u,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;a.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:ot(t.onFocusOutside,d=>{d.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:ot(t.onEscapeKeyDown,d=>{a.onClose(),d.preventDefault()}),onKeyDown:ot(t.onKeyDown,d=>{var m;const f=d.currentTarget.contains(d.target),h=X1e[a.dir].includes(d.key);f&&h&&(s.onOpenChange(!1),(m=l.trigger)==null||m.focus(),d.preventDefault())})})})})})});cZ.displayName=lZ;function uZ(t){return t?"open":"closed"}function aN(t){return t==="indeterminate"}function B3(t){return aN(t)?"indeterminate":t?"checked":"unchecked"}function p_e(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function g_e(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function v_e(t,e,n){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let a=g_e(t,Math.max(s,0));i.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function x_e(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const l=e[s],c=e[a],u=l.x,d=l.y,f=c.x,h=c.y;d>r!=h>r&&n<(f-u)*(r-d)/(h-d)+u&&(i=!i)}return i}function y_e(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return x_e(n,e)}function db(t){return e=>e.pointerType==="mouse"?t(e):void 0}var b_e=HY,w_e=O3,__e=qY,S_e=KY,E_e=F3,N_e=XY,M_e=L2,C_e=ZY,j_e=JY,A_e=tZ,T_e=rZ,P_e=iZ,k_e=sZ,R_e=oZ,O_e=cZ,F2="DropdownMenu",[D_e,ort]=qr(F2,[WY]),ra=WY(),[I_e,dZ]=D_e(F2),fZ=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:a,modal:l=!0}=t,c=ra(e),u=S.useRef(null),[d,f]=Js({prop:i,defaultProp:s??!1,onChange:a,caller:F2});return o.jsx(I_e,{scope:e,triggerId:to(),triggerRef:u,contentId:to(),open:d,onOpenChange:f,onOpenToggle:S.useCallback(()=>f(h=>!h),[f]),modal:l,children:o.jsx(b_e,{...c,open:d,onOpenChange:f,dir:r,modal:l,children:n})})};fZ.displayName=F2;var hZ="DropdownMenuTrigger",mZ=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,s=dZ(hZ,n),a=ra(n);return o.jsx(w_e,{asChild:!0,...a,children:o.jsx(_t.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:c2(e,s.triggerRef),onPointerDown:ot(t.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(s.onOpenToggle(),s.open||l.preventDefault())}),onKeyDown:ot(t.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&s.onOpenToggle(),l.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});mZ.displayName=hZ;var L_e="DropdownMenuPortal",pZ=t=>{const{__scopeDropdownMenu:e,...n}=t,r=ra(e);return o.jsx(__e,{...r,...n})};pZ.displayName=L_e;var gZ="DropdownMenuContent",vZ=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=dZ(gZ,n),s=ra(n),a=S.useRef(!1);return o.jsx(S_e,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:e,onCloseAutoFocus:ot(t.onCloseAutoFocus,l=>{var c;a.current||(c=i.triggerRef.current)==null||c.focus(),a.current=!1,l.preventDefault()}),onInteractOutside:ot(t.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!i.modal||d)&&(a.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});vZ.displayName=gZ;var F_e="DropdownMenuGroup",U_e=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ra(n);return o.jsx(E_e,{...i,...r,ref:e})});U_e.displayName=F_e;var B_e="DropdownMenuLabel",xZ=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ra(n);return o.jsx(N_e,{...i,...r,ref:e})});xZ.displayName=B_e;var z_e="DropdownMenuItem",yZ=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ra(n);return o.jsx(M_e,{...i,...r,ref:e})});yZ.displayName=z_e;var V_e="DropdownMenuCheckboxItem",bZ=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ra(n);return o.jsx(C_e,{...i,...r,ref:e})});bZ.displayName=V_e;var W_e="DropdownMenuRadioGroup",$_e=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ra(n);return o.jsx(j_e,{...i,...r,ref:e})});$_e.displayName=W_e;var H_e="DropdownMenuRadioItem",wZ=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ra(n);return o.jsx(A_e,{...i,...r,ref:e})});wZ.displayName=H_e;var G_e="DropdownMenuItemIndicator",_Z=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ra(n);return o.jsx(T_e,{...i,...r,ref:e})});_Z.displayName=G_e;var q_e="DropdownMenuSeparator",SZ=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ra(n);return o.jsx(P_e,{...i,...r,ref:e})});SZ.displayName=q_e;var K_e="DropdownMenuArrow",X_e=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ra(n);return o.jsx(k_e,{...i,...r,ref:e})});X_e.displayName=K_e;var Y_e="DropdownMenuSubTrigger",EZ=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ra(n);return o.jsx(R_e,{...i,...r,ref:e})});EZ.displayName=Y_e;var Z_e="DropdownMenuSubContent",NZ=S.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ra(n);return o.jsx(O_e,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});NZ.displayName=Z_e;var Q_e=fZ,J_e=mZ,eSe=pZ,MZ=vZ,CZ=xZ,jZ=yZ,AZ=bZ,TZ=wZ,PZ=_Z,kZ=SZ,RZ=EZ,OZ=NZ;const DZ=Q_e,IZ=J_e,tSe=S.forwardRef(({className:t,inset:e,children:n,...r},i)=>o.jsxs(RZ,{ref:i,className:xt("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,o.jsx(Ql,{className:"ml-auto h-4 w-4"})]}));tSe.displayName=RZ.displayName;const nSe=S.forwardRef(({className:t,...e},n)=>o.jsx(OZ,{ref:n,className:xt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));nSe.displayName=OZ.displayName;const z3=S.forwardRef(({className:t,sideOffset:e=4,...n},r)=>o.jsx(eSe,{children:o.jsx(MZ,{ref:r,sideOffset:e,className:xt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));z3.displayName=MZ.displayName;const Xg=S.forwardRef(({className:t,inset:e,...n},r)=>o.jsx(jZ,{ref:r,className:xt("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));Xg.displayName=jZ.displayName;const rSe=S.forwardRef(({className:t,children:e,checked:n,...r},i)=>o.jsxs(AZ,{ref:i,className:xt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(PZ,{children:o.jsx(f2,{className:"h-4 w-4"})})}),e]}));rSe.displayName=AZ.displayName;const iSe=S.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(TZ,{ref:r,className:xt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(PZ,{children:o.jsx(o3,{className:"h-2 w-2 fill-current"})})}),e]}));iSe.displayName=TZ.displayName;const sSe=S.forwardRef(({className:t,inset:e,...n},r)=>o.jsx(CZ,{ref:r,className:xt("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));sSe.displayName=CZ.displayName;const rO=S.forwardRef(({className:t,...e},n)=>o.jsx(kZ,{ref:n,className:xt("-mx-1 my-1 h-px bg-muted",t),...e}));rO.displayName=kZ.displayName;function V3(){const[t,e]=S.useState(!0);S.useEffect(()=>{const r=localStorage.getItem("theme");r?(e(r==="dark"),document.documentElement.className=r==="dark"?"":"light"):(document.documentElement.className="",localStorage.setItem("theme","dark"))},[]);const n=()=>{const r=t?"light":"dark";e(!t),document.documentElement.className=r==="dark"?"":"light",localStorage.setItem("theme",r)};return o.jsxs(pe,{variant:"ghost",size:"icon",onClick:n,className:"relative smooth-transition hover:bg-accent/20",children:[o.jsx(Wpe,{className:`h-5 w-5 transition-all duration-300 ${t?"scale-0 opacity-0":"scale-100 opacity-100"}`}),o.jsx(Am,{className:`absolute h-5 w-5 transition-all duration-300 ${t?"scale-100 opacity-100":"scale-0 opacity-0"}`}),o.jsx("span",{className:"sr-only",children:"Alternar tema"})]})}const aSe="/assets/butterfly-hero-rj-ek_dO.png",cm="/assets/butterfly-logo-Byj23twQ.png",oSe="/assets/mirror-reflection-D4Ncjn96.png",lSe="/assets/pilates-equipment-Cli2zE4q.png",cSe="/assets/group-silhouette-Cm4WpUTN.png",uSe=()=>{const{user:t}=Or(),[e,n]=S.useState(!1);return o.jsxs("div",{className:"min-h-screen bg-white",children:[o.jsx("header",{className:"container mx-auto px-6 py-4 bg-white border-b border-border",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"relative cursor-pointer group",onClick:()=>n(!0),title:"Acesso Administrativo",children:[o.jsx("img",{src:cm,alt:"Instituto dos Sonhos",className:"w-8 h-8 transition-transform duration-300 group-hover:scale-110 group-hover:rotate-12"}),o.jsx("div",{className:`absolute -inset-2 bg-instituto-orange-light/0 rounded-full 
                            group-hover:bg-instituto-orange-light/50 transition-all duration-300`})]}),o.jsx("span",{className:"text-xl font-bold text-instituto-dark",children:"Instituto dos Sonhos"})]}),o.jsxs("nav",{className:"flex gap-4 items-center",children:[o.jsx(V3,{}),o.jsx(pe,{variant:"ghost",className:"text-instituto-dark hover:bg-instituto-orange-light",children:"Home"}),t?o.jsxs(DZ,{children:[o.jsx(IZ,{asChild:!0,children:o.jsxs(pe,{className:"instituto-button",children:[o.jsx(ao,{className:"mr-2 h-4 w-4"}),"Menu",o.jsx(h2,{className:"ml-2 h-4 w-4"})]})}),o.jsxs(z3,{align:"end",className:"w-48 bg-white border border-border",children:[o.jsx(Xg,{asChild:!0,children:o.jsxs(Yl,{to:"/dashboard",className:"flex items-center text-instituto-dark hover:bg-instituto-orange-light",children:[o.jsx(Nn,{className:"mr-2 h-4 w-4"}),"Dashboard"]})}),o.jsx(Xg,{asChild:!0,children:o.jsxs(Yl,{to:"/admin",className:"flex items-center text-instituto-dark hover:bg-instituto-orange-light",children:[o.jsx(Ja,{className:"mr-2 h-4 w-4"}),"Admin"]})})]})]}):o.jsx(Yl,{to:"/auth",children:o.jsxs(pe,{className:"instituto-button",children:[o.jsx(ao,{className:"mr-2 h-4 w-4"}),"Entrar"]})})]})]})}),o.jsxs("section",{className:"relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-instituto-warm/30 to-instituto-cream/50"}),o.jsx("div",{className:"container mx-auto px-6 py-20",children:o.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center relative z-10",children:[o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("h1",{className:"text-5xl lg:text-6xl font-bold text-instituto-dark leading-tight",children:"INSTITUTO DOS SONHOS"}),o.jsx("p",{className:"text-lg text-instituto-dark/80 leading-relaxed",children:"Transforme sua vida através da nossa metodologia exclusiva de desenvolvimento pessoal e bem-estar integral."})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[o.jsx(Yl,{to:t?"/dashboard":"/auth",children:o.jsxs(pe,{size:"lg",className:"bg-instituto-orange hover:bg-instituto-orange-hover text-white px-8 py-4 text-lg font-semibold shadow-warm",children:[o.jsx(Ja,{className:"mr-2 h-5 w-5"}),t?"ACESSAR DASHBOARD":"ÁREA DO CLIENTE",o.jsx(sf,{className:"ml-2 h-5 w-5"})]})}),o.jsxs(pe,{size:"lg",variant:"outline",className:"border-instituto-orange text-instituto-orange hover:bg-instituto-orange hover:text-white px-8 py-4 text-lg font-semibold",disabled:!0,children:[o.jsx(eo,{className:"mr-2 h-5 w-5"}),"EM BREVE - ÁREA VISITANTE"]})]})]}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-instituto-gold/20 to-transparent rounded-full blur-3xl"}),o.jsx("img",{src:aSe,alt:"Transformação",className:"relative z-10 w-full max-w-lg mx-auto drop-shadow-2xl"})]})]})})]}),o.jsxs("section",{className:"bg-instituto-dark py-20 relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-dark"}),o.jsxs("div",{className:"container mx-auto px-6 text-center relative z-10",children:[o.jsx("blockquote",{className:"text-3xl lg:text-4xl font-light text-white leading-relaxed max-w-4xl mx-auto",children:'"TUDO COMEÇA COM UMA ESCOLHA"'}),o.jsx("p",{className:"text-instituto-light/80 mt-6 text-lg max-w-2xl mx-auto",children:"O primeiro passo para a transformação é decidir que você merece viver a vida dos seus sonhos. Nós estamos aqui para guiá-lo nessa jornada única de autodescoberta e crescimento."})]}),o.jsx("div",{className:"absolute bottom-0 right-0 w-32 h-32 bg-instituto-gold/10 rounded-full blur-xl"})]}),o.jsx("section",{className:"py-20 bg-instituto-light/30",children:o.jsxs("div",{className:"container mx-auto px-6",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("h2",{className:"text-4xl font-bold text-instituto-dark mb-4",children:"PROGRAMAS DE TRANSFORMAÇÃO"}),o.jsx("p",{className:"text-lg text-instituto-dark/70 max-w-2xl mx-auto",children:"Nossos programas são cuidadosamente desenvolvidos para atender às suas necessidades específicas de crescimento."})]}),o.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[o.jsxs(le,{className:"overflow-hidden group hover:shadow-warm transition-all duration-300",children:[o.jsx("div",{className:"aspect-[4/3] overflow-hidden",children:o.jsx("img",{src:oSe,alt:"Processo de Recomeço",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})}),o.jsxs(ue,{className:"p-6",children:[o.jsx("h3",{className:"text-xl font-bold text-instituto-dark mb-3",children:"PROCESSO DE RECOMEÇO"}),o.jsx("p",{className:"text-instituto-dark/70 mb-4 leading-relaxed",children:"Um programa transformador que te ajuda a ressignificar sua vida, deixando para trás padrões limitantes e abraçando novas possibilidades."}),o.jsx("div",{className:"flex gap-2",children:o.jsx(Yl,{to:"/auth",className:"flex-1",children:o.jsx(pe,{className:"w-full bg-instituto-orange hover:bg-instituto-orange-hover",children:"COMEÇAR"})})})]})]}),o.jsxs(le,{className:"overflow-hidden group hover:shadow-warm transition-all duration-300",children:[o.jsx("div",{className:"aspect-[4/3] overflow-hidden",children:o.jsx("img",{src:cSe,alt:"Terapia e Autoconhecimento",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})}),o.jsxs(ue,{className:"p-6",children:[o.jsx("h3",{className:"text-xl font-bold text-instituto-dark mb-3",children:"TERAPIA E AUTOCONHECIMENTO"}),o.jsx("p",{className:"text-instituto-dark/70 mb-4 leading-relaxed",children:"Sessões personalizadas que promovem o autoconhecimento profundo, trabalhando crenças limitantes e desenvolvendo sua melhor versão."}),o.jsx("div",{className:"flex gap-2",children:o.jsx(Yl,{to:"/auth",className:"flex-1",children:o.jsx(pe,{className:"w-full bg-instituto-orange hover:bg-instituto-orange-hover",children:"COMEÇAR"})})})]})]}),o.jsxs(le,{className:"overflow-hidden group hover:shadow-warm transition-all duration-300",children:[o.jsx("div",{className:"aspect-[4/3] overflow-hidden",children:o.jsx("img",{src:lSe,alt:"Atividade Física",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})}),o.jsxs(ue,{className:"p-6",children:[o.jsx("h3",{className:"text-xl font-bold text-instituto-dark mb-3",children:"ATIVIDADE FÍSICA E BEM-ESTAR"}),o.jsx("p",{className:"text-instituto-dark/70 mb-4 leading-relaxed",children:"Programas de exercícios personalizados que fortalecem não apenas o corpo, mas também a mente e o espírito."}),o.jsx("div",{className:"flex gap-2",children:o.jsx(Yl,{to:"/auth",className:"flex-1",children:o.jsx(pe,{className:"w-full bg-instituto-orange hover:bg-instituto-orange-hover",children:"PARTICIPAR"})})})]})]})]})]})}),o.jsx("section",{className:"py-20 bg-instituto-orange",children:o.jsx("div",{className:"container mx-auto px-6",children:o.jsxs("div",{className:"text-center text-white",children:[o.jsx("h2",{className:"text-4xl font-bold mb-4",children:"TUDO O QUE VOCÊ PRECISA EM UM SÓ LUGAR"}),o.jsx("p",{className:"text-xl text-white/90 mb-12 max-w-3xl mx-auto",children:"Uma metodologia completa que integra desenvolvimento pessoal, bem-estar físico e mental"}),o.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8 mb-12",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-white/20 rounded-full flex items-center justify-center",children:o.jsx(ur,{className:"w-8 h-8 text-white"})}),o.jsx("div",{className:"text-3xl font-bold mb-2",children:"500+"}),o.jsx("div",{className:"text-white/90",children:"Vidas Transformadas"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-white/20 rounded-full flex items-center justify-center",children:o.jsx(Io,{className:"w-8 h-8 text-white"})}),o.jsx("div",{className:"text-3xl font-bold mb-2",children:"4.9"}),o.jsx("div",{className:"text-white/90",children:"Avaliação Média"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-white/20 rounded-full flex items-center justify-center",children:o.jsx(Nn,{className:"w-8 h-8 text-white"})}),o.jsx("div",{className:"text-3xl font-bold mb-2",children:"95%"}),o.jsx("div",{className:"text-white/90",children:"Taxa de Sucesso"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-white/20 rounded-full flex items-center justify-center",children:o.jsx(Es,{className:"w-8 h-8 text-white"})}),o.jsx("div",{className:"text-3xl font-bold mb-2",children:"100%"}),o.jsx("div",{className:"text-white/90",children:"Satisfação"})]})]}),o.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:o.jsx(Yl,{to:"/auth",children:o.jsxs(pe,{size:"lg",variant:"outline",className:"bg-white text-instituto-orange border-white hover:bg-instituto-light px-8 py-4 text-lg font-semibold",children:["COMECE SUA TRANSFORMAÇÃO",o.jsx(gu,{className:"ml-2 h-5 w-5"})]})})})]})})}),o.jsx("section",{className:"py-20 bg-instituto-light/50",children:o.jsx("div",{className:"container mx-auto px-6",children:o.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[o.jsx("blockquote",{className:"text-2xl lg:text-3xl font-light text-instituto-dark leading-relaxed mb-8",children:'"O Instituto dos Sonhos mudou completamente minha perspectiva sobre mim mesma. Descobri forças que não sabia que tinha e aprendi a amar cada etapa da minha jornada."'}),o.jsxs("div",{className:"flex items-center justify-center gap-4",children:[o.jsx("div",{className:"w-12 h-12 bg-instituto-gold rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold",children:"MC"})}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"font-bold text-instituto-dark",children:"Maria Clara"}),o.jsx("div",{className:"text-instituto-dark/70",children:"Empresária, 34 anos"})]})]})]})})}),o.jsx("section",{className:"py-20 bg-instituto-dark",children:o.jsxs("div",{className:"container mx-auto px-6 text-center",children:[o.jsx("h2",{className:"text-4xl font-bold text-white mb-6",children:"QUER ENTRAR? VOCÊ É TRANSFORMAÇÃO POR COMPLETO"}),o.jsx("p",{className:"text-xl text-instituto-light/90 mb-8 max-w-2xl mx-auto",children:"Dê o primeiro passo rumo à vida que você sempre sonhou. Sua jornada de transformação começa agora."}),o.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:o.jsx(Yl,{to:"/auth",children:o.jsxs(pe,{size:"lg",className:"bg-instituto-orange hover:bg-instituto-orange-hover text-white px-12 py-4 text-xl font-bold shadow-warm",children:[o.jsx(Ja,{className:"mr-2 h-5 w-5"}),"ENTRAR NO INSTITUTO"]})})})]})}),o.jsx("footer",{className:"py-12 bg-instituto-dark border-t border-white/10",children:o.jsx("div",{className:"container mx-auto px-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4 md:mb-0",children:[o.jsx("img",{src:cm,alt:"Instituto dos Sonhos",className:"w-6 h-6"}),o.jsx("span",{className:"text-instituto-light font-semibold",children:"Instituto dos Sonhos"})]}),o.jsx("div",{className:"text-instituto-light/70 text-sm",children:"© 2024 Instituto dos Sonhos. Todos os direitos reservados."})]})})})]})},dSe=()=>{const t=Ym(),{user:e}=Or(),{isComplete:n,isLoading:r,clearCache:i}=Uwe(),{dadosSaude:s,refetch:a}=xw(),[l,c]=S.useState(!1);return S.useEffect(()=>{e&&!l&&(console.log("🔄 Forçando atualização dos dados..."),localStorage.getItem("dados_recem_salvos")&&(console.log("📊 Dados recém-salvos detectados!"),localStorage.removeItem("dados_recem_salvos")),i(),a(),c(!0))},[e,i,a,l]),S.useEffect(()=>{e&&!r&&l&&(console.log("Usuário autenticado detectado na página inicial:",{userId:e.id,isPhysicalDataComplete:n,hasDadosSaude:!!s,hasRefetched:l}),localStorage.getItem("dados_recem_salvos")&&localStorage.removeItem("dados_recem_salvos"),console.log("✅ Usuário pode permanecer na home"))},[e,n,r,t,s,l]),o.jsx(uSe,{})},fSe=()=>o.jsx(dSe,{});var hSe="Label",LZ=S.forwardRef((t,e)=>o.jsx(_t.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));LZ.displayName=hSe;var FZ=LZ;const mSe=ow("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ce=S.forwardRef(({className:t,...e},n)=>o.jsx(FZ,{ref:n,className:xt(mSe(),t),...e}));Ce.displayName=FZ.displayName;const mn=S.forwardRef(({className:t,...e},n)=>o.jsx("textarea",{className:xt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));mn.displayName="Textarea";function Cn(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function oo(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function zs(t,e){const n=Cn(t);return isNaN(e)?oo(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function kl(t,e){const n=Cn(t);if(isNaN(e))return oo(t,NaN);if(!e)return n;const r=n.getDate(),i=oo(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const s=i.getDate();return r>=s?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}const W3=6048e5,pSe=864e5,UZ=6e4,BZ=36e5;let gSe={};function Ew(){return gSe}function Rl(t,e){var l,c,u,d;const n=Ew(),r=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=Cn(t),s=i.getDay(),a=(s<r?7:0)+s-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function km(t){return Rl(t,{weekStartsOn:1})}function zZ(t){const e=Cn(t),n=e.getFullYear(),r=oo(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=km(r),s=oo(t,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const a=km(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function Sv(t){const e=Cn(t);return e.setHours(0,0,0,0),e}function oN(t){const e=Cn(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function uc(t,e){const n=Sv(t),r=Sv(e),i=+n-oN(n),s=+r-oN(r);return Math.round((i-s)/pSe)}function vSe(t){const e=zZ(t),n=oo(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),km(n)}function um(t,e){const n=e*7;return zs(t,n)}function xSe(t,e){return kl(t,e*12)}function ySe(t){let e;return t.forEach(function(n){const r=Cn(n);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function bSe(t){let e;return t.forEach(n=>{const r=Cn(n);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function _a(t,e){const n=Sv(t),r=Sv(e);return+n==+r}function $3(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function wSe(t){if(!$3(t)&&typeof t!="number")return!1;const e=Cn(t);return!isNaN(Number(e))}function fb(t,e){const n=Cn(t),r=Cn(e),i=n.getFullYear()-r.getFullYear(),s=n.getMonth()-r.getMonth();return i*12+s}function _Se(t,e,n){const r=Rl(t,n),i=Rl(e,n),s=+r-oN(r),a=+i-oN(i);return Math.round((s-a)/W3)}function H3(t){const e=Cn(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function Ta(t){const e=Cn(t);return e.setDate(1),e.setHours(0,0,0,0),e}function VZ(t){const e=Cn(t),n=oo(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function G3(t,e){var l,c,u,d;const n=Ew(),r=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=Cn(t),s=i.getDay(),a=(s<r?-7:0)+6-(s-r);return i.setDate(i.getDate()+a),i.setHours(23,59,59,999),i}function WZ(t){return G3(t,{weekStartsOn:1})}const SSe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ESe=(t,e,n)=>{let r;const i=SSe[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Yg(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const NSe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},MSe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},CSe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},jSe={date:Yg({formats:NSe,defaultWidth:"full"}),time:Yg({formats:MSe,defaultWidth:"full"}),dateTime:Yg({formats:CSe,defaultWidth:"full"})},ASe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},TSe=(t,e,n,r)=>ASe[t];function ic(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,l=n!=null&&n.width?String(n.width):a;i=t.formattingValues[l]||t.formattingValues[a]}else{const a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const PSe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},kSe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},RSe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},OSe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},DSe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ISe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},LSe=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},FSe={ordinalNumber:LSe,era:ic({values:PSe,defaultWidth:"wide"}),quarter:ic({values:kSe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ic({values:RSe,defaultWidth:"wide"}),day:ic({values:OSe,defaultWidth:"wide"}),dayPeriod:ic({values:DSe,defaultWidth:"wide",formattingValues:ISe,defaultFormattingWidth:"wide"})};function sc(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?BSe(l,f=>f.test(a)):USe(l,f=>f.test(a));let u;u=t.valueCallback?t.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=e.slice(a.length);return{value:u,rest:d}}}function USe(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function BSe(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function $Z(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=n.valueCallback?n.valueCallback(a):a;const l=e.slice(i.length);return{value:a,rest:l}}}const zSe=/^(\d+)(th|st|nd|rd)?/i,VSe=/\d+/i,WSe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},$Se={any:[/^b/i,/^(a|c)/i]},HSe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},GSe={any:[/1/i,/2/i,/3/i,/4/i]},qSe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},KSe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},XSe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},YSe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},ZSe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},QSe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},JSe={ordinalNumber:$Z({matchPattern:zSe,parsePattern:VSe,valueCallback:t=>parseInt(t,10)}),era:sc({matchPatterns:WSe,defaultMatchWidth:"wide",parsePatterns:$Se,defaultParseWidth:"any"}),quarter:sc({matchPatterns:HSe,defaultMatchWidth:"wide",parsePatterns:GSe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:sc({matchPatterns:qSe,defaultMatchWidth:"wide",parsePatterns:KSe,defaultParseWidth:"any"}),day:sc({matchPatterns:XSe,defaultMatchWidth:"wide",parsePatterns:YSe,defaultParseWidth:"any"}),dayPeriod:sc({matchPatterns:ZSe,defaultMatchWidth:"any",parsePatterns:QSe,defaultParseWidth:"any"})},HZ={code:"en-US",formatDistance:ESe,formatLong:jSe,formatRelative:TSe,localize:FSe,match:JSe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function eEe(t){const e=Cn(t);return uc(e,VZ(e))+1}function GZ(t){const e=Cn(t),n=+km(e)-+vSe(e);return Math.round(n/W3)+1}function qZ(t,e){var d,f,h,m;const n=Cn(t),r=n.getFullYear(),i=Ew(),s=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((m=(h=i.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,a=oo(t,0);a.setFullYear(r+1,0,s),a.setHours(0,0,0,0);const l=Rl(a,e),c=oo(t,0);c.setFullYear(r,0,s),c.setHours(0,0,0,0);const u=Rl(c,e);return n.getTime()>=l.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function tEe(t,e){var l,c,u,d;const n=Ew(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,i=qZ(t,e),s=oo(t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),Rl(s,e)}function KZ(t,e){const n=Cn(t),r=+Rl(n,e)-+tEe(n,e);return Math.round(r/W3)+1}function Bn(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const gd={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Bn(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Bn(n+1,2)},d(t,e){return Bn(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Bn(t.getHours()%12||12,e.length)},H(t,e){return Bn(t.getHours(),e.length)},m(t,e){return Bn(t.getMinutes(),e.length)},s(t,e){return Bn(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Bn(i,e.length)}},Fp={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},n8={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return gd.y(t,e)},Y:function(t,e,n,r){const i=qZ(t,r),s=i>0?i:1-i;if(e==="YY"){const a=s%100;return Bn(a,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):Bn(s,e.length)},R:function(t,e){const n=zZ(t);return Bn(n,e.length)},u:function(t,e){const n=t.getFullYear();return Bn(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Bn(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Bn(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return gd.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Bn(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=KZ(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Bn(i,e.length)},I:function(t,e,n){const r=GZ(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Bn(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):gd.d(t,e)},D:function(t,e,n){const r=eEe(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Bn(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Bn(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Bn(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Bn(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Fp.noon:r===0?i=Fp.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Fp.evening:r>=12?i=Fp.afternoon:r>=4?i=Fp.morning:i=Fp.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return gd.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):gd.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Bn(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Bn(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):gd.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):gd.s(t,e)},S:function(t,e){return gd.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return i8(r);case"XXXX":case"XX":return Ah(r);case"XXXXX":case"XXX":default:return Ah(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return i8(r);case"xxxx":case"xx":return Ah(r);case"xxxxx":case"xxx":default:return Ah(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+r8(r,":");case"OOOO":default:return"GMT"+Ah(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+r8(r,":");case"zzzz":default:return"GMT"+Ah(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Bn(r,e.length)},T:function(t,e,n){const r=t.getTime();return Bn(r,e.length)}};function r8(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+Bn(s,2)}function i8(t,e){return t%60===0?(t>0?"-":"+")+Bn(Math.abs(t)/60,2):Ah(t,e)}function Ah(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Bn(Math.trunc(r/60),2),s=Bn(r%60,2);return n+i+e+s}const s8=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},XZ=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},nEe=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return s8(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",s8(r,e)).replace("{{time}}",XZ(i,e))},rEe={p:XZ,P:nEe},iEe=/^D+$/,sEe=/^Y+$/,aEe=["D","DD","YY","YYYY"];function oEe(t){return iEe.test(t)}function lEe(t){return sEe.test(t)}function cEe(t,e,n){const r=uEe(t,e,n);if(console.warn(r),aEe.includes(t))throw new RangeError(r)}function uEe(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const dEe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,fEe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,hEe=/^'([^]*?)'?$/,mEe=/''/g,pEe=/[a-zA-Z]/;function Ot(t,e,n){var d,f,h,m,p,x,v,g;const r=Ew(),i=(n==null?void 0:n.locale)??r.locale??HZ,s=(n==null?void 0:n.firstWeekContainsDate)??((f=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(h=r.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,a=(n==null?void 0:n.weekStartsOn)??((x=(p=n==null?void 0:n.locale)==null?void 0:p.options)==null?void 0:x.weekStartsOn)??r.weekStartsOn??((g=(v=r.locale)==null?void 0:v.options)==null?void 0:g.weekStartsOn)??0,l=Cn(t);if(!wSe(l))throw new RangeError("Invalid time value");let c=e.match(fEe).map(w=>{const _=w[0];if(_==="p"||_==="P"){const E=rEe[_];return E(w,i.formatLong)}return w}).join("").match(dEe).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const _=w[0];if(_==="'")return{isToken:!1,value:gEe(w)};if(n8[_])return{isToken:!0,value:w};if(_.match(pEe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return{isToken:!1,value:w}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const u={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return c.map(w=>{if(!w.isToken)return w.value;const _=w.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&lEe(_)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&oEe(_))&&cEe(_,e,String(t));const E=n8[_[0]];return E(l,_,i.localize,u)}).join("")}function gEe(t){const e=t.match(hEe);return e?e[1].replace(mEe,"'"):t}function vEe(t){const e=Cn(t),n=e.getFullYear(),r=e.getMonth(),i=oo(t,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function xEe(t){return Math.trunc(+Cn(t)/1e3)}function yEe(t){const e=Cn(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}function bEe(t,e){return _Se(yEe(t),Ta(t),e)+1}function iO(t,e){const n=Cn(t),r=Cn(e);return n.getTime()>r.getTime()}function YZ(t,e){const n=Cn(t),r=Cn(e);return+n<+r}function q3(t,e){const n=Cn(t),r=Cn(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function wEe(t,e){const n=Cn(t),r=Cn(e);return n.getFullYear()===r.getFullYear()}function dm(t,e){return zs(t,-e)}function $h(t,e){const r=NEe(t);let i;if(r.date){const c=MEe(r.date,2);i=CEe(c.restDateString,c.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const s=i.getTime();let a=0,l;if(r.time&&(a=jEe(r.time),isNaN(a)))return new Date(NaN);if(r.timezone){if(l=AEe(r.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(s+a),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(s+a+l)}const j_={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},_Ee=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,SEe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,EEe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function NEe(t){const e={},n=t.split(j_.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],j_.timeZoneDelimiter.test(e.date)&&(e.date=t.split(j_.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const i=j_.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function MEe(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((r[1]||r[2]).length)}}function CEe(t,e){if(e===null)return new Date(NaN);const n=t.match(_Ee);if(!n)return new Date(NaN);const r=!!n[4],i=dy(n[1]),s=dy(n[2])-1,a=dy(n[3]),l=dy(n[4]),c=dy(n[5])-1;if(r)return OEe(e,l,c)?TEe(e,l,c):new Date(NaN);{const u=new Date(0);return!kEe(e,s,a)||!REe(e,i)?new Date(NaN):(u.setUTCFullYear(e,s,Math.max(i,a)),u)}}function dy(t){return t?parseInt(t):1}function jEe(t){const e=t.match(SEe);if(!e)return NaN;const n=$T(e[1]),r=$T(e[2]),i=$T(e[3]);return DEe(n,r,i)?n*BZ+r*UZ+i*1e3:NaN}function $T(t){return t&&parseFloat(t.replace(",","."))||0}function AEe(t){if(t==="Z")return 0;const e=t.match(EEe);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return IEe(r,i)?n*(r*BZ+i*UZ):NaN}function TEe(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const i=r.getUTCDay()||7,s=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}const PEe=[31,null,31,30,31,30,31,31,30,31,30,31];function ZZ(t){return t%400===0||t%4===0&&t%100!==0}function kEe(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(PEe[e]||(ZZ(t)?29:28))}function REe(t,e){return e>=1&&e<=(ZZ(t)?366:365)}function OEe(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function DEe(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function IEe(t,e){return e>=0&&e<=59}function HT(t,e){const n=Cn(t),r=n.getFullYear(),i=n.getDate(),s=oo(t,0);s.setFullYear(r,e,15),s.setHours(0,0,0,0);const a=vEe(s);return n.setMonth(e,Math.min(i,a)),n}function a8(t,e){const n=Cn(t);return isNaN(+n)?oo(t,NaN):(n.setFullYear(e),n)}function LEe(t,e){return um(t,-1)}function lN(t,[e,n]){return Math.min(n,Math.max(e,t))}function Nw(t){const e=S.useRef({value:t,previous:t});return S.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var QZ=["PageUp","PageDown"],JZ=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],eQ={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},ax="Slider",[sO,FEe,UEe]=Yv(ax),[tQ,lrt]=qr(ax,[UEe]),[BEe,U2]=tQ(ax),nQ=S.forwardRef((t,e)=>{const{name:n,min:r=0,max:i=100,step:s=1,orientation:a="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[r],value:d,onValueChange:f=()=>{},onValueCommit:h=()=>{},inverted:m=!1,form:p,...x}=t,v=S.useRef(new Set),g=S.useRef(0),_=a==="horizontal"?zEe:VEe,[E=[],N]=Js({prop:d,defaultProp:u,onChange:R=>{var F;(F=[...v.current][g.current])==null||F.focus(),f(R)}}),C=S.useRef(E);function j(R){const D=qEe(E,R);P(R,D)}function T(R){P(R,g.current)}function A(){const R=C.current[g.current];E[g.current]!==R&&h(E)}function P(R,D,{commit:F}={commit:!1}){const I=ZEe(s),G=QEe(Math.round((R-r)/s)*s+r,I),q=lN(G,[r,i]);N(($=[])=>{const L=HEe($,q,D);if(YEe(L,c*s)){g.current=L.indexOf(q);const V=String(L)!==String($);return V&&F&&h(L),V?L:$}else return $})}return o.jsx(BEe,{scope:t.__scopeSlider,name:n,disabled:l,min:r,max:i,valueIndexToChangeRef:g,thumbs:v.current,values:E,orientation:a,form:p,children:o.jsx(sO.Provider,{scope:t.__scopeSlider,children:o.jsx(sO.Slot,{scope:t.__scopeSlider,children:o.jsx(_,{"aria-disabled":l,"data-disabled":l?"":void 0,...x,ref:e,onPointerDown:ot(x.onPointerDown,()=>{l||(C.current=E)}),min:r,max:i,inverted:m,onSlideStart:l?void 0:j,onSlideMove:l?void 0:T,onSlideEnd:l?void 0:A,onHomeKeyDown:()=>!l&&P(r,0,{commit:!0}),onEndKeyDown:()=>!l&&P(i,E.length-1,{commit:!0}),onStepKeyDown:({event:R,direction:D})=>{if(!l){const G=QZ.includes(R.key)||R.shiftKey&&JZ.includes(R.key)?10:1,q=g.current,$=E[q],L=s*G*D;P($+L,q,{commit:!0})}}})})})})});nQ.displayName=ax;var[rQ,iQ]=tQ(ax,{startEdge:"left",endEdge:"right",size:"width",direction:1}),zEe=S.forwardRef((t,e)=>{const{min:n,max:r,dir:i,inverted:s,onSlideStart:a,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...d}=t,[f,h]=S.useState(null),m=Wt(e,_=>h(_)),p=S.useRef(void 0),x=Qm(i),v=x==="ltr",g=v&&!s||!v&&s;function w(_){const E=p.current||f.getBoundingClientRect(),N=[0,E.width],j=K3(N,g?[n,r]:[r,n]);return p.current=E,j(_-E.left)}return o.jsx(rQ,{scope:t.__scopeSlider,startEdge:g?"left":"right",endEdge:g?"right":"left",direction:g?1:-1,size:"width",children:o.jsx(sQ,{dir:x,"data-orientation":"horizontal",...d,ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:_=>{const E=w(_.clientX);a==null||a(E)},onSlideMove:_=>{const E=w(_.clientX);l==null||l(E)},onSlideEnd:()=>{p.current=void 0,c==null||c()},onStepKeyDown:_=>{const N=eQ[g?"from-left":"from-right"].includes(_.key);u==null||u({event:_,direction:N?-1:1})}})})}),VEe=S.forwardRef((t,e)=>{const{min:n,max:r,inverted:i,onSlideStart:s,onSlideMove:a,onSlideEnd:l,onStepKeyDown:c,...u}=t,d=S.useRef(null),f=Wt(e,d),h=S.useRef(void 0),m=!i;function p(x){const v=h.current||d.current.getBoundingClientRect(),g=[0,v.height],_=K3(g,m?[r,n]:[n,r]);return h.current=v,_(x-v.top)}return o.jsx(rQ,{scope:t.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:o.jsx(sQ,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:x=>{const v=p(x.clientY);s==null||s(v)},onSlideMove:x=>{const v=p(x.clientY);a==null||a(v)},onSlideEnd:()=>{h.current=void 0,l==null||l()},onStepKeyDown:x=>{const g=eQ[m?"from-bottom":"from-top"].includes(x.key);c==null||c({event:x,direction:g?-1:1})}})})}),sQ=S.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:s,onHomeKeyDown:a,onEndKeyDown:l,onStepKeyDown:c,...u}=t,d=U2(ax,n);return o.jsx(_t.span,{...u,ref:e,onKeyDown:ot(t.onKeyDown,f=>{f.key==="Home"?(a(f),f.preventDefault()):f.key==="End"?(l(f),f.preventDefault()):QZ.concat(JZ).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:ot(t.onPointerDown,f=>{const h=f.target;h.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(h)?h.focus():r(f)}),onPointerMove:ot(t.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&i(f)}),onPointerUp:ot(t.onPointerUp,f=>{const h=f.target;h.hasPointerCapture(f.pointerId)&&(h.releasePointerCapture(f.pointerId),s(f))})})}),aQ="SliderTrack",oQ=S.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=U2(aQ,n);return o.jsx(_t.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:e})});oQ.displayName=aQ;var aO="SliderRange",lQ=S.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=U2(aO,n),s=iQ(aO,n),a=S.useRef(null),l=Wt(e,a),c=i.values.length,u=i.values.map(h=>dQ(h,i.min,i.max)),d=c>1?Math.min(...u):0,f=100-Math.max(...u);return o.jsx(_t.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:l,style:{...t.style,[s.startEdge]:d+"%",[s.endEdge]:f+"%"}})});lQ.displayName=aO;var oO="SliderThumb",cQ=S.forwardRef((t,e)=>{const n=FEe(t.__scopeSlider),[r,i]=S.useState(null),s=Wt(e,l=>i(l)),a=S.useMemo(()=>r?n().findIndex(l=>l.ref.current===r):-1,[n,r]);return o.jsx(WEe,{...t,ref:s,index:a})}),WEe=S.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:i,...s}=t,a=U2(oO,n),l=iQ(oO,n),[c,u]=S.useState(null),d=Wt(e,w=>u(w)),f=c?a.form||!!c.closest("form"):!0,h=dw(c),m=a.values[r],p=m===void 0?0:dQ(m,a.min,a.max),x=GEe(r,a.values.length),v=h==null?void 0:h[l.size],g=v?KEe(v,p,l.direction):0;return S.useEffect(()=>{if(c)return a.thumbs.add(c),()=>{a.thumbs.delete(c)}},[c,a.thumbs]),o.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${p}% + ${g}px)`},children:[o.jsx(sO.ItemSlot,{scope:t.__scopeSlider,children:o.jsx(_t.span,{role:"slider","aria-label":t["aria-label"]||x,"aria-valuemin":a.min,"aria-valuenow":m,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...s,ref:d,style:m===void 0?{display:"none"}:t.style,onFocus:ot(t.onFocus,()=>{a.valueIndexToChangeRef.current=r})})}),f&&o.jsx(uQ,{name:i??(a.name?a.name+(a.values.length>1?"[]":""):void 0),form:a.form,value:m},r)]})});cQ.displayName=oO;var $Ee="RadioBubbleInput",uQ=S.forwardRef(({__scopeSlider:t,value:e,...n},r)=>{const i=S.useRef(null),s=Wt(i,r),a=Nw(e);return S.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==e&&d){const f=new Event("input",{bubbles:!0});d.call(l,e),l.dispatchEvent(f)}},[a,e]),o.jsx(_t.input,{style:{display:"none"},...n,ref:s,defaultValue:e})});uQ.displayName=$Ee;function HEe(t=[],e,n){const r=[...t];return r[n]=e,r.sort((i,s)=>i-s)}function dQ(t,e,n){const s=100/(n-e)*(t-e);return lN(s,[0,100])}function GEe(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function qEe(t,e){if(t.length===1)return 0;const n=t.map(i=>Math.abs(i-e)),r=Math.min(...n);return n.indexOf(r)}function KEe(t,e,n){const r=t/2,s=K3([0,50],[0,r]);return(r-s(e)*n)*n}function XEe(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function YEe(t,e){if(e>0){const n=XEe(t);return Math.min(...n)>=e}return!0}function K3(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function ZEe(t){return(String(t).split(".")[1]||"").length}function QEe(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var fQ=nQ,JEe=oQ,eNe=lQ,tNe=cQ;const fg=S.forwardRef(({className:t,...e},n)=>o.jsxs(fQ,{ref:n,className:xt("relative flex w-full touch-none select-none items-center",t),...e,children:[o.jsx(JEe,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:o.jsx(eNe,{className:"absolute h-full bg-primary"})}),o.jsx(tNe,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));fg.displayName=fQ.displayName;var X3="Radio",[nNe,hQ]=qr(X3),[rNe,iNe]=nNe(X3),mQ=S.forwardRef((t,e)=>{const{__scopeRadio:n,name:r,checked:i=!1,required:s,disabled:a,value:l="on",onCheck:c,form:u,...d}=t,[f,h]=S.useState(null),m=Wt(e,v=>h(v)),p=S.useRef(!1),x=f?u||!!f.closest("form"):!0;return o.jsxs(rNe,{scope:n,checked:i,disabled:a,children:[o.jsx(_t.button,{type:"button",role:"radio","aria-checked":i,"data-state":xQ(i),"data-disabled":a?"":void 0,disabled:a,value:l,...d,ref:m,onClick:ot(t.onClick,v=>{i||c==null||c(),x&&(p.current=v.isPropagationStopped(),p.current||v.stopPropagation())})}),x&&o.jsx(vQ,{control:f,bubbles:!p.current,name:r,value:l,checked:i,required:s,disabled:a,form:u,style:{transform:"translateX(-100%)"}})]})});mQ.displayName=X3;var pQ="RadioIndicator",gQ=S.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:r,...i}=t,s=iNe(pQ,n);return o.jsx(js,{present:r||s.checked,children:o.jsx(_t.span,{"data-state":xQ(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:e})})});gQ.displayName=pQ;var sNe="RadioBubbleInput",vQ=S.forwardRef(({__scopeRadio:t,control:e,checked:n,bubbles:r=!0,...i},s)=>{const a=S.useRef(null),l=Wt(a,s),c=Nw(n),u=dw(e);return S.useEffect(()=>{const d=a.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&m){const p=new Event("click",{bubbles:r});m.call(d,n),d.dispatchEvent(p)}},[c,n,r]),o.jsx(_t.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:l,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});vQ.displayName=sNe;function xQ(t){return t?"checked":"unchecked"}var aNe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],B2="RadioGroup",[oNe,crt]=qr(B2,[sx,hQ]),yQ=sx(),bQ=hQ(),[lNe,cNe]=oNe(B2),wQ=S.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:r,defaultValue:i,value:s,required:a=!1,disabled:l=!1,orientation:c,dir:u,loop:d=!0,onValueChange:f,...h}=t,m=yQ(n),p=Qm(u),[x,v]=Js({prop:s,defaultProp:i??null,onChange:f,caller:B2});return o.jsx(lNe,{scope:n,name:r,required:a,disabled:l,value:x,onValueChange:v,children:o.jsx(k3,{asChild:!0,...m,orientation:c,dir:p,loop:d,children:o.jsx(_t.div,{role:"radiogroup","aria-required":a,"aria-orientation":c,"data-disabled":l?"":void 0,dir:p,...h,ref:e})})})});wQ.displayName=B2;var _Q="RadioGroupItem",SQ=S.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:r,...i}=t,s=cNe(_Q,n),a=s.disabled||r,l=yQ(n),c=bQ(n),u=S.useRef(null),d=Wt(e,u),f=s.value===i.value,h=S.useRef(!1);return S.useEffect(()=>{const m=x=>{aNe.includes(x.key)&&(h.current=!0)},p=()=>h.current=!1;return document.addEventListener("keydown",m),document.addEventListener("keyup",p),()=>{document.removeEventListener("keydown",m),document.removeEventListener("keyup",p)}},[]),o.jsx(R3,{asChild:!0,...l,focusable:!a,active:f,children:o.jsx(mQ,{disabled:a,required:s.required,checked:f,...c,...i,name:s.name,ref:d,onCheck:()=>s.onValueChange(i.value),onKeyDown:ot(m=>{m.key==="Enter"&&m.preventDefault()}),onFocus:ot(i.onFocus,()=>{var m;h.current&&((m=u.current)==null||m.click())})})})});SQ.displayName=_Q;var uNe="RadioGroupIndicator",EQ=S.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...r}=t,i=bQ(n);return o.jsx(gQ,{...i,...r,ref:e})});EQ.displayName=uNe;var NQ=wQ,MQ=SQ,dNe=EQ;const z2=S.forwardRef(({className:t,...e},n)=>o.jsx(NQ,{className:xt("grid gap-2",t),...e,ref:n}));z2.displayName=NQ.displayName;const ac=S.forwardRef(({className:t,...e},n)=>o.jsx(MQ,{ref:n,className:xt("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:o.jsx(dNe,{className:"flex items-center justify-center",children:o.jsx(o3,{className:"h-2.5 w-2.5 fill-current text-current"})})}));ac.displayName=MQ.displayName;const ti=({label:t,value:e,onChange:n})=>o.jsxs("div",{className:"flex items-center justify-between p-2 rounded-md hover:bg-gray-50",children:[o.jsx(Ce,{className:"text-sm md:text-base",children:t}),o.jsx("div",{className:"flex gap-1 md:gap-2",children:[1,2,3,4,5].map(r=>o.jsx(pe,{type:"button",variant:e===r?"default":"outline",size:"sm",className:`h-8 w-8 rounded-full ${e===r?"bg-blue-600":""}`,onClick:()=>n(r),children:r},r))})]});function fNe(){var f,h,m,p,x,v,g,w,_,E,N,C,j,T,A,P,R,D,F,I,G,q,$,L,V,K,W;const[t,e]=S.useState(Rl(new Date)),[n,r]=S.useState({objetivos_semana_anterior:"",objetivos_alcancados:!1,pontos_positivos:[],pontos_melhorar:[],objetivos_proxima_semana:"",humor_semana:"regular",nivel_energia:3,qualidade_sono:3,nivel_estresse:3,alimentacao_qualidade:3,exercicios_frequencia:3,aprendizado_semana:{melhor_acontecimento:"",maior_desafio:"",conselho_mentor:"",maior_aprendizado_sabotador:"",momento_percebi_sabotando:"",nome_semana:"",relacao_ultima_semana:""},desempenho_semanal:{saude_alimentacao_objetivos:3,saude_recuperacao_fisica:3,saude_bebi_agua:3,saude_mais_energia:3,saude_raspei_lingua:3,presenca_focado_planejei:3,presenca_atitudes_intencionais:3,presenca_atencao_alimentacao:3,presenca_clareza_objetivos:3,presenca_disciplina_consistencia:3,fisico_fui_academia:3,fisico_caminhada_melhor:3,fisico_mobilidade:3,fisico_sono_qualidade:3,fisico_condicionamento_aumentou:3,profissional_li_livro:3,profissional_fiz_mais_combinado:3,profissional_ajudei_alguem:3,profissional_melhorei_trabalho:3,profissional_assisti_podcast:3}}),{toast:i}=Ui();S.useEffect(()=>{s()},[t]);const s=async()=>{try{console.log("Carregar avaliação da semana:",Ot(t,"dd/MM/yyyy"))}catch(B){console.error("Erro ao carregar avaliação:",B),i({title:"Erro",description:"Não foi possível carregar a avaliação da semana.",variant:"destructive"})}},a=(B,ee,Y)=>{r(Q=>({...Q,[B]:Y}))},l=()=>{e(B=>LEe(B))},c=()=>{const B=um(t,1);B<=new Date&&e(B)},u=async()=>{try{console.log("Enviando avaliação:",n),i({title:"Sucesso",description:"Avaliação salva com sucesso!"})}catch(B){console.error("Erro ao salvar avaliação:",B),i({title:"Erro",description:"Não foi possível salvar a avaliação.",variant:"destructive"})}},d=`${Ot(t,"dd/MM/yyyy")} - ${Ot(um(t,1),"dd/MM/yyyy")}`;return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-green-50 p-6",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsxs(le,{className:"mb-6",children:[o.jsxs(Qe,{className:"text-center",children:[o.jsx(et,{className:"text-2xl md:text-3xl font-bold",children:"Avaliação Semanal"}),o.jsx(lb,{children:"Reflita sobre sua semana para impulsionar seu progresso."})]}),o.jsxs(ue,{className:"flex items-center justify-between",children:[o.jsxs(pe,{variant:"outline",onClick:l,children:[o.jsx(xc,{className:"h-4 w-4 mr-2"})," Anterior"]}),o.jsx("div",{className:"font-semibold text-center",children:d}),o.jsx(pe,{onClick:c,variant:"outline",disabled:um(t,1)>new Date,children:"Próxima Semana"})]})]}),o.jsxs("form",{onSubmit:u,className:"space-y-6",children:[o.jsxs(le,{children:[o.jsx(Qe,{children:o.jsx(et,{children:"Aprendizado da Semana"})}),o.jsxs(ue,{className:"space-y-4",children:[o.jsx(mn,{placeholder:"O melhor acontecimento da semana passada foi...",value:((f=n.aprendizado_semana)==null?void 0:f.melhor_acontecimento)||"",onChange:B=>a("aprendizado_semana","melhor_acontecimento",B.target.value)}),o.jsx(mn,{placeholder:"O maior desafio que enfrentei nessa semana foi...",value:((h=n.aprendizado_semana)==null?void 0:h.maior_desafio)||"",onChange:B=>a("aprendizado_semana","maior_desafio",B.target.value)}),o.jsx(mn,{placeholder:"E se eu fosse meu mentor eu diria para mim...",value:((m=n.aprendizado_semana)==null?void 0:m.conselho_mentor)||"",onChange:B=>a("aprendizado_semana","conselho_mentor",B.target.value)}),o.jsx(mn,{placeholder:"O maior aprendizado que tive sobre mim foi...",value:((p=n.aprendizado_semana)==null?void 0:p.maior_aprendizado_sabotador)||"",onChange:B=>a("aprendizado_semana","maior_aprendizado_sabotador",B.target.value)}),o.jsx(mn,{placeholder:"Qual foi o momento que percebi que estava me sabotando...",value:((x=n.aprendizado_semana)==null?void 0:x.momento_percebi_sabotando)||"",onChange:B=>a("aprendizado_semana","momento_percebi_sabotando",B.target.value)}),o.jsx(mn,{placeholder:"O nome que eu dou para a minha semana é...",value:((v=n.aprendizado_semana)==null?void 0:v.nome_semana)||"",onChange:B=>a("aprendizado_semana","nome_semana",B.target.value)}),o.jsx(mn,{placeholder:"Como eu me sinto agora com relação a minha última semana...",value:((g=n.aprendizado_semana)==null?void 0:g.relacao_ultima_semana)||"",onChange:B=>a("aprendizado_semana","relacao_ultima_semana",B.target.value)})]})]}),o.jsxs(le,{children:[o.jsxs(Qe,{children:[o.jsx(et,{children:"Desempenho Semanal (de 1 a 5)"}),o.jsx(lb,{children:"Dê uma nota para cada área do seu desempenho."})]}),o.jsxs(ue,{className:"space-y-4",children:[o.jsxs(le,{children:[o.jsx(Qe,{children:o.jsx(et,{className:"text-lg",children:"Saúde"})}),o.jsxs(ue,{className:"space-y-2",children:[o.jsx(ti,{label:"Minha alimentação está de acordo com meus objetivos.",value:(w=n.desempenho_semanal)==null?void 0:w.saude_alimentacao_objetivos,onChange:B=>a("desempenho_semanal","saude_alimentacao_objetivos",B)}),o.jsx(ti,{label:"Minha recuperação física e emocional está melhor.",value:(_=n.desempenho_semanal)==null?void 0:_.saude_recuperacao_fisica,onChange:B=>a("desempenho_semanal","saude_recuperacao_fisica",B)}),o.jsx(ti,{label:"Bebi a quantidade de água todos os dias.",value:(E=n.desempenho_semanal)==null?void 0:E.saude_bebi_agua,onChange:B=>a("desempenho_semanal","saude_bebi_agua",B)}),o.jsx(ti,{label:"Me sinto com mais energia.",value:(N=n.desempenho_semanal)==null?void 0:N.saude_mais_energia,onChange:B=>a("desempenho_semanal","saude_mais_energia",B)}),o.jsx(ti,{label:"Raspei a língua todos os dias.",value:(C=n.desempenho_semanal)==null?void 0:C.saude_raspei_lingua,onChange:B=>a("desempenho_semanal","saude_raspei_lingua",B)})]})]}),o.jsxs(le,{children:[o.jsx(Qe,{children:o.jsx(et,{className:"text-lg",children:"Presença"})}),o.jsxs(ue,{className:"space-y-2",children:[o.jsx(ti,{label:"Eu me mantive focado da maneira que planejei.",value:(j=n.desempenho_semanal)==null?void 0:j.presenca_focado_planejei,onChange:B=>a("desempenho_semanal","presenca_focado_planejei",B)}),o.jsx(ti,{label:"Minhas atitudes foram intencionais.",value:(T=n.desempenho_semanal)==null?void 0:T.presenca_atitudes_intencionais,onChange:B=>a("desempenho_semanal","presenca_atitudes_intencionais",B)}),o.jsx(ti,{label:"Eu coloquei atenção na alimentação.",value:(A=n.desempenho_semanal)==null?void 0:A.presenca_atencao_alimentacao,onChange:B=>a("desempenho_semanal","presenca_atencao_alimentacao",B)}),o.jsx(ti,{label:"Eu tive clareza sobre meus objetivos.",value:(P=n.desempenho_semanal)==null?void 0:P.presenca_clareza_objetivos,onChange:B=>a("desempenho_semanal","presenca_clareza_objetivos",B)}),o.jsx(ti,{label:"Eu mantive a disciplina e consistência nas minhas tarefas.",value:(R=n.desempenho_semanal)==null?void 0:R.presenca_disciplina_consistencia,onChange:B=>a("desempenho_semanal","presenca_disciplina_consistencia",B)})]})]}),o.jsxs(le,{children:[o.jsx(Qe,{children:o.jsx(et,{className:"text-lg",children:"Físico"})}),o.jsxs(ue,{className:"space-y-2",children:[o.jsx(ti,{label:"Fui na academia esta semana.",value:(D=n.desempenho_semanal)==null?void 0:D.fisico_fui_academia,onChange:B=>a("desempenho_semanal","fisico_fui_academia",B)}),o.jsx(ti,{label:"Fiz caminhada e dei meu melhor.",value:(F=n.desempenho_semanal)==null?void 0:F.fisico_caminhada_melhor,onChange:B=>a("desempenho_semanal","fisico_caminhada_melhor",B)}),o.jsx(ti,{label:"Fiz mobilidade todos os dias.",value:(I=n.desempenho_semanal)==null?void 0:I.fisico_mobilidade,onChange:B=>a("desempenho_semanal","fisico_mobilidade",B)}),o.jsx(ti,{label:"Tive sono de qualidade.",value:(G=n.desempenho_semanal)==null?void 0:G.fisico_sono_qualidade,onChange:B=>a("desempenho_semanal","fisico_sono_qualidade",B)}),o.jsx(ti,{label:"Meu condicionamento físico aumentou.",value:(q=n.desempenho_semanal)==null?void 0:q.fisico_condicionamento_aumentou,onChange:B=>a("desempenho_semanal","fisico_condicionamento_aumentou",B)})]})]}),o.jsxs(le,{children:[o.jsx(Qe,{children:o.jsx(et,{className:"text-lg",children:"Profissional"})}),o.jsxs(ue,{className:"space-y-2",children:[o.jsx(ti,{label:"Li um livro sobre minha área.",value:($=n.desempenho_semanal)==null?void 0:$.profissional_li_livro,onChange:B=>a("desempenho_semanal","profissional_li_livro",B)}),o.jsx(ti,{label:"Fiz mais que o combinado.",value:(L=n.desempenho_semanal)==null?void 0:L.profissional_fiz_mais_combinado,onChange:B=>a("desempenho_semanal","profissional_fiz_mais_combinado",B)}),o.jsx(ti,{label:"Ajudei alguém no trabalho.",value:(V=n.desempenho_semanal)==null?void 0:V.profissional_ajudei_alguem,onChange:B=>a("desempenho_semanal","profissional_ajudei_alguem",B)}),o.jsx(ti,{label:"Melhorei minha comunicação.",value:(K=n.desempenho_semanal)==null?void 0:K.profissional_melhorei_trabalho,onChange:B=>a("desempenho_semanal","profissional_melhorei_trabalho",B)}),o.jsx(ti,{label:"Assisti um podcast sobre algum tema da minha área.",value:(W=n.desempenho_semanal)==null?void 0:W.profissional_assisti_podcast,onChange:B=>a("desempenho_semanal","profissional_assisti_podcast",B)})]})]})]})]}),o.jsxs(le,{children:[o.jsx(Qe,{children:o.jsx(et,{children:"Objetivos e Ideias para Aplicar na Próxima Semana"})}),o.jsx(ue,{children:o.jsx(mn,{placeholder:"O que você planeja para a próxima semana?",value:n.objetivos_proxima_semana||"",onChange:B=>a("objetivos_proxima_semana","",B.target.value)})})]}),o.jsxs("div",{children:[o.jsx(Ce,{children:"Como foi seu humor essa semana?"}),o.jsxs(z2,{value:n.humor_semana,onValueChange:B=>a("humor_semana","",B),className:"flex justify-between mt-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ac,{value:"pessimo",id:"pessimo"}),o.jsx(Ce,{htmlFor:"pessimo",children:"Péssimo"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ac,{value:"ruim",id:"ruim"}),o.jsx(Ce,{htmlFor:"ruim",children:"Ruim"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ac,{value:"regular",id:"regular"}),o.jsx(Ce,{htmlFor:"regular",children:"Regular"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ac,{value:"bom",id:"bom"}),o.jsx(Ce,{htmlFor:"bom",children:"Bom"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ac,{value:"otimo",id:"otimo"}),o.jsx(Ce,{htmlFor:"otimo",children:"Ótimo"})]})]})]}),o.jsxs("div",{children:[o.jsx(Ce,{children:"Nível de Energia (1-5)"}),o.jsx(fg,{value:[n.nivel_energia],onValueChange:([B])=>a("nivel_energia","",B),min:1,max:5,step:1,className:"mt-2"})]}),o.jsxs("div",{children:[o.jsx(Ce,{children:"Qualidade do Sono (1-5)"}),o.jsx(fg,{value:[n.qualidade_sono],onValueChange:([B])=>a("qualidade_sono","",B),min:1,max:5,step:1,className:"mt-2"})]}),o.jsxs("div",{children:[o.jsx(Ce,{children:"Nível de Estresse (1-5)"}),o.jsx(fg,{value:[n.nivel_estresse],onValueChange:([B])=>a("nivel_estresse","",B),min:1,max:5,step:1,className:"mt-2"})]}),o.jsxs("div",{children:[o.jsx(Ce,{children:"Qualidade da Alimentação (1-5)"}),o.jsx(fg,{value:[n.alimentacao_qualidade],onValueChange:([B])=>a("alimentacao_qualidade","",B),min:1,max:5,step:1,className:"mt-2"})]}),o.jsxs("div",{children:[o.jsx(Ce,{children:"Frequência de Exercícios (1-5)"}),o.jsx(fg,{value:[n.exercicios_frequencia],onValueChange:([B])=>a("exercicios_frequencia","",B),min:1,max:5,step:1,className:"mt-2"})]}),o.jsxs("div",{children:[o.jsx(Ce,{children:"Objetivos da Semana Anterior"}),o.jsx(mn,{value:n.objetivos_semana_anterior,onChange:B=>a("objetivos_semana_anterior","",B.target.value),className:"mt-2"})]}),o.jsxs("div",{children:[o.jsx(Ce,{children:"Objetivos para Próxima Semana"}),o.jsx(mn,{value:n.objetivos_proxima_semana,onChange:B=>a("objetivos_proxima_semana","",B.target.value),className:"mt-2"})]}),o.jsx(pe,{onClick:u,className:"w-full",children:"Salvar Avaliação"})]})]})})}const hNe=ow("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Nt({className:t,variant:e,...n}){return o.jsx("div",{className:xt(hNe({variant:e}),t),...n})}const mNe=({children:t,onClick:e,variant:n="complete",size:r="md",disabled:i=!1,className:s,icon:a,showGlow:l=!0,pulseOnHover:c=!0,completionEffect:u=!1})=>{const[d,f]=S.useState(!1),[h,m]=S.useState(!1),p=async()=>{i||d||(u&&(f(!0),setTimeout(()=>{m(!0),f(!1),setTimeout(()=>{m(!1)},2e3)},800)),e&&e())},x=()=>{const _={complete:`
        bg-gradient-to-r from-instituto-green to-instituto-green-light 
        text-white border-0 shadow-lg
        hover:shadow-xl hover:shadow-green-500/25
        ${l?"hover:shadow-green-400/40":""}
        ${c?"hover:scale-105":""}
        active:scale-95
      `,goal:`
        bg-gradient-to-r from-instituto-orange to-instituto-orange-hover 
        text-white border-0 shadow-lg
        hover:shadow-xl hover:shadow-orange-500/25
        ${l?"hover:shadow-orange-400/40":""}
        ${c?"hover:scale-105":""}
        active:scale-95
      `,challenge:`
        bg-gradient-to-r from-instituto-purple to-instituto-purple-light 
        text-white border-0 shadow-lg
        hover:shadow-xl hover:shadow-purple-500/25
        ${l?"hover:shadow-purple-400/40":""}
        ${c?"hover:scale-105":""}
        active:scale-95
      `,premium:`
        bg-gradient-to-r from-yellow-400 via-yellow-500 to-yellow-600 
        text-white border-0 shadow-lg
        hover:shadow-xl hover:shadow-yellow-500/25
        ${l?"hover:shadow-yellow-400/40":""}
        ${c?"hover:scale-105":""}
        active:scale-95
      `,hero:`
        bg-white/10 text-white border border-white/20 backdrop-blur-sm
        hover:bg-white/20 hover:border-white/30
        ${l?"hover:shadow-lg hover:shadow-white/20":""}
        ${c?"hover:scale-105":""}
        active:scale-95
      `,success:`
        bg-gradient-to-r from-emerald-500 to-teal-500 
        text-white border-0 shadow-lg
        hover:shadow-xl hover:shadow-emerald-500/25
        ${l?"hover:shadow-emerald-400/40":""}
        ${c?"hover:scale-105":""}
        active:scale-95
      `};return _[n]||_.complete},v=()=>({sm:"h-8 px-3 text-sm",md:"h-10 px-4 text-base",lg:"h-12 px-6 text-lg"})[r],w=a||{complete:Rr,goal:Nn,challenge:u3,premium:Io,hero:Es,success:Xs}[n];return o.jsxs(pe,{onClick:p,disabled:i||d,className:xt(x(),v(),"group",{"opacity-50 cursor-not-allowed":i,"animate-pulse":d},s),children:[l&&o.jsx("div",{className:`absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent 
                        translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700`}),o.jsxs("div",{className:"relative flex items-center gap-2",children:[w&&o.jsx(w,{className:xt("transition-all duration-300",r==="sm"?"w-4 h-4":r==="lg"?"w-6 h-6":"w-5 h-5",{"animate-spin":d,"text-green-300":h&&n==="complete","group-hover:rotate-12":!d&&!h})}),o.jsx("span",{className:xt("transition-all duration-300",{"group-hover:tracking-wide":!d&&!h}),children:d?"Completando...":h?"Concluído!":t}),n==="premium"&&o.jsx(gu,{className:xt("transition-all duration-300",r==="sm"?"w-3 h-3":r==="lg"?"w-5 h-5":"w-4 h-4","group-hover:animate-pulse")})]}),h&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsx("div",{className:"w-full h-full bg-green-500/20 animate-ping rounded-md"})}),n==="premium"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"absolute top-1 left-1 w-1 h-1 bg-white/60 rounded-full animate-pulse delay-100"}),o.jsx("div",{className:"absolute top-2 right-3 w-1 h-1 bg-white/60 rounded-full animate-pulse delay-300"}),o.jsx("div",{className:"absolute bottom-2 left-3 w-1 h-1 bg-white/60 rounded-full animate-pulse delay-500"})]})]})},pNe=({users:t,currentUser:e,showPrizes:n=!0,className:r=""})=>{const[i,s]=S.useState(!1),a=[{position:1,title:"E-book Premium",description:'"Transformação Completa: Guia dos Sabotadores"',icon:l0,value:"R$ 97,00",color:"from-yellow-400 to-yellow-600"},{position:2,title:"Voucher de Desconto",description:"50% OFF em qualquer curso da plataforma",icon:Gpe,value:"Até R$ 200",color:"from-slate-300 to-slate-500"},{position:3,title:"Kit Bem-Estar",description:"Produtos selecionados para sua jornada",icon:Ipe,value:"R$ 75,00",color:"from-amber-600 to-amber-800"}],l=h=>{switch(h){case 1:return Ja;case 2:return c3;case 3:return Xs;default:return null}},c=h=>{switch(h){case 1:return"text-yellow-500";case 2:return"text-slate-400";case 3:return"text-amber-600";default:return"text-muted-foreground"}},u=(h,m)=>h==="up"?Ppe:h==="down"?Tpe:J0,d=h=>{switch(h){case"up":return"text-green-500";case"down":return"text-red-500";default:return"text-muted-foreground"}},f=i?t:t.slice(0,5);return o.jsxs("div",{className:`space-y-6 ${r}`,children:[n&&o.jsxs(le,{className:"bg-gradient-to-br from-primary/5 to-secondary/5 border-primary/20 overflow-hidden",children:[o.jsx(Qe,{className:"text-center",children:o.jsxs(et,{className:"flex items-center justify-center gap-2 text-2xl",children:[o.jsx(gu,{className:"h-6 w-6 text-yellow-500"}),"Prêmios da Semana",o.jsx(gu,{className:"h-6 w-6 text-yellow-500"})]})}),o.jsx(ue,{children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:a.map(h=>{const m=h.icon;return o.jsxs(le,{className:"relative overflow-hidden border-2 hover:border-primary/30 transition-all duration-300 hover:scale-105",children:[o.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${h.color} opacity-10`}),o.jsx(ue,{className:"p-6 relative",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"flex items-center justify-center mb-4",children:o.jsx("div",{className:`p-3 rounded-full bg-gradient-to-br ${h.color} text-white`,children:o.jsx(m,{className:"h-8 w-8"})})}),o.jsx("div",{className:"mb-3",children:o.jsxs(Nt,{className:`bg-gradient-to-r ${h.color} text-white border-0 text-lg px-3 py-1`,children:[h.position,"º Lugar"]})}),o.jsx("h3",{className:"font-bold text-foreground mb-2",children:h.title}),o.jsx("p",{className:"text-muted-foreground text-sm mb-3",children:h.description}),o.jsx("p",{className:"text-primary font-semibold",children:h.value})]})})]},h.position)})})})]}),o.jsxs(le,{className:"bg-card border-border",children:[o.jsx(Qe,{children:o.jsxs(et,{className:"flex items-center gap-2",children:[o.jsx(Xs,{className:"h-5 w-5 text-primary"}),"Ranking Semanal"]})}),o.jsxs(ue,{children:[o.jsx("div",{className:"space-y-3",children:f.map((h,m)=>{const p=l(h.position),x=u(h.trend,h.positionChange),v=(e==null?void 0:e.id)===h.id;return o.jsx("div",{className:`p-4 rounded-lg border transition-all duration-300 hover:border-primary/30 ${v?"bg-primary/5 border-primary/20 ring-2 ring-primary/10":"bg-background border-border hover:bg-muted/50"} ${h.position<=3?"shadow-lg":""}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-lg ${h.position<=3?"bg-gradient-to-br from-primary/20 to-secondary/20 text-primary border-2 border-primary/30":"bg-muted text-muted-foreground"}`,children:p?o.jsx(p,{className:`h-6 w-6 ${c(h.position)}`}):h.position}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(x,{className:`h-4 w-4 ${d(h.trend)}`}),h.positionChange!==0&&o.jsx("span",{className:`text-xs font-medium ${d(h.trend)}`,children:Math.abs(h.positionChange)})]})]}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("h4",{className:`font-semibold ${v?"text-primary":"text-foreground"}`,children:h.name}),v&&o.jsx(Nt,{className:"bg-primary/20 text-primary border-primary/30",children:"Você"})]}),o.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[o.jsx("span",{children:h.cidade}),o.jsxs("span",{children:[h.streak," dias seguidos"]}),o.jsxs("span",{children:[h.completedChallenges," desafios"]})]})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:`text-2xl font-bold ${h.position<=3?"text-primary":"text-foreground"}`,children:h.points.toLocaleString()}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"pontos"})]})]})},h.id)})}),t.length>5&&o.jsx("div",{className:"mt-6 text-center",children:o.jsx(mNe,{variant:"hero",onClick:()=>s(!i),showGlow:!1,className:"px-8",children:i?"Ver Menos":`Ver Todos (${t.length})`})})]})]}),e&&e.position>5&&!i&&o.jsx(le,{className:"bg-primary/5 border-primary/20",children:o.jsx(ue,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center font-bold text-primary",children:e.position}),o.jsxs("div",{children:[o.jsxs("h4",{className:"font-semibold text-foreground",children:[e.name," (Você)"]}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.cidade," • ",e.streak," dias seguidos"]})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-xl font-bold text-primary",children:e.points.toLocaleString()}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"pontos"})]})]})})})]})};var CQ={exports:{}},jQ={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ev=S;function gNe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var vNe=typeof Object.is=="function"?Object.is:gNe,xNe=Ev.useState,yNe=Ev.useEffect,bNe=Ev.useLayoutEffect,wNe=Ev.useDebugValue;function _Ne(t,e){var n=e(),r=xNe({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return bNe(function(){i.value=n,i.getSnapshot=e,GT(i)&&s({inst:i})},[t,n,e]),yNe(function(){return GT(i)&&s({inst:i}),t(function(){GT(i)&&s({inst:i})})},[t]),wNe(n),n}function GT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!vNe(t,n)}catch{return!0}}function SNe(t,e){return e()}var ENe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?SNe:_Ne;jQ.useSyncExternalStore=Ev.useSyncExternalStore!==void 0?Ev.useSyncExternalStore:ENe;CQ.exports=jQ;var AQ=CQ.exports;function NNe(){return AQ.useSyncExternalStore(MNe,()=>!0,()=>!1)}function MNe(){return()=>{}}var Y3="Avatar",[CNe,urt]=qr(Y3),[jNe,TQ]=CNe(Y3),PQ=S.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,s]=S.useState("idle");return o.jsx(jNe,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:o.jsx(_t.span,{...r,ref:e})})});PQ.displayName=Y3;var kQ="AvatarImage",RQ=S.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...s}=t,a=TQ(kQ,n),l=ANe(r,s),c=Qs(u=>{i(u),a.onImageLoadingStatusChange(u)});return Gr(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?o.jsx(_t.img,{...s,ref:e,src:r}):null});RQ.displayName=kQ;var OQ="AvatarFallback",DQ=S.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,s=TQ(OQ,n),[a,l]=S.useState(r===void 0);return S.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),a&&s.imageLoadingStatus!=="loaded"?o.jsx(_t.span,{...i,ref:e}):null});DQ.displayName=OQ;function o8(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function ANe(t,{referrerPolicy:e,crossOrigin:n}){const r=NNe(),i=S.useRef(null),s=r?(i.current||(i.current=new window.Image),i.current):null,[a,l]=S.useState(()=>o8(s,t));return Gr(()=>{l(o8(s,t))},[s,t]),Gr(()=>{const c=f=>()=>{l(f)};if(!s)return;const u=c("loaded"),d=c("error");return s.addEventListener("load",u),s.addEventListener("error",d),e&&(s.referrerPolicy=e),typeof n=="string"&&(s.crossOrigin=n),()=>{s.removeEventListener("load",u),s.removeEventListener("error",d)}},[s,n,e]),a}var IQ=PQ,LQ=RQ,FQ=DQ;const hb=S.forwardRef(({className:t,...e},n)=>o.jsx(IQ,{ref:n,className:xt("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));hb.displayName=IQ.displayName;const TNe=S.forwardRef(({className:t,...e},n)=>o.jsx(LQ,{ref:n,className:xt("aspect-square h-full w-full",t),...e}));TNe.displayName=LQ.displayName;const mb=S.forwardRef(({className:t,...e},n)=>o.jsx(FQ,{ref:n,className:xt("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));mb.displayName=FQ.displayName;const UQ=()=>{const[t,e]=S.useState(null),[n,r]=S.useState([]),[i,s]=S.useState(null),[a,l]=S.useState(!0),{user:c}=Or(),u=async()=>{try{if(l(!0),!c){e(null);return}const h=await He.from("profiles").select("id").eq("user_id",c.id).single();if(h.error)throw h.error;const{data:m,error:p}=await He.from("user_points").select("*").eq("user_id",h.data.id).single();if(p&&p.code!=="PGRST116")throw p;if(m)e(m);else{const{data:x,error:v}=await He.from("user_points").insert([{user_id:h.data.id,total_points:0,daily_points:0,weekly_points:0,monthly_points:0,current_streak:0,best_streak:0,completed_challenges:0}]).select().single();if(v)throw v;e(x)}}catch(h){console.error("Erro ao buscar pontos do usuário:",h)}finally{l(!1)}},d=async(h="all")=>{try{let m="total_points";switch(h){case"week":m="weekly_points";break;case"month":m="monthly_points";break}const{data:p,error:x}=await He.from("user_points").select(`
          *,
          profiles!inner(full_name, user_id)
        `).order(m,{ascending:!1}).limit(50);if(x)throw x;const v=(p==null?void 0:p.map((g,w)=>({id:g.profiles.user_id,name:g.profiles.full_name||"Usuário",points:g[m],position:w+1,streak:g.current_streak,completedChallenges:g.completed_challenges})))||[];if(r(v),c){const g=v.find(w=>w.id===c.id);s(g||null)}}catch(m){console.error("Erro ao buscar ranking:",m)}},f=async(h,m="general")=>{try{if(!c)return;const p=await He.from("profiles").select("id").eq("user_id",c.id).single();if(p.error)throw p.error;await He.rpc("update_user_points",{p_user_id:p.data.id,p_points:h,p_activity_type:m}),await u()}catch(p){throw console.error("Erro ao adicionar pontos:",p),p}};return S.useEffect(()=>{u(),d()},[c]),{userPoints:t,ranking:n,currentUserRanking:i,loading:a,addPoints:f,fetchRanking:d,refetch:u}},l8=t=>{switch(t){case 1:return o.jsx(Ja,{className:"w-6 h-6 text-yellow-500"});case 2:return o.jsx(c3,{className:"w-6 h-6 text-gray-400"});case 3:return o.jsx(Xs,{className:"w-6 h-6 text-amber-600"});default:return o.jsxs("span",{className:"w-6 h-6 flex items-center justify-center text-instituto-purple font-bold",children:["#",t]})}},PNe=t=>{switch(t){case 1:return"ranking-medal-gold";case 2:return"ranking-medal-silver";case 3:return"ranking-medal-bronze";default:return"bg-netflix-card"}},kNe=({timeFilter:t,onTimeFilterChange:e})=>{const{ranking:n,currentUserRanking:r,fetchRanking:i,loading:s}=UQ();S.useEffect(()=>{i(t)},[t,i]);const a=n.slice(0,10),l=r;return s?o.jsx("div",{className:"space-y-6",children:o.jsx(le,{className:"netflix-card border-instituto-orange/20",children:o.jsx(ue,{className:"p-12 text-center",children:o.jsx("div",{className:"text-netflix-text-muted",children:"Carregando ranking..."})})})}):o.jsx("div",{className:"space-y-6",children:o.jsxs(le,{className:"netflix-card border-instituto-orange/20",children:[o.jsx(Qe,{className:"pb-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(et,{className:"text-2xl font-bold text-netflix-text flex items-center gap-2",children:[o.jsx(Xs,{className:"w-6 h-6 text-instituto-orange"}),"Ranking dos Campeões"]}),o.jsx("div",{className:"flex gap-2",children:["week","month","all"].map(c=>o.jsx("button",{onClick:()=>e(c),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${t===c?"bg-instituto-orange text-white":"bg-netflix-card text-netflix-text-muted hover:bg-netflix-hover"}`,children:c==="week"?"Semana":c==="month"?"Mês":"Geral"},c))})]})}),o.jsxs(ue,{children:[o.jsx("div",{className:"grid grid-cols-3 gap-4 mb-8",children:a.slice(0,3).map((c,u)=>{const d=u+1;return o.jsxs("div",{className:`text-center p-4 rounded-lg ${PNe(d)} ${l&&c.id===l.id?"ring-2 ring-instituto-orange":""}`,children:[o.jsx("div",{className:"flex justify-center mb-2",children:l8(d)}),o.jsx(hb,{className:"w-16 h-16 mx-auto mb-3 ring-2 ring-white/20",children:o.jsx(mb,{className:"bg-instituto-purple text-white text-lg font-bold",children:c.name.charAt(0).toUpperCase()})}),o.jsx("h3",{className:"font-bold text-lg truncate",children:c.name}),o.jsxs("div",{className:"flex items-center justify-center gap-1 mt-2",children:[o.jsx(Io,{className:"w-4 h-4 text-yellow-500"}),o.jsx("span",{className:"font-semibold",children:c.points.toLocaleString()})]}),o.jsxs("div",{className:"flex items-center justify-center gap-1 mt-1",children:[o.jsx(PR,{className:"w-3 h-3 text-orange-500"}),o.jsxs("span",{className:"text-sm",children:[c.streak," dias"]})]})]},c.id)})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"text-lg font-semibold text-netflix-text mb-4",children:"Top 10 Geral"}),a.map(c=>o.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg netflix-card-hover ${l&&c.id===l.id?"bg-instituto-orange/10 border border-instituto-orange/30":"bg-netflix-card"}`,children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"flex items-center justify-center w-8 h-8",children:l8(c.position)}),o.jsx(hb,{className:"w-10 h-10",children:o.jsx(mb,{className:"bg-instituto-purple text-white font-bold",children:c.name.charAt(0).toUpperCase()})}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-semibold text-netflix-text",children:c.name}),l&&c.id===l.id&&o.jsx(Nt,{variant:"outline",className:"text-xs bg-instituto-orange/20 text-instituto-orange border-instituto-orange",children:"Você"})]}),o.jsxs("div",{className:"flex items-center gap-3 text-sm text-netflix-text-muted",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Nn,{className:"w-3 h-3"}),c.completedChallenges," desafios"]}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(PR,{className:"w-3 h-3"}),c.streak," dias"]})]})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-xl font-bold text-instituto-orange",children:c.points.toLocaleString()}),o.jsx("div",{className:"text-sm text-netflix-text-muted",children:"pontos"})]})]},c.id))]})]})]})})},ut=S.forwardRef(({className:t,type:e,...n},r)=>o.jsx("input",{type:e,className:xt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));ut.displayName="Input";var RNe=[" ","Enter","ArrowUp","ArrowDown"],ONe=[" ","Enter"],Rm="Select",[V2,W2,DNe]=Yv(Rm),[ox,drt]=qr(Rm,[DNe,Af]),$2=Af(),[INe,kf]=ox(Rm),[LNe,FNe]=ox(Rm),BQ=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:a,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:p}=t,x=$2(e),[v,g]=S.useState(null),[w,_]=S.useState(null),[E,N]=S.useState(!1),C=Qm(u),[j,T]=Js({prop:r,defaultProp:i??!1,onChange:s,caller:Rm}),[A,P]=Js({prop:a,defaultProp:l,onChange:c,caller:Rm}),R=S.useRef(null),D=v?p||!!v.closest("form"):!0,[F,I]=S.useState(new Set),G=Array.from(F).map(q=>q.props.value).join(";");return o.jsx(w3,{...x,children:o.jsxs(INe,{required:m,scope:e,trigger:v,onTriggerChange:g,valueNode:w,onValueNodeChange:_,valueNodeHasChildren:E,onValueNodeHasChildrenChange:N,contentId:to(),value:A,onValueChange:P,open:j,onOpenChange:T,dir:C,triggerPointerDownPosRef:R,disabled:h,children:[o.jsx(V2.Provider,{scope:e,children:o.jsx(LNe,{scope:t.__scopeSelect,onNativeOptionAdd:S.useCallback(q=>{I($=>new Set($).add(q))},[]),onNativeOptionRemove:S.useCallback(q=>{I($=>{const L=new Set($);return L.delete(q),L})},[]),children:n})}),D?o.jsxs(uJ,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:A,onChange:q=>P(q.target.value),disabled:h,form:p,children:[A===void 0?o.jsx("option",{value:""}):null,Array.from(F)]},G):null]})})};BQ.displayName=Rm;var zQ="SelectTrigger",VQ=S.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=$2(n),a=kf(zQ,n),l=a.disabled||r,c=Wt(e,a.onTriggerChange),u=W2(n),d=S.useRef("touch"),[f,h,m]=fJ(x=>{const v=u().filter(_=>!_.disabled),g=v.find(_=>_.value===a.value),w=hJ(v,x,g);w!==void 0&&a.onValueChange(w.value)}),p=x=>{l||(a.onOpenChange(!0),m()),x&&(a.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return o.jsx(fw,{asChild:!0,...s,children:o.jsx(_t.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":dJ(a.value)?"":void 0,...i,ref:c,onClick:ot(i.onClick,x=>{x.currentTarget.focus(),d.current!=="mouse"&&p(x)}),onPointerDown:ot(i.onPointerDown,x=>{d.current=x.pointerType;const v=x.target;v.hasPointerCapture(x.pointerId)&&v.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(p(x),x.preventDefault())}),onKeyDown:ot(i.onKeyDown,x=>{const v=f.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&h(x.key),!(v&&x.key===" ")&&RNe.includes(x.key)&&(p(),x.preventDefault())})})})});VQ.displayName=zQ;var WQ="SelectValue",$Q=S.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:a="",...l}=t,c=kf(WQ,n),{onValueNodeHasChildrenChange:u}=c,d=s!==void 0,f=Wt(e,c.onValueNodeChange);return Gr(()=>{u(d)},[u,d]),o.jsx(_t.span,{...l,ref:f,style:{pointerEvents:"none"},children:dJ(c.value)?o.jsx(o.Fragment,{children:a}):s})});$Q.displayName=WQ;var UNe="SelectIcon",HQ=S.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return o.jsx(_t.span,{"aria-hidden":!0,...i,ref:e,children:r||"▼"})});HQ.displayName=UNe;var BNe="SelectPortal",GQ=t=>o.jsx(Zv,{asChild:!0,...t});GQ.displayName=BNe;var Om="SelectContent",qQ=S.forwardRef((t,e)=>{const n=kf(Om,t.__scopeSelect),[r,i]=S.useState();if(Gr(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?Vu.createPortal(o.jsx(KQ,{scope:t.__scopeSelect,children:o.jsx(V2.Slot,{scope:t.__scopeSelect,children:o.jsx("div",{children:t.children})})}),s):null}return o.jsx(XQ,{...t,ref:e})});qQ.displayName=Om;var ll=10,[KQ,Rf]=ox(Om),zNe="SelectContentImpl",VNe=hf("SelectContent.RemoveScroll"),XQ=S.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:a,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:p,hideWhenDetached:x,avoidCollisions:v,...g}=t,w=kf(Om,n),[_,E]=S.useState(null),[N,C]=S.useState(null),j=Wt(e,te=>E(te)),[T,A]=S.useState(null),[P,R]=S.useState(null),D=W2(n),[F,I]=S.useState(!1),G=S.useRef(!1);S.useEffect(()=>{if(_)return O2(_)},[_]),R2();const q=S.useCallback(te=>{const[he,...oe]=D().map(ne=>ne.ref.current),[fe]=oe.slice(-1),ve=document.activeElement;for(const ne of te)if(ne===ve||(ne==null||ne.scrollIntoView({block:"nearest"}),ne===he&&N&&(N.scrollTop=0),ne===fe&&N&&(N.scrollTop=N.scrollHeight),ne==null||ne.focus(),document.activeElement!==ve))return},[D,N]),$=S.useCallback(()=>q([T,_]),[q,T,_]);S.useEffect(()=>{F&&$()},[F,$]);const{onOpenChange:L,triggerPointerDownPosRef:V}=w;S.useEffect(()=>{if(_){let te={x:0,y:0};const he=fe=>{var ve,ne;te={x:Math.abs(Math.round(fe.pageX)-(((ve=V.current)==null?void 0:ve.x)??0)),y:Math.abs(Math.round(fe.pageY)-(((ne=V.current)==null?void 0:ne.y)??0))}},oe=fe=>{te.x<=10&&te.y<=10?fe.preventDefault():_.contains(fe.target)||L(!1),document.removeEventListener("pointermove",he),V.current=null};return V.current!==null&&(document.addEventListener("pointermove",he),document.addEventListener("pointerup",oe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",he),document.removeEventListener("pointerup",oe,{capture:!0})}}},[_,L,V]),S.useEffect(()=>{const te=()=>L(!1);return window.addEventListener("blur",te),window.addEventListener("resize",te),()=>{window.removeEventListener("blur",te),window.removeEventListener("resize",te)}},[L]);const[K,W]=fJ(te=>{const he=D().filter(ve=>!ve.disabled),oe=he.find(ve=>ve.ref.current===document.activeElement),fe=hJ(he,te,oe);fe&&setTimeout(()=>fe.ref.current.focus())}),B=S.useCallback((te,he,oe)=>{const fe=!G.current&&!oe;(w.value!==void 0&&w.value===he||fe)&&(A(te),fe&&(G.current=!0))},[w.value]),ee=S.useCallback(()=>_==null?void 0:_.focus(),[_]),Y=S.useCallback((te,he,oe)=>{const fe=!G.current&&!oe;(w.value!==void 0&&w.value===he||fe)&&R(te)},[w.value]),Q=r==="popper"?lO:YQ,de=Q===lO?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:p,hideWhenDetached:x,avoidCollisions:v}:{};return o.jsx(KQ,{scope:n,content:_,viewport:N,onViewportChange:C,itemRefCallback:B,selectedItem:T,onItemLeave:ee,itemTextRefCallback:Y,focusSelectedItem:$,selectedItemText:P,position:r,isPositioned:F,searchRef:K,children:o.jsx(ww,{as:VNe,allowPinchZoom:!0,children:o.jsx(yw,{asChild:!0,trapped:w.open,onMountAutoFocus:te=>{te.preventDefault()},onUnmountAutoFocus:ot(i,te=>{var he;(he=w.trigger)==null||he.focus({preventScroll:!0}),te.preventDefault()}),children:o.jsx(Km,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:te=>te.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:o.jsx(Q,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:te=>te.preventDefault(),...g,...de,onPlaced:()=>I(!0),ref:j,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:ot(g.onKeyDown,te=>{const he=te.ctrlKey||te.altKey||te.metaKey;if(te.key==="Tab"&&te.preventDefault(),!he&&te.key.length===1&&W(te.key),["ArrowUp","ArrowDown","Home","End"].includes(te.key)){let fe=D().filter(ve=>!ve.disabled).map(ve=>ve.ref.current);if(["ArrowUp","End"].includes(te.key)&&(fe=fe.slice().reverse()),["ArrowUp","ArrowDown"].includes(te.key)){const ve=te.target,ne=fe.indexOf(ve);fe=fe.slice(ne+1)}setTimeout(()=>q(fe)),te.preventDefault()}})})})})})})});XQ.displayName=zNe;var WNe="SelectItemAlignedPosition",YQ=S.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=kf(Om,n),a=Rf(Om,n),[l,c]=S.useState(null),[u,d]=S.useState(null),f=Wt(e,j=>d(j)),h=W2(n),m=S.useRef(!1),p=S.useRef(!0),{viewport:x,selectedItem:v,selectedItemText:g,focusSelectedItem:w}=a,_=S.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&u&&x&&v&&g){const j=s.trigger.getBoundingClientRect(),T=u.getBoundingClientRect(),A=s.valueNode.getBoundingClientRect(),P=g.getBoundingClientRect();if(s.dir!=="rtl"){const ve=P.left-T.left,ne=A.left-ve,Be=j.left-ne,H=j.width+Be,Te=Math.max(H,T.width),Ne=window.innerWidth-ll,De=lN(ne,[ll,Math.max(ll,Ne-Te)]);l.style.minWidth=H+"px",l.style.left=De+"px"}else{const ve=T.right-P.right,ne=window.innerWidth-A.right-ve,Be=window.innerWidth-j.right-ne,H=j.width+Be,Te=Math.max(H,T.width),Ne=window.innerWidth-ll,De=lN(ne,[ll,Math.max(ll,Ne-Te)]);l.style.minWidth=H+"px",l.style.right=De+"px"}const R=h(),D=window.innerHeight-ll*2,F=x.scrollHeight,I=window.getComputedStyle(u),G=parseInt(I.borderTopWidth,10),q=parseInt(I.paddingTop,10),$=parseInt(I.borderBottomWidth,10),L=parseInt(I.paddingBottom,10),V=G+q+F+L+$,K=Math.min(v.offsetHeight*5,V),W=window.getComputedStyle(x),B=parseInt(W.paddingTop,10),ee=parseInt(W.paddingBottom,10),Y=j.top+j.height/2-ll,Q=D-Y,de=v.offsetHeight/2,te=v.offsetTop+de,he=G+q+te,oe=V-he;if(he<=Y){const ve=R.length>0&&v===R[R.length-1].ref.current;l.style.bottom="0px";const ne=u.clientHeight-x.offsetTop-x.offsetHeight,Be=Math.max(Q,de+(ve?ee:0)+ne+$),H=he+Be;l.style.height=H+"px"}else{const ve=R.length>0&&v===R[0].ref.current;l.style.top="0px";const Be=Math.max(Y,G+x.offsetTop+(ve?B:0)+de)+oe;l.style.height=Be+"px",x.scrollTop=he-Y+x.offsetTop}l.style.margin=`${ll}px 0`,l.style.minHeight=K+"px",l.style.maxHeight=D+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[h,s.trigger,s.valueNode,l,u,x,v,g,s.dir,r]);Gr(()=>_(),[_]);const[E,N]=S.useState();Gr(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const C=S.useCallback(j=>{j&&p.current===!0&&(_(),w==null||w(),p.current=!1)},[_,w]);return o.jsx(HNe,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:C,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:o.jsx(_t.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});YQ.displayName=WNe;var $Ne="SelectPopperPosition",lO=S.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=ll,...s}=t,a=$2(n);return o.jsx(y2,{...a,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});lO.displayName=$Ne;var[HNe,Z3]=ox(Om,{}),cO="SelectViewport",ZQ=S.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=Rf(cO,n),a=Z3(cO,n),l=Wt(e,s.onViewportChange),c=S.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),o.jsx(V2.Slot,{scope:n,children:o.jsx(_t.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:ot(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=a;if(h!=null&&h.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const p=window.innerHeight-ll*2,x=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),g=Math.max(x,v);if(g<p){const w=g+m,_=Math.min(p,w),E=w-_;f.style.height=_+"px",f.style.bottom==="0px"&&(d.scrollTop=E>0?E:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});ZQ.displayName=cO;var QQ="SelectGroup",[GNe,qNe]=ox(QQ),KNe=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=to();return o.jsx(GNe,{scope:n,id:i,children:o.jsx(_t.div,{role:"group","aria-labelledby":i,...r,ref:e})})});KNe.displayName=QQ;var JQ="SelectLabel",eJ=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=qNe(JQ,n);return o.jsx(_t.div,{id:i.id,...r,ref:e})});eJ.displayName=JQ;var cN="SelectItem",[XNe,tJ]=ox(cN),nJ=S.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...a}=t,l=kf(cN,n),c=Rf(cN,n),u=l.value===r,[d,f]=S.useState(s??""),[h,m]=S.useState(!1),p=Wt(e,w=>{var _;return(_=c.itemRefCallback)==null?void 0:_.call(c,w,r,i)}),x=to(),v=S.useRef("touch"),g=()=>{i||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(XNe,{scope:n,value:r,disabled:i,textId:x,isSelected:u,onItemTextChange:S.useCallback(w=>{f(_=>_||((w==null?void 0:w.textContent)??"").trim())},[]),children:o.jsx(V2.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:o.jsx(_t.div,{role:"option","aria-labelledby":x,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:p,onFocus:ot(a.onFocus,()=>m(!0)),onBlur:ot(a.onBlur,()=>m(!1)),onClick:ot(a.onClick,()=>{v.current!=="mouse"&&g()}),onPointerUp:ot(a.onPointerUp,()=>{v.current==="mouse"&&g()}),onPointerDown:ot(a.onPointerDown,w=>{v.current=w.pointerType}),onPointerMove:ot(a.onPointerMove,w=>{var _;v.current=w.pointerType,i?(_=c.onItemLeave)==null||_.call(c):v.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ot(a.onPointerLeave,w=>{var _;w.currentTarget===document.activeElement&&((_=c.onItemLeave)==null||_.call(c))}),onKeyDown:ot(a.onKeyDown,w=>{var E;((E=c.searchRef)==null?void 0:E.current)!==""&&w.key===" "||(ONe.includes(w.key)&&g(),w.key===" "&&w.preventDefault())})})})})});nJ.displayName=cN;var $y="SelectItemText",rJ=S.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,a=kf($y,n),l=Rf($y,n),c=tJ($y,n),u=FNe($y,n),[d,f]=S.useState(null),h=Wt(e,g=>f(g),c.onItemTextChange,g=>{var w;return(w=l.itemTextRefCallback)==null?void 0:w.call(l,g,c.value,c.disabled)}),m=d==null?void 0:d.textContent,p=S.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:x,onNativeOptionRemove:v}=u;return Gr(()=>(x(p),()=>v(p)),[x,v,p]),o.jsxs(o.Fragment,{children:[o.jsx(_t.span,{id:c.textId,...s,ref:h}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Vu.createPortal(s.children,a.valueNode):null]})});rJ.displayName=$y;var iJ="SelectItemIndicator",sJ=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return tJ(iJ,n).isSelected?o.jsx(_t.span,{"aria-hidden":!0,...r,ref:e}):null});sJ.displayName=iJ;var uO="SelectScrollUpButton",aJ=S.forwardRef((t,e)=>{const n=Rf(uO,t.__scopeSelect),r=Z3(uO,t.__scopeSelect),[i,s]=S.useState(!1),a=Wt(e,r.onScrollButtonChange);return Gr(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;s(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?o.jsx(lJ,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});aJ.displayName=uO;var dO="SelectScrollDownButton",oJ=S.forwardRef((t,e)=>{const n=Rf(dO,t.__scopeSelect),r=Z3(dO,t.__scopeSelect),[i,s]=S.useState(!1),a=Wt(e,r.onScrollButtonChange);return Gr(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;s(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?o.jsx(lJ,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});oJ.displayName=dO;var lJ=S.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=Rf("SelectScrollButton",n),a=S.useRef(null),l=W2(n),c=S.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return S.useEffect(()=>()=>c(),[c]),Gr(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),o.jsx(_t.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:ot(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:ot(i.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:ot(i.onPointerLeave,()=>{c()})})}),YNe="SelectSeparator",cJ=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return o.jsx(_t.div,{"aria-hidden":!0,...r,ref:e})});cJ.displayName=YNe;var fO="SelectArrow",ZNe=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=$2(n),s=kf(fO,n),a=Rf(fO,n);return s.open&&a.position==="popper"?o.jsx(b2,{...i,...r,ref:e}):null});ZNe.displayName=fO;var QNe="SelectBubbleInput",uJ=S.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=S.useRef(null),s=Wt(r,i),a=Nw(e);return S.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==e&&d){const f=new Event("change",{bubbles:!0});d.call(l,e),l.dispatchEvent(f)}},[a,e]),o.jsx(_t.select,{...n,style:{...bK,...n.style},ref:s,defaultValue:e})});uJ.displayName=QNe;function dJ(t){return t===""||t===void 0}function fJ(t){const e=Qs(t),n=S.useRef(""),r=S.useRef(0),i=S.useCallback(a=>{const l=n.current+a;e(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),s=S.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return S.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function hJ(t,e,n){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let a=JNe(t,Math.max(s,0));i.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function JNe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var eMe=BQ,mJ=VQ,tMe=$Q,nMe=HQ,rMe=GQ,pJ=qQ,iMe=ZQ,gJ=eJ,vJ=nJ,sMe=rJ,aMe=sJ,xJ=aJ,yJ=oJ,bJ=cJ;const nr=eMe,rr=tMe,Xn=S.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(mJ,{ref:r,className:xt("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,o.jsx(nMe,{asChild:!0,children:o.jsx(h2,{className:"h-4 w-4 opacity-50"})})]}));Xn.displayName=mJ.displayName;const wJ=S.forwardRef(({className:t,...e},n)=>o.jsx(xJ,{ref:n,className:xt("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(Ope,{className:"h-4 w-4"})}));wJ.displayName=xJ.displayName;const _J=S.forwardRef(({className:t,...e},n)=>o.jsx(yJ,{ref:n,className:xt("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(h2,{className:"h-4 w-4"})}));_J.displayName=yJ.displayName;const Yn=S.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>o.jsx(rMe,{children:o.jsxs(pJ,{ref:i,className:xt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[o.jsx(wJ,{}),o.jsx(iMe,{className:xt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),o.jsx(_J,{})]})}));Yn.displayName=pJ.displayName;const oMe=S.forwardRef(({className:t,...e},n)=>o.jsx(gJ,{ref:n,className:xt("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));oMe.displayName=gJ.displayName;const ht=S.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(vJ,{ref:r,className:xt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(aMe,{children:o.jsx(f2,{className:"h-4 w-4"})})}),o.jsx(sMe,{children:e})]}));ht.displayName=vJ.displayName;const lMe=S.forwardRef(({className:t,...e},n)=>o.jsx(bJ,{ref:n,className:xt("-mx-1 my-1 h-px bg-muted",t),...e}));lMe.displayName=bJ.displayName;var H2="Dialog",[SJ,EJ]=qr(H2),[cMe,Ll]=SJ(H2),NJ=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:a=!0}=t,l=S.useRef(null),c=S.useRef(null),[u,d]=Js({prop:r,defaultProp:i??!1,onChange:s,caller:H2});return o.jsx(cMe,{scope:e,triggerRef:l,contentRef:c,contentId:to(),titleId:to(),descriptionId:to(),open:u,onOpenChange:d,onOpenToggle:S.useCallback(()=>d(f=>!f),[d]),modal:a,children:n})};NJ.displayName=H2;var MJ="DialogTrigger",CJ=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ll(MJ,n),s=Wt(e,i.triggerRef);return o.jsx(_t.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":eL(i.open),...r,ref:s,onClick:ot(t.onClick,i.onOpenToggle)})});CJ.displayName=MJ;var Q3="DialogPortal",[uMe,jJ]=SJ(Q3,{forceMount:void 0}),AJ=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=Ll(Q3,e);return o.jsx(uMe,{scope:e,forceMount:n,children:S.Children.map(r,a=>o.jsx(js,{present:n||s.open,children:o.jsx(Zv,{asChild:!0,container:i,children:a})}))})};AJ.displayName=Q3;var uN="DialogOverlay",TJ=S.forwardRef((t,e)=>{const n=jJ(uN,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Ll(uN,t.__scopeDialog);return s.modal?o.jsx(js,{present:r||s.open,children:o.jsx(fMe,{...i,ref:e})}):null});TJ.displayName=uN;var dMe=hf("DialogOverlay.RemoveScroll"),fMe=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ll(uN,n);return o.jsx(ww,{as:dMe,allowPinchZoom:!0,shards:[i.contentRef],children:o.jsx(_t.div,{"data-state":eL(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Dm="DialogContent",PJ=S.forwardRef((t,e)=>{const n=jJ(Dm,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Ll(Dm,t.__scopeDialog);return o.jsx(js,{present:r||s.open,children:s.modal?o.jsx(hMe,{...i,ref:e}):o.jsx(mMe,{...i,ref:e})})});PJ.displayName=Dm;var hMe=S.forwardRef((t,e)=>{const n=Ll(Dm,t.__scopeDialog),r=S.useRef(null),i=Wt(e,n.contentRef,r);return S.useEffect(()=>{const s=r.current;if(s)return O2(s)},[]),o.jsx(kJ,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ot(t.onCloseAutoFocus,s=>{var a;s.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:ot(t.onPointerDownOutside,s=>{const a=s.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&s.preventDefault()}),onFocusOutside:ot(t.onFocusOutside,s=>s.preventDefault())})}),mMe=S.forwardRef((t,e)=>{const n=Ll(Dm,t.__scopeDialog),r=S.useRef(!1),i=S.useRef(!1);return o.jsx(kJ,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,l;(a=t.onCloseAutoFocus)==null||a.call(t,s),s.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),kJ=S.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...a}=t,l=Ll(Dm,n),c=S.useRef(null),u=Wt(e,c);return R2(),o.jsxs(o.Fragment,{children:[o.jsx(yw,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:o.jsx(Km,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":eL(l.open),...a,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(gMe,{titleId:l.titleId}),o.jsx(xMe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),J3="DialogTitle",RJ=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ll(J3,n);return o.jsx(_t.h2,{id:i.titleId,...r,ref:e})});RJ.displayName=J3;var OJ="DialogDescription",DJ=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ll(OJ,n);return o.jsx(_t.p,{id:i.descriptionId,...r,ref:e})});DJ.displayName=OJ;var IJ="DialogClose",LJ=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ll(IJ,n);return o.jsx(_t.button,{type:"button",...r,ref:e,onClick:ot(t.onClick,()=>i.onOpenChange(!1))})});LJ.displayName=IJ;function eL(t){return t?"open":"closed"}var FJ="DialogTitleWarning",[pMe,UJ]=Lme(FJ,{contentName:Dm,titleName:J3,docsSlug:"dialog"}),gMe=({titleId:t})=>{const e=UJ(FJ),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return S.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},vMe="DialogDescriptionWarning",xMe=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${UJ(vMe).contentName}}.`;return S.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},BJ=NJ,zJ=CJ,VJ=AJ,tL=TJ,nL=PJ,rL=RJ,iL=DJ,sL=LJ;const Ii=BJ,lo=zJ,yMe=VJ,WJ=S.forwardRef(({className:t,...e},n)=>o.jsx(tL,{ref:n,className:xt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));WJ.displayName=tL.displayName;const vi=S.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(yMe,{children:[o.jsx(WJ,{}),o.jsxs(nL,{ref:r,className:xt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,o.jsxs(sL,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsx(YE,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));vi.displayName=nL.displayName;const xi=({className:t,...e})=>o.jsx("div",{className:xt("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});xi.displayName="DialogHeader";const yi=S.forwardRef(({className:t,...e},n)=>o.jsx(rL,{ref:n,className:xt("text-lg font-semibold leading-none tracking-tight",t),...e}));yi.displayName=rL.displayName;const bMe=S.forwardRef(({className:t,...e},n)=>o.jsx(iL,{ref:n,className:xt("text-sm text-muted-foreground",t),...e}));bMe.displayName=iL.displayName;const wMe={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 mês",other:"cerca de {{count}} meses"},xMonths:{one:"1 mês",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},_Me=(t,e,n)=>{let r;const i=wMe[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",String(e)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"em "+r:"há "+r:r},SMe={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},EMe={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},NMe={full:"{{date}} 'às' {{time}}",long:"{{date}} 'às' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},MMe={date:Yg({formats:SMe,defaultWidth:"full"}),time:Yg({formats:EMe,defaultWidth:"full"}),dateTime:Yg({formats:NMe,defaultWidth:"full"})},CMe={lastWeek:t=>{const e=t.getDay();return"'"+(e===0||e===6?"último":"última")+"' eeee 'às' p"},yesterday:"'ontem às' p",today:"'hoje às' p",tomorrow:"'amanhã às' p",nextWeek:"eeee 'às' p",other:"P"},jMe=(t,e,n,r)=>{const i=CMe[t];return typeof i=="function"?i(e):i},AMe={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},TMe={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},PMe={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},kMe={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","terça","quarta","quinta","sexta","sábado"],wide:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"]},RMe={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"}},OMe={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},DMe=(t,e)=>{const n=Number(t);return(e==null?void 0:e.unit)==="week"?n+"ª":n+"º"},IMe={ordinalNumber:DMe,era:ic({values:AMe,defaultWidth:"wide"}),quarter:ic({values:TMe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ic({values:PMe,defaultWidth:"wide"}),day:ic({values:kMe,defaultWidth:"wide"}),dayPeriod:ic({values:RMe,defaultWidth:"wide",formattingValues:OMe,defaultFormattingWidth:"wide"})},LMe=/^(\d+)[ºªo]?/i,FMe=/\d+/i,UMe={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},BMe={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},zMe={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},VMe={any:[/1/i,/2/i,/3/i,/4/i]},WMe={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|março|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},$Me={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},HMe={narrow:/^(dom|[23456]ª?|s[aá]b)/i,short:/^(dom|[23456]ª?|s[aá]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[aá]b)/i,wide:/^(domingo|(segunda|ter[cç]a|quarta|quinta|sexta)([- ]feira)?|s[aá]bado)/i},GMe={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[aá]b/i]},qMe={narrow:/^(a|p|mn|md|(da) (manhã|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manhã|tarde|noite))/i},KMe={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manhã/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},XMe={ordinalNumber:$Z({matchPattern:LMe,parsePattern:FMe,valueCallback:t=>parseInt(t,10)}),era:sc({matchPatterns:UMe,defaultMatchWidth:"wide",parsePatterns:BMe,defaultParseWidth:"any"}),quarter:sc({matchPatterns:zMe,defaultMatchWidth:"wide",parsePatterns:VMe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:sc({matchPatterns:WMe,defaultMatchWidth:"wide",parsePatterns:$Me,defaultParseWidth:"any"}),day:sc({matchPatterns:HMe,defaultMatchWidth:"wide",parsePatterns:GMe,defaultParseWidth:"any"}),dayPeriod:sc({matchPatterns:qMe,defaultMatchWidth:"any",parsePatterns:KMe,defaultParseWidth:"any"})},pn={code:"pt-BR",formatDistance:_Me,formatLong:MMe,formatRelative:jMe,localize:IMe,match:XMe,options:{weekStartsOn:0,firstWeekContainsDate:1}};var Gt=function(){return Gt=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Gt.apply(this,arguments)};function YMe(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function $J(t,e,n){for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function Mw(t){return t.mode==="multiple"}function Cw(t){return t.mode==="range"}function G2(t){return t.mode==="single"}var ZMe={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function QMe(t,e){return Ot(t,"LLLL y",e)}function JMe(t,e){return Ot(t,"d",e)}function e2e(t,e){return Ot(t,"LLLL",e)}function t2e(t){return"".concat(t)}function n2e(t,e){return Ot(t,"cccccc",e)}function r2e(t,e){return Ot(t,"yyyy",e)}var i2e=Object.freeze({__proto__:null,formatCaption:QMe,formatDay:JMe,formatMonthCaption:e2e,formatWeekNumber:t2e,formatWeekdayName:n2e,formatYearCaption:r2e}),s2e=function(t,e,n){return Ot(t,"do MMMM (EEEE)",n)},a2e=function(){return"Month: "},o2e=function(){return"Go to next month"},l2e=function(){return"Go to previous month"},c2e=function(t,e){return Ot(t,"cccc",e)},u2e=function(t){return"Week n. ".concat(t)},d2e=function(){return"Year: "},f2e=Object.freeze({__proto__:null,labelDay:s2e,labelMonthDropdown:a2e,labelNext:o2e,labelPrevious:l2e,labelWeekNumber:u2e,labelWeekday:c2e,labelYearDropdown:d2e});function h2e(){var t="buttons",e=ZMe,n=HZ,r={},i={},s=1,a={},l=new Date;return{captionLayout:t,classNames:e,formatters:i2e,labels:f2e,locale:n,modifiersClassNames:r,modifiers:i,numberOfMonths:s,styles:a,today:l,mode:"default"}}function m2e(t){var e=t.fromYear,n=t.toYear,r=t.fromMonth,i=t.toMonth,s=t.fromDate,a=t.toDate;return r?s=Ta(r):e&&(s=new Date(e,0,1)),i?a=H3(i):n&&(a=new Date(n,11,31)),{fromDate:s?Sv(s):void 0,toDate:a?Sv(a):void 0}}var HJ=S.createContext(void 0);function p2e(t){var e,n=t.initialProps,r=h2e(),i=m2e(n),s=i.fromDate,a=i.toDate,l=(e=n.captionLayout)!==null&&e!==void 0?e:r.captionLayout;l!=="buttons"&&(!s||!a)&&(l="buttons");var c;(G2(n)||Mw(n)||Cw(n))&&(c=n.onSelect);var u=Gt(Gt(Gt({},r),n),{captionLayout:l,classNames:Gt(Gt({},r.classNames),n.classNames),components:Gt({},n.components),formatters:Gt(Gt({},r.formatters),n.formatters),fromDate:s,labels:Gt(Gt({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:Gt(Gt({},r.modifiers),n.modifiers),modifiersClassNames:Gt(Gt({},r.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:Gt(Gt({},r.styles),n.styles),toDate:a});return o.jsx(HJ.Provider,{value:u,children:t.children})}function ir(){var t=S.useContext(HJ);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function GJ(t){var e=ir(),n=e.locale,r=e.classNames,i=e.styles,s=e.formatters.formatCaption;return o.jsx("div",{className:r.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:s(t.displayMonth,{locale:n})})}function g2e(t){return o.jsx("svg",Gt({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:o.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function qJ(t){var e,n,r=t.onChange,i=t.value,s=t.children,a=t.caption,l=t.className,c=t.style,u=ir(),d=(n=(e=u.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&n!==void 0?n:g2e;return o.jsxs("div",{className:l,style:c,children:[o.jsx("span",{className:u.classNames.vhidden,children:t["aria-label"]}),o.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:i,onChange:r,children:s}),o.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[a,o.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function v2e(t){var e,n=ir(),r=n.fromDate,i=n.toDate,s=n.styles,a=n.locale,l=n.formatters.formatMonthCaption,c=n.classNames,u=n.components,d=n.labels.labelMonthDropdown;if(!r)return o.jsx(o.Fragment,{});if(!i)return o.jsx(o.Fragment,{});var f=[];if(wEe(r,i))for(var h=Ta(r),m=r.getMonth();m<=i.getMonth();m++)f.push(HT(h,m));else for(var h=Ta(new Date),m=0;m<=11;m++)f.push(HT(h,m));var p=function(v){var g=Number(v.target.value),w=HT(Ta(t.displayMonth),g);t.onChange(w)},x=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:qJ;return o.jsx(x,{name:"months","aria-label":d(),className:c.dropdown_month,style:s.dropdown_month,onChange:p,value:t.displayMonth.getMonth(),caption:l(t.displayMonth,{locale:a}),children:f.map(function(v){return o.jsx("option",{value:v.getMonth(),children:l(v,{locale:a})},v.getMonth())})})}function x2e(t){var e,n=t.displayMonth,r=ir(),i=r.fromDate,s=r.toDate,a=r.locale,l=r.styles,c=r.classNames,u=r.components,d=r.formatters.formatYearCaption,f=r.labels.labelYearDropdown,h=[];if(!i)return o.jsx(o.Fragment,{});if(!s)return o.jsx(o.Fragment,{});for(var m=i.getFullYear(),p=s.getFullYear(),x=m;x<=p;x++)h.push(a8(VZ(new Date),x));var v=function(w){var _=a8(Ta(n),Number(w.target.value));t.onChange(_)},g=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:qJ;return o.jsx(g,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:v,value:n.getFullYear(),caption:d(n,{locale:a}),children:h.map(function(w){return o.jsx("option",{value:w.getFullYear(),children:d(w,{locale:a})},w.getFullYear())})})}function y2e(t,e){var n=S.useState(t),r=n[0],i=n[1],s=e===void 0?r:e;return[s,i]}function b2e(t){var e=t.month,n=t.defaultMonth,r=t.today,i=e||n||r||new Date,s=t.toDate,a=t.fromDate,l=t.numberOfMonths,c=l===void 0?1:l;if(s&&fb(s,i)<0){var u=-1*(c-1);i=kl(s,u)}return a&&fb(i,a)<0&&(i=a),Ta(i)}function w2e(){var t=ir(),e=b2e(t),n=y2e(e,t.month),r=n[0],i=n[1],s=function(a){var l;if(!t.disableNavigation){var c=Ta(a);i(c),(l=t.onMonthChange)===null||l===void 0||l.call(t,c)}};return[r,s]}function _2e(t,e){for(var n=e.reverseMonths,r=e.numberOfMonths,i=Ta(t),s=Ta(kl(i,r)),a=fb(s,i),l=[],c=0;c<a;c++){var u=kl(i,c);l.push(u)}return n&&(l=l.reverse()),l}function S2e(t,e){if(!e.disableNavigation){var n=e.toDate,r=e.pagedNavigation,i=e.numberOfMonths,s=i===void 0?1:i,a=r?s:1,l=Ta(t);if(!n)return kl(l,a);var c=fb(n,t);if(!(c<s))return kl(l,a)}}function E2e(t,e){if(!e.disableNavigation){var n=e.fromDate,r=e.pagedNavigation,i=e.numberOfMonths,s=i===void 0?1:i,a=r?s:1,l=Ta(t);if(!n)return kl(l,-a);var c=fb(l,n);if(!(c<=0))return kl(l,-a)}}var KJ=S.createContext(void 0);function N2e(t){var e=ir(),n=w2e(),r=n[0],i=n[1],s=_2e(r,e),a=S2e(r,e),l=E2e(r,e),c=function(f){return s.some(function(h){return q3(f,h)})},u=function(f,h){c(f)||(h&&YZ(f,h)?i(kl(f,1+e.numberOfMonths*-1)):i(f))},d={currentMonth:r,displayMonths:s,goToMonth:i,goToDate:u,previousMonth:l,nextMonth:a,isDateDisplayed:c};return o.jsx(KJ.Provider,{value:d,children:t.children})}function jw(){var t=S.useContext(KJ);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function c8(t){var e,n=ir(),r=n.classNames,i=n.styles,s=n.components,a=jw().goToMonth,l=function(d){a(kl(d,t.displayIndex?-t.displayIndex:0))},c=(e=s==null?void 0:s.CaptionLabel)!==null&&e!==void 0?e:GJ,u=o.jsx(c,{id:t.id,displayMonth:t.displayMonth});return o.jsxs("div",{className:r.caption_dropdowns,style:i.caption_dropdowns,children:[o.jsx("div",{className:r.vhidden,children:u}),o.jsx(v2e,{onChange:l,displayMonth:t.displayMonth}),o.jsx(x2e,{onChange:l,displayMonth:t.displayMonth})]})}function M2e(t){return o.jsx("svg",Gt({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:o.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function C2e(t){return o.jsx("svg",Gt({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:o.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var dN=S.forwardRef(function(t,e){var n=ir(),r=n.classNames,i=n.styles,s=[r.button_reset,r.button];t.className&&s.push(t.className);var a=s.join(" "),l=Gt(Gt({},i.button_reset),i.button);return t.style&&Object.assign(l,t.style),o.jsx("button",Gt({},t,{ref:e,type:"button",className:a,style:l}))});function j2e(t){var e,n,r=ir(),i=r.dir,s=r.locale,a=r.classNames,l=r.styles,c=r.labels,u=c.labelPrevious,d=c.labelNext,f=r.components;if(!t.nextMonth&&!t.previousMonth)return o.jsx(o.Fragment,{});var h=u(t.previousMonth,{locale:s}),m=[a.nav_button,a.nav_button_previous].join(" "),p=d(t.nextMonth,{locale:s}),x=[a.nav_button,a.nav_button_next].join(" "),v=(e=f==null?void 0:f.IconRight)!==null&&e!==void 0?e:C2e,g=(n=f==null?void 0:f.IconLeft)!==null&&n!==void 0?n:M2e;return o.jsxs("div",{className:a.nav,style:l.nav,children:[!t.hidePrevious&&o.jsx(dN,{name:"previous-month","aria-label":h,className:m,style:l.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:i==="rtl"?o.jsx(v,{className:a.nav_icon,style:l.nav_icon}):o.jsx(g,{className:a.nav_icon,style:l.nav_icon})}),!t.hideNext&&o.jsx(dN,{name:"next-month","aria-label":p,className:x,style:l.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:i==="rtl"?o.jsx(g,{className:a.nav_icon,style:l.nav_icon}):o.jsx(v,{className:a.nav_icon,style:l.nav_icon})})]})}function u8(t){var e=ir().numberOfMonths,n=jw(),r=n.previousMonth,i=n.nextMonth,s=n.goToMonth,a=n.displayMonths,l=a.findIndex(function(p){return q3(t.displayMonth,p)}),c=l===0,u=l===a.length-1,d=e>1&&(c||!u),f=e>1&&(u||!c),h=function(){r&&s(r)},m=function(){i&&s(i)};return o.jsx(j2e,{displayMonth:t.displayMonth,hideNext:d,hidePrevious:f,nextMonth:i,previousMonth:r,onPreviousClick:h,onNextClick:m})}function A2e(t){var e,n=ir(),r=n.classNames,i=n.disableNavigation,s=n.styles,a=n.captionLayout,l=n.components,c=(e=l==null?void 0:l.CaptionLabel)!==null&&e!==void 0?e:GJ,u;return i?u=o.jsx(c,{id:t.id,displayMonth:t.displayMonth}):a==="dropdown"?u=o.jsx(c8,{displayMonth:t.displayMonth,id:t.id}):a==="dropdown-buttons"?u=o.jsxs(o.Fragment,{children:[o.jsx(c8,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),o.jsx(u8,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):u=o.jsxs(o.Fragment,{children:[o.jsx(c,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),o.jsx(u8,{displayMonth:t.displayMonth,id:t.id})]}),o.jsx("div",{className:r.caption,style:s.caption,children:u})}function T2e(t){var e=ir(),n=e.footer,r=e.styles,i=e.classNames.tfoot;return n?o.jsx("tfoot",{className:i,style:r.tfoot,children:o.jsx("tr",{children:o.jsx("td",{colSpan:8,children:n})})}):o.jsx(o.Fragment,{})}function P2e(t,e,n){for(var r=n?km(new Date):Rl(new Date,{locale:t,weekStartsOn:e}),i=[],s=0;s<7;s++){var a=zs(r,s);i.push(a)}return i}function k2e(){var t=ir(),e=t.classNames,n=t.styles,r=t.showWeekNumber,i=t.locale,s=t.weekStartsOn,a=t.ISOWeek,l=t.formatters.formatWeekdayName,c=t.labels.labelWeekday,u=P2e(i,s,a);return o.jsxs("tr",{style:n.head_row,className:e.head_row,children:[r&&o.jsx("td",{style:n.head_cell,className:e.head_cell}),u.map(function(d,f){return o.jsx("th",{scope:"col",className:e.head_cell,style:n.head_cell,"aria-label":c(d,{locale:i}),children:l(d,{locale:i})},f)})]})}function R2e(){var t,e=ir(),n=e.classNames,r=e.styles,i=e.components,s=(t=i==null?void 0:i.HeadRow)!==null&&t!==void 0?t:k2e;return o.jsx("thead",{style:r.head,className:n.head,children:o.jsx(s,{})})}function O2e(t){var e=ir(),n=e.locale,r=e.formatters.formatDay;return o.jsx(o.Fragment,{children:r(t.date,{locale:n})})}var aL=S.createContext(void 0);function D2e(t){if(!Mw(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return o.jsx(aL.Provider,{value:e,children:t.children})}return o.jsx(I2e,{initialProps:t.initialProps,children:t.children})}function I2e(t){var e=t.initialProps,n=t.children,r=e.selected,i=e.min,s=e.max,a=function(u,d,f){var h,m;(h=e.onDayClick)===null||h===void 0||h.call(e,u,d,f);var p=!!(d.selected&&i&&(r==null?void 0:r.length)===i);if(!p){var x=!!(!d.selected&&s&&(r==null?void 0:r.length)===s);if(!x){var v=r?$J([],r):[];if(d.selected){var g=v.findIndex(function(w){return _a(u,w)});v.splice(g,1)}else v.push(u);(m=e.onSelect)===null||m===void 0||m.call(e,v,u,d,f)}}},l={disabled:[]};r&&l.disabled.push(function(u){var d=s&&r.length>s-1,f=r.some(function(h){return _a(h,u)});return!!(d&&!f)});var c={selected:r,onDayClick:a,modifiers:l};return o.jsx(aL.Provider,{value:c,children:n})}function oL(){var t=S.useContext(aL);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function L2e(t,e){var n=e||{},r=n.from,i=n.to;return r&&i?_a(i,t)&&_a(r,t)?void 0:_a(i,t)?{from:i,to:void 0}:_a(r,t)?void 0:iO(r,t)?{from:t,to:i}:{from:r,to:t}:i?iO(t,i)?{from:i,to:t}:{from:t,to:i}:r?YZ(t,r)?{from:t,to:r}:{from:r,to:t}:{from:t,to:void 0}}var lL=S.createContext(void 0);function F2e(t){if(!Cw(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return o.jsx(lL.Provider,{value:e,children:t.children})}return o.jsx(U2e,{initialProps:t.initialProps,children:t.children})}function U2e(t){var e=t.initialProps,n=t.children,r=e.selected,i=r||{},s=i.from,a=i.to,l=e.min,c=e.max,u=function(m,p,x){var v,g;(v=e.onDayClick)===null||v===void 0||v.call(e,m,p,x);var w=L2e(m,r);(g=e.onSelect)===null||g===void 0||g.call(e,w,m,p,x)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(s?(d.range_start=[s],a?(d.range_end=[a],_a(s,a)||(d.range_middle=[{after:s,before:a}])):d.range_end=[s]):a&&(d.range_start=[a],d.range_end=[a]),l&&(s&&!a&&d.disabled.push({after:dm(s,l-1),before:zs(s,l-1)}),s&&a&&d.disabled.push({after:s,before:zs(s,l-1)}),!s&&a&&d.disabled.push({after:dm(a,l-1),before:zs(a,l-1)})),c){if(s&&!a&&(d.disabled.push({before:zs(s,-c+1)}),d.disabled.push({after:zs(s,c-1)})),s&&a){var f=uc(a,s)+1,h=c-f;d.disabled.push({before:dm(s,h)}),d.disabled.push({after:zs(a,h)})}!s&&a&&(d.disabled.push({before:zs(a,-c+1)}),d.disabled.push({after:zs(a,c-1)}))}return o.jsx(lL.Provider,{value:{selected:r,onDayClick:u,modifiers:d},children:n})}function cL(){var t=S.useContext(lL);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function cE(t){return Array.isArray(t)?$J([],t):t!==void 0?[t]:[]}function B2e(t){var e={};return Object.entries(t).forEach(function(n){var r=n[0],i=n[1];e[r]=cE(i)}),e}var Ol;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(Ol||(Ol={}));var z2e=Ol.Selected,qc=Ol.Disabled,V2e=Ol.Hidden,W2e=Ol.Today,qT=Ol.RangeEnd,KT=Ol.RangeMiddle,XT=Ol.RangeStart,$2e=Ol.Outside;function H2e(t,e,n){var r,i=(r={},r[z2e]=cE(t.selected),r[qc]=cE(t.disabled),r[V2e]=cE(t.hidden),r[W2e]=[t.today],r[qT]=[],r[KT]=[],r[XT]=[],r[$2e]=[],r);return t.fromDate&&i[qc].push({before:t.fromDate}),t.toDate&&i[qc].push({after:t.toDate}),Mw(t)?i[qc]=i[qc].concat(e.modifiers[qc]):Cw(t)&&(i[qc]=i[qc].concat(n.modifiers[qc]),i[XT]=n.modifiers[XT],i[KT]=n.modifiers[KT],i[qT]=n.modifiers[qT]),i}var XJ=S.createContext(void 0);function G2e(t){var e=ir(),n=oL(),r=cL(),i=H2e(e,n,r),s=B2e(e.modifiers),a=Gt(Gt({},i),s);return o.jsx(XJ.Provider,{value:a,children:t.children})}function YJ(){var t=S.useContext(XJ);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function q2e(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function K2e(t){return!!(t&&typeof t=="object"&&"from"in t)}function X2e(t){return!!(t&&typeof t=="object"&&"after"in t)}function Y2e(t){return!!(t&&typeof t=="object"&&"before"in t)}function Z2e(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function Q2e(t,e){var n,r=e.from,i=e.to;if(r&&i){var s=uc(i,r)<0;s&&(n=[i,r],r=n[0],i=n[1]);var a=uc(t,r)>=0&&uc(i,t)>=0;return a}return i?_a(i,t):r?_a(r,t):!1}function J2e(t){return $3(t)}function eCe(t){return Array.isArray(t)&&t.every($3)}function tCe(t,e){return e.some(function(n){if(typeof n=="boolean")return n;if(J2e(n))return _a(t,n);if(eCe(n))return n.includes(t);if(K2e(n))return Q2e(t,n);if(Z2e(n))return n.dayOfWeek.includes(t.getDay());if(q2e(n)){var r=uc(n.before,t),i=uc(n.after,t),s=r>0,a=i<0,l=iO(n.before,n.after);return l?a&&s:s||a}return X2e(n)?uc(t,n.after)>0:Y2e(n)?uc(n.before,t)>0:typeof n=="function"?n(t):!1})}function uL(t,e,n){var r=Object.keys(e).reduce(function(s,a){var l=e[a];return tCe(t,l)&&s.push(a),s},[]),i={};return r.forEach(function(s){return i[s]=!0}),n&&!q3(t,n)&&(i.outside=!0),i}function nCe(t,e){for(var n=Ta(t[0]),r=H3(t[t.length-1]),i,s,a=n;a<=r;){var l=uL(a,e),c=!l.disabled&&!l.hidden;if(!c){a=zs(a,1);continue}if(l.selected)return a;l.today&&!s&&(s=a),i||(i=a),a=zs(a,1)}return s||i}var rCe=365;function ZJ(t,e){var n=e.moveBy,r=e.direction,i=e.context,s=e.modifiers,a=e.retry,l=a===void 0?{count:0,lastFocused:t}:a,c=i.weekStartsOn,u=i.fromDate,d=i.toDate,f=i.locale,h={day:zs,week:um,month:kl,year:xSe,startOfWeek:function(v){return i.ISOWeek?km(v):Rl(v,{locale:f,weekStartsOn:c})},endOfWeek:function(v){return i.ISOWeek?WZ(v):G3(v,{locale:f,weekStartsOn:c})}},m=h[n](t,r==="after"?1:-1);r==="before"&&u?m=ySe([u,m]):r==="after"&&d&&(m=bSe([d,m]));var p=!0;if(s){var x=uL(m,s);p=!x.disabled&&!x.hidden}return p?m:l.count>rCe?l.lastFocused:ZJ(m,{moveBy:n,direction:r,context:i,modifiers:s,retry:Gt(Gt({},l),{count:l.count+1})})}var QJ=S.createContext(void 0);function iCe(t){var e=jw(),n=YJ(),r=S.useState(),i=r[0],s=r[1],a=S.useState(),l=a[0],c=a[1],u=nCe(e.displayMonths,n),d=i??(l&&e.isDateDisplayed(l))?l:u,f=function(){c(i),s(void 0)},h=function(v){s(v)},m=ir(),p=function(v,g){if(i){var w=ZJ(i,{moveBy:v,direction:g,context:m,modifiers:n});_a(i,w)||(e.goToDate(w,i),h(w))}},x={focusedDay:i,focusTarget:d,blur:f,focus:h,focusDayAfter:function(){return p("day","after")},focusDayBefore:function(){return p("day","before")},focusWeekAfter:function(){return p("week","after")},focusWeekBefore:function(){return p("week","before")},focusMonthBefore:function(){return p("month","before")},focusMonthAfter:function(){return p("month","after")},focusYearBefore:function(){return p("year","before")},focusYearAfter:function(){return p("year","after")},focusStartOfWeek:function(){return p("startOfWeek","before")},focusEndOfWeek:function(){return p("endOfWeek","after")}};return o.jsx(QJ.Provider,{value:x,children:t.children})}function dL(){var t=S.useContext(QJ);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function sCe(t,e){var n=YJ(),r=uL(t,n,e);return r}var fL=S.createContext(void 0);function aCe(t){if(!G2(t.initialProps)){var e={selected:void 0};return o.jsx(fL.Provider,{value:e,children:t.children})}return o.jsx(oCe,{initialProps:t.initialProps,children:t.children})}function oCe(t){var e=t.initialProps,n=t.children,r=function(s,a,l){var c,u,d;if((c=e.onDayClick)===null||c===void 0||c.call(e,s,a,l),a.selected&&!e.required){(u=e.onSelect)===null||u===void 0||u.call(e,void 0,s,a,l);return}(d=e.onSelect)===null||d===void 0||d.call(e,s,s,a,l)},i={selected:e.selected,onDayClick:r};return o.jsx(fL.Provider,{value:i,children:n})}function JJ(){var t=S.useContext(fL);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function lCe(t,e){var n=ir(),r=JJ(),i=oL(),s=cL(),a=dL(),l=a.focusDayAfter,c=a.focusDayBefore,u=a.focusWeekAfter,d=a.focusWeekBefore,f=a.blur,h=a.focus,m=a.focusMonthBefore,p=a.focusMonthAfter,x=a.focusYearBefore,v=a.focusYearAfter,g=a.focusStartOfWeek,w=a.focusEndOfWeek,_=function($){var L,V,K,W;G2(n)?(L=r.onDayClick)===null||L===void 0||L.call(r,t,e,$):Mw(n)?(V=i.onDayClick)===null||V===void 0||V.call(i,t,e,$):Cw(n)?(K=s.onDayClick)===null||K===void 0||K.call(s,t,e,$):(W=n.onDayClick)===null||W===void 0||W.call(n,t,e,$)},E=function($){var L;h(t),(L=n.onDayFocus)===null||L===void 0||L.call(n,t,e,$)},N=function($){var L;f(),(L=n.onDayBlur)===null||L===void 0||L.call(n,t,e,$)},C=function($){var L;(L=n.onDayMouseEnter)===null||L===void 0||L.call(n,t,e,$)},j=function($){var L;(L=n.onDayMouseLeave)===null||L===void 0||L.call(n,t,e,$)},T=function($){var L;(L=n.onDayPointerEnter)===null||L===void 0||L.call(n,t,e,$)},A=function($){var L;(L=n.onDayPointerLeave)===null||L===void 0||L.call(n,t,e,$)},P=function($){var L;(L=n.onDayTouchCancel)===null||L===void 0||L.call(n,t,e,$)},R=function($){var L;(L=n.onDayTouchEnd)===null||L===void 0||L.call(n,t,e,$)},D=function($){var L;(L=n.onDayTouchMove)===null||L===void 0||L.call(n,t,e,$)},F=function($){var L;(L=n.onDayTouchStart)===null||L===void 0||L.call(n,t,e,$)},I=function($){var L;(L=n.onDayKeyUp)===null||L===void 0||L.call(n,t,e,$)},G=function($){var L;switch($.key){case"ArrowLeft":$.preventDefault(),$.stopPropagation(),n.dir==="rtl"?l():c();break;case"ArrowRight":$.preventDefault(),$.stopPropagation(),n.dir==="rtl"?c():l();break;case"ArrowDown":$.preventDefault(),$.stopPropagation(),u();break;case"ArrowUp":$.preventDefault(),$.stopPropagation(),d();break;case"PageUp":$.preventDefault(),$.stopPropagation(),$.shiftKey?x():m();break;case"PageDown":$.preventDefault(),$.stopPropagation(),$.shiftKey?v():p();break;case"Home":$.preventDefault(),$.stopPropagation(),g();break;case"End":$.preventDefault(),$.stopPropagation(),w();break}(L=n.onDayKeyDown)===null||L===void 0||L.call(n,t,e,$)},q={onClick:_,onFocus:E,onBlur:N,onKeyDown:G,onKeyUp:I,onMouseEnter:C,onMouseLeave:j,onPointerEnter:T,onPointerLeave:A,onTouchCancel:P,onTouchEnd:R,onTouchMove:D,onTouchStart:F};return q}function cCe(){var t=ir(),e=JJ(),n=oL(),r=cL(),i=G2(t)?e.selected:Mw(t)?n.selected:Cw(t)?r.selected:void 0;return i}function uCe(t){return Object.values(Ol).includes(t)}function dCe(t,e){var n=[t.classNames.day];return Object.keys(e).forEach(function(r){var i=t.modifiersClassNames[r];if(i)n.push(i);else if(uCe(r)){var s=t.classNames["day_".concat(r)];s&&n.push(s)}}),n}function fCe(t,e){var n=Gt({},t.styles.day);return Object.keys(e).forEach(function(r){var i;n=Gt(Gt({},n),(i=t.modifiersStyles)===null||i===void 0?void 0:i[r])}),n}function hCe(t,e,n){var r,i,s,a=ir(),l=dL(),c=sCe(t,e),u=lCe(t,c),d=cCe(),f=!!(a.onDayClick||a.mode!=="default");S.useEffect(function(){var C;c.outside||l.focusedDay&&f&&_a(l.focusedDay,t)&&((C=n.current)===null||C===void 0||C.focus())},[l.focusedDay,t,n,f,c.outside]);var h=dCe(a,c).join(" "),m=fCe(a,c),p=!!(c.outside&&!a.showOutsideDays||c.hidden),x=(s=(i=a.components)===null||i===void 0?void 0:i.DayContent)!==null&&s!==void 0?s:O2e,v=o.jsx(x,{date:t,displayMonth:e,activeModifiers:c}),g={style:m,className:h,children:v,role:"gridcell"},w=l.focusTarget&&_a(l.focusTarget,t)&&!c.outside,_=l.focusedDay&&_a(l.focusedDay,t),E=Gt(Gt(Gt({},g),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=_||w?0:-1,r)),u),N={isButton:f,isHidden:p,activeModifiers:c,selectedDays:d,buttonProps:E,divProps:g};return N}function mCe(t){var e=S.useRef(null),n=hCe(t.date,t.displayMonth,e);return n.isHidden?o.jsx("div",{role:"gridcell"}):n.isButton?o.jsx(dN,Gt({name:"day",ref:e},n.buttonProps)):o.jsx("div",Gt({},n.divProps))}function pCe(t){var e=t.number,n=t.dates,r=ir(),i=r.onWeekNumberClick,s=r.styles,a=r.classNames,l=r.locale,c=r.labels.labelWeekNumber,u=r.formatters.formatWeekNumber,d=u(Number(e),{locale:l});if(!i)return o.jsx("span",{className:a.weeknumber,style:s.weeknumber,children:d});var f=c(Number(e),{locale:l}),h=function(m){i(e,n,m)};return o.jsx(dN,{name:"week-number","aria-label":f,className:a.weeknumber,style:s.weeknumber,onClick:h,children:d})}function gCe(t){var e,n,r=ir(),i=r.styles,s=r.classNames,a=r.showWeekNumber,l=r.components,c=(e=l==null?void 0:l.Day)!==null&&e!==void 0?e:mCe,u=(n=l==null?void 0:l.WeekNumber)!==null&&n!==void 0?n:pCe,d;return a&&(d=o.jsx("td",{className:s.cell,style:i.cell,children:o.jsx(u,{number:t.weekNumber,dates:t.dates})})),o.jsxs("tr",{className:s.row,style:i.row,children:[d,t.dates.map(function(f){return o.jsx("td",{className:s.cell,style:i.cell,role:"presentation",children:o.jsx(c,{displayMonth:t.displayMonth,date:f})},xEe(f))})]})}function d8(t,e,n){for(var r=n!=null&&n.ISOWeek?WZ(e):G3(e,n),i=n!=null&&n.ISOWeek?km(t):Rl(t,n),s=uc(r,i),a=[],l=0;l<=s;l++)a.push(zs(i,l));var c=a.reduce(function(u,d){var f=n!=null&&n.ISOWeek?GZ(d):KZ(d,n),h=u.find(function(m){return m.weekNumber===f});return h?(h.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return c}function vCe(t,e){var n=d8(Ta(t),H3(t),e);if(e!=null&&e.useFixedWeeks){var r=bEe(t,e);if(r<6){var i=n[n.length-1],s=i.dates[i.dates.length-1],a=um(s,6-r),l=d8(um(s,1),a,e);n.push.apply(n,l)}}return n}function xCe(t){var e,n,r,i=ir(),s=i.locale,a=i.classNames,l=i.styles,c=i.hideHead,u=i.fixedWeeks,d=i.components,f=i.weekStartsOn,h=i.firstWeekContainsDate,m=i.ISOWeek,p=vCe(t.displayMonth,{useFixedWeeks:!!u,ISOWeek:m,locale:s,weekStartsOn:f,firstWeekContainsDate:h}),x=(e=d==null?void 0:d.Head)!==null&&e!==void 0?e:R2e,v=(n=d==null?void 0:d.Row)!==null&&n!==void 0?n:gCe,g=(r=d==null?void 0:d.Footer)!==null&&r!==void 0?r:T2e;return o.jsxs("table",{id:t.id,className:a.table,style:l.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!c&&o.jsx(x,{}),o.jsx("tbody",{className:a.tbody,style:l.tbody,children:p.map(function(w){return o.jsx(v,{displayMonth:t.displayMonth,dates:w.dates,weekNumber:w.weekNumber},w.weekNumber)})}),o.jsx(g,{displayMonth:t.displayMonth})]})}function yCe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var bCe=yCe()?S.useLayoutEffect:S.useEffect,YT=!1,wCe=0;function f8(){return"react-day-picker-".concat(++wCe)}function _Ce(t){var e,n=t??(YT?f8():null),r=S.useState(n),i=r[0],s=r[1];return bCe(function(){i===null&&s(f8())},[]),S.useEffect(function(){YT===!1&&(YT=!0)},[]),(e=t??i)!==null&&e!==void 0?e:void 0}function SCe(t){var e,n,r=ir(),i=r.dir,s=r.classNames,a=r.styles,l=r.components,c=jw().displayMonths,u=_Ce(r.id?"".concat(r.id,"-").concat(t.displayIndex):void 0),d=r.id?"".concat(r.id,"-grid-").concat(t.displayIndex):void 0,f=[s.month],h=a.month,m=t.displayIndex===0,p=t.displayIndex===c.length-1,x=!m&&!p;i==="rtl"&&(e=[m,p],p=e[0],m=e[1]),m&&(f.push(s.caption_start),h=Gt(Gt({},h),a.caption_start)),p&&(f.push(s.caption_end),h=Gt(Gt({},h),a.caption_end)),x&&(f.push(s.caption_between),h=Gt(Gt({},h),a.caption_between));var v=(n=l==null?void 0:l.Caption)!==null&&n!==void 0?n:A2e;return o.jsxs("div",{className:f.join(" "),style:h,children:[o.jsx(v,{id:u,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),o.jsx(xCe,{id:d,"aria-labelledby":u,displayMonth:t.displayMonth})]},t.displayIndex)}function ECe(t){var e=ir(),n=e.classNames,r=e.styles;return o.jsx("div",{className:n.months,style:r.months,children:t.children})}function NCe(t){var e,n,r=t.initialProps,i=ir(),s=dL(),a=jw(),l=S.useState(!1),c=l[0],u=l[1];S.useEffect(function(){i.initialFocus&&s.focusTarget&&(c||(s.focus(s.focusTarget),u(!0)))},[i.initialFocus,c,s.focus,s.focusTarget,s]);var d=[i.classNames.root,i.className];i.numberOfMonths>1&&d.push(i.classNames.multiple_months),i.showWeekNumber&&d.push(i.classNames.with_weeknumber);var f=Gt(Gt({},i.styles.root),i.style),h=Object.keys(r).filter(function(p){return p.startsWith("data-")}).reduce(function(p,x){var v;return Gt(Gt({},p),(v={},v[x]=r[x],v))},{}),m=(n=(e=r.components)===null||e===void 0?void 0:e.Months)!==null&&n!==void 0?n:ECe;return o.jsx("div",Gt({className:d.join(" "),style:f,dir:i.dir,id:i.id,nonce:r.nonce,title:r.title,lang:r.lang},h,{children:o.jsx(m,{children:a.displayMonths.map(function(p,x){return o.jsx(SCe,{displayIndex:x,displayMonth:p},x)})})}))}function MCe(t){var e=t.children,n=YMe(t,["children"]);return o.jsx(p2e,{initialProps:n,children:o.jsx(N2e,{children:o.jsx(aCe,{initialProps:n,children:o.jsx(D2e,{initialProps:n,children:o.jsx(F2e,{initialProps:n,children:o.jsx(G2e,{children:o.jsx(iCe,{children:e})})})})})})})}function CCe(t){return o.jsx(MCe,Gt({},t,{children:o.jsx(NCe,{initialProps:t})}))}function fN({className:t,classNames:e,showOutsideDays:n=!0,...r}){return o.jsx(CCe,{showOutsideDays:n,className:xt("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:xt(cb({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:xt(cb({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({...i})=>o.jsx(Rpe,{className:"h-4 w-4"}),IconRight:({...i})=>o.jsx(Ql,{className:"h-4 w-4"})},...r})}fN.displayName="Calendar";var q2="Popover",[eee,frt]=qr(q2,[Af]),Aw=Af(),[jCe,Of]=eee(q2),tee=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:a=!1}=t,l=Aw(e),c=S.useRef(null),[u,d]=S.useState(!1),[f,h]=Js({prop:r,defaultProp:i??!1,onChange:s,caller:q2});return o.jsx(w3,{...l,children:o.jsx(jCe,{scope:e,contentId:to(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:S.useCallback(()=>h(m=>!m),[h]),hasCustomAnchor:u,onCustomAnchorAdd:S.useCallback(()=>d(!0),[]),onCustomAnchorRemove:S.useCallback(()=>d(!1),[]),modal:a,children:n})})};tee.displayName=q2;var nee="PopoverAnchor",ACe=S.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Of(nee,n),s=Aw(n),{onCustomAnchorAdd:a,onCustomAnchorRemove:l}=i;return S.useEffect(()=>(a(),()=>l()),[a,l]),o.jsx(fw,{...s,...r,ref:e})});ACe.displayName=nee;var ree="PopoverTrigger",iee=S.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Of(ree,n),s=Aw(n),a=Wt(e,i.triggerRef),l=o.jsx(_t.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":cee(i.open),...r,ref:a,onClick:ot(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?l:o.jsx(fw,{asChild:!0,...s,children:l})});iee.displayName=ree;var hL="PopoverPortal",[TCe,PCe]=eee(hL,{forceMount:void 0}),see=t=>{const{__scopePopover:e,forceMount:n,children:r,container:i}=t,s=Of(hL,e);return o.jsx(TCe,{scope:e,forceMount:n,children:o.jsx(js,{present:n||s.open,children:o.jsx(Zv,{asChild:!0,container:i,children:r})})})};see.displayName=hL;var Nv="PopoverContent",aee=S.forwardRef((t,e)=>{const n=PCe(Nv,t.__scopePopover),{forceMount:r=n.forceMount,...i}=t,s=Of(Nv,t.__scopePopover);return o.jsx(js,{present:r||s.open,children:s.modal?o.jsx(RCe,{...i,ref:e}):o.jsx(OCe,{...i,ref:e})})});aee.displayName=Nv;var kCe=hf("PopoverContent.RemoveScroll"),RCe=S.forwardRef((t,e)=>{const n=Of(Nv,t.__scopePopover),r=S.useRef(null),i=Wt(e,r),s=S.useRef(!1);return S.useEffect(()=>{const a=r.current;if(a)return O2(a)},[]),o.jsx(ww,{as:kCe,allowPinchZoom:!0,children:o.jsx(oee,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ot(t.onCloseAutoFocus,a=>{var l;a.preventDefault(),s.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:ot(t.onPointerDownOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;s.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:ot(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),OCe=S.forwardRef((t,e)=>{const n=Of(Nv,t.__scopePopover),r=S.useRef(!1),i=S.useRef(!1);return o.jsx(oee,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,l;(a=t.onCloseAutoFocus)==null||a.call(t,s),s.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),oee=S.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:a,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=t,h=Of(Nv,n),m=Aw(n);return R2(),o.jsx(yw,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:o.jsx(Km,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:o.jsx(y2,{"data-state":cee(h.open),role:"dialog",id:h.contentId,...m,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),lee="PopoverClose",DCe=S.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Of(lee,n);return o.jsx(_t.button,{type:"button",...r,ref:e,onClick:ot(t.onClick,()=>i.onOpenChange(!1))})});DCe.displayName=lee;var ICe="PopoverArrow",LCe=S.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Aw(n);return o.jsx(b2,{...i,...r,ref:e})});LCe.displayName=ICe;function cee(t){return t?"open":"closed"}var FCe=tee,UCe=iee,BCe=see,uee=aee;const h8=FCe,m8=UCe,hO=S.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},i)=>o.jsx(BCe,{children:o.jsx(uee,{ref:i,align:e,sideOffset:n,className:xt("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));hO.displayName=uee.displayName;var K2="Switch",[zCe,hrt]=qr(K2),[VCe,WCe]=zCe(K2),dee=S.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:a,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=t,[h,m]=S.useState(null),p=Wt(e,_=>m(_)),x=S.useRef(!1),v=h?d||!!h.closest("form"):!0,[g,w]=Js({prop:i,defaultProp:s??!1,onChange:u,caller:K2});return o.jsxs(VCe,{scope:n,checked:g,disabled:l,children:[o.jsx(_t.button,{type:"button",role:"switch","aria-checked":g,"aria-required":a,"data-state":pee(g),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:p,onClick:ot(t.onClick,_=>{w(E=>!E),v&&(x.current=_.isPropagationStopped(),x.current||_.stopPropagation())})}),v&&o.jsx(mee,{control:h,bubbles:!x.current,name:r,value:c,checked:g,required:a,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});dee.displayName=K2;var fee="SwitchThumb",hee=S.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=WCe(fee,n);return o.jsx(_t.span,{"data-state":pee(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});hee.displayName=fee;var $Ce="SwitchBubbleInput",mee=S.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...i},s)=>{const a=S.useRef(null),l=Wt(a,s),c=Nw(n),u=dw(e);return S.useEffect(()=>{const d=a.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&m){const p=new Event("click",{bubbles:r});m.call(d,n),d.dispatchEvent(p)}},[c,n,r]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:l,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});mee.displayName=$Ce;function pee(t){return t?"checked":"unchecked"}var gee=dee,HCe=hee;const fl=S.forwardRef(({className:t,...e},n)=>o.jsx(gee,{className:xt("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:o.jsx(HCe,{className:xt("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));fl.displayName=gee.displayName;const GCe=ow("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),mL=S.forwardRef(({className:t,variant:e,...n},r)=>o.jsx("div",{ref:r,role:"alert",className:xt(GCe({variant:e}),t),...n}));mL.displayName="Alert";const qCe=S.forwardRef(({className:t,...e},n)=>o.jsx("h5",{ref:n,className:xt("mb-1 font-medium leading-none tracking-tight",t),...e}));qCe.displayName="AlertTitle";const pL=S.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:xt("text-sm [&_p]:leading-relaxed",t),...e}));pL.displayName="AlertDescription";const KCe=({userType:t})=>{const[e,n]=S.useState([{id:"1",nome:"Perder 10kg até meu aniversário para me sentir leve e confiante",tipo:"emagrecer",dataInicio:new Date("2024-01-01"),previsaoConclusao:new Date("2024-06-01"),notas:"Quero me sentir mais leve e confiante para curtir meu aniversário. Imagino como será incrível usar aquele vestido que sempre quis!",progresso:35,lembretesSemana:!0,planoAutomatico:!0},{id:"2",nome:"Dormir 8 horas por noite para ter mais energia",tipo:"melhorar-sono",dataInicio:new Date("2024-01-15"),previsaoConclusao:new Date("2024-04-15"),notas:"Quero acordar mais disposta e produtiva. Sonho com manhãs em que acordo descansada e cheia de energia.",progresso:60,lembretesSemana:!1,planoAutomatico:!0}]),[r,i]=S.useState(!1),[s,a]=S.useState(null),[l,c]=S.useState(!1),[u,d]=S.useState({nome:"",tipo:"",dataInicio:new Date,previsaoConclusao:new Date,notas:"",tipoOutro:"",lembretesSemana:!1,planoAutomatico:!1}),f=[{value:"emagrecer",label:"Emagrecer",icon:jf},{value:"melhorar-sono",label:"Melhorar Sono",icon:Am},{value:"ganhar-massa",label:"Ganhar Massa Magra",icon:WK},{value:"reduzir-ansiedade",label:"Reduzir Ansiedade",icon:a3},{value:"melhorar-alimentacao",label:"Melhorar Alimentação",icon:ZK},{value:"criar-habito",label:"Criar Novo Hábito",icon:Xs},{value:"reduzir-dor",label:"Reduzir Dor",icon:Es},{value:"outro",label:"Outro",icon:Vr}],h={emagrecer:["Perder 5kg até o verão para me sentir confiante na praia","Eliminar 10kg em 3 meses para conquistar minha autoestima","Vestir tamanho 38 com orgulho até dezembro"],"melhorar-sono":["Dormir 8 horas por noite para acordar renovada","Ter noites tranquilas sem insônia até março","Criar rotina de sono relaxante para dias mais produtivos"],"ganhar-massa":["Ganhar 3kg de massa muscular para me sentir forte","Definir braços e pernas até o verão","Aumentar força e resistência para mais disposição"],"reduzir-ansiedade":["Controlar ansiedade para viver com mais paz","Ter dias tranquilos sem crises de ansiedade","Desenvolver calma para enfrentar desafios"],"melhorar-alimentacao":["Comer 5 porções de frutas e verduras por dia","Eliminar açúcar refinado para ter mais energia","Criar hábitos alimentares saudáveis para vida toda"],"criar-habito":["Meditar 10 minutos todo dia para encontrar paz interior","Caminhar 30 minutos diários para mais disposição","Ler 20 páginas por dia para crescer pessoalmente"]},m=["Escreva algo que te motive quando bater o desânimo.","Pense no porquê essa meta é importante para você.","Imagine como você se sentirá ao alcançar este objetivo.","Descreva o impacto positivo que isso trará para sua vida.","Lembre-se: você é capaz de conquistas incríveis!","Visualize-se celebrando quando alcançar esta meta."],p=T=>{const A=f.find(P=>P.value===T);return A?A.icon:Vr},x=()=>{if(!u.tipo||u.tipo==="outro")return"Perder 10kg até meu aniversário para me sentir leve e confiante";const T=h[u.tipo]||[];return T[Math.floor(Math.random()*T.length)]||"Alcançar minha transformação pessoal com determinação e amor próprio"},v=()=>{const T=x();d({...u,nome:T})},g=(T,A)=>{const P=Math.abs(A.getTime()-T.getTime());return Math.ceil(P/(1e3*60*60*24))<30?(c(!0),!1):(c(!1),!0)},w=()=>{if(!u.nome||!u.tipo||!g(u.dataInicio,u.previsaoConclusao))return;const T={id:s?s.id:Date.now().toString(),nome:u.nome,tipo:u.tipo,dataInicio:u.dataInicio,previsaoConclusao:u.previsaoConclusao,notas:u.notas,progresso:s?s.progresso:0,tipoOutro:u.tipo==="outro"?u.tipoOutro:void 0,lembretesSemana:u.lembretesSemana,planoAutomatico:u.planoAutomatico};n(s?e.map(A=>A.id===s.id?T:A):[...e,T]),_()},_=()=>{d({nome:"",tipo:"",dataInicio:new Date,previsaoConclusao:new Date,notas:"",tipoOutro:"",lembretesSemana:!1,planoAutomatico:!1}),a(null),i(!1),c(!1)},E=T=>{d({nome:T.nome,tipo:T.tipo,dataInicio:T.dataInicio,previsaoConclusao:T.previsaoConclusao,notas:T.notas,tipoOutro:T.tipoOutro||"",lembretesSemana:T.lembretesSemana,planoAutomatico:T.planoAutomatico}),a(T),i(!0)},N=T=>{n(e.filter(A=>A.id!==T))},C=T=>{const A=new Date,P=Math.ceil((T.previsaoConclusao.getTime()-A.getTime())/(1e3*60*60*24));return T.progresso>=80?"🔥 Você está quase lá! Continue assim!":T.progresso>=50?`💪 Metade do caminho! Faltam ${P} dias!`:P<=7?"⚡ Reta final! Acelere o ritmo!":`🌟 Você está a ${P} dias da sua meta!`},j=()=>m[Math.floor(Math.random()*m.length)];return t==="visitante"?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Nn,{className:"h-16 w-16 text-instituto-orange mx-auto mb-4"}),o.jsx("h2",{className:"text-3xl font-bold text-netflix-text mb-4",children:"Minhas Metas"}),o.jsx("p",{className:"text-netflix-text-muted mb-6 max-w-2xl mx-auto",children:"Defina suas metas de transformação pessoal. Como visitante, você pode criar até 3 metas básicas."})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[o.jsx(le,{className:"bg-gradient-to-r from-instituto-orange/20 to-instituto-orange/10 border-instituto-orange/30",children:o.jsxs(ue,{className:"p-4 text-center",children:[o.jsx("h3",{className:"text-2xl font-bold text-netflix-text",children:Math.min(e.length,3)}),o.jsx("p",{className:"text-netflix-text-muted",children:"Metas Criadas"}),o.jsx("p",{className:"text-xs text-netflix-text-muted mt-1",children:"Limite: 3 metas"})]})}),o.jsx(le,{className:"bg-gradient-to-r from-instituto-purple/20 to-instituto-purple/10 border-instituto-purple/30",children:o.jsxs(ue,{className:"p-4 text-center",children:[o.jsxs("h3",{className:"text-2xl font-bold text-netflix-text",children:[Math.round(e.slice(0,3).reduce((T,A)=>T+A.progresso,0)/Math.min(e.length,3))||0,"%"]}),o.jsx("p",{className:"text-netflix-text-muted",children:"Progresso Médio"})]})})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold text-netflix-text",children:"Suas Metas"}),o.jsx("p",{className:"text-netflix-text-muted",children:"Versão gratuita - até 3 metas"})]}),e.length<3&&o.jsxs(Ii,{open:r,onOpenChange:i,children:[o.jsx(lo,{asChild:!0,children:o.jsxs(pe,{className:"bg-instituto-orange hover:bg-instituto-orange-hover text-white",children:[o.jsx(ws,{className:"h-4 w-4 mr-2"}),"Nova Meta"]})}),o.jsxs(vi,{className:"bg-netflix-card border-netflix-border max-w-md",children:[o.jsx(xi,{children:o.jsx(yi,{className:"text-netflix-text",children:"Nova Meta"})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Ce,{className:"text-netflix-text",children:"Nome da Meta"}),o.jsx(ut,{value:u.nome,onChange:T=>d({...u,nome:T.target.value}),placeholder:"Perder 10kg até meu aniversário para me sentir leve e confiante",className:"bg-netflix-hover border-netflix-border text-netflix-text"}),o.jsx("p",{className:"text-xs text-netflix-text-muted mt-1",children:"Escreva uma meta clara e emocional. Pense no porquê você quer isso."})]}),o.jsxs("div",{children:[o.jsx(Ce,{className:"text-netflix-text",children:"Tipo"}),o.jsxs(nr,{value:u.tipo,onValueChange:T=>d({...u,tipo:T}),children:[o.jsx(Xn,{className:"bg-netflix-hover border-netflix-border text-netflix-text",children:o.jsx(rr,{placeholder:"Selecione o tipo"})}),o.jsx(Yn,{className:"bg-netflix-card border-netflix-border",children:f.slice(0,6).map(T=>o.jsx(ht,{value:T.value,className:"text-netflix-text hover:bg-netflix-hover",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(T.icon,{className:"h-4 w-4"}),T.label]})},T.value))})]})]}),o.jsxs("div",{children:[o.jsx(Ce,{className:"text-netflix-text",children:"Notas e Comentários"}),o.jsx(mn,{value:u.notas,onChange:T=>d({...u,notas:T.target.value}),placeholder:"Por que essa meta é importante para você? Como vai se sentir ao alcançá-la?",className:"bg-netflix-hover border-netflix-border text-netflix-text resize-none",rows:3}),o.jsx("p",{className:"text-xs text-netflix-text-muted mt-1",children:j()})]}),o.jsxs("div",{className:"flex gap-2 pt-4",children:[o.jsx(pe,{onClick:w,className:"flex-1 bg-instituto-orange hover:bg-instituto-orange-hover text-white",children:"Criar Meta"}),o.jsx(pe,{variant:"outline",onClick:_,className:"border-netflix-border text-netflix-text hover:bg-netflix-hover",children:"Cancelar"})]})]})]})]})]}),o.jsxs("div",{className:"grid gap-4",children:[e.slice(0,3).map(T=>{const A=p(T.tipo);return o.jsx(le,{className:"bg-netflix-card border-netflix-border",children:o.jsx(ue,{className:"p-6",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"p-3 bg-instituto-orange/20 rounded-lg",children:o.jsx(A,{className:"h-6 w-6 text-instituto-orange"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-lg font-semibold text-netflix-text mb-2",children:T.nome}),o.jsx("p",{className:"text-netflix-text-muted mb-3 text-sm",children:T.notas}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-netflix-text-muted",children:"Progresso"}),o.jsxs("span",{className:"text-netflix-text font-medium",children:[T.progresso,"%"]})]}),o.jsx("div",{className:"w-full bg-netflix-hover rounded-full h-2",children:o.jsx("div",{className:"bg-gradient-to-r from-instituto-orange to-instituto-purple h-2 rounded-full transition-all duration-500",style:{width:`${T.progresso}%`}})})]})]}),o.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>N(T.id),className:"text-netflix-text-muted hover:text-red-400",children:o.jsx(Tm,{className:"h-4 w-4"})})]})})},T.id)}),e.length===0&&o.jsx(le,{className:"bg-netflix-card border-netflix-border",children:o.jsxs(ue,{className:"p-12 text-center",children:[o.jsx(Nn,{className:"h-12 w-12 text-netflix-text-muted mx-auto mb-4"}),o.jsx("h3",{className:"text-xl font-semibold text-netflix-text mb-2",children:"Crie sua primeira meta"}),o.jsx("p",{className:"text-netflix-text-muted mb-6",children:"Comece sua jornada de transformação definindo um objetivo claro"}),o.jsxs(pe,{onClick:()=>i(!0),className:"bg-instituto-orange hover:bg-instituto-orange-hover text-white",children:[o.jsx(ws,{className:"h-4 w-4 mr-2"}),"Criar Primeira Meta"]})]})}),e.length>=3&&o.jsx(le,{className:"bg-instituto-orange/10 border-instituto-orange/30",children:o.jsxs(ue,{className:"p-6 text-center",children:[o.jsx(Xs,{className:"h-8 w-8 text-instituto-orange mx-auto mb-2"}),o.jsx("h3",{className:"text-lg font-semibold text-netflix-text mb-2",children:"Limite de metas atingido"}),o.jsx("p",{className:"text-netflix-text-muted mb-4",children:"Como visitante, você pode criar até 3 metas. Para metas ilimitadas e recursos avançados, torne-se cliente."}),o.jsx(pe,{className:"instituto-button",children:"Tornar-se Cliente"})]})})]})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[o.jsx(le,{className:"bg-gradient-to-r from-instituto-orange/20 to-instituto-orange/10 border-instituto-orange/30",children:o.jsxs(ue,{className:"p-4 text-center",children:[o.jsx("h3",{className:"text-2xl font-bold text-netflix-text",children:e.length}),o.jsx("p",{className:"text-netflix-text-muted",children:"Metas Ativas"})]})}),o.jsx(le,{className:"bg-gradient-to-r from-green-500/20 to-green-500/10 border-green-500/30",children:o.jsxs(ue,{className:"p-4 text-center",children:[o.jsx("h3",{className:"text-2xl font-bold text-netflix-text",children:e.filter(T=>T.progresso>=100).length}),o.jsx("p",{className:"text-netflix-text-muted",children:"Concluídas"})]})}),o.jsx(le,{className:"bg-gradient-to-r from-instituto-purple/20 to-instituto-purple/10 border-instituto-purple/30",children:o.jsxs(ue,{className:"p-4 text-center",children:[o.jsxs("h3",{className:"text-2xl font-bold text-netflix-text",children:[Math.round(e.reduce((T,A)=>T+A.progresso,0)/e.length)||0,"%"]}),o.jsx("p",{className:"text-netflix-text-muted",children:"Progresso Médio"})]})})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-3xl font-bold text-netflix-text",children:"Minhas Metas"}),o.jsx("p",{className:"text-netflix-text-muted mt-2",children:"Defina e acompanhe suas metas de transformação pessoal"})]}),o.jsxs(Ii,{open:r,onOpenChange:i,children:[o.jsx(lo,{asChild:!0,children:o.jsxs(pe,{className:"bg-instituto-orange hover:bg-instituto-orange-hover text-white",children:[o.jsx(ws,{className:"h-4 w-4 mr-2"}),"Nova Meta"]})}),o.jsxs(vi,{className:"bg-netflix-card border-netflix-border max-w-2xl max-h-[80vh] overflow-y-auto",children:[o.jsx(xi,{children:o.jsx(yi,{className:"text-netflix-text",children:s?"Editar Meta":"Nova Meta"})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx(Ce,{className:"text-netflix-text",children:"Nome da Meta"}),o.jsxs(pe,{type:"button",variant:"outline",size:"sm",onClick:v,className:"border-instituto-orange text-instituto-orange hover:bg-instituto-orange hover:text-white",children:[o.jsx(gu,{className:"h-4 w-4 mr-1"}),"Gerar sugestão com IA"]})]}),o.jsx(ut,{value:u.nome,onChange:T=>d({...u,nome:T.target.value}),placeholder:"Perder 10kg até meu aniversário para me sentir leve e confiante",className:"bg-netflix-hover border-netflix-border text-netflix-text"}),o.jsx("p",{className:"text-xs text-netflix-text-muted mt-1",children:"Escreva uma meta clara e emocional. Pense no porquê você quer isso."})]}),o.jsxs("div",{children:[o.jsx(Ce,{className:"text-netflix-text",children:"Tipo da Meta"}),o.jsxs(nr,{value:u.tipo,onValueChange:T=>d({...u,tipo:T}),children:[o.jsx(Xn,{className:"bg-netflix-hover border-netflix-border text-netflix-text",children:o.jsx(rr,{placeholder:"Selecione o tipo"})}),o.jsx(Yn,{className:"bg-netflix-card border-netflix-border",children:f.map(T=>o.jsx(ht,{value:T.value,className:"text-netflix-text hover:bg-netflix-hover",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(T.icon,{className:"h-4 w-4"}),T.label]})},T.value))})]})]}),u.tipo==="outro"&&o.jsxs("div",{children:[o.jsx(Ce,{className:"text-netflix-text",children:"Especifique o tipo"}),o.jsx(ut,{value:u.tipoOutro,onChange:T=>d({...u,tipoOutro:T.target.value}),placeholder:"Descreva o tipo da sua meta",className:"bg-netflix-hover border-netflix-border text-netflix-text"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Ce,{className:"text-netflix-text",children:"Data de Início"}),o.jsxs(h8,{children:[o.jsx(m8,{asChild:!0,children:o.jsxs(pe,{variant:"outline",className:"w-full justify-start bg-netflix-hover border-netflix-border text-netflix-text",children:[o.jsx(In,{className:"mr-2 h-4 w-4"}),Ot(u.dataInicio,"dd/MM/yyyy",{locale:pn})]})}),o.jsx(hO,{className:"w-auto p-0 bg-netflix-card border-netflix-border",children:o.jsx(fN,{mode:"single",selected:u.dataInicio,onSelect:T=>{T&&(d({...u,dataInicio:T}),g(T,u.previsaoConclusao))},initialFocus:!0,className:"text-netflix-text"})})]})]}),o.jsxs("div",{children:[o.jsx(Ce,{className:"text-netflix-text",children:"Previsão de Conclusão"}),o.jsxs(h8,{children:[o.jsx(m8,{asChild:!0,children:o.jsxs(pe,{variant:"outline",className:"w-full justify-start bg-netflix-hover border-netflix-border text-netflix-text",children:[o.jsx(In,{className:"mr-2 h-4 w-4"}),Ot(u.previsaoConclusao,"dd/MM/yyyy",{locale:pn})]})}),o.jsx(hO,{className:"w-auto p-0 bg-netflix-card border-netflix-border",children:o.jsx(fN,{mode:"single",selected:u.previsaoConclusao,onSelect:T=>{T&&(d({...u,previsaoConclusao:T}),g(u.dataInicio,T))},initialFocus:!0,className:"text-netflix-text"})})]})]})]}),l&&o.jsxs(mL,{className:"border-yellow-500/50 bg-yellow-500/10",children:[o.jsx(ya,{className:"h-4 w-4 text-yellow-500"}),o.jsx(pL,{className:"text-yellow-600",children:"Essa meta está com prazo muito apertado. Deseja ajustar para um plano mais realista?"})]}),o.jsxs("div",{children:[o.jsx(Ce,{className:"text-netflix-text",children:"Notas e Comentários"}),o.jsx(mn,{value:u.notas,onChange:T=>d({...u,notas:T.target.value}),placeholder:"Por que essa meta é importante para você? Como vai se sentir ao alcançá-la?",className:"bg-netflix-hover border-netflix-border text-netflix-text resize-none",rows:4}),o.jsx("p",{className:"text-xs text-netflix-text-muted mt-1",children:j()})]}),o.jsxs("div",{className:"space-y-4 p-4 bg-instituto-orange/5 rounded-lg border border-instituto-orange/20",children:[o.jsx("h4",{className:"text-sm font-semibold text-netflix-text",children:"Lembretes e Engajamento"}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(vv,{className:"h-4 w-4 text-instituto-orange"}),o.jsx("span",{className:"text-sm text-netflix-text",children:"Receber lembretes semanais dessa meta"})]}),o.jsx(fl,{checked:u.lembretesSemana,onCheckedChange:T=>d({...u,lembretesSemana:T})})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(mf,{className:"h-4 w-4 text-instituto-orange"}),o.jsx("span",{className:"text-sm text-netflix-text",children:"Gerar plano semanal automático"})]}),o.jsx(fl,{checked:u.planoAutomatico,onCheckedChange:T=>d({...u,planoAutomatico:T})})]}),o.jsx("p",{className:"text-xs text-netflix-text-muted",children:"(ex: dividir perda de peso em semanas)"})]}),o.jsxs("div",{className:"flex gap-2 pt-4",children:[o.jsx(pe,{onClick:w,className:"flex-1 bg-instituto-orange hover:bg-instituto-orange-hover text-white",children:s?"Salvar":"Criar Meta"}),o.jsx(pe,{variant:"outline",onClick:_,className:"border-netflix-border text-netflix-text hover:bg-netflix-hover",children:"Cancelar"})]})]})]})]})]}),o.jsxs("div",{className:"grid gap-4",children:[e.map(T=>{const A=p(T.tipo);return o.jsx(le,{className:"bg-netflix-card border-netflix-border netflix-card",children:o.jsx(ue,{className:"p-6",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[o.jsx("div",{className:"p-3 bg-instituto-orange/20 rounded-lg",children:o.jsx(A,{className:"h-6 w-6 text-instituto-orange"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-xl font-semibold text-netflix-text mb-2",children:T.nome}),o.jsx("p",{className:"text-netflix-text-muted mb-3",children:T.notas}),o.jsxs("div",{className:"flex items-center gap-4 text-sm text-netflix-text-muted mb-4",children:[o.jsxs("span",{children:["Início: ",Ot(T.dataInicio,"dd/MM/yyyy",{locale:pn})]}),o.jsx("span",{children:"•"}),o.jsxs("span",{children:["Meta: ",Ot(T.previsaoConclusao,"dd/MM/yyyy",{locale:pn})]})]}),o.jsxs("div",{className:"flex gap-2 mb-4",children:[T.lembretesSemana&&o.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-instituto-orange/10 rounded-full",children:[o.jsx(vv,{className:"h-3 w-3 text-instituto-orange"}),o.jsx("span",{className:"text-xs text-instituto-orange",children:"Lembretes"})]}),T.planoAutomatico&&o.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-instituto-purple/10 rounded-full",children:[o.jsx(mf,{className:"h-3 w-3 text-instituto-purple"}),o.jsx("span",{className:"text-xs text-instituto-purple",children:"Plano Auto"})]})]}),o.jsx("div",{className:"p-3 bg-instituto-orange/10 border border-instituto-orange/20 rounded-lg mb-4",children:o.jsx("p",{className:"text-sm text-instituto-orange font-medium",children:C(T)})}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-netflix-text-muted",children:"Progresso"}),o.jsxs("span",{className:"text-netflix-text font-medium",children:[T.progresso,"%"]})]}),o.jsx("div",{className:"w-full bg-netflix-hover rounded-full h-3",children:o.jsx("div",{className:"bg-gradient-to-r from-instituto-orange to-instituto-purple h-3 rounded-full transition-all duration-500 relative overflow-hidden",style:{width:`${T.progresso}%`},children:o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent animate-pulse"})})}),o.jsxs("div",{className:"flex gap-2 mt-3",children:[o.jsx(pe,{size:"sm",variant:"outline",onClick:()=>{const P=Math.min(100,T.progresso+10);n(e.map(R=>R.id===T.id?{...R,progresso:P}:R))},className:"border-instituto-orange text-instituto-orange hover:bg-instituto-orange hover:text-white",children:"+10% Progresso"}),T.progresso>=100&&o.jsx(pe,{size:"sm",className:"bg-green-600 hover:bg-green-700 text-white",children:"✅ Concluída!"})]})]})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>E(T),className:"text-netflix-text-muted hover:text-netflix-text hover:bg-netflix-hover",children:o.jsx(yv,{className:"h-4 w-4"})}),o.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>N(T.id),className:"text-netflix-text-muted hover:text-red-400 hover:bg-netflix-hover",children:o.jsx(Tm,{className:"h-4 w-4"})})]})]})})},T.id)}),e.length===0&&o.jsx(le,{className:"bg-netflix-card border-netflix-border",children:o.jsxs(ue,{className:"p-12 text-center",children:[o.jsx(Nn,{className:"h-12 w-12 text-netflix-text-muted mx-auto mb-4"}),o.jsx("h3",{className:"text-xl font-semibold text-netflix-text mb-2",children:"Nenhuma meta criada ainda"}),o.jsx("p",{className:"text-netflix-text-muted mb-6",children:"Crie sua primeira meta de transformação para começar sua jornada"}),o.jsxs(pe,{onClick:()=>i(!0),className:"bg-instituto-orange hover:bg-instituto-orange-hover text-white",children:[o.jsx(ws,{className:"h-4 w-4 mr-2"}),"Criar Primeira Meta"]})]})})]})]})};var gL="Progress",vL=100,[XCe,mrt]=qr(gL),[YCe,ZCe]=XCe(gL),vee=S.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:s=QCe,...a}=t;(i||i===0)&&!p8(i)&&console.error(JCe(`${i}`,"Progress"));const l=p8(i)?i:vL;r!==null&&!g8(r,l)&&console.error(eje(`${r}`,"Progress"));const c=g8(r,l)?r:null,u=hN(c)?s(c,l):void 0;return o.jsx(YCe,{scope:n,value:c,max:l,children:o.jsx(_t.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":hN(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":bee(c,l),"data-value":c??void 0,"data-max":l,...a,ref:e})})});vee.displayName=gL;var xee="ProgressIndicator",yee=S.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,i=ZCe(xee,n);return o.jsx(_t.div,{"data-state":bee(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:e})});yee.displayName=xee;function QCe(t,e){return`${Math.round(t/e*100)}%`}function bee(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function hN(t){return typeof t=="number"}function p8(t){return hN(t)&&!isNaN(t)&&t>0}function g8(t,e){return hN(t)&&!isNaN(t)&&t<=e&&t>=0}function JCe(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${vL}\`.`}function eje(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${vL} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var wee=vee,tje=yee;const Sa=S.forwardRef(({className:t,value:e,...n},r)=>o.jsx(wee,{ref:r,className:xt("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:o.jsx(tje,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Sa.displayName=wee.displayName;const nje=()=>{const[t,e]=S.useState([]),[n,r]=S.useState([]),[i,s]=S.useState([]),[a,l]=S.useState(!0),{user:c}=Or(),u=async()=>{try{const{data:m,error:p}=await He.from("challenges").select("*").eq("is_active",!0).order("created_at",{ascending:!1});if(p)throw p;e(m||[])}catch(m){console.error("Erro ao buscar desafios:",m)}},d=async()=>{try{if(l(!0),!c){r([]),s([]);return}const m=await He.from("profiles").select("id").eq("user_id",c.id).single();if(m.error)throw m.error;const{data:p,error:x}=await He.from("user_challenges").select(`
          *,
          challenges(*)
        `).eq("user_id",m.data.id).order("started_at",{ascending:!1});if(x)throw x;const v=(p==null?void 0:p.filter(w=>!w.is_completed))||[],g=(p==null?void 0:p.filter(w=>w.is_completed))||[];r(v),s(g)}catch(m){console.error("Erro ao buscar desafios do usuário:",m)}finally{l(!1)}},f=async(m,p=1)=>{try{if(!c){cg.error("Você precisa estar logado para participar de desafios");return}const x=await He.from("profiles").select("id").eq("user_id",c.id).single();if(x.error)throw x.error;const{data:v,error:g}=await He.from("user_challenges").insert([{user_id:x.data.id,challenge_id:m,progress:0,target_value:p,is_completed:!1}]).select(`
          *,
          challenges(*)
        `).single();if(g)throw g;return r(w=>[v,...w]),cg.success("Desafio iniciado com sucesso!"),v}catch(x){throw console.error("Erro ao participar do desafio:",x),cg.error("Erro ao participar do desafio"),x}},h=async(m,p)=>{var x,v;try{const g=n.find(N=>N.id===m);if(!g)return;const w=p>=g.target_value,{data:_,error:E}=await He.from("user_challenges").update({progress:p,is_completed:w,completed_at:w?new Date().toISOString():null}).eq("id",m).select(`
          *,
          challenges(*)
        `).single();if(E)throw E;if(w){const N=await He.from("profiles").select("id").eq("user_id",c.id).single();N.data&&await He.rpc("update_user_points",{p_user_id:N.data.id,p_points:((x=g.challenge)==null?void 0:x.points)||0,p_activity_type:"challenge_completed"}),r(C=>C.filter(j=>j.id!==m)),s(C=>[_,...C]),cg.success(`Desafio completado! +${((v=g.challenge)==null?void 0:v.points)||0} pontos`)}else r(N=>N.map(C=>C.id===m?_:C));return _}catch(g){throw console.error("Erro ao atualizar progresso do desafio:",g),cg.error("Erro ao atualizar progresso"),g}};return S.useEffect(()=>{u(),d()},[c]),{challenges:t,userChallenges:n,completedChallenges:i,loading:a,joinChallenge:f,updateChallengeProgress:h,refetch:()=>{u(),d()}}};function rje(){var f;const[t,e]=S.useState("ativos"),{challenges:n,userChallenges:r,completedChallenges:i,loading:s,joinChallenge:a,updateChallengeProgress:l}=nje(),{userPoints:c}=UQ(),u=h=>{switch(h){case"biologico":return"bg-blue-100 text-blue-800";case"psicologico":return"bg-purple-100 text-purple-800";case"nutricional":return"bg-green-100 text-green-800";case"familiar_social":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},d=h=>{switch(h){case"iniciante":return"bg-green-100 text-green-800";case"intermediario":return"bg-yellow-100 text-yellow-800";case"avancado":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-green-50 p-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Desafios e Conquistas"}),o.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Transforme sua jornada em um jogo divertido e motivador"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[o.jsx(le,{className:"bg-gradient-to-br from-yellow-400 to-yellow-500 text-white border-0",children:o.jsx(ue,{className:"p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-yellow-100 text-sm font-medium",children:"Pontos Totais"}),o.jsx("p",{className:"text-2xl font-bold",children:((f=c==null?void 0:c.total_points)==null?void 0:f.toLocaleString())||"0"})]}),o.jsx(Io,{className:"w-8 h-8 text-yellow-200"})]})})}),o.jsx(le,{className:"bg-gradient-to-br from-green-500 to-green-600 text-white border-0",children:o.jsx(ue,{className:"p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-green-100 text-sm font-medium",children:"Desafios Completos"}),o.jsx("p",{className:"text-2xl font-bold",children:i.length})]}),o.jsx(Rr,{className:"w-8 h-8 text-green-200"})]})})}),o.jsx(le,{className:"bg-gradient-to-br from-purple-500 to-purple-600 text-white border-0",children:o.jsx(ue,{className:"p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-purple-100 text-sm font-medium",children:"Desafios Ativos"}),o.jsx("p",{className:"text-2xl font-bold",children:r.length})]}),o.jsx(lw,{className:"w-8 h-8 text-purple-200"})]})})}),o.jsx(le,{className:"bg-gradient-to-br from-red-500 to-red-600 text-white border-0",children:o.jsx(ue,{className:"p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-red-100 text-sm font-medium",children:"Sequência"}),o.jsxs("p",{className:"text-2xl font-bold",children:[(c==null?void 0:c.current_streak)||0," dias"]})]}),o.jsx(PR,{className:"w-8 h-8 text-red-200"})]})})})]}),o.jsxs("div",{className:"flex space-x-1 mb-8 bg-white rounded-lg p-1 shadow-sm",children:[o.jsxs(pe,{variant:t==="ativos"?"default":"ghost",onClick:()=>e("ativos"),className:"flex-1",children:[o.jsx(Nn,{className:"w-4 h-4 mr-2"}),"Desafios Ativos"]}),o.jsxs(pe,{variant:t==="completos"?"default":"ghost",onClick:()=>e("completos"),className:"flex-1",children:[o.jsx(Rr,{className:"w-4 h-4 mr-2"}),"Completos"]}),o.jsxs(pe,{variant:t==="conquistas"?"default":"ghost",onClick:()=>e("conquistas"),className:"flex-1",children:[o.jsx(Xs,{className:"w-4 h-4 mr-2"}),"Conquistas"]})]}),t==="ativos"&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.filter(h=>!r.some(m=>m.challenge_id===h.id)).map(h=>o.jsxs(le,{className:"hover:shadow-lg transition-shadow",children:[o.jsxs(Qe,{className:"pb-3",children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsx("div",{className:"text-2xl",children:h.icon}),o.jsx(Nt,{className:d(h.level),children:h.level})]}),o.jsx(et,{className:"text-lg",children:h.title}),o.jsx("p",{className:"text-sm text-gray-600",children:h.description})]}),o.jsx(ue,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx(Nt,{className:u(h.category),children:h.category}),o.jsxs("div",{className:"flex items-center gap-1 text-yellow-600",children:[o.jsx(Io,{className:"w-4 h-4 fill-current"}),o.jsx("span",{className:"font-semibold",children:h.points})]})]}),o.jsx(pe,{className:"w-full",onClick:()=>a(h.id,h.duration_days),disabled:s,children:s?"Participando...":"Participar do Desafio"})]})})]},h.id)),r.map(h=>{var m,p,x,v,g,w,_,E;return o.jsxs(le,{className:"hover:shadow-lg transition-shadow border-blue-200",children:[o.jsxs(Qe,{className:"pb-3",children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsx("div",{className:"text-2xl",children:(m=h.challenge)==null?void 0:m.icon}),o.jsx(Nt,{className:d(((p=h.challenge)==null?void 0:p.level)||""),children:(x=h.challenge)==null?void 0:x.level})]}),o.jsx(et,{className:"text-lg",children:(v=h.challenge)==null?void 0:v.title}),o.jsx("p",{className:"text-sm text-gray-600",children:(g=h.challenge)==null?void 0:g.description})]}),o.jsx(ue,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[o.jsx("span",{children:"Progresso"}),o.jsxs("span",{children:[h.progress,"/",h.target_value]})]}),o.jsx(Sa,{value:h.progress/h.target_value*100,className:"h-2"})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx(Nt,{className:u(((w=h.challenge)==null?void 0:w.category)||""),children:(_=h.challenge)==null?void 0:_.category}),o.jsxs("div",{className:"flex items-center gap-1 text-yellow-600",children:[o.jsx(Io,{className:"w-4 h-4 fill-current"}),o.jsx("span",{className:"font-semibold",children:(E=h.challenge)==null?void 0:E.points})]})]}),o.jsx(pe,{className:"w-full",onClick:()=>l(h.id,h.progress+1),disabled:s||h.is_completed,children:h.is_completed?"Completado!":"Avançar Progresso"})]})})]},h.id)})]}),t==="completos"&&o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(h=>{var m,p,x,v,g,w;return o.jsxs(le,{className:"bg-green-50 border-green-200",children:[o.jsxs(Qe,{className:"pb-3",children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsx("div",{className:"text-2xl",children:(m=h.challenge)==null?void 0:m.icon}),o.jsx(Rr,{className:"w-6 h-6 text-green-600"})]}),o.jsx(et,{className:"text-lg",children:(p=h.challenge)==null?void 0:p.title}),o.jsx("p",{className:"text-sm text-gray-600",children:(x=h.challenge)==null?void 0:x.description})]}),o.jsx(ue,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx(Nt,{className:u(((v=h.challenge)==null?void 0:v.category)||""),children:(g=h.challenge)==null?void 0:g.category}),o.jsxs("div",{className:"flex items-center gap-1 text-yellow-600",children:[o.jsx(Io,{className:"w-4 h-4 fill-current"}),o.jsx("span",{className:"font-semibold",children:(w=h.challenge)==null?void 0:w.points})]})]}),o.jsxs("div",{className:"text-sm text-gray-500",children:["Completado em: ",h.completed_at?new Date(h.completed_at).toLocaleDateString():""]})]})})]},h.id)})}),t==="conquistas"&&o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:o.jsx(le,{className:"text-center bg-gradient-to-br from-yellow-50 to-orange-50 border-yellow-200",children:o.jsxs(ue,{className:"p-6",children:[o.jsx("div",{className:"text-4xl mb-3",children:"🎯"}),o.jsx("h3",{className:"font-semibold mb-2",children:"Primeiro Passo"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Complete seu primeiro desafio"}),o.jsx(Nt,{className:"mt-3 bg-yellow-100 text-yellow-800",children:"Em breve"})]})})})]})})}var X2={},_ee={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(_ee);var xL={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(xL);var yL={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(yL);var Y2={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){const r=[],i=n.length;if(i===0)return r;let s=0,a="",l="",c=!1;for(n.charCodeAt(0)===46&&(r.push(""),s++);s<i;){const u=n[s];l?u==="\\"&&s+1<i?(s++,a+=n[s]):u===l?l="":a+=u:c?u==='"'||u==="'"?l=u:u==="]"?(c=!1,r.push(a),a=""):a+=u:u==="["?(c=!0,a&&(r.push(a),a="")):u==="."?a&&(r.push(a),a=""):a+=u,s++}return a&&r.push(a),r}t.toPath=e})(Y2);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_ee,n=xL,r=yL,i=Y2;function s(l,c,u){if(l==null)return u;switch(typeof c){case"string":{if(e.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?n.isDeepKey(c)?s(l,i.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=r.toKey(c));const d=l[c];return d===void 0?u:d}default:{if(Array.isArray(c))return a(l,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),e.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?u:d}}}function a(l,c,u){if(c.length===0)return u;let d=l;for(let f=0;f<c.length;f++){if(d==null||e.isUnsafeProperty(c[f]))return u;d=d[c[f]]}return d===void 0?u:d}t.get=s})(X2);var ije=X2.get;const xf=Pa(ije);var See={exports:{}},Zn={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bL=Symbol.for("react.transitional.element"),wL=Symbol.for("react.portal"),Z2=Symbol.for("react.fragment"),Q2=Symbol.for("react.strict_mode"),J2=Symbol.for("react.profiler"),eC=Symbol.for("react.consumer"),tC=Symbol.for("react.context"),nC=Symbol.for("react.forward_ref"),rC=Symbol.for("react.suspense"),iC=Symbol.for("react.suspense_list"),sC=Symbol.for("react.memo"),aC=Symbol.for("react.lazy"),sje=Symbol.for("react.view_transition"),aje=Symbol.for("react.client.reference");function Yo(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case bL:switch(t=t.type,t){case Z2:case J2:case Q2:case rC:case iC:case sje:return t;default:switch(t=t&&t.$$typeof,t){case tC:case nC:case aC:case sC:return t;case eC:return t;default:return e}}case wL:return e}}}Zn.ContextConsumer=eC;Zn.ContextProvider=tC;Zn.Element=bL;Zn.ForwardRef=nC;Zn.Fragment=Z2;Zn.Lazy=aC;Zn.Memo=sC;Zn.Portal=wL;Zn.Profiler=J2;Zn.StrictMode=Q2;Zn.Suspense=rC;Zn.SuspenseList=iC;Zn.isContextConsumer=function(t){return Yo(t)===eC};Zn.isContextProvider=function(t){return Yo(t)===tC};Zn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===bL};Zn.isForwardRef=function(t){return Yo(t)===nC};Zn.isFragment=function(t){return Yo(t)===Z2};Zn.isLazy=function(t){return Yo(t)===aC};Zn.isMemo=function(t){return Yo(t)===sC};Zn.isPortal=function(t){return Yo(t)===wL};Zn.isProfiler=function(t){return Yo(t)===J2};Zn.isStrictMode=function(t){return Yo(t)===Q2};Zn.isSuspense=function(t){return Yo(t)===rC};Zn.isSuspenseList=function(t){return Yo(t)===iC};Zn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Z2||t===J2||t===Q2||t===rC||t===iC||typeof t=="object"&&t!==null&&(t.$$typeof===aC||t.$$typeof===sC||t.$$typeof===tC||t.$$typeof===eC||t.$$typeof===nC||t.$$typeof===aje||t.getModuleId!==void 0)};Zn.typeOf=Yo;See.exports=Zn;var oje=See.exports,oi=t=>t===0?0:t>0?1:-1,ea=t=>typeof t=="number"&&t!=+t,Hh=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,At=t=>(typeof t=="number"||t instanceof Number)&&!ea(t),Go=t=>At(t)||typeof t=="string",lje=0,Im=t=>{var e=++lje;return"".concat(t||"").concat(e)},Ys=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!At(e)&&typeof e!="string")return r;var s;if(Hh(e)){if(n==null)return r;var a=e.indexOf("%");s=n*parseFloat(e.slice(0,a))/100}else s=+e;return ea(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},Eee=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1},si=(t,e)=>At(t)&&At(e)?n=>t+n*(e-t):()=>e;function Nee(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):xf(r,e))===n)}var Fn=t=>t===null||typeof t>"u",Tw=t=>Fn(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),cje=["viewBox","children"],uje=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],v8=["points","pathLength"],ZT={svg:cje,polygon:v8,polyline:v8},_L=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],SL=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(S.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{_L.includes(i)&&(r[i]=s=>n[i](n,s))}),r},dje=(t,e,n)=>r=>(t(e,n,r),null),Wu=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var s=t[i];_L.includes(i)&&typeof s=="function"&&(r||(r={}),r[i]=dje(s,e,n))}),r},x8=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",y8=null,QT=null,Mee=t=>{if(t===y8&&Array.isArray(QT))return QT;var e=[];return S.Children.forEach(t,n=>{Fn(n)||(oje.isFragment(n)?e=e.concat(Mee(n.props.children)):e.push(n))}),QT=e,y8=t,e};function lx(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>x8(i)):r=[x8(e)],Mee(t).forEach(i=>{var s=xf(i,"type.displayName")||xf(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}var Cee=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,fje=(t,e,n,r)=>{var i,s=(i=r&&(ZT==null?void 0:ZT[r]))!==null&&i!==void 0?i:[];return e.startsWith("data-")||typeof t!="function"&&(r&&s.includes(e)||uje.includes(e))||n&&_L.includes(e)},Ut=(t,e,n)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(S.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(s=>{var a;fje((a=r)===null||a===void 0?void 0:a[s],s,e,n)&&(i[s]=r[s])}),i},hje=["children","width","height","viewBox","className","style","title","desc"];function mO(){return mO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mO.apply(null,arguments)}function mje(t,e){if(t==null)return{};var n,r,i=pje(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function pje(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var EL=S.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:s,className:a,style:l,title:c,desc:u}=t,d=mje(t,hje),f=s||{width:r,height:i,x:0,y:0},h=qt("recharts-surface",a);return S.createElement("svg",mO({},Ut(d,!0,"svg"),{className:h,width:r,height:i,style:l,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:e}),S.createElement("title",null,c),S.createElement("desc",null,u),n)}),gje=["children","className"];function pO(){return pO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pO.apply(null,arguments)}function vje(t,e){if(t==null)return{};var n,r,i=xje(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function xje(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var kn=S.forwardRef((t,e)=>{var{children:n,className:r}=t,i=vje(t,gje),s=qt("recharts-layer",r);return S.createElement("g",pO({className:s},Ut(i,!0),{ref:e}),n)}),jee=S.createContext(null),yje=()=>S.useContext(jee);function er(t){return function(){return t}}const Aee=Math.cos,mN=Math.sin,Fl=Math.sqrt,pN=Math.PI,oC=2*pN,gO=Math.PI,vO=2*gO,Th=1e-6,bje=vO-Th;function Tee(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function wje(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Tee;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let _je=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Tee:wje(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,l=this._y1,c=r-e,u=i-n,d=a-e,f=l-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Th)if(!(Math.abs(f*c-u*d)>Th)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let m=r-a,p=i-l,x=c*c+u*u,v=m*m+p*p,g=Math.sqrt(x),w=Math.sqrt(h),_=s*Math.tan((gO-Math.acos((x+h-v)/(2*g*w)))/2),E=_/w,N=_/g;Math.abs(E-1)>Th&&this._append`L${e+E*d},${n+E*f}`,this._append`A${s},${s},0,0,${+(f*m>d*p)},${this._x1=e+N*c},${this._y1=n+N*u}`}}arc(e,n,r,i,s,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),c=r*Math.sin(i),u=e+l,d=n+c,f=1^a,h=a?i-s:s-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Th||Math.abs(this._y1-d)>Th)&&this._append`L${u},${d}`,r&&(h<0&&(h=h%vO+vO),h>bje?this._append`A${r},${r},0,1,${f},${e-l},${n-c}A${r},${r},0,1,${f},${this._x1=u},${this._y1=d}`:h>Th&&this._append`A${r},${r},0,${+(h>=gO)},${f},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function NL(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new _je(e)}function ML(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Pee(t){this._context=t}Pee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function lC(t){return new Pee(t)}function kee(t){return t[0]}function Ree(t){return t[1]}function Oee(t,e){var n=er(!0),r=null,i=lC,s=null,a=NL(l);t=typeof t=="function"?t:t===void 0?kee:er(t),e=typeof e=="function"?e:e===void 0?Ree:er(e);function l(c){var u,d=(c=ML(c)).length,f,h=!1,m;for(r==null&&(s=i(m=a())),u=0;u<=d;++u)!(u<d&&n(f=c[u],u,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+t(f,u,c),+e(f,u,c));if(m)return s=null,m+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:er(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:er(+c),l):e},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:er(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,r!=null&&(s=i(r)),l):i},l.context=function(c){return arguments.length?(c==null?r=s=null:s=i(r=c),l):r},l}function A_(t,e,n){var r=null,i=er(!0),s=null,a=lC,l=null,c=NL(u);t=typeof t=="function"?t:t===void 0?kee:er(+t),e=typeof e=="function"?e:er(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?Ree:er(+n);function u(f){var h,m,p,x=(f=ML(f)).length,v,g=!1,w,_=new Array(x),E=new Array(x);for(s==null&&(l=a(w=c())),h=0;h<=x;++h){if(!(h<x&&i(v=f[h],h,f))===g)if(g=!g)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),p=h-1;p>=m;--p)l.point(_[p],E[p]);l.lineEnd(),l.areaEnd()}g&&(_[h]=+t(v,h,f),E[h]=+e(v,h,f),l.point(r?+r(v,h,f):_[h],n?+n(v,h,f):E[h]))}if(w)return l=null,w+""||null}function d(){return Oee().defined(i).curve(a).context(s)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:er(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:er(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:er(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:er(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:er(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:er(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(n)},u.lineX1=function(){return d().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:er(!!f),u):i},u.curve=function(f){return arguments.length?(a=f,s!=null&&(l=a(s)),u):a},u.context=function(f){return arguments.length?(f==null?s=l=null:l=a(s=f),u):s},u}class Dee{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Sje(t){return new Dee(t,!0)}function Eje(t){return new Dee(t,!1)}const CL={draw(t,e){const n=Fl(e/pN);t.moveTo(n,0),t.arc(0,0,n,0,oC)}},Nje={draw(t,e){const n=Fl(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},Iee=Fl(1/3),Mje=Iee*2,Cje={draw(t,e){const n=Fl(e/Mje),r=n*Iee;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},jje={draw(t,e){const n=Fl(e),r=-n/2;t.rect(r,r,n,n)}},Aje=.8908130915292852,Lee=mN(pN/10)/mN(7*pN/10),Tje=mN(oC/10)*Lee,Pje=-Aee(oC/10)*Lee,kje={draw(t,e){const n=Fl(e*Aje),r=Tje*n,i=Pje*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const a=oC*s/5,l=Aee(a),c=mN(a);t.lineTo(c*n,-l*n),t.lineTo(l*r-c*i,c*r+l*i)}t.closePath()}},JT=Fl(3),Rje={draw(t,e){const n=-Fl(e/(JT*3));t.moveTo(0,n*2),t.lineTo(-JT*n,-n),t.lineTo(JT*n,-n),t.closePath()}},Eo=-.5,No=Fl(3)/2,xO=1/Fl(12),Oje=(xO/2+1)*3,Dje={draw(t,e){const n=Fl(e/Oje),r=n/2,i=n*xO,s=r,a=n*xO+n,l=-s,c=a;t.moveTo(r,i),t.lineTo(s,a),t.lineTo(l,c),t.lineTo(Eo*r-No*i,No*r+Eo*i),t.lineTo(Eo*s-No*a,No*s+Eo*a),t.lineTo(Eo*l-No*c,No*l+Eo*c),t.lineTo(Eo*r+No*i,Eo*i-No*r),t.lineTo(Eo*s+No*a,Eo*a-No*s),t.lineTo(Eo*l+No*c,Eo*c-No*l),t.closePath()}};function Ije(t,e){let n=null,r=NL(i);t=typeof t=="function"?t:er(t||CL),e=typeof e=="function"?e:er(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:er(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:er(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function gN(){}function vN(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Fee(t){this._context=t}Fee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:vN(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:vN(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Lje(t){return new Fee(t)}function Uee(t){this._context=t}Uee.prototype={areaStart:gN,areaEnd:gN,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:vN(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Fje(t){return new Uee(t)}function Bee(t){this._context=t}Bee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:vN(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Uje(t){return new Bee(t)}function zee(t){this._context=t}zee.prototype={areaStart:gN,areaEnd:gN,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Bje(t){return new zee(t)}function b8(t){return t<0?-1:1}function w8(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),l=(s*i+a*r)/(r+i);return(b8(s)+b8(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(l))||0}function _8(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function eP(t,e,n){var r=t._x0,i=t._y0,s=t._x1,a=t._y1,l=(s-r)/3;t._context.bezierCurveTo(r+l,i+l*e,s-l,a-l*n,s,a)}function xN(t){this._context=t}xN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:eP(this,this._t0,_8(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,eP(this,_8(this,n=w8(this,t,e)),n);break;default:eP(this,this._t0,n=w8(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function Vee(t){this._context=new Wee(t)}(Vee.prototype=Object.create(xN.prototype)).point=function(t,e){xN.prototype.point.call(this,e,t)};function Wee(t){this._context=t}Wee.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function zje(t){return new xN(t)}function Vje(t){return new Vee(t)}function $ee(t){this._context=t}$ee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=S8(t),i=S8(e),s=0,a=1;a<n;++s,++a)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function S8(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),a=new Array(n);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function Wje(t){return new $ee(t)}function cC(t,e){this._context=t,this._t=e}cC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function $je(t){return new cC(t,.5)}function Hje(t){return new cC(t,0)}function Gje(t){return new cC(t,1)}function Mv(t,e){if((a=t.length)>1)for(var n=1,r,i,s=t[e[0]],a,l=s.length;n<a;++n)for(i=s,s=t[e[n]],r=0;r<l;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function yO(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function qje(t,e){return t[e]}function Kje(t){const e=[];return e.key=t,e}function Xje(){var t=er([]),e=yO,n=Mv,r=qje;function i(s){var a=Array.from(t.apply(this,arguments),Kje),l,c=a.length,u=-1,d;for(const f of s)for(l=0,++u;l<c;++l)(a[l][u]=[0,+r(f,a[l].key,u,s)]).data=f;for(l=0,d=ML(e(a));l<c;++l)a[d[l]].index=l;return n(a,d),a}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:er(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:er(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?yO:typeof s=="function"?s:er(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??Mv,i):n},i}function Yje(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,a;i<s;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}Mv(t,e)}}function Zje(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var a=0,l=0;a<i;++a)l+=t[a][n][1]||0;r[n][1]+=r[n][0]=-l/2}Mv(t,e)}}function Qje(t,e){if(!(!((a=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,a;r<s;++r){for(var l=0,c=0,u=0;l<a;++l){for(var d=t[e[l]],f=d[r][1]||0,h=d[r-1][1]||0,m=(f-h)/2,p=0;p<l;++p){var x=t[e[p]],v=x[r][1]||0,g=x[r-1][1]||0;m+=v-g}c+=f,u+=m*f}i[r-1][1]+=i[r-1][0]=n,c&&(n-=u/c)}i[r-1][1]+=i[r-1][0]=n,Mv(t,e)}}var Jje=["type","size","sizeType"];function bO(){return bO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bO.apply(null,arguments)}function E8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function N8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E8(Object(n),!0).forEach(function(r){eAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eAe(t,e,n){return(e=tAe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tAe(t){var e=nAe(t,"string");return typeof e=="symbol"?e:e+""}function nAe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rAe(t,e){if(t==null)return{};var n,r,i=iAe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function iAe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Hee={symbolCircle:CL,symbolCross:Nje,symbolDiamond:Cje,symbolSquare:jje,symbolStar:kje,symbolTriangle:Rje,symbolWye:Dje},sAe=Math.PI/180,aAe=t=>{var e="symbol".concat(Tw(t));return Hee[e]||CL},oAe=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*sAe;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},lAe=(t,e)=>{Hee["symbol".concat(Tw(t))]=e},jL=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=rAe(t,Jje),s=N8(N8({},i),{},{type:e,size:n,sizeType:r}),a=()=>{var f=aAe(e),h=Ije().type(f).size(oAe(n,r,e));return h()},{className:l,cx:c,cy:u}=s,d=Ut(s,!0);return c===+c&&u===+u&&n===+n?S.createElement("path",bO({},d,{className:qt("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(u,")"),d:a()})):null};jL.registerSymbol=lAe;function wO(){return wO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wO.apply(null,arguments)}function M8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cAe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M8(Object(n),!0).forEach(function(r){AL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AL(t,e,n){return(e=uAe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uAe(t){var e=dAe(t,"string");return typeof e=="symbol"?e:e+""}function dAe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mo=32;class TL extends S.PureComponent{renderIcon(e,n){var{inactiveColor:r}=this.props,i=Mo/2,s=Mo/6,a=Mo/3,l=e.inactive?r:e.color,c=n??e.type;if(c==="none")return null;if(c==="plainline")return S.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:i,x2:Mo,y2:i,className:"recharts-legend-icon"});if(c==="line")return S.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(i,`
            H`).concat(Mo,"M").concat(2*a,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(i),className:"recharts-legend-icon"});if(c==="rect")return S.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Mo/8,"h").concat(Mo,"v").concat(Mo*3/4,"h").concat(-Mo,"z"),className:"recharts-legend-icon"});if(S.isValidElement(e.legendIcon)){var u=cAe({},e);return delete u.legendIcon,S.cloneElement(e.legendIcon,u)}return S.createElement(jL,{fill:l,cx:i,cy:i,size:Mo,sizeType:"diameter",type:c})}renderItems(){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:s,iconType:a}=this.props,l={x:0,y:0,width:Mo,height:Mo},c={display:r==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((d,f)=>{var h=d.formatter||i,m=qt({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var p=d.inactive?s:d.color,x=h?h(d.value,d,f):d.value;return S.createElement("li",wO({className:m,style:c,key:"legend-item-".concat(f)},Wu(this.props,d,f)),S.createElement(EL,{width:n,height:n,viewBox:l,style:u,"aria-label":"".concat(x," legend icon")},this.renderIcon(d,a)),S.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},x))})}render(){var{payload:e,layout:n,align:r}=this.props;if(!e||!e.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return S.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}AL(TL,"displayName","Legend");AL(TL,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var Gee={},qee={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let s=0;s<n.length;s++){const a=n[s],l=r(a);i.has(l)||i.set(l,a)}return Array.from(i.values())}t.uniqBy=e})(qee);var Pw={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(Pw);var Kee={},uC={},Xee={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(Xee);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Xee;function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(uC);var Yee={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(Yee);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uC,n=Yee;function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(Kee);var dC={},Zee={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=X2;function n(r){return function(i){return e.get(i,r)}}t.property=n})(Zee);var Qee={},tP={},nP={},PL={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(PL);var kL={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(kL);var fC={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(fC);var C8;function fAe(){return C8||(C8=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=RL(),n=PL,r=kL,i=fC;function s(f,h,m){return typeof m!="function"?e.isMatch(f,h):a(f,h,function p(x,v,g,w,_,E){const N=m(x,v,g,w,_,E);return N!==void 0?!!N:a(x,v,p,E)},new Map)}function a(f,h,m,p){if(h===f)return!0;switch(typeof h){case"object":return l(f,h,m,p);case"function":return Object.keys(h).length>0?a(f,{...h},m,p):i.eq(f,h);default:return n.isObject(f)?typeof h=="string"?h==="":!0:i.eq(f,h)}}function l(f,h,m,p){if(h==null)return!0;if(Array.isArray(h))return u(f,h,m,p);if(h instanceof Map)return c(f,h,m,p);if(h instanceof Set)return d(f,h,m,p);const x=Object.keys(h);if(f==null)return x.length===0;if(x.length===0)return!0;if(p&&p.has(h))return p.get(h)===f;p&&p.set(h,f);try{for(let v=0;v<x.length;v++){const g=x[v];if(!r.isPrimitive(f)&&!(g in f)||h[g]===void 0&&f[g]!==void 0||h[g]===null&&f[g]!==null||!m(f[g],h[g],g,f,h,p))return!1}return!0}finally{p&&p.delete(h)}}function c(f,h,m,p){if(h.size===0)return!0;if(!(f instanceof Map))return!1;for(const[x,v]of h.entries()){const g=f.get(x);if(m(g,v,x,f,h,p)===!1)return!1}return!0}function u(f,h,m,p){if(h.length===0)return!0;if(!Array.isArray(f))return!1;const x=new Set;for(let v=0;v<h.length;v++){const g=h[v];let w=!1;for(let _=0;_<f.length;_++){if(x.has(_))continue;const E=f[_];let N=!1;if(m(E,g,v,f,h,p)&&(N=!0),N){x.add(_),w=!0;break}}if(!w)return!1}return!0}function d(f,h,m,p){return h.size===0?!0:f instanceof Set?u([...f],[...h],m,p):!1}t.isMatchWith=s,t.isSetMatch=d}(nP)),nP}var j8;function RL(){return j8||(j8=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fAe();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n}(tP)),tP}var Jee={},OL={},DL={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(DL);var hC={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(hC);var mC={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",a="[object Symbol]",l="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",m="[object Object]",p="[object Error]",x="[object DataView]",v="[object Uint8Array]",g="[object Uint8ClampedArray]",w="[object Uint16Array]",_="[object Uint32Array]",E="[object BigUint64Array]",N="[object Int8Array]",C="[object Int16Array]",j="[object Int32Array]",T="[object BigInt64Array]",A="[object Float32Array]",P="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=h,t.arrayTag=d,t.bigInt64ArrayTag=T,t.bigUint64ArrayTag=E,t.booleanTag=i,t.dataViewTag=x,t.dateTag=l,t.errorTag=p,t.float32ArrayTag=A,t.float64ArrayTag=P,t.functionTag=f,t.int16ArrayTag=C,t.int32ArrayTag=j,t.int8ArrayTag=N,t.mapTag=c,t.numberTag=r,t.objectTag=m,t.regexpTag=e,t.setTag=u,t.stringTag=n,t.symbolTag=a,t.uint16ArrayTag=w,t.uint32ArrayTag=_,t.uint8ArrayTag=v,t.uint8ClampedArrayTag=g})(mC);var ete={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(ete);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=DL,n=hC,r=mC,i=kL,s=ete;function a(d,f){return l(d,void 0,d,new Map,f)}function l(d,f,h,m=new Map,p=void 0){const x=p==null?void 0:p(d,f,h,m);if(x!=null)return x;if(i.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const v=new Array(d.length);m.set(d,v);for(let g=0;g<d.length;g++)v[g]=l(d[g],g,h,m,p);return Object.hasOwn(d,"index")&&(v.index=d.index),Object.hasOwn(d,"input")&&(v.input=d.input),v}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const v=new RegExp(d.source,d.flags);return v.lastIndex=d.lastIndex,v}if(d instanceof Map){const v=new Map;m.set(d,v);for(const[g,w]of d)v.set(g,l(w,g,h,m,p));return v}if(d instanceof Set){const v=new Set;m.set(d,v);for(const g of d)v.add(l(g,void 0,h,m,p));return v}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(s.isTypedArray(d)){const v=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,v);for(let g=0;g<d.length;g++)v[g]=l(d[g],g,h,m,p);return v}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const v=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,v),c(v,d,h,m,p),v}if(typeof File<"u"&&d instanceof File){const v=new File([d],d.name,{type:d.type});return m.set(d,v),c(v,d,h,m,p),v}if(d instanceof Blob){const v=new Blob([d],{type:d.type});return m.set(d,v),c(v,d,h,m,p),v}if(d instanceof Error){const v=new d.constructor;return m.set(d,v),v.message=d.message,v.name=d.name,v.stack=d.stack,v.cause=d.cause,c(v,d,h,m,p),v}if(typeof d=="object"&&u(d)){const v=Object.create(Object.getPrototypeOf(d));return m.set(d,v),c(v,d,h,m,p),v}return d}function c(d,f,h=d,m,p){const x=[...Object.keys(f),...e.getSymbols(f)];for(let v=0;v<x.length;v++){const g=x[v],w=Object.getOwnPropertyDescriptor(d,g);(w==null||w.writable)&&(d[g]=l(f[g],g,h,m,p))}}function u(d){switch(n.getTag(d)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=a,t.cloneDeepWithImpl=l,t.copyProperties=c})(OL);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=OL;function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(Jee);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=RL(),n=Jee;function r(i){return i=n.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=r})(Qee);var tte={},nte={},rte={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=OL,n=mC;function r(i,s){return e.cloneDeepWith(i,(a,l,c,u)=>{const d=s==null?void 0:s(a,l,c,u);if(d!=null)return d;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const f=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(f,i),f}case n.argumentsTag:{const f={};return e.copyProperties(f,i),f.length=i.length,f[Symbol.iterator]=i[Symbol.iterator],f}default:return}})}t.cloneDeepWith=r})(rte);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=rte;function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(nte);var ite={},IL={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(IL);var ste={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hC;function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(ste);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xL,n=IL,r=ste,i=Y2;function s(a,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&e.isDeepKey(l)&&(a==null?void 0:a[l])==null?c=i.toPath(l):c=[l],c.length===0)return!1;let u=a;for(let d=0;d<c.length;d++){const f=c[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||r.isArguments(u))&&n.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}t.has=s})(ite);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=RL(),n=yL,r=nte,i=X2,s=ite;function a(l,c){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=n.toKey(l);break}}return c=r.cloneDeep(c),function(u){const d=i.get(u,l);return d===void 0?s.has(u,l):c===void 0?d===void 0:e.isMatch(d,c)}}t.matchesProperty=a})(tte);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Pw,n=Zee,r=Qee,i=tte;function s(a){if(a==null)return e.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):r.matches(a);case"string":case"symbol":case"number":return n.property(a)}}t.iteratee=s})(dC);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qee,n=Pw,r=Kee,i=dC;function s(a,l=n.identity){return r.isArrayLikeObject(a)?e.uniqBy(Array.from(a),i.iteratee(l)):[]}t.uniqBy=s})(Gee);var hAe=Gee.uniqBy;const A8=Pa(hAe);function ate(t,e,n){return e===!0?A8(t,n):typeof e=="function"?A8(t,e):t}var ote={exports:{}},lte={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pC=S,mAe=AQ;function pAe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gAe=typeof Object.is=="function"?Object.is:pAe,vAe=mAe.useSyncExternalStore,xAe=pC.useRef,yAe=pC.useEffect,bAe=pC.useMemo,wAe=pC.useDebugValue;lte.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=xAe(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=bAe(function(){function c(m){if(!u){if(u=!0,d=m,m=r(m),i!==void 0&&a.hasValue){var p=a.value;if(i(p,m))return f=p}return f=m}if(p=f,gAe(d,m))return p;var x=r(m);return i!==void 0&&i(p,x)?(d=m,p):(d=m,f=x)}var u=!1,d,f,h=n===void 0?null:n;return[function(){return c(e())},h===null?void 0:function(){return c(h())}]},[e,n,r,i]);var l=vAe(t,s[0],s[1]);return yAe(function(){a.hasValue=!0,a.value=l},[l]),wAe(l),l};ote.exports=lte;var _Ae=ote.exports,LL=S.createContext(null),SAe=t=>t,Qn=()=>{var t=S.useContext(LL);return t?t.store.dispatch:SAe},uE=()=>{},EAe=()=>uE,NAe=(t,e)=>t===e;function gt(t){var e=S.useContext(LL);return _Ae.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:EAe,e?e.store.getState:uE,e?e.store.getState:uE,e?t:uE,NAe)}function MAe(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function CAe(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function jAe(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var T8=t=>Array.isArray(t)?t:[t];function AAe(t){const e=Array.isArray(t[0])?t[0]:t;return jAe(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function TAe(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var PAe=class{constructor(t){this.value=t}deref(){return this.value}},kAe=typeof WeakRef<"u"?WeakRef:PAe,RAe=0,P8=1;function T_(){return{s:RAe,v:void 0,o:null,p:null}}function cte(t,e={}){let n=T_();const{resultEqualityCheck:r}=e;let i,s=0;function a(){var f;let l=n;const{length:c}=arguments;for(let h=0,m=c;h<m;h++){const p=arguments[h];if(typeof p=="function"||typeof p=="object"&&p!==null){let x=l.o;x===null&&(l.o=x=new WeakMap);const v=x.get(p);v===void 0?(l=T_(),x.set(p,l)):l=v}else{let x=l.p;x===null&&(l.p=x=new Map);const v=x.get(p);v===void 0?(l=T_(),x.set(p,l)):l=v}}const u=l;let d;if(l.s===P8)d=l.v;else if(d=t.apply(null,arguments),s++,r){const h=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;h!=null&&r(h,d)&&(d=h,s!==0&&s--),i=typeof d=="object"&&d!==null||typeof d=="function"?new kAe(d):d}return u.s=P8,u.v=d,d}return a.clearCache=()=>{n=T_(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function OAe(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,a=0,l,c={},u=i.pop();typeof u=="object"&&(c=u,u=i.pop()),MAe(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...n,...c},{memoize:f,memoizeOptions:h=[],argsMemoize:m=cte,argsMemoizeOptions:p=[]}=d,x=T8(h),v=T8(p),g=AAe(i),w=f(function(){return s++,u.apply(null,arguments)},...x),_=m(function(){a++;const N=TAe(g,arguments);return l=w.apply(null,N),l},...v);return Object.assign(_,{resultFunc:u,memoizedResultFunc:w,dependencies:g,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>l,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:f,argsMemoize:m})};return Object.assign(r,{withTypes:()=>r}),r}var je=OAe(cte),DAe=Object.assign((t,e=je)=>{CAe(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((a,l,c)=>(a[n[c]]=l,a),{}))},{withTypes:()=>DAe}),ute={},dte={},fte={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const a=e(r),l=e(i);if(a===l&&a===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?l-a:a-l}return 0};t.compareValues=n})(fte);var hte={},FL={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(FL);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=FL,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,a){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||a!=null&&Object.hasOwn(a,s)}t.isKey=i})(hte);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fte,n=hte,r=Y2;function i(s,a,l,c){if(s==null)return[];l=c?void 0:l,Array.isArray(s)||(s=Object.values(s)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(m=>String(m));const u=(m,p)=>{let x=m;for(let v=0;v<p.length&&x!=null;++v)x=x[p[v]];return x},d=(m,p)=>p==null||m==null?p:typeof m=="object"&&"key"in m?Object.hasOwn(p,m.key)?p[m.key]:u(p,m.path):typeof m=="function"?m(p):Array.isArray(m)?u(p,m):typeof p=="object"?p[m]:p,f=a.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||n.isKey(m)?m:{key:m,path:r.toPath(m)}));return s.map(m=>({original:m,criteria:f.map(p=>d(p,m))})).slice().sort((m,p)=>{for(let x=0;x<f.length;x++){const v=e.compareValues(m.criteria[x],p.criteria[x],l[x]);if(v!==0)return v}return 0}).map(m=>m.original)}t.orderBy=i})(dte);var mte={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],s=Math.floor(r),a=(l,c)=>{for(let u=0;u<l.length;u++){const d=l[u];Array.isArray(d)&&c<s?a(d,c+1):i.push(d)}};return a(n,0),i}t.flatten=e})(mte);var UL={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=IL,n=uC,r=PL,i=fC;function s(a,l,c){return r.isObject(c)&&(typeof l=="number"&&n.isArrayLike(c)&&e.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?i.eq(c[l],a):!1}t.isIterateeCall=s})(UL);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=dte,n=mte,r=UL;function i(s,...a){const l=a.length;return l>1&&r.isIterateeCall(s,a[0],a[1])?a=[]:l>2&&r.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),e.orderBy(s,n.flatten(a),["asc"])}t.sortBy=i})(ute);var IAe=ute.sortBy;const gC=Pa(IAe);var pte=t=>t.legend.settings,LAe=t=>t.legend.size,FAe=t=>t.legend.payload,UAe=je([FAe,pte],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?gC(r,n):r});function BAe(){return gt(UAe)}var P_=1;function gte(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=S.useState({height:0,left:0,top:0,width:0}),r=S.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),a={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(a.height-e.height)>P_||Math.abs(a.left-e.left)>P_||Math.abs(a.top-e.top)>P_||Math.abs(a.width-e.width)>P_)&&n({height:a.height,left:a.left,top:a.top,width:a.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function qi(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var zAe=typeof Symbol=="function"&&Symbol.observable||"@@observable",k8=zAe,rP=()=>Math.random().toString(36).substring(7).split("").join("."),VAe={INIT:`@@redux/INIT${rP()}`,REPLACE:`@@redux/REPLACE${rP()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${rP()}`},yN=VAe;function BL(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function vte(t,e,n){if(typeof t!="function")throw new Error(qi(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(qi(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(qi(1));return n(vte)(t,e)}let r=t,i=e,s=new Map,a=s,l=0,c=!1;function u(){a===s&&(a=new Map,s.forEach((v,g)=>{a.set(g,v)}))}function d(){if(c)throw new Error(qi(3));return i}function f(v){if(typeof v!="function")throw new Error(qi(4));if(c)throw new Error(qi(5));let g=!0;u();const w=l++;return a.set(w,v),function(){if(g){if(c)throw new Error(qi(6));g=!1,u(),a.delete(w),s=null}}}function h(v){if(!BL(v))throw new Error(qi(7));if(typeof v.type>"u")throw new Error(qi(8));if(typeof v.type!="string")throw new Error(qi(17));if(c)throw new Error(qi(9));try{c=!0,i=r(i,v)}finally{c=!1}return(s=a).forEach(w=>{w()}),v}function m(v){if(typeof v!="function")throw new Error(qi(10));r=v,h({type:yN.REPLACE})}function p(){const v=f;return{subscribe(g){if(typeof g!="object"||g===null)throw new Error(qi(11));function w(){const E=g;E.next&&E.next(d())}return w(),{unsubscribe:v(w)}},[k8](){return this}}}return h({type:yN.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:m,[k8]:p}}function WAe(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:yN.INIT})>"u")throw new Error(qi(12));if(typeof n(void 0,{type:yN.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(qi(13))})}function xte(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const a=e[s];typeof t[a]=="function"&&(n[a]=t[a])}const r=Object.keys(n);let i;try{WAe(n)}catch(s){i=s}return function(a={},l){if(i)throw i;let c=!1;const u={};for(let d=0;d<r.length;d++){const f=r[d],h=n[f],m=a[f],p=h(m,l);if(typeof p>"u")throw l&&l.type,new Error(qi(14));u[f]=p,c=c||p!==m}return c=c||r.length!==Object.keys(a).length,c?u:a}}function bN(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function $Ae(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(qi(15))};const a={getState:i.getState,dispatch:(c,...u)=>s(c,...u)},l=t.map(c=>c(a));return s=bN(...l)(i.dispatch),{...i,dispatch:s}}}function yte(t){return BL(t)&&"type"in t&&typeof t.type=="string"}var bte=Symbol.for("immer-nothing"),R8=Symbol.for("immer-draftable"),co=Symbol.for("immer-state");function _l(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Cv=Object.getPrototypeOf;function Lm(t){return!!t&&!!t[co]}function ju(t){var e;return t?wte(t)||Array.isArray(t)||!!t[R8]||!!((e=t.constructor)!=null&&e[R8])||xC(t)||yC(t):!1}var HAe=Object.prototype.constructor.toString();function wte(t){if(!t||typeof t!="object")return!1;const e=Cv(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===HAe}function wN(t,e){vC(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function vC(t){const e=t[co];return e?e.type_:Array.isArray(t)?1:xC(t)?2:yC(t)?3:0}function _O(t,e){return vC(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function _te(t,e,n){const r=vC(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function GAe(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function xC(t){return t instanceof Map}function yC(t){return t instanceof Set}function Ph(t){return t.copy_||t.base_}function SO(t,e){if(xC(t))return new Map(t);if(yC(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=wte(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[co];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const a=i[s],l=r[a];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[a]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[a]})}return Object.create(Cv(t),r)}else{const r=Cv(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function zL(t,e=!1){return bC(t)||Lm(t)||!ju(t)||(vC(t)>1&&(t.set=t.add=t.clear=t.delete=qAe),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>zL(r,!0))),t}function qAe(){_l(2)}function bC(t){return Object.isFrozen(t)}var KAe={};function Fm(t){const e=KAe[t];return e||_l(0,t),e}var pb;function Ste(){return pb}function XAe(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function O8(t,e){e&&(Fm("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function EO(t){NO(t),t.drafts_.forEach(YAe),t.drafts_=null}function NO(t){t===pb&&(pb=t.parent_)}function D8(t){return pb=XAe(pb,t)}function YAe(t){const e=t[co];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function I8(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[co].modified_&&(EO(e),_l(4)),ju(t)&&(t=_N(e,t),e.parent_||SN(e,t)),e.patches_&&Fm("Patches").generateReplacementPatches_(n[co].base_,t,e.patches_,e.inversePatches_)):t=_N(e,n,[]),EO(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==bte?t:void 0}function _N(t,e,n){if(bC(e))return e;const r=e[co];if(!r)return wN(e,(i,s)=>L8(t,r,e,i,s,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return SN(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,a=!1;r.type_===3&&(s=new Set(i),i.clear(),a=!0),wN(s,(l,c)=>L8(t,r,i,l,c,n,a)),SN(t,i,!1),n&&t.patches_&&Fm("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function L8(t,e,n,r,i,s,a){if(Lm(i)){const l=s&&e&&e.type_!==3&&!_O(e.assigned_,r)?s.concat(r):void 0,c=_N(t,i,l);if(_te(n,r,c),Lm(c))t.canAutoFreeze_=!1;else return}else a&&n.add(i);if(ju(i)&&!bC(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;_N(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&SN(t,i)}}function SN(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&zL(e,n)}function ZAe(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:Ste(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=VL;n&&(i=[r],s=gb);const{revoke:a,proxy:l}=Proxy.revocable(i,s);return r.draft_=l,r.revoke_=a,l}var VL={get(t,e){if(e===co)return t;const n=Ph(t);if(!_O(n,e))return QAe(t,n,e);const r=n[e];return t.finalized_||!ju(r)?r:r===iP(t.base_,e)?(sP(t),t.copy_[e]=CO(r,t)):r},has(t,e){return e in Ph(t)},ownKeys(t){return Reflect.ownKeys(Ph(t))},set(t,e,n){const r=Ete(Ph(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=iP(Ph(t),e),s=i==null?void 0:i[co];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(GAe(n,i)&&(n!==void 0||_O(t.base_,e)))return!0;sP(t),MO(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return iP(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,sP(t),MO(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Ph(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){_l(11)},getPrototypeOf(t){return Cv(t.base_)},setPrototypeOf(){_l(12)}},gb={};wN(VL,(t,e)=>{gb[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});gb.deleteProperty=function(t,e){return gb.set.call(this,t,e,void 0)};gb.set=function(t,e,n){return VL.set.call(this,t[0],e,n,t[0])};function iP(t,e){const n=t[co];return(n?Ph(n):t)[e]}function QAe(t,e,n){var i;const r=Ete(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function Ete(t,e){if(!(e in t))return;let n=Cv(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Cv(n)}}function MO(t){t.modified_||(t.modified_=!0,t.parent_&&MO(t.parent_))}function sP(t){t.copy_||(t.copy_=SO(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var JAe=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const a=this;return function(c=s,...u){return a.produce(c,d=>n.call(this,d,...u))}}typeof n!="function"&&_l(6),r!==void 0&&typeof r!="function"&&_l(7);let i;if(ju(e)){const s=D8(this),a=CO(e,void 0);let l=!0;try{i=n(a),l=!1}finally{l?EO(s):NO(s)}return O8(s,r),I8(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===bte&&(i=void 0),this.autoFreeze_&&zL(i,!0),r){const s=[],a=[];Fm("Patches").generateReplacementPatches_(e,i,s,a),r(s,a)}return i}else _l(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(a,...l)=>this.produceWithPatches(a,c=>e(c,...l));let r,i;return[this.produce(e,n,(a,l)=>{r=a,i=l}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){ju(t)||_l(8),Lm(t)&&(t=vu(t));const e=D8(this),n=CO(t,void 0);return n[co].isManual_=!0,NO(e),n}finishDraft(t,e){const n=t&&t[co];(!n||!n.isManual_)&&_l(9);const{scope_:r}=n;return O8(r,e),I8(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Fm("Patches").applyPatches_;return Lm(t)?r(t,e):this.produce(t,i=>r(i,e))}};function CO(t,e){const n=xC(t)?Fm("MapSet").proxyMap_(t,e):yC(t)?Fm("MapSet").proxySet_(t,e):ZAe(t,e);return(e?e.scope_:Ste()).drafts_.push(n),n}function vu(t){return Lm(t)||_l(10,t),Nte(t)}function Nte(t){if(!ju(t)||bC(t))return t;const e=t[co];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=SO(t,e.scope_.immer_.useStrictShallowCopy_)}else n=SO(t,!0);return wN(n,(r,i)=>{_te(n,r,Nte(i))}),e&&(e.finalized_=!1),n}var uo=new JAe,Mte=uo.produce;uo.produceWithPatches.bind(uo);uo.setAutoFreeze.bind(uo);uo.setUseStrictShallowCopy.bind(uo);uo.applyPatches.bind(uo);uo.createDraft.bind(uo);uo.finishDraft.bind(uo);function Cte(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var eTe=Cte(),tTe=Cte,nTe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?bN:bN.apply(null,arguments)};function qo(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(ro(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>yte(r)&&r.type===t,n}var jte=class Hy extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Hy.prototype)}static get[Symbol.species](){return Hy}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Hy(...e[0].concat(this)):new Hy(...e.concat(this))}};function F8(t){return ju(t)?Mte(t,()=>{}):t}function k_(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function rTe(t){return typeof t=="boolean"}var iTe=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let a=new jte;return n&&(rTe(n)?a.push(eTe):a.push(tTe(n.extraArgument))),a},sTe="RTK_autoBatch",U8=t=>e=>{setTimeout(e,t)},aTe=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,a=!1;const l=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:U8(10):t.type==="callback"?t.queueNotification:U8(t.timeout),u=()=>{a=!1,s&&(s=!1,l.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const f=()=>i&&d(),h=r.subscribe(f);return l.add(d),()=>{h(),l.delete(d)}},dispatch(d){var f;try{return i=!((f=d==null?void 0:d.meta)!=null&&f[sTe]),s=!i,s&&(a||(a=!0,c(u))),r.dispatch(d)}finally{i=!0}}})},oTe=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new jte(t);return r&&i.push(aTe(typeof r=="object"?r:void 0)),i};function lTe(t){const e=iTe(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:a=void 0}=t||{};let l;if(typeof n=="function")l=n;else if(BL(n))l=xte(n);else throw new Error(ro(1));let c;typeof r=="function"?c=r(e):c=e();let u=bN;i&&(u=nTe({trace:!1,...typeof i=="object"&&i}));const d=$Ae(...c),f=oTe(d);let h=typeof a=="function"?a(f):f();const m=u(...h);return vte(l,s,m)}function Ate(t){const e={},n=[];let r;const i={addCase(s,a){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(ro(28));if(l in e)throw new Error(ro(29));return e[l]=a,i},addMatcher(s,a){return n.push({matcher:s,reducer:a}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function cTe(t){return typeof t=="function"}function uTe(t,e){let[n,r,i]=Ate(e),s;if(cTe(t))s=()=>F8(t());else{const l=F8(t);s=()=>l}function a(l=s(),c){let u=[n[c.type],...r.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[i]),u.reduce((d,f)=>{if(f)if(Lm(d)){const m=f(d,c);return m===void 0?d:m}else{if(ju(d))return Mte(d,h=>f(h,c));{const h=f(d,c);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},l)}return a.getInitialState=s,a}var dTe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",fTe=(t=21)=>{let e="",n=t;for(;n--;)e+=dTe[Math.random()*64|0];return e},hTe=Symbol.for("rtk-slice-createasyncthunk");function mTe(t,e){return`${t}/${e}`}function pTe({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[hTe];return function(i){const{name:s,reducerPath:a=s}=i;if(!s)throw new Error(ro(11));const l=(typeof i.reducers=="function"?i.reducers(vTe()):i.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(E,N){const C=typeof E=="string"?E:E.type;if(!C)throw new Error(ro(12));if(C in u.sliceCaseReducersByType)throw new Error(ro(13));return u.sliceCaseReducersByType[C]=N,d},addMatcher(E,N){return u.sliceMatchers.push({matcher:E,reducer:N}),d},exposeAction(E,N){return u.actionCreators[E]=N,d},exposeCaseReducer(E,N){return u.sliceCaseReducersByName[E]=N,d}};c.forEach(E=>{const N=l[E],C={reducerName:E,type:mTe(s,E),createNotation:typeof i.reducers=="function"};yTe(N)?wTe(C,N,d,e):xTe(C,N,d)});function f(){const[E={},N=[],C=void 0]=typeof i.extraReducers=="function"?Ate(i.extraReducers):[i.extraReducers],j={...E,...u.sliceCaseReducersByType};return uTe(i.initialState,T=>{for(let A in j)T.addCase(A,j[A]);for(let A of u.sliceMatchers)T.addMatcher(A.matcher,A.reducer);for(let A of N)T.addMatcher(A.matcher,A.reducer);C&&T.addDefaultCase(C)})}const h=E=>E,m=new Map,p=new WeakMap;let x;function v(E,N){return x||(x=f()),x(E,N)}function g(){return x||(x=f()),x.getInitialState()}function w(E,N=!1){function C(T){let A=T[E];return typeof A>"u"&&N&&(A=k_(p,C,g)),A}function j(T=h){const A=k_(m,N,()=>new WeakMap);return k_(A,T,()=>{const P={};for(const[R,D]of Object.entries(i.selectors??{}))P[R]=gTe(D,T,()=>k_(p,T,g),N);return P})}return{reducerPath:E,getSelectors:j,get selectors(){return j(C)},selectSlice:C}}const _={name:s,reducer:v,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:g,...w(a),injectInto(E,{reducerPath:N,...C}={}){const j=N??a;return E.inject({reducerPath:j,reducer:v},C),{..._,...w(j,!0)}}};return _}}function gTe(t,e,n,r){function i(s,...a){let l=e(s);return typeof l>"u"&&r&&(l=n()),t(l,...a)}return i.unwrapped=t,i}var Zo=pTe();function vTe(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function xTe({type:t,reducerName:e,createNotation:n},r,i){let s,a;if("reducer"in r){if(n&&!bTe(r))throw new Error(ro(17));s=r.reducer,a=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,a?qo(t,a):qo(t))}function yTe(t){return t._reducerDefinitionType==="asyncThunk"}function bTe(t){return t._reducerDefinitionType==="reducerWithPrepare"}function wTe({type:t,reducerName:e},n,r,i){if(!i)throw new Error(ro(18));const{payloadCreator:s,fulfilled:a,pending:l,rejected:c,settled:u,options:d}=n,f=i(t,s,d);r.exposeAction(e,f),a&&r.addCase(f.fulfilled,a),l&&r.addCase(f.pending,l),c&&r.addCase(f.rejected,c),u&&r.addMatcher(f.settled,u),r.exposeCaseReducer(e,{fulfilled:a||R_,pending:l||R_,rejected:c||R_,settled:u||R_})}function R_(){}var _Te="task",Tte="listener",Pte="completed",WL="cancelled",STe=`task-${WL}`,ETe=`task-${Pte}`,jO=`${Tte}-${WL}`,NTe=`${Tte}-${Pte}`,wC=class{constructor(t){GA(this,"name","TaskAbortError");GA(this,"message");this.code=t,this.message=`${_Te} ${WL} (reason: ${t})`}},$L=(t,e)=>{if(typeof t!="function")throw new TypeError(ro(32))},EN=()=>{},kte=(t,e=EN)=>(t.catch(e),t),Rte=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),fm=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},hm=t=>{if(t.aborted){const{reason:e}=t;throw new wC(e)}};function Ote(t,e){let n=EN;return new Promise((r,i)=>{const s=()=>i(new wC(t.reason));if(t.aborted){s();return}n=Rte(t,s),e.finally(()=>n()).then(r,i)}).finally(()=>{n=EN})}var MTe=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof wC?"cancelled":"rejected",error:n}}finally{e==null||e()}},NN=t=>e=>kte(Ote(t,e).then(n=>(hm(t),n))),Dte=t=>{const e=NN(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Zg}=Object,B8={},_C="listenerMiddleware",CTe=(t,e)=>{const n=r=>Rte(t,()=>fm(r,t.reason));return(r,i)=>{$L(r);const s=new AbortController;n(s);const a=MTe(async()=>{hm(t),hm(s.signal);const l=await r({pause:NN(s.signal),delay:Dte(s.signal),signal:s.signal});return hm(s.signal),l},()=>fm(s,ETe));return i!=null&&i.autoJoin&&e.push(a.catch(EN)),{result:NN(t)(a),cancel(){fm(s,STe)}}}},jTe=(t,e)=>{const n=async(r,i)=>{hm(e);let s=()=>{};const l=[new Promise((c,u)=>{let d=t({predicate:r,effect:(f,h)=>{h.unsubscribe(),c([f,h.getState(),h.getOriginalState()])}});s=()=>{d(),u()}})];i!=null&&l.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await Ote(e,Promise.race(l));return hm(e),c}finally{s()}};return(r,i)=>kte(n(r,i))},Ite=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=qo(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(ro(21));return $L(s),{predicate:i,type:e,effect:s}},Lte=Zg(t=>{const{type:e,predicate:n,effect:r}=Ite(t);return{id:fTe(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(ro(22))}}},{withTypes:()=>Lte}),z8=(t,e)=>{const{type:n,effect:r,predicate:i}=Ite(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},AO=t=>{t.pending.forEach(e=>{fm(e,jO)})},ATe=t=>()=>{t.forEach(AO),t.clear()},V8=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},Fte=Zg(qo(`${_C}/add`),{withTypes:()=>Fte}),TTe=qo(`${_C}/removeAll`),Ute=Zg(qo(`${_C}/remove`),{withTypes:()=>Ute}),PTe=(...t)=>{console.error(`${_C}/error`,...t)},kw=(t={})=>{const e=new Map,{extra:n,onError:r=PTe}=t;$L(r);const i=d=>(d.unsubscribe=()=>e.delete(d.id),e.set(d.id,d),f=>{d.unsubscribe(),f!=null&&f.cancelActive&&AO(d)}),s=d=>{const f=z8(e,d)??Lte(d);return i(f)};Zg(s,{withTypes:()=>s});const a=d=>{const f=z8(e,d);return f&&(f.unsubscribe(),d.cancelActive&&AO(f)),!!f};Zg(a,{withTypes:()=>a});const l=async(d,f,h,m)=>{const p=new AbortController,x=jTe(s,p.signal),v=[];try{d.pending.add(p),await Promise.resolve(d.effect(f,Zg({},h,{getOriginalState:m,condition:(g,w)=>x(g,w).then(Boolean),take:x,delay:Dte(p.signal),pause:NN(p.signal),extra:n,signal:p.signal,fork:CTe(p.signal,v),unsubscribe:d.unsubscribe,subscribe:()=>{e.set(d.id,d)},cancelActiveListeners:()=>{d.pending.forEach((g,w,_)=>{g!==p&&(fm(g,jO),_.delete(g))})},cancel:()=>{fm(p,jO),d.pending.delete(p)},throwIfCancelled:()=>{hm(p.signal)}})))}catch(g){g instanceof wC||V8(r,g,{raisedBy:"effect"})}finally{await Promise.all(v),fm(p,NTe),d.pending.delete(p)}},c=ATe(e);return{middleware:d=>f=>h=>{if(!yte(h))return f(h);if(Fte.match(h))return s(h.payload);if(TTe.match(h)){c();return}if(Ute.match(h))return a(h.payload);let m=d.getState();const p=()=>{if(m===B8)throw new Error(ro(23));return m};let x;try{if(x=f(h),e.size>0){const v=d.getState(),g=Array.from(e.values());for(const w of g){let _=!1;try{_=w.predicate(h,v,m)}catch(E){_=!1,V8(r,E,{raisedBy:"predicate"})}_&&l(w,h,d,p)}}}finally{m=B8}return x},startListening:s,stopListening:a,clearListeners:c}};function ro(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var kTe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},Bte=Zo({name:"chartLayout",initialState:kTe,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){t.margin.top=e.payload.top,t.margin.right=e.payload.right,t.margin.bottom=e.payload.bottom,t.margin.left=e.payload.left},setScale(t,e){t.scale=e.payload}}}),{setMargin:RTe,setLayout:OTe,setChartSize:DTe,setScale:ITe}=Bte.actions,LTe=Bte.reducer;function W8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W8(Object(n),!0).forEach(function(r){FTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FTe(t,e,n){return(e=UTe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UTe(t){var e=BTe(t,"string");return typeof e=="symbol"?e:e+""}function BTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var MN=Math.PI/180,zTe=t=>t*180/Math.PI,Ln=(t,e,n,r)=>({x:t+Math.cos(-MN*r)*n,y:e+Math.sin(-MN*r)*n}),zte=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},VTe=(t,e)=>{var{x:n,y:r}=t,{x:i,y:s}=e;return Math.sqrt((n-i)**2+(r-s)**2)},WTe=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:s}=e,a=VTe({x:n,y:r},{x:i,y:s});if(a<=0)return{radius:a,angle:0};var l=(n-i)/a,c=Math.acos(l);return r>s&&(c=2*Math.PI-c),{radius:a,angle:zTe(c),angleInRadian:c}},$Te=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:e-s*360,endAngle:n-s*360}},HTe=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),s=Math.floor(r/360),a=Math.min(i,s);return t+a*360},GTe=(t,e)=>{var{x:n,y:r}=t,{radius:i,angle:s}=WTe({x:n,y:r},e),{innerRadius:a,outerRadius:l}=e;if(i<a||i>l||i===0)return null;var{startAngle:c,endAngle:u}=$Te(e),d=s,f;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=c}return f?$8($8({},e),{},{radius:i,angle:HTe(d,e)}):null},Vte=t=>!S.isValidElement(t)&&typeof t!="function"&&typeof t!="boolean"&&t!=null?t.className:"";function H8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Oo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H8(Object(n),!0).forEach(function(r){qTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qTe(t,e,n){return(e=KTe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KTe(t){var e=XTe(t,"string");return typeof e=="symbol"?e:e+""}function XTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hn(t,e,n){return Fn(t)||Fn(e)?n:Go(e)?xf(t,e,n):typeof e=="function"?e(t):n}var YTe=(t,e,n,r,i)=>{var s,a=-1,l=(s=e==null?void 0:e.length)!==null&&s!==void 0?s:0;if(l<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<l;c++){var u=c>0?n[c-1].coordinate:n[l-1].coordinate,d=n[c].coordinate,f=c>=l-1?n[0].coordinate:n[c+1].coordinate,h=void 0;if(oi(d-u)!==oi(f-d)){var m=[];if(oi(f-d)===oi(i[1]-i[0])){h=f;var p=d+i[1]-i[0];m[0]=Math.min(p,(p+u)/2),m[1]=Math.max(p,(p+u)/2)}else{h=u;var x=f+i[1]-i[0];m[0]=Math.min(d,(x+d)/2),m[1]=Math.max(d,(x+d)/2)}var v=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(t>v[0]&&t<=v[1]||t>=m[0]&&t<=m[1]){({index:a}=n[c]);break}}else{var g=Math.min(u,f),w=Math.max(u,f);if(t>(g+d)/2&&t<=(w+d)/2){({index:a}=n[c]);break}}}else if(e){for(var _=0;_<l;_++)if(_===0&&t<=(e[_].coordinate+e[_+1].coordinate)/2||_>0&&_<l-1&&t>(e[_].coordinate+e[_-1].coordinate)/2&&t<=(e[_].coordinate+e[_+1].coordinate)/2||_===l-1&&t>(e[_].coordinate+e[_-1].coordinate)/2){({index:a}=e[_]);break}}return a},ZTe=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:s,verticalAlign:a,layout:l}=e;if((l==="vertical"||l==="horizontal"&&a==="middle")&&s!=="center"&&At(t[s]))return Oo(Oo({},t),{},{[s]:t[s]+(r||0)});if((l==="horizontal"||l==="vertical"&&s==="center")&&a!=="middle"&&At(t[a]))return Oo(Oo({},t),{},{[a]:t[a]+(i||0)})}return t},Rc=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",Wte=(t,e,n,r)=>{if(r)return t.map(l=>l.coordinate);var i,s,a=t.map(l=>(l.coordinate===e&&(i=!0),l.coordinate===n&&(s=!0),l.coordinate));return i||a.push(e),s||a.push(n),a},$te=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:s,scale:a,realScaleType:l,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:h,axisType:m}=t;if(!a)return null;var p=l==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,x=i==="category"&&a.bandwidth?a.bandwidth()/p:0;if(x=m==="angleAxis"&&s&&s.length>=2?oi(s[0]-s[1])*2*x:x,f||h){var v=(f||h||[]).map((g,w)=>{var _=r?r.indexOf(g):g;return{coordinate:a(_)+x,value:g,offset:x,index:w}});return v.filter(g=>!ea(g.coordinate))}return c&&u?u.map((g,w)=>({coordinate:a(g)+x,value:g,index:w,offset:x})):a.ticks&&d!=null?a.ticks(d).map((g,w)=>({coordinate:a(g)+x,value:g,offset:x,index:w})):a.domain().map((g,w)=>({coordinate:a(g)+x,value:r?r[g]:g,index:w,offset:x}))},G8=1e-4,QTe=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-G8,s=Math.max(r[0],r[1])+G8,a=t(e[0]),l=t(e[n-1]);(a<i||a>s||l<i||l>s)&&t.domain([e[0],e[n-1]])}},Hte=(t,e)=>{if(!e||e.length!==2||!At(e[0])||!At(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!At(t[0])||t[0]<n)&&(i[0]=n),(!At(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},JTe=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,s=0,a=0;a<e;++a){var l=ea(t[a][n][1])?t[a][n][0]:t[a][n][1];l>=0?(t[a][n][0]=i,t[a][n][1]=i+l,i=t[a][n][1]):(t[a][n][0]=s,t[a][n][1]=s+l,s=t[a][n][1])}},ePe=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,s=0;s<e;++s){var a=ea(t[s][n][1])?t[s][n][0]:t[s][n][1];a>=0?(t[s][n][0]=i,t[s][n][1]=i+a,i=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},tPe={sign:JTe,expand:Yje,none:Mv,silhouette:Zje,wiggle:Qje,positive:ePe},nPe=(t,e,n)=>{var r=tPe[n],i=Xje().keys(e).value((s,a)=>+Hn(s,a,0)).order(yO).offset(r);return i(t)};function Gte(t){return t==null?void 0:String(t)}function q8(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:s,dataKey:a}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Fn(i[e.dataKey])){var l=Nee(n,"value",i[e.dataKey]);if(l)return l.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var c=Hn(i,Fn(a)?e.dataKey:a);return Fn(c)?null:e.scale(c)}var CN=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:s,index:a}=t;if(e.type==="category")return n[a]?n[a].coordinate+r:null;var l=Hn(s,e.dataKey,e.scale.domain()[a]);return Fn(l)?null:e.scale(l)-i/2+r},qte=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},rPe=t=>{var e=t.flat(2).filter(At);return[Math.min(...e),Math.max(...e)]},iPe=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],sPe=(t,e,n)=>{if(t!=null)return iPe(Object.keys(t).reduce((r,i)=>{var s=t[i],{stackedData:a}=s,l=a.reduce((c,u)=>{var d=rPe(u.slice(e,n+1));return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],r[0]),Math.max(l[1],r[1])]},[1/0,-1/0]))},K8=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,X8=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Dl=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=gC(e,d=>d.coordinate),s=1/0,a=1,l=i.length;a<l;a++){var c=i[a],u=i[a-1];s=Math.min((c.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function Y8(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:s}=t;return Oo(Oo({},e),{},{dataKey:n,payload:r,value:i,name:s})}function $u(t,e){if(t)return String(t);if(typeof e=="string")return e}function aPe(t,e,n,r,i){if(n==="horizontal"||n==="vertical"){var s=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return s?{x:t,y:e}:null}return r?GTe({x:t,y:e},r):null}var oPe=(t,e,n,r)=>{var i=e.find(u=>u&&u.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.y};if(t==="vertical")return{x:r.x,y:i.coordinate};if(t==="centric"){var s=i.coordinate,{radius:a}=r;return Oo(Oo(Oo({},r),Ln(r.cx,r.cy,a,s)),{},{angle:s,radius:a})}var l=i.coordinate,{angle:c}=r;return Oo(Oo(Oo({},r),Ln(r.cx,r.cy,l,c)),{},{angle:c,radius:l})}return{x:0,y:0}},lPe=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,Hu=t=>t.layout.width,Gu=t=>t.layout.height,cPe=t=>t.layout.scale,Kte=t=>t.layout.margin,HL=je(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),GL=je(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),Xte="data-recharts-item-index",Yte="data-recharts-item-data-key",SC=60;function Z8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z8(Object(n),!0).forEach(function(r){uPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uPe(t,e,n){return(e=dPe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dPe(t){var e=fPe(t,"string");return typeof e=="symbol"?e:e+""}function fPe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hPe=t=>t.brush.height,Ei=je([Hu,Gu,Kte,hPe,HL,GL,pte,LAe],(t,e,n,r,i,s,a,l)=>{var c=s.reduce((p,x)=>{var{orientation:v}=x;if(!x.mirror&&!x.hide){var g=typeof x.width=="number"?x.width:SC;return vd(vd({},p),{},{[v]:p[v]+g})}return p},{left:n.left||0,right:n.right||0}),u=i.reduce((p,x)=>{var{orientation:v}=x;return!x.mirror&&!x.hide?vd(vd({},p),{},{[v]:xf(p,"".concat(v))+x.height}):p},{top:n.top||0,bottom:n.bottom||0}),d=vd(vd({},u),c),f=d.bottom;d.bottom+=r,d=ZTe(d,a,l);var h=t-d.left-d.right,m=e-d.top-d.bottom;return vd(vd({brushBottom:f},d),{},{width:Math.max(h,0),height:Math.max(m,0)})}),mPe=je(Ei,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),Zte=je(Hu,Gu,(t,e)=>({x:0,y:0,width:t,height:e})),pPe=S.createContext(null),Bi=()=>S.useContext(pPe)!=null,EC=t=>t.brush,NC=je([EC,Ei,Kte],(t,e,n)=>({height:t.height,x:At(t.x)?t.x:e.left,y:At(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:At(t.width)?t.width:e.width})),MC=()=>{var t,e=Bi(),n=gt(mPe),r=gt(NC),i=(t=gt(EC))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},gPe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Qte=()=>{var t;return(t=gt(Ei))!==null&&t!==void 0?t:gPe},qL=()=>gt(Hu),KL=()=>gt(Gu),vPe={top:0,right:0,bottom:0,left:0},xPe=()=>{var t;return(t=gt(e=>e.layout.margin))!==null&&t!==void 0?t:vPe},dn=t=>t.layout.layoutType,CC=()=>gt(dn),yPe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},Jte=Zo({name:"legend",initialState:yPe,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var n=vu(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)}}}),{setLegendSize:Q8,setLegendSettings:bPe,addLegendPayload:ene,removeLegendPayload:tne}=Jte.actions,wPe=Jte.reducer,_Pe=["contextPayload"];function TO(){return TO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TO.apply(null,arguments)}function J8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J8(Object(n),!0).forEach(function(r){XL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XL(t,e,n){return(e=SPe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SPe(t){var e=EPe(t,"string");return typeof e=="symbol"?e:e+""}function EPe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NPe(t,e){if(t==null)return{};var n,r,i=MPe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function MPe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function CPe(t){return t.value}function jPe(t){var{contextPayload:e}=t,n=NPe(t,_Pe),r=ate(e,t.payloadUniqBy,CPe),i=jv(jv({},n),{},{payload:r});return S.isValidElement(t.content)?S.cloneElement(t.content,i):typeof t.content=="function"?S.createElement(t.content,i):S.createElement(TL,i)}function APe(t,e,n,r,i,s){var{layout:a,align:l,verticalAlign:c}=e,u,d;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(l==="center"&&a==="vertical"?u={left:((r||0)-s.width)/2}:u=l==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(c==="middle"?d={top:((i||0)-s.height)/2}:d=c==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),jv(jv({},u),d)}function TPe(t){var e=Qn();return S.useEffect(()=>{e(bPe(t))},[e,t]),null}function PPe(t){var e=Qn();return S.useEffect(()=>(e(Q8(t)),()=>{e(Q8({width:0,height:0}))}),[e,t]),null}function kPe(t){var e=BAe(),n=yje(),r=xPe(),{width:i,height:s,wrapperStyle:a,portal:l}=t,[c,u]=gte([e]),d=qL(),f=KL(),h=d-(r.left||0)-(r.right||0),m=Av.getWidthOrHeight(t.layout,s,i,h),p=l?a:jv(jv({position:"absolute",width:(m==null?void 0:m.width)||i||"auto",height:(m==null?void 0:m.height)||s||"auto"},APe(a,t,r,d,f,c)),a),x=l??n;if(x==null)return null;var v=S.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:u},S.createElement(TPe,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),S.createElement(PPe,{width:c.width,height:c.height}),S.createElement(jPe,TO({},t,m,{margin:r,chartWidth:d,chartHeight:f,contextPayload:e})));return Vu.createPortal(v,x)}class Av extends S.PureComponent{static getWidthOrHeight(e,n,r,i){return e==="vertical"&&At(n)?{height:n}:e==="horizontal"?{width:r||i}:null}render(){return S.createElement(kPe,this.props)}}XL(Av,"displayName","Legend");XL(Av,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function PO(){return PO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},PO.apply(null,arguments)}function eV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eV(Object(n),!0).forEach(function(r){RPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RPe(t,e,n){return(e=OPe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OPe(t){var e=DPe(t,"string");return typeof e=="symbol"?e:e+""}function DPe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IPe(t){return Array.isArray(t)&&Go(t[0])&&Go(t[1])?t.join(" ~ "):t}var LPe=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:s,formatter:a,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:h=!1}=t,m=()=>{if(s&&s.length){var N={padding:0,margin:0},C=(l?gC(s,l):s).map((j,T)=>{if(j.type==="none")return null;var A=j.formatter||a||IPe,{value:P,name:R}=j,D=P,F=R;if(A){var I=A(P,R,j,T,s);if(Array.isArray(I))[D,F]=I;else if(I!=null)D=I;else return null}var G=aP({display:"block",paddingTop:4,paddingBottom:4,color:j.color||"#000"},r);return S.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(T),style:G},Go(F)?S.createElement("span",{className:"recharts-tooltip-item-name"},F):null,Go(F)?S.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,S.createElement("span",{className:"recharts-tooltip-item-value"},D),S.createElement("span",{className:"recharts-tooltip-item-unit"},j.unit||""))});return S.createElement("ul",{className:"recharts-tooltip-item-list",style:N},C)}return null},p=aP({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),x=aP({margin:0},i),v=!Fn(d),g=v?d:"",w=qt("recharts-default-tooltip",c),_=qt("recharts-tooltip-label",u);v&&f&&s!==void 0&&s!==null&&(g=f(d,s));var E=h?{role:"status","aria-live":"assertive"}:{};return S.createElement("div",PO({className:w,style:p},E),S.createElement("p",{className:_,style:x},S.isValidElement(g)?g:"".concat(g)),m())},fy="recharts-tooltip-wrapper",FPe={visibility:"hidden"};function UPe(t){var{coordinate:e,translateX:n,translateY:r}=t;return qt(fy,{["".concat(fy,"-right")]:At(n)&&e&&At(e.x)&&n>=e.x,["".concat(fy,"-left")]:At(n)&&e&&At(e.x)&&n<e.x,["".concat(fy,"-bottom")]:At(r)&&e&&At(e.y)&&r>=e.y,["".concat(fy,"-top")]:At(r)&&e&&At(e.y)&&r<e.y})}function tV(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:s,reverseDirection:a,tooltipDimension:l,viewBox:c,viewBoxDimension:u}=t;if(s&&At(s[r]))return s[r];var d=n[r]-l-(i>0?i:0),f=n[r]+i;if(e[r])return a[r]?d:f;var h=c[r];if(h==null)return 0;if(a[r]){var m=d,p=h;return m<p?Math.max(f,h):Math.max(d,h)}if(u==null)return 0;var x=f+l,v=h+u;return x>v?Math.max(d,h):Math.max(f,h)}function BPe(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function zPe(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:s,tooltipBox:a,useTranslate3d:l,viewBox:c}=t,u,d,f;return a.height>0&&a.width>0&&n?(d=tV({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:c,viewBoxDimension:c.width}),f=tV({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:c,viewBoxDimension:c.height}),u=BPe({translateX:d,translateY:f,useTranslate3d:l})):u=FPe,{cssProperties:u,cssClasses:UPe({translateX:d,translateY:f,coordinate:n})}}function nV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function O_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nV(Object(n),!0).forEach(function(r){kO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kO(t,e,n){return(e=VPe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VPe(t){var e=WPe(t,"string");return typeof e=="symbol"?e:e+""}function WPe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class $Pe extends S.PureComponent{constructor(){super(...arguments),kO(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),kO(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:a,hasPayload:l,isAnimationActive:c,offset:u,position:d,reverseDirection:f,useTranslate3d:h,viewBox:m,wrapperStyle:p,lastBoundingBox:x,innerRef:v,hasPortalFromProps:g}=this.props,{cssClasses:w,cssProperties:_}=zPe({allowEscapeViewBox:n,coordinate:a,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:x.height,width:x.width},useTranslate3d:h,viewBox:m}),E=g?{}:O_(O_({transition:c&&e?"transform ".concat(r,"ms ").concat(i):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&l?"visible":"hidden",position:"absolute",top:0,left:0}),N=O_(O_({},E),{},{visibility:!this.state.dismissed&&e&&l?"visible":"hidden"},p);return S.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:w,style:N,ref:v},s)}}var HPe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),qu={isSsr:HPe()},nne=()=>gt(t=>t.rootProps.accessibilityLayer);function fo(t){return Number.isFinite(t)}function Tv(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function RO(){return RO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},RO.apply(null,arguments)}function rV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rV(Object(n),!0).forEach(function(r){GPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GPe(t,e,n){return(e=qPe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qPe(t){var e=KPe(t,"string");return typeof e=="symbol"?e:e+""}function KPe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sV={curveBasisClosed:Fje,curveBasisOpen:Uje,curveBasis:Lje,curveBumpX:Sje,curveBumpY:Eje,curveLinearClosed:Bje,curveLinear:lC,curveMonotoneX:zje,curveMonotoneY:Vje,curveNatural:Wje,curveStep:$je,curveStepAfter:Gje,curveStepBefore:Hje},D_=t=>fo(t.x)&&fo(t.y),hy=t=>t.x,my=t=>t.y,XPe=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Tw(t));return(n==="curveMonotone"||n==="curveBump")&&e?sV["".concat(n).concat(e==="vertical"?"Y":"X")]:sV[n]||lC},YPe=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:s=!1}=t,a=XPe(e,i),l=s?n.filter(D_):n,c;if(Array.isArray(r)){var u=s?r.filter(f=>D_(f)):r,d=l.map((f,h)=>iV(iV({},f),{},{base:u[h]}));return i==="vertical"?c=A_().y(my).x1(hy).x0(f=>f.base.x):c=A_().x(hy).y1(my).y0(f=>f.base.y),c.defined(D_).curve(a),c(d)}return i==="vertical"&&At(r)?c=A_().y(my).x1(hy).x0(r):At(r)?c=A_().x(hy).y1(my).y0(r):c=Oee().x(hy).y(my),c.defined(D_).curve(a),c(l)},YL=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var s=n&&n.length?YPe(t):r;return S.createElement("path",RO({},Ut(t,!1),SL(t),{className:qt("recharts-curve",e),d:s===null?void 0:s,ref:i}))},ZPe=["x","y","top","left","width","height","className"];function OO(){return OO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},OO.apply(null,arguments)}function aV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QPe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aV(Object(n),!0).forEach(function(r){JPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JPe(t,e,n){return(e=eke(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eke(t){var e=tke(t,"string");return typeof e=="symbol"?e:e+""}function tke(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nke(t,e){if(t==null)return{};var n,r,i=rke(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rke(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ike=(t,e,n,r,i,s)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(n),ske=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:s=0,height:a=0,className:l}=t,c=nke(t,ZPe),u=QPe({x:e,y:n,top:r,left:i,width:s,height:a},c);return!At(e)||!At(n)||!At(s)||!At(a)||!At(r)||!At(i)?null:S.createElement("path",OO({},Ut(u,!0),{className:qt("recharts-cross",l),d:ike(e,n,s,a,r,i)}))};function ake(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function oV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oke(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oV(Object(n),!0).forEach(function(r){lke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lke(t,e,n){return(e=cke(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cke(t){var e=uke(t,"string");return typeof e=="symbol"?e:e+""}function uke(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ka(t,e){var n=oke({},t),r=e,i=Object.keys(e),s=i.reduce((a,l)=>(a[l]===void 0&&r[l]!==void 0&&(a[l]=r[l]),a),n);return s}var rne={},ine={},sne={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(!n||typeof n!="object")return!1;const r=Object.getPrototypeOf(n);return r===null||r===Object.prototype||Object.getPrototypeOf(r)===null?Object.prototype.toString.call(n)==="[object Object]":!1}t.isPlainObject=e})(sne);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=sne,n=DL,r=hC,i=mC,s=fC;function a(u,d,f){return l(u,d,void 0,void 0,void 0,void 0,f)}function l(u,d,f,h,m,p,x){const v=x(u,d,f,h,m,p);if(v!==void 0)return v;if(typeof u==typeof d)switch(typeof u){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return u===d;case"number":return u===d||Object.is(u,d);case"function":return u===d;case"object":return c(u,d,p,x)}return c(u,d,p,x)}function c(u,d,f,h){if(Object.is(u,d))return!0;let m=r.getTag(u),p=r.getTag(d);if(m===i.argumentsTag&&(m=i.objectTag),p===i.argumentsTag&&(p=i.objectTag),m!==p)return!1;switch(m){case i.stringTag:return u.toString()===d.toString();case i.numberTag:{const g=u.valueOf(),w=d.valueOf();return s.eq(g,w)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(u.valueOf(),d.valueOf());case i.regexpTag:return u.source===d.source&&u.flags===d.flags;case i.functionTag:return u===d}f=f??new Map;const x=f.get(u),v=f.get(d);if(x!=null&&v!=null)return x===d;f.set(u,d),f.set(d,u);try{switch(m){case i.mapTag:{if(u.size!==d.size)return!1;for(const[g,w]of u.entries())if(!d.has(g)||!l(w,d.get(g),g,u,d,f,h))return!1;return!0}case i.setTag:{if(u.size!==d.size)return!1;const g=Array.from(u.values()),w=Array.from(d.values());for(let _=0;_<g.length;_++){const E=g[_],N=w.findIndex(C=>l(E,C,void 0,u,d,f,h));if(N===-1)return!1;w.splice(N,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(u)!==Buffer.isBuffer(d)||u.length!==d.length)return!1;for(let g=0;g<u.length;g++)if(!l(u[g],d[g],g,u,d,f,h))return!1;return!0}case i.arrayBufferTag:return u.byteLength!==d.byteLength?!1:c(new Uint8Array(u),new Uint8Array(d),f,h);case i.dataViewTag:return u.byteLength!==d.byteLength||u.byteOffset!==d.byteOffset?!1:c(new Uint8Array(u),new Uint8Array(d),f,h);case i.errorTag:return u.name===d.name&&u.message===d.message;case i.objectTag:{if(!(c(u.constructor,d.constructor,f,h)||e.isPlainObject(u)&&e.isPlainObject(d)))return!1;const w=[...Object.keys(u),...n.getSymbols(u)],_=[...Object.keys(d),...n.getSymbols(d)];if(w.length!==_.length)return!1;for(let E=0;E<w.length;E++){const N=w[E],C=u[N];if(!Object.hasOwn(d,N))return!1;const j=d[N];if(!l(C,j,N,u,d,f,h))return!1}return!0}default:return!1}}finally{f.delete(u),f.delete(d)}}t.isEqualWith=a})(ine);var ane={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(){}t.noop=e})(ane);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ine,n=ane;function r(i,s){return e.isEqualWith(i,s,n.noop)}t.isEqual=r})(rne);var dke=rne.isEqual;const fke=Pa(dke);function hke(t){var e={},n=()=>null,r=!1,i=null,s=a=>{if(!r){if(Array.isArray(a)){if(!a.length)return;var l=a,[c,...u]=l;if(typeof c=="number"){i=t.setTimeout(s.bind(null,u),c);return}s(c),i=t.setTimeout(s.bind(null,u));return}typeof a=="object"&&(e=a,n(e)),typeof a=="function"&&a()}};return{stop:()=>{r=!0},start:a=>{r=!1,i&&(i(),i=null),s(a)},subscribe:a=>(n=a,()=>{n=()=>null}),getTimeoutController:()=>t}}var jN=1e-4,one=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],lne=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),lV=(t,e)=>n=>{var r=one(t,e);return lne(r,n)},mke=(t,e)=>n=>{var r=one(t,e),i=[...r.map((s,a)=>s*a).slice(1),0];return lne(i,n)},cV=function(){for(var e,n,r,i,s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];if(a.length===1)switch(a[0]){case"linear":[e,r,n,i]=[0,0,1,1];break;case"ease":[e,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[e,r,n,i]=[.42,0,1,1];break;case"ease-out":[e,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[e,r,n,i]=[0,0,.58,1];break;default:{var c=a[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([e,r,n,i]=c[1].split(")")[0].split(",").map(p=>parseFloat(p)))}}else a.length===4&&([e,r,n,i]=a);var u=lV(e,n),d=lV(r,i),f=mke(e,n),h=p=>p>1?1:p<0?0:p,m=p=>{for(var x=p>1?1:p,v=x,g=0;g<8;++g){var w=u(v)-x,_=f(v);if(Math.abs(w-x)<jN||_<jN)return d(v);v=h(v-w/_)}return d(v)};return m.isStepper=!1,m},pke=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,s=(a,l,c)=>{var u=-(a-l)*n,d=c*r,f=c+(u-d)*i/1e3,h=c*i/1e3+a;return Math.abs(h-l)<jN&&Math.abs(f)<jN?[l,0]:[h,f]};return s.isStepper=!0,s.dt=i,s},gke=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return cV(t);case"spring":return pke();default:if(t.split("(")[0]==="cubic-bezier")return cV(t)}return typeof t=="function"?t:null};function uV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uV(Object(n),!0).forEach(function(r){vke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vke(t,e,n){return(e=xke(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xke(t){var e=yke(t,"string");return typeof e=="symbol"?e:e+""}function yke(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bke=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),wke=(t,e,n)=>t.map(r=>"".concat(bke(r)," ").concat(e,"ms ").concat(n)).join(","),_ke=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),vb=(t,e)=>Object.keys(e).reduce((n,r)=>dV(dV({},n),{},{[r]:t(r,e[r])}),{});function fV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fV(Object(n),!0).forEach(function(r){Ske(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ske(t,e,n){return(e=Eke(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Eke(t){var e=Nke(t,"string");return typeof e=="symbol"?e:e+""}function Nke(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var AN=(t,e,n)=>t+(e-t)*n,DO=t=>{var{from:e,to:n}=t;return e!==n},cne=(t,e,n)=>{var r=vb((i,s)=>{if(DO(s)){var[a,l]=t(s.from,s.to,s.velocity);return Yi(Yi({},s),{},{from:a,velocity:l})}return s},e);return n<1?vb((i,s)=>DO(s)?Yi(Yi({},s),{},{velocity:AN(s.velocity,r[i].velocity,n),from:AN(s.from,r[i].from,n)}):s,e):cne(t,r,n-1)};function Mke(t,e,n,r,i,s){var a,l=r.reduce((h,m)=>Yi(Yi({},h),{},{[m]:{from:t[m],velocity:0,to:e[m]}}),{}),c=()=>vb((h,m)=>m.from,l),u=()=>!Object.values(l).filter(DO).length,d=null,f=h=>{a||(a=h);var m=h-a,p=m/n.dt;l=cne(n,l,p),i(Yi(Yi(Yi({},t),e),c())),a=h,u()||(d=s.setTimeout(f))};return()=>(d=s.setTimeout(f),()=>{d()})}function Cke(t,e,n,r,i,s,a){var l=null,c=i.reduce((f,h)=>Yi(Yi({},f),{},{[h]:[t[h],e[h]]}),{}),u,d=f=>{u||(u=f);var h=(f-u)/r,m=vb((x,v)=>AN(...v,n(h)),c);if(s(Yi(Yi(Yi({},t),e),m)),h<1)l=a.setTimeout(d);else{var p=vb((x,v)=>AN(...v,n(1)),c);s(Yi(Yi(Yi({},t),e),p))}};return()=>(l=a.setTimeout(d),()=>{l()})}const jke=(t,e,n,r,i,s)=>{var a=_ke(t,e);return n.isStepper===!0?Mke(t,e,n,a,i,s):Cke(t,e,n,r,a,i,s)};class Ake{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=a=>{a-r>=n?e(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{cancelAnimationFrame(i)}}}var Tke=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function IO(){return IO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},IO.apply(null,arguments)}function Pke(t,e){if(t==null)return{};var n,r,i=kke(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function kke(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function hV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hV(Object(n),!0).forEach(function(r){Gh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gh(t,e,n){return(e=Rke(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rke(t){var e=Oke(t,"string");return typeof e=="symbol"?e:e+""}function Oke(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dke(){return hke(new Ake)}class ZL extends S.PureComponent{constructor(e,n){super(e,n),Gh(this,"mounted",!1),Gh(this,"manager",null),Gh(this,"stopJSAnimation",null),Gh(this,"unSubscribe",null);var{isActive:r,attributeName:i,from:s,to:a,children:l,duration:c,animationManager:u}=this.props;if(this.manager=u,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!r||c<=0){this.state={style:{}},typeof l=="function"&&(this.state={style:a});return}if(s){if(typeof l=="function"){this.state={style:s};return}this.state={style:i?{[i]:s}:s}}else this.state={style:{}}}componentDidMount(){var{isActive:e,canBegin:n}=this.props;this.mounted=!0,!(!e||!n)&&this.runAnimation(this.props)}componentDidUpdate(e){var{isActive:n,canBegin:r,attributeName:i,shouldReAnimate:s,to:a,from:l}=this.props,{style:c}=this.state;if(r){if(!n){var u={style:i?{[i]:a}:a};this.state&&c&&(i&&c[i]!==a||!i&&c!==a)&&this.setState(u);return}if(!(fke(e.to,a)&&e.canBegin&&e.isActive)){var d=!e.canBegin||!e.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var f=d||s?l:e.to;if(this.state&&c){var h={style:i?{[i]:f}:f};(i&&c[i]!==f||!i&&c!==f)&&this.setState(h)}this.runAnimation(xd(xd({},this.props),{},{from:f,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:e}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}handleStyleChange(e){this.changeStyle(e)}changeStyle(e){this.mounted&&this.setState({style:e})}runJSAnimation(e){var{from:n,to:r,duration:i,easing:s,begin:a,onAnimationEnd:l,onAnimationStart:c}=e,u=jke(n,r,gke(s),i,this.changeStyle,this.manager.getTimeoutController()),d=()=>{this.stopJSAnimation=u()};this.manager.start([c,a,d,i,l])}runAnimation(e){var{begin:n,duration:r,attributeName:i,to:s,easing:a,onAnimationStart:l,onAnimationEnd:c,children:u}=e;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof a=="function"||typeof u=="function"||a==="spring"){this.runJSAnimation(e);return}var d=i?{[i]:s}:s,f=wke(Object.keys(d),r,a);this.manager.start([l,n,xd(xd({},d),{},{transition:f}),r,c])}render(){var e=this.props,{children:n,begin:r,duration:i,attributeName:s,easing:a,isActive:l,from:c,to:u,canBegin:d,onAnimationEnd:f,shouldReAnimate:h,onAnimationReStart:m,animationManager:p}=e,x=Pke(e,Tke),v=S.Children.count(n),g=this.state.style;if(typeof n=="function")return n(g);if(!l||v===0||i<=0)return n;var w=_=>{var{style:E={},className:N}=_.props,C=S.cloneElement(_,xd(xd({},x),{},{style:xd(xd({},E),g),className:N}));return C};return v===1?w(S.Children.only(n)):S.createElement("div",null,S.Children.map(n,_=>w(_)))}}Gh(ZL,"displayName","Animate");Gh(ZL,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var Ike=S.createContext(null);function jc(t){var e,n,r=S.useContext(Ike);return S.createElement(ZL,IO({},t,{animationManager:(e=(n=t.animationManager)!==null&&n!==void 0?n:r)!==null&&e!==void 0?e:Dke()}))}function TN(){return TN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TN.apply(null,arguments)}var mV=(t,e,n,r,i)=>{var s=Math.min(Math.abs(n)/2,Math.abs(r)/2),a=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0,u;if(s>0&&i instanceof Array){for(var d=[0,0,0,0],f=0,h=4;f<h;f++)d[f]=i[f]>s?s:i[f];u="M".concat(t,",").concat(e+a*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(t+l*d[0],",").concat(e)),u+="L ".concat(t+n-l*d[1],",").concat(e),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(e+a*d[1])),u+="L ".concat(t+n,",").concat(e+r-a*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(t+n-l*d[2],",").concat(e+r)),u+="L ".concat(t+l*d[3],",").concat(e+r),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(e+r-a*d[3])),u+="Z"}else if(s>0&&i===+i&&i>0){var m=Math.min(s,i);u="M ".concat(t,",").concat(e+a*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+l*m,",").concat(e,`
            L `).concat(t+n-l*m,",").concat(e,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+n,",").concat(e+a*m,`
            L `).concat(t+n,",").concat(e+r-a*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+n-l*m,",").concat(e+r,`
            L `).concat(t+l*m,",").concat(e+r,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t,",").concat(e+r-a*m," Z")}else u="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return u},Lke={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},une=t=>{var e=ka(t,Lke),n=S.useRef(null),[r,i]=S.useState(-1);S.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var g=n.current.getTotalLength();g&&i(g)}catch{}},[]);var{x:s,y:a,width:l,height:c,radius:u,className:d}=e,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:p,isUpdateAnimationActive:x}=e;if(s!==+s||a!==+a||l!==+l||c!==+c||l===0||c===0)return null;var v=qt("recharts-rectangle",d);return x?S.createElement(jc,{canBegin:r>0,from:{width:l,height:c,x:s,y:a},to:{width:l,height:c,x:s,y:a},duration:h,animationEasing:f,isActive:x},g=>{var{width:w,height:_,x:E,y:N}=g;return S.createElement(jc,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:h,isActive:p,easing:f},S.createElement("path",TN({},Ut(e,!0),{className:v,d:mV(E,N,w,_,u),ref:n})))}):S.createElement("path",TN({},Ut(e,!0),{className:v,d:mV(s,a,l,c,u)}))};function dne(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:s}=t,a=Ln(e,n,r,i),l=Ln(e,n,r,s);return{points:[a,l],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}function LO(){return LO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},LO.apply(null,arguments)}var Fke=(t,e)=>{var n=oi(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},I_=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:s,isExternal:a,cornerRadius:l,cornerIsExternal:c}=t,u=l*(a?1:-1)+r,d=Math.asin(l/u)/MN,f=c?i:i+s*d,h=Ln(e,n,u,f),m=Ln(e,n,r,f),p=c?i-s*d:i,x=Ln(e,n,u*Math.cos(d*MN),p);return{center:h,circleTangency:m,lineTangency:x,theta:d}},fne=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:a}=t,l=Fke(s,a),c=s+l,u=Ln(e,n,i,s),d=Ln(e,n,i,c),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(r>0){var h=Ln(e,n,r,s),m=Ln(e,n,r,c);f+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(e,",").concat(n," Z");return f},Uke=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:l,startAngle:c,endAngle:u}=t,d=oi(u-c),{circleTangency:f,lineTangency:h,theta:m}=I_({cx:e,cy:n,radius:i,angle:c,sign:d,cornerRadius:s,cornerIsExternal:l}),{circleTangency:p,lineTangency:x,theta:v}=I_({cx:e,cy:n,radius:i,angle:u,sign:-d,cornerRadius:s,cornerIsExternal:l}),g=l?Math.abs(c-u):Math.abs(c-u)-m-v;if(g<0)return a?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):fne({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:c,endAngle:u});var w="M ".concat(h.x,",").concat(h.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(g>180),",").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
  `);if(r>0){var{circleTangency:_,lineTangency:E,theta:N}=I_({cx:e,cy:n,radius:r,angle:c,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),{circleTangency:C,lineTangency:j,theta:T}=I_({cx:e,cy:n,radius:r,angle:u,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),A=l?Math.abs(c-u):Math.abs(c-u)-N-T;if(A<0&&s===0)return"".concat(w,"L").concat(e,",").concat(n,"Z");w+="L".concat(j.x,",").concat(j.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(C.x,",").concat(C.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(A>180),",").concat(+(d>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(E.x,",").concat(E.y,"Z")}else w+="L".concat(e,",").concat(n,"Z");return w},Bke={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},hne=t=>{var e=ka(t,Bke),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:a,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:f}=e;if(s<i||u===d)return null;var h=qt("recharts-sector",f),m=s-i,p=Ys(a,m,0,!0),x;return p>0&&Math.abs(u-d)<360?x=Uke({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(p,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):x=fne({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:u,endAngle:d}),S.createElement("path",LO({},Ut(e,!0),{className:h,d:x}))};function zke(t,e,n){var r,i,s,a;if(t==="horizontal")r=e.x,s=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:l,cy:c,innerRadius:u,outerRadius:d,angle:f}=e,h=Ln(l,c,u,f),m=Ln(l,c,d,f);r=h.x,i=h.y,s=m.x,a=m.y}else return dne(e);return[{x:r,y:i},{x:s,y:a}]}var mne={},pne={},gne={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=FL;function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(gne);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gne;function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(pne);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=UL,n=pne;function r(i,s,a){a&&typeof a!="number"&&e.isIterateeCall(i,s,a)&&(s=a=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),a=a===void 0?i<s?1:-1:n.toFinite(a);const l=Math.max(Math.ceil((s-i)/(a||1)),0),c=new Array(l);for(let u=0;u<l;u++)c[u]=i,i+=a;return c}t.range=r})(mne);var Vke=mne.range;const vne=Pa(Vke);function lf(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Wke(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function QL(t){let e,n,r;t.length!==2?(e=lf,n=(l,c)=>lf(t(l),c),r=(l,c)=>t(l)-c):(e=t===lf||t===Wke?t:$ke,n=t,r=t);function i(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function a(l,c,u=0,d=l.length){const f=i(l,c,u,d-1);return f>u&&r(l[f-1],c)>-r(l[f],c)?f-1:f}return{left:i,center:a,right:s}}function $ke(){return 0}function xne(t){return t===null?NaN:+t}function*Hke(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Gke=QL(lf),Rw=Gke.right;QL(xne).center;class pV extends Map{constructor(e,n=Xke){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(gV(this,e))}has(e){return super.has(gV(this,e))}set(e,n){return super.set(qke(this,e),n)}delete(e){return super.delete(Kke(this,e))}}function gV({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function qke({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Kke({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Xke(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Yke(t=lf){if(t===lf)return yne;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function yne(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Zke=Math.sqrt(50),Qke=Math.sqrt(10),Jke=Math.sqrt(2);function PN(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=Zke?10:s>=Qke?5:s>=Jke?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/a,l=Math.round(t*u),c=Math.round(e*u),l/u<t&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,i)*a,l=Math.round(t/u),c=Math.round(e/u),l*u<t&&++l,c*u>e&&--c),c<l&&.5<=n&&n<2?PN(t,e,n*2):[l,c,u]}function FO(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,a]=r?PN(e,t,n):PN(t,e,n);if(!(s>=i))return[];const l=s-i+1,c=new Array(l);if(r)if(a<0)for(let u=0;u<l;++u)c[u]=(s-u)/-a;else for(let u=0;u<l;++u)c[u]=(s-u)*a;else if(a<0)for(let u=0;u<l;++u)c[u]=(i+u)/-a;else for(let u=0;u<l;++u)c[u]=(i+u)*a;return c}function UO(t,e,n){return e=+e,t=+t,n=+n,PN(t,e,n)[2]}function BO(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?UO(e,t,n):UO(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function vV(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function xV(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function bne(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?yne:Yke(i);r>n;){if(r-n>600){const c=r-n+1,u=e-n+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(n,Math.floor(e-u*f/c+h)),p=Math.min(r,Math.floor(e+(c-u)*f/c+h));bne(t,e,m,p,i)}const s=t[e];let a=n,l=r;for(py(t,n,e),i(t[r],s)>0&&py(t,n,r);a<l;){for(py(t,a,l),++a,--l;i(t[a],s)<0;)++a;for(;i(t[l],s)>0;)--l}i(t[n],s)===0?py(t,n,l):(++l,py(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function py(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function eRe(t,e,n){if(t=Float64Array.from(Hke(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return xV(t);if(e>=1)return vV(t);var r,i=(r-1)*e,s=Math.floor(i),a=vV(bne(t,s).subarray(0,s+1)),l=xV(t.subarray(s+1));return a+(l-a)*(i-s)}}function tRe(t,e,n=xne){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),a=+n(t[s],s,t),l=+n(t[s+1],s+1,t);return a+(l-a)*(i-s)}}function nRe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function Qo(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ku(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const zO=Symbol("implicit");function JL(){var t=new pV,e=[],n=[],r=zO;function i(s){let a=t.get(s);if(a===void 0){if(r!==zO)return r;t.set(s,a=e.push(s)-1)}return n[a%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new pV;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return JL(e,n).unknown(r)},Qo.apply(i,arguments),i}function e4(){var t=JL().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,a,l=!1,c=0,u=0,d=.5;delete t.unknown;function f(){var h=e().length,m=i<r,p=m?i:r,x=m?r:i;s=(x-p)/Math.max(1,h-c+u*2),l&&(s=Math.floor(s)),p+=(x-p-s*(h-c))*d,a=s*(1-c),l&&(p=Math.round(p),a=Math.round(a));var v=nRe(h).map(function(g){return p+s*g});return n(m?v.reverse():v)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,l=!0,f()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(h){return arguments.length?(l=!!h,f()):l},t.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},t.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},t.copy=function(){return e4(e(),[r,i]).round(l).paddingInner(c).paddingOuter(u).align(d)},Qo.apply(f(),arguments)}function wne(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return wne(e())},t}function rRe(){return wne(e4.apply(null,arguments).paddingInner(1))}function t4(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function _ne(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Ow(){}var xb=.7,kN=1/xb,Qg="\\s*([+-]?\\d+)\\s*",yb="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",bc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",iRe=/^#([0-9a-f]{3,8})$/,sRe=new RegExp(`^rgb\\(${Qg},${Qg},${Qg}\\)$`),aRe=new RegExp(`^rgb\\(${bc},${bc},${bc}\\)$`),oRe=new RegExp(`^rgba\\(${Qg},${Qg},${Qg},${yb}\\)$`),lRe=new RegExp(`^rgba\\(${bc},${bc},${bc},${yb}\\)$`),cRe=new RegExp(`^hsl\\(${yb},${bc},${bc}\\)$`),uRe=new RegExp(`^hsla\\(${yb},${bc},${bc},${yb}\\)$`),yV={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};t4(Ow,bb,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:bV,formatHex:bV,formatHex8:dRe,formatHsl:fRe,formatRgb:wV,toString:wV});function bV(){return this.rgb().formatHex()}function dRe(){return this.rgb().formatHex8()}function fRe(){return Sne(this).formatHsl()}function wV(){return this.rgb().formatRgb()}function bb(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=iRe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?_V(e):n===3?new Ea(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?L_(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?L_(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=sRe.exec(t))?new Ea(e[1],e[2],e[3],1):(e=aRe.exec(t))?new Ea(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=oRe.exec(t))?L_(e[1],e[2],e[3],e[4]):(e=lRe.exec(t))?L_(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=cRe.exec(t))?NV(e[1],e[2]/100,e[3]/100,1):(e=uRe.exec(t))?NV(e[1],e[2]/100,e[3]/100,e[4]):yV.hasOwnProperty(t)?_V(yV[t]):t==="transparent"?new Ea(NaN,NaN,NaN,0):null}function _V(t){return new Ea(t>>16&255,t>>8&255,t&255,1)}function L_(t,e,n,r){return r<=0&&(t=e=n=NaN),new Ea(t,e,n,r)}function hRe(t){return t instanceof Ow||(t=bb(t)),t?(t=t.rgb(),new Ea(t.r,t.g,t.b,t.opacity)):new Ea}function VO(t,e,n,r){return arguments.length===1?hRe(t):new Ea(t,e,n,r??1)}function Ea(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}t4(Ea,VO,_ne(Ow,{brighter(t){return t=t==null?kN:Math.pow(kN,t),new Ea(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?xb:Math.pow(xb,t),new Ea(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ea(mm(this.r),mm(this.g),mm(this.b),RN(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:SV,formatHex:SV,formatHex8:mRe,formatRgb:EV,toString:EV}));function SV(){return`#${qh(this.r)}${qh(this.g)}${qh(this.b)}`}function mRe(){return`#${qh(this.r)}${qh(this.g)}${qh(this.b)}${qh((isNaN(this.opacity)?1:this.opacity)*255)}`}function EV(){const t=RN(this.opacity);return`${t===1?"rgb(":"rgba("}${mm(this.r)}, ${mm(this.g)}, ${mm(this.b)}${t===1?")":`, ${t})`}`}function RN(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function mm(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function qh(t){return t=mm(t),(t<16?"0":"")+t.toString(16)}function NV(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Sl(t,e,n,r)}function Sne(t){if(t instanceof Sl)return new Sl(t.h,t.s,t.l,t.opacity);if(t instanceof Ow||(t=bb(t)),!t)return new Sl;if(t instanceof Sl)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),a=NaN,l=s-i,c=(s+i)/2;return l?(e===s?a=(n-r)/l+(n<r)*6:n===s?a=(r-e)/l+2:a=(e-n)/l+4,l/=c<.5?s+i:2-s-i,a*=60):l=c>0&&c<1?0:a,new Sl(a,l,c,t.opacity)}function pRe(t,e,n,r){return arguments.length===1?Sne(t):new Sl(t,e,n,r??1)}function Sl(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}t4(Sl,pRe,_ne(Ow,{brighter(t){return t=t==null?kN:Math.pow(kN,t),new Sl(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?xb:Math.pow(xb,t),new Sl(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Ea(oP(t>=240?t-240:t+120,i,r),oP(t,i,r),oP(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Sl(MV(this.h),F_(this.s),F_(this.l),RN(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=RN(this.opacity);return`${t===1?"hsl(":"hsla("}${MV(this.h)}, ${F_(this.s)*100}%, ${F_(this.l)*100}%${t===1?")":`, ${t})`}`}}));function MV(t){return t=(t||0)%360,t<0?t+360:t}function F_(t){return Math.max(0,Math.min(1,t||0))}function oP(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const n4=t=>()=>t;function gRe(t,e){return function(n){return t+n*e}}function vRe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function xRe(t){return(t=+t)==1?Ene:function(e,n){return n-e?vRe(e,n,t):n4(isNaN(e)?n:e)}}function Ene(t,e){var n=e-t;return n?gRe(t,n):n4(isNaN(t)?e:t)}const CV=function t(e){var n=xRe(e);function r(i,s){var a=n((i=VO(i)).r,(s=VO(s)).r),l=n(i.g,s.g),c=n(i.b,s.b),u=Ene(i.opacity,s.opacity);return function(d){return i.r=a(d),i.g=l(d),i.b=c(d),i.opacity=u(d),i+""}}return r.gamma=t,r}(1);function yRe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function bRe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function wRe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),a;for(a=0;a<r;++a)i[a]=cx(t[a],e[a]);for(;a<n;++a)s[a]=e[a];return function(l){for(a=0;a<r;++a)s[a]=i[a](l);return s}}function _Re(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function ON(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function SRe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=cx(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var WO=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,lP=new RegExp(WO.source,"g");function ERe(t){return function(){return t}}function NRe(t){return function(e){return t(e)+""}}function MRe(t,e){var n=WO.lastIndex=lP.lastIndex=0,r,i,s,a=-1,l=[],c=[];for(t=t+"",e=e+"";(r=WO.exec(t))&&(i=lP.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),l[a]?l[a]+=s:l[++a]=s),(r=r[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,c.push({i:a,x:ON(r,i)})),n=lP.lastIndex;return n<e.length&&(s=e.slice(n),l[a]?l[a]+=s:l[++a]=s),l.length<2?c[0]?NRe(c[0].x):ERe(e):(e=c.length,function(u){for(var d=0,f;d<e;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function cx(t,e){var n=typeof e,r;return e==null||n==="boolean"?n4(e):(n==="number"?ON:n==="string"?(r=bb(e))?(e=r,CV):MRe:e instanceof bb?CV:e instanceof Date?_Re:bRe(e)?yRe:Array.isArray(e)?wRe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?SRe:ON)(t,e)}function r4(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function CRe(t,e){e===void 0&&(e=t,t=cx);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(a){var l=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return s[l](a-l)}}function jRe(t){return function(){return t}}function DN(t){return+t}var jV=[0,1];function Hs(t){return t}function $O(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:jRe(isNaN(e)?NaN:.5)}function ARe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function TRe(t,e,n){var r=t[0],i=t[1],s=e[0],a=e[1];return i<r?(r=$O(i,r),s=n(a,s)):(r=$O(r,i),s=n(s,a)),function(l){return s(r(l))}}function PRe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=$O(t[a],t[a+1]),s[a]=n(e[a],e[a+1]);return function(l){var c=Rw(t,l,1,r)-1;return s[c](i[c](l))}}function Dw(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function jC(){var t=jV,e=jV,n=cx,r,i,s,a=Hs,l,c,u;function d(){var h=Math.min(t.length,e.length);return a!==Hs&&(a=ARe(t[0],t[h-1])),l=h>2?PRe:TRe,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?s:(c||(c=l(t.map(r),e,n)))(r(a(h)))}return f.invert=function(h){return a(i((u||(u=l(e,t.map(r),ON)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,DN),d()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=r4,d()},f.clamp=function(h){return arguments.length?(a=h?!0:Hs,d()):a!==Hs},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,m){return r=h,i=m,d()}}function i4(){return jC()(Hs,Hs)}function kRe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function IN(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Pv(t){return t=IN(Math.abs(t)),t?t[1]:NaN}function RRe(t,e){return function(n,r){for(var i=n.length,s=[],a=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),s.push(n.substring(i-=l,i+l)),!((c+=l+1)>r));)l=t[a=(a+1)%t.length];return s.reverse().join(e)}}function ORe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var DRe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function wb(t){if(!(e=DRe.exec(t)))throw new Error("invalid format: "+t);var e;return new s4({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}wb.prototype=s4.prototype;function s4(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}s4.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function IRe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Nne;function LRe(t,e){var n=IN(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(Nne=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+IN(t,Math.max(0,e+s-1))[0]}function AV(t,e){var n=IN(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const TV={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:kRe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>AV(t*100,e),r:AV,s:LRe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function PV(t){return t}var kV=Array.prototype.map,RV=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function FRe(t){var e=t.grouping===void 0||t.thousands===void 0?PV:RRe(kV.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?PV:ORe(kV.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(f){f=wb(f);var h=f.fill,m=f.align,p=f.sign,x=f.symbol,v=f.zero,g=f.width,w=f.comma,_=f.precision,E=f.trim,N=f.type;N==="n"?(w=!0,N="g"):TV[N]||(_===void 0&&(_=12),E=!0,N="g"),(v||h==="0"&&m==="=")&&(v=!0,h="0",m="=");var C=x==="$"?n:x==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",j=x==="$"?r:/[%p]/.test(N)?a:"",T=TV[N],A=/[defgprs%]/.test(N);_=_===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function P(R){var D=C,F=j,I,G,q;if(N==="c")F=T(R)+F,R="";else{R=+R;var $=R<0||1/R<0;if(R=isNaN(R)?c:T(Math.abs(R),_),E&&(R=IRe(R)),$&&+R==0&&p!=="+"&&($=!1),D=($?p==="("?p:l:p==="-"||p==="("?"":p)+D,F=(N==="s"?RV[8+Nne/3]:"")+F+($&&p==="("?")":""),A){for(I=-1,G=R.length;++I<G;)if(q=R.charCodeAt(I),48>q||q>57){F=(q===46?i+R.slice(I+1):R.slice(I))+F,R=R.slice(0,I);break}}}w&&!v&&(R=e(R,1/0));var L=D.length+R.length+F.length,V=L<g?new Array(g-L+1).join(h):"";switch(w&&v&&(R=e(V+R,V.length?g-F.length:1/0),V=""),m){case"<":R=D+R+F+V;break;case"=":R=D+V+R+F;break;case"^":R=V.slice(0,L=V.length>>1)+D+R+F+V.slice(L);break;default:R=V+D+R+F;break}return s(R)}return P.toString=function(){return f+""},P}function d(f,h){var m=u((f=wb(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(Pv(h)/3)))*3,x=Math.pow(10,-p),v=RV[8+p/3];return function(g){return m(x*g)+v}}return{format:u,formatPrefix:d}}var U_,a4,Mne;URe({thousands:",",grouping:[3],currency:["$",""]});function URe(t){return U_=FRe(t),a4=U_.format,Mne=U_.formatPrefix,U_}function BRe(t){return Math.max(0,-Pv(Math.abs(t)))}function zRe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Pv(e)/3)))*3-Pv(Math.abs(t)))}function VRe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Pv(e)-Pv(t))+1}function Cne(t,e,n,r){var i=BO(t,e,n),s;switch(r=wb(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=zRe(i,a))&&(r.precision=s),Mne(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=VRe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=BRe(i))&&(r.precision=s-(r.type==="%")*2);break}}return a4(r)}function Df(t){var e=t.domain;return t.ticks=function(n){var r=e();return FO(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return Cne(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,a=r[i],l=r[s],c,u,d=10;for(l<a&&(u=a,a=l,l=u,u=i,i=s,s=u);d-- >0;){if(u=UO(a,l,n),u===c)return r[i]=a,r[s]=l,e(r);if(u>0)a=Math.floor(a/u)*u,l=Math.ceil(l/u)*u;else if(u<0)a=Math.ceil(a*u)/u,l=Math.floor(l*u)/u;else break;c=u}return t},t}function jne(){var t=i4();return t.copy=function(){return Dw(t,jne())},Qo.apply(t,arguments),Df(t)}function Ane(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,DN),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return Ane(t).unknown(e)},t=arguments.length?Array.from(t,DN):[0,1],Df(n)}function Tne(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],a;return s<i&&(a=n,n=r,r=a,a=i,i=s,s=a),t[n]=e.floor(i),t[r]=e.ceil(s),t}function OV(t){return Math.log(t)}function DV(t){return Math.exp(t)}function WRe(t){return-Math.log(-t)}function $Re(t){return-Math.exp(-t)}function HRe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function GRe(t){return t===10?HRe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function qRe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function IV(t){return(e,n)=>-t(-e,n)}function o4(t){const e=t(OV,DV),n=e.domain;let r=10,i,s;function a(){return i=qRe(r),s=GRe(r),n()[0]<0?(i=IV(i),s=IV(s),t(WRe,$Re)):t(OV,DV),e}return e.base=function(l){return arguments.length?(r=+l,a()):r},e.domain=function(l){return arguments.length?(n(l),a()):n()},e.ticks=l=>{const c=n();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),m=i(d),p,x;const v=l==null?10:+l;let g=[];if(!(r%1)&&m-h<v){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(p=1;p<r;++p)if(x=h<0?p/s(-h):p*s(h),!(x<u)){if(x>d)break;g.push(x)}}else for(;h<=m;++h)for(p=r-1;p>=1;--p)if(x=h>0?p/s(-h):p*s(h),!(x<u)){if(x>d)break;g.push(x)}g.length*2<v&&(g=FO(u,d,v))}else g=FO(h,m,Math.min(m-h,v)).map(s);return f?g.reverse():g},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=wb(c)).precision==null&&(c.trim=!0),c=a4(c)),l===1/0)return c;const u=Math.max(1,r*l/e.ticks().length);return d=>{let f=d/s(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=u?c(d):""}},e.nice=()=>n(Tne(n(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),e}function Pne(){const t=o4(jC()).domain([1,10]);return t.copy=()=>Dw(t,Pne()).base(t.base()),Qo.apply(t,arguments),t}function LV(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function FV(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function l4(t){var e=1,n=t(LV(e),FV(e));return n.constant=function(r){return arguments.length?t(LV(e=+r),FV(e)):e},Df(n)}function kne(){var t=l4(jC());return t.copy=function(){return Dw(t,kne()).constant(t.constant())},Qo.apply(t,arguments)}function UV(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function KRe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function XRe(t){return t<0?-t*t:t*t}function c4(t){var e=t(Hs,Hs),n=1;function r(){return n===1?t(Hs,Hs):n===.5?t(KRe,XRe):t(UV(n),UV(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Df(e)}function u4(){var t=c4(jC());return t.copy=function(){return Dw(t,u4()).exponent(t.exponent())},Qo.apply(t,arguments),t}function YRe(){return u4.apply(null,arguments).exponent(.5)}function BV(t){return Math.sign(t)*t*t}function ZRe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Rne(){var t=i4(),e=[0,1],n=!1,r;function i(s){var a=ZRe(t(s));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(s){return t.invert(BV(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,DN)).map(BV)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return Rne(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Qo.apply(i,arguments),Df(i)}function One(){var t=[],e=[],n=[],r;function i(){var a=0,l=Math.max(1,e.length);for(n=new Array(l-1);++a<l;)n[a-1]=tRe(t,a/l);return s}function s(a){return a==null||isNaN(a=+a)?r:e[Rw(n,a)]}return s.invertExtent=function(a){var l=e.indexOf(a);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let l of a)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(lf),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return One().domain(t).range(e).unknown(r)},Qo.apply(s,arguments)}function Dne(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function a(c){return c!=null&&c<=c?i[Rw(r,c,0,n)]:s}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return a}return a.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},a.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,l()):i.slice()},a.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},a.unknown=function(c){return arguments.length&&(s=c),a},a.thresholds=function(){return r.slice()},a.copy=function(){return Dne().domain([t,e]).range(i).unknown(s)},Qo.apply(Df(a),arguments)}function Ine(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[Rw(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return Ine().domain(t).range(e).unknown(n)},Qo.apply(i,arguments)}const cP=new Date,uP=new Date;function Ni(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),l=i.ceil(s);return s-a<l-s?a:l},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,l)=>{const c=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<a)||!(l>0))return c;let u;do c.push(u=new Date(+s)),e(s,l),t(s);while(u<s&&s<a);return c},i.filter=s=>Ni(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,l)=>{if(a>=a)if(l<0)for(;++l<=0;)for(;e(a,-1),!s(a););else for(;--l>=0;)for(;e(a,1),!s(a););}),n&&(i.count=(s,a)=>(cP.setTime(+s),uP.setTime(+a),t(cP),t(uP),Math.floor(n(cP,uP))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?a=>r(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const LN=Ni(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);LN.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Ni(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):LN);LN.range;const hu=1e3,Lo=hu*60,mu=Lo*60,Au=mu*24,d4=Au*7,zV=Au*30,dP=Au*365,Kh=Ni(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*hu)},(t,e)=>(e-t)/hu,t=>t.getUTCSeconds());Kh.range;const f4=Ni(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*hu)},(t,e)=>{t.setTime(+t+e*Lo)},(t,e)=>(e-t)/Lo,t=>t.getMinutes());f4.range;const h4=Ni(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Lo)},(t,e)=>(e-t)/Lo,t=>t.getUTCMinutes());h4.range;const m4=Ni(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*hu-t.getMinutes()*Lo)},(t,e)=>{t.setTime(+t+e*mu)},(t,e)=>(e-t)/mu,t=>t.getHours());m4.range;const p4=Ni(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*mu)},(t,e)=>(e-t)/mu,t=>t.getUTCHours());p4.range;const Iw=Ni(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Lo)/Au,t=>t.getDate()-1);Iw.range;const AC=Ni(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Au,t=>t.getUTCDate()-1);AC.range;const Lne=Ni(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Au,t=>Math.floor(t/Au));Lne.range;function tp(t){return Ni(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Lo)/d4)}const TC=tp(0),FN=tp(1),QRe=tp(2),JRe=tp(3),kv=tp(4),eOe=tp(5),tOe=tp(6);TC.range;FN.range;QRe.range;JRe.range;kv.range;eOe.range;tOe.range;function np(t){return Ni(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/d4)}const PC=np(0),UN=np(1),nOe=np(2),rOe=np(3),Rv=np(4),iOe=np(5),sOe=np(6);PC.range;UN.range;nOe.range;rOe.range;Rv.range;iOe.range;sOe.range;const g4=Ni(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());g4.range;const v4=Ni(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());v4.range;const Tu=Ni(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Tu.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ni(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Tu.range;const Pu=Ni(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Pu.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ni(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Pu.range;function Fne(t,e,n,r,i,s){const a=[[Kh,1,hu],[Kh,5,5*hu],[Kh,15,15*hu],[Kh,30,30*hu],[s,1,Lo],[s,5,5*Lo],[s,15,15*Lo],[s,30,30*Lo],[i,1,mu],[i,3,3*mu],[i,6,6*mu],[i,12,12*mu],[r,1,Au],[r,2,2*Au],[n,1,d4],[e,1,zV],[e,3,3*zV],[t,1,dP]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),p=m?m.range(u,+d+1):[];return h?p.reverse():p}function c(u,d,f){const h=Math.abs(d-u)/f,m=QL(([,,v])=>v).right(a,h);if(m===a.length)return t.every(BO(u/dP,d/dP,f));if(m===0)return LN.every(Math.max(BO(u,d,f),1));const[p,x]=a[h/a[m-1][2]<a[m][2]/h?m-1:m];return p.every(x)}return[l,c]}const[aOe,oOe]=Fne(Pu,v4,PC,Lne,p4,h4),[lOe,cOe]=Fne(Tu,g4,TC,Iw,m4,f4);function fP(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function hP(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function gy(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function uOe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,a=t.shortDays,l=t.months,c=t.shortMonths,u=vy(i),d=xy(i),f=vy(s),h=xy(s),m=vy(a),p=xy(a),x=vy(l),v=xy(l),g=vy(c),w=xy(c),_={a:$,A:L,b:V,B:K,c:null,d:qV,e:qV,f:ROe,g:WOe,G:HOe,H:TOe,I:POe,j:kOe,L:Une,m:OOe,M:DOe,p:W,q:B,Q:YV,s:ZV,S:IOe,u:LOe,U:FOe,V:UOe,w:BOe,W:zOe,x:null,X:null,y:VOe,Y:$Oe,Z:GOe,"%":XV},E={a:ee,A:Y,b:Q,B:de,c:null,d:KV,e:KV,f:YOe,g:aDe,G:lDe,H:qOe,I:KOe,j:XOe,L:zne,m:ZOe,M:QOe,p:te,q:he,Q:YV,s:ZV,S:JOe,u:eDe,U:tDe,V:nDe,w:rDe,W:iDe,x:null,X:null,y:sDe,Y:oDe,Z:cDe,"%":XV},N={a:P,A:R,b:D,B:F,c:I,d:HV,e:HV,f:MOe,g:$V,G:WV,H:GV,I:GV,j:_Oe,L:NOe,m:wOe,M:SOe,p:A,q:bOe,Q:jOe,s:AOe,S:EOe,u:pOe,U:gOe,V:vOe,w:mOe,W:xOe,x:G,X:q,y:$V,Y:WV,Z:yOe,"%":COe};_.x=C(n,_),_.X=C(r,_),_.c=C(e,_),E.x=C(n,E),E.X=C(r,E),E.c=C(e,E);function C(oe,fe){return function(ve){var ne=[],Be=-1,H=0,Te=oe.length,Ne,De,ce;for(ve instanceof Date||(ve=new Date(+ve));++Be<Te;)oe.charCodeAt(Be)===37&&(ne.push(oe.slice(H,Be)),(De=VV[Ne=oe.charAt(++Be)])!=null?Ne=oe.charAt(++Be):De=Ne==="e"?" ":"0",(ce=fe[Ne])&&(Ne=ce(ve,De)),ne.push(Ne),H=Be+1);return ne.push(oe.slice(H,Be)),ne.join("")}}function j(oe,fe){return function(ve){var ne=gy(1900,void 0,1),Be=T(ne,oe,ve+="",0),H,Te;if(Be!=ve.length)return null;if("Q"in ne)return new Date(ne.Q);if("s"in ne)return new Date(ne.s*1e3+("L"in ne?ne.L:0));if(fe&&!("Z"in ne)&&(ne.Z=0),"p"in ne&&(ne.H=ne.H%12+ne.p*12),ne.m===void 0&&(ne.m="q"in ne?ne.q:0),"V"in ne){if(ne.V<1||ne.V>53)return null;"w"in ne||(ne.w=1),"Z"in ne?(H=hP(gy(ne.y,0,1)),Te=H.getUTCDay(),H=Te>4||Te===0?UN.ceil(H):UN(H),H=AC.offset(H,(ne.V-1)*7),ne.y=H.getUTCFullYear(),ne.m=H.getUTCMonth(),ne.d=H.getUTCDate()+(ne.w+6)%7):(H=fP(gy(ne.y,0,1)),Te=H.getDay(),H=Te>4||Te===0?FN.ceil(H):FN(H),H=Iw.offset(H,(ne.V-1)*7),ne.y=H.getFullYear(),ne.m=H.getMonth(),ne.d=H.getDate()+(ne.w+6)%7)}else("W"in ne||"U"in ne)&&("w"in ne||(ne.w="u"in ne?ne.u%7:"W"in ne?1:0),Te="Z"in ne?hP(gy(ne.y,0,1)).getUTCDay():fP(gy(ne.y,0,1)).getDay(),ne.m=0,ne.d="W"in ne?(ne.w+6)%7+ne.W*7-(Te+5)%7:ne.w+ne.U*7-(Te+6)%7);return"Z"in ne?(ne.H+=ne.Z/100|0,ne.M+=ne.Z%100,hP(ne)):fP(ne)}}function T(oe,fe,ve,ne){for(var Be=0,H=fe.length,Te=ve.length,Ne,De;Be<H;){if(ne>=Te)return-1;if(Ne=fe.charCodeAt(Be++),Ne===37){if(Ne=fe.charAt(Be++),De=N[Ne in VV?fe.charAt(Be++):Ne],!De||(ne=De(oe,ve,ne))<0)return-1}else if(Ne!=ve.charCodeAt(ne++))return-1}return ne}function A(oe,fe,ve){var ne=u.exec(fe.slice(ve));return ne?(oe.p=d.get(ne[0].toLowerCase()),ve+ne[0].length):-1}function P(oe,fe,ve){var ne=m.exec(fe.slice(ve));return ne?(oe.w=p.get(ne[0].toLowerCase()),ve+ne[0].length):-1}function R(oe,fe,ve){var ne=f.exec(fe.slice(ve));return ne?(oe.w=h.get(ne[0].toLowerCase()),ve+ne[0].length):-1}function D(oe,fe,ve){var ne=g.exec(fe.slice(ve));return ne?(oe.m=w.get(ne[0].toLowerCase()),ve+ne[0].length):-1}function F(oe,fe,ve){var ne=x.exec(fe.slice(ve));return ne?(oe.m=v.get(ne[0].toLowerCase()),ve+ne[0].length):-1}function I(oe,fe,ve){return T(oe,e,fe,ve)}function G(oe,fe,ve){return T(oe,n,fe,ve)}function q(oe,fe,ve){return T(oe,r,fe,ve)}function $(oe){return a[oe.getDay()]}function L(oe){return s[oe.getDay()]}function V(oe){return c[oe.getMonth()]}function K(oe){return l[oe.getMonth()]}function W(oe){return i[+(oe.getHours()>=12)]}function B(oe){return 1+~~(oe.getMonth()/3)}function ee(oe){return a[oe.getUTCDay()]}function Y(oe){return s[oe.getUTCDay()]}function Q(oe){return c[oe.getUTCMonth()]}function de(oe){return l[oe.getUTCMonth()]}function te(oe){return i[+(oe.getUTCHours()>=12)]}function he(oe){return 1+~~(oe.getUTCMonth()/3)}return{format:function(oe){var fe=C(oe+="",_);return fe.toString=function(){return oe},fe},parse:function(oe){var fe=j(oe+="",!1);return fe.toString=function(){return oe},fe},utcFormat:function(oe){var fe=C(oe+="",E);return fe.toString=function(){return oe},fe},utcParse:function(oe){var fe=j(oe+="",!0);return fe.toString=function(){return oe},fe}}}var VV={"-":"",_:" ",0:"0"},zi=/^\s*\d+/,dOe=/^%/,fOe=/[\\^$*+?|[\]().{}]/g;function Rn(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function hOe(t){return t.replace(fOe,"\\$&")}function vy(t){return new RegExp("^(?:"+t.map(hOe).join("|")+")","i")}function xy(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function mOe(t,e,n){var r=zi.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function pOe(t,e,n){var r=zi.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function gOe(t,e,n){var r=zi.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function vOe(t,e,n){var r=zi.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function xOe(t,e,n){var r=zi.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function WV(t,e,n){var r=zi.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function $V(t,e,n){var r=zi.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function yOe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function bOe(t,e,n){var r=zi.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function wOe(t,e,n){var r=zi.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function HV(t,e,n){var r=zi.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function _Oe(t,e,n){var r=zi.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function GV(t,e,n){var r=zi.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function SOe(t,e,n){var r=zi.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function EOe(t,e,n){var r=zi.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function NOe(t,e,n){var r=zi.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function MOe(t,e,n){var r=zi.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function COe(t,e,n){var r=dOe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function jOe(t,e,n){var r=zi.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function AOe(t,e,n){var r=zi.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function qV(t,e){return Rn(t.getDate(),e,2)}function TOe(t,e){return Rn(t.getHours(),e,2)}function POe(t,e){return Rn(t.getHours()%12||12,e,2)}function kOe(t,e){return Rn(1+Iw.count(Tu(t),t),e,3)}function Une(t,e){return Rn(t.getMilliseconds(),e,3)}function ROe(t,e){return Une(t,e)+"000"}function OOe(t,e){return Rn(t.getMonth()+1,e,2)}function DOe(t,e){return Rn(t.getMinutes(),e,2)}function IOe(t,e){return Rn(t.getSeconds(),e,2)}function LOe(t){var e=t.getDay();return e===0?7:e}function FOe(t,e){return Rn(TC.count(Tu(t)-1,t),e,2)}function Bne(t){var e=t.getDay();return e>=4||e===0?kv(t):kv.ceil(t)}function UOe(t,e){return t=Bne(t),Rn(kv.count(Tu(t),t)+(Tu(t).getDay()===4),e,2)}function BOe(t){return t.getDay()}function zOe(t,e){return Rn(FN.count(Tu(t)-1,t),e,2)}function VOe(t,e){return Rn(t.getFullYear()%100,e,2)}function WOe(t,e){return t=Bne(t),Rn(t.getFullYear()%100,e,2)}function $Oe(t,e){return Rn(t.getFullYear()%1e4,e,4)}function HOe(t,e){var n=t.getDay();return t=n>=4||n===0?kv(t):kv.ceil(t),Rn(t.getFullYear()%1e4,e,4)}function GOe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Rn(e/60|0,"0",2)+Rn(e%60,"0",2)}function KV(t,e){return Rn(t.getUTCDate(),e,2)}function qOe(t,e){return Rn(t.getUTCHours(),e,2)}function KOe(t,e){return Rn(t.getUTCHours()%12||12,e,2)}function XOe(t,e){return Rn(1+AC.count(Pu(t),t),e,3)}function zne(t,e){return Rn(t.getUTCMilliseconds(),e,3)}function YOe(t,e){return zne(t,e)+"000"}function ZOe(t,e){return Rn(t.getUTCMonth()+1,e,2)}function QOe(t,e){return Rn(t.getUTCMinutes(),e,2)}function JOe(t,e){return Rn(t.getUTCSeconds(),e,2)}function eDe(t){var e=t.getUTCDay();return e===0?7:e}function tDe(t,e){return Rn(PC.count(Pu(t)-1,t),e,2)}function Vne(t){var e=t.getUTCDay();return e>=4||e===0?Rv(t):Rv.ceil(t)}function nDe(t,e){return t=Vne(t),Rn(Rv.count(Pu(t),t)+(Pu(t).getUTCDay()===4),e,2)}function rDe(t){return t.getUTCDay()}function iDe(t,e){return Rn(UN.count(Pu(t)-1,t),e,2)}function sDe(t,e){return Rn(t.getUTCFullYear()%100,e,2)}function aDe(t,e){return t=Vne(t),Rn(t.getUTCFullYear()%100,e,2)}function oDe(t,e){return Rn(t.getUTCFullYear()%1e4,e,4)}function lDe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Rv(t):Rv.ceil(t),Rn(t.getUTCFullYear()%1e4,e,4)}function cDe(){return"+0000"}function XV(){return"%"}function YV(t){return+t}function ZV(t){return Math.floor(+t/1e3)}var Up,Wne,$ne;uDe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function uDe(t){return Up=uOe(t),Wne=Up.format,Up.parse,$ne=Up.utcFormat,Up.utcParse,Up}function dDe(t){return new Date(t)}function fDe(t){return t instanceof Date?+t:+new Date(+t)}function x4(t,e,n,r,i,s,a,l,c,u){var d=i4(),f=d.invert,h=d.domain,m=u(".%L"),p=u(":%S"),x=u("%I:%M"),v=u("%I %p"),g=u("%a %d"),w=u("%b %d"),_=u("%B"),E=u("%Y");function N(C){return(c(C)<C?m:l(C)<C?p:a(C)<C?x:s(C)<C?v:r(C)<C?i(C)<C?g:w:n(C)<C?_:E)(C)}return d.invert=function(C){return new Date(f(C))},d.domain=function(C){return arguments.length?h(Array.from(C,fDe)):h().map(dDe)},d.ticks=function(C){var j=h();return t(j[0],j[j.length-1],C??10)},d.tickFormat=function(C,j){return j==null?N:u(j)},d.nice=function(C){var j=h();return(!C||typeof C.range!="function")&&(C=e(j[0],j[j.length-1],C??10)),C?h(Tne(j,C)):d},d.copy=function(){return Dw(d,x4(t,e,n,r,i,s,a,l,c,u))},d}function hDe(){return Qo.apply(x4(lOe,cOe,Tu,g4,TC,Iw,m4,f4,Kh,Wne).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function mDe(){return Qo.apply(x4(aOe,oOe,Pu,v4,PC,AC,p4,h4,Kh,$ne).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function kC(){var t=0,e=1,n,r,i,s,a=Hs,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:a(i===0?.5:(f=(s(f)-n)*i,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(a=f,u):a};function d(f){return function(h){var m,p;return arguments.length?([m,p]=h,a=f(m,p),u):[a(0),a(1)]}}return u.range=d(cx),u.rangeRound=d(r4),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function If(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Hne(){var t=Df(kC()(Hs));return t.copy=function(){return If(t,Hne())},Ku.apply(t,arguments)}function Gne(){var t=o4(kC()).domain([1,10]);return t.copy=function(){return If(t,Gne()).base(t.base())},Ku.apply(t,arguments)}function qne(){var t=l4(kC());return t.copy=function(){return If(t,qne()).constant(t.constant())},Ku.apply(t,arguments)}function y4(){var t=c4(kC());return t.copy=function(){return If(t,y4()).exponent(t.exponent())},Ku.apply(t,arguments)}function pDe(){return y4.apply(null,arguments).exponent(.5)}function Kne(){var t=[],e=Hs;function n(r){if(r!=null&&!isNaN(r=+r))return e((Rw(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(lf),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>eRe(t,s/r))},n.copy=function(){return Kne(e).domain(t)},Ku.apply(n,arguments)}function RC(){var t=0,e=.5,n=1,r=1,i,s,a,l,c,u=Hs,d,f=!1,h;function m(x){return isNaN(x=+x)?h:(x=.5+((x=+d(x))-s)*(r*x<r*s?l:c),u(f?Math.max(0,Math.min(1,x)):x))}m.domain=function(x){return arguments.length?([t,e,n]=x,i=d(t=+t),s=d(e=+e),a=d(n=+n),l=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),r=s<i?-1:1,m):[t,e,n]},m.clamp=function(x){return arguments.length?(f=!!x,m):f},m.interpolator=function(x){return arguments.length?(u=x,m):u};function p(x){return function(v){var g,w,_;return arguments.length?([g,w,_]=v,u=CRe(x,[g,w,_]),m):[u(0),u(.5),u(1)]}}return m.range=p(cx),m.rangeRound=p(r4),m.unknown=function(x){return arguments.length?(h=x,m):h},function(x){return d=x,i=x(t),s=x(e),a=x(n),l=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),r=s<i?-1:1,m}}function Xne(){var t=Df(RC()(Hs));return t.copy=function(){return If(t,Xne())},Ku.apply(t,arguments)}function Yne(){var t=o4(RC()).domain([.1,1,10]);return t.copy=function(){return If(t,Yne()).base(t.base())},Ku.apply(t,arguments)}function Zne(){var t=l4(RC());return t.copy=function(){return If(t,Zne()).constant(t.constant())},Ku.apply(t,arguments)}function b4(){var t=c4(RC());return t.copy=function(){return If(t,b4()).exponent(t.exponent())},Ku.apply(t,arguments)}function gDe(){return b4.apply(null,arguments).exponent(.5)}const Gy=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:e4,scaleDiverging:Xne,scaleDivergingLog:Yne,scaleDivergingPow:b4,scaleDivergingSqrt:gDe,scaleDivergingSymlog:Zne,scaleIdentity:Ane,scaleImplicit:zO,scaleLinear:jne,scaleLog:Pne,scaleOrdinal:JL,scalePoint:rRe,scalePow:u4,scaleQuantile:One,scaleQuantize:Dne,scaleRadial:Rne,scaleSequential:Hne,scaleSequentialLog:Gne,scaleSequentialPow:y4,scaleSequentialQuantile:Kne,scaleSequentialSqrt:pDe,scaleSequentialSymlog:qne,scaleSqrt:YRe,scaleSymlog:kne,scaleThreshold:Ine,scaleTime:hDe,scaleUtc:mDe,tickFormat:Cne},Symbol.toStringTag,{value:"Module"}));var Lf=t=>t.chartData,Lw=je([Lf],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),w4=(t,e,n,r)=>r?Lw(t):Lf(t);function Ov(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(fo(e)&&fo(n))return!0}return!1}function QV(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function vDe(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,s;if(fo(n))i=n;else if(typeof n=="function")return;if(fo(r))s=r;else if(typeof r=="function")return;var a=[i,s];if(Ov(a))return a}}function xDe(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Ov(r))return QV(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,a,l;if(i==="auto")e!=null&&(a=Math.min(...e));else if(At(i))a=i;else if(typeof i=="function")try{e!=null&&(a=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&K8.test(i)){var c=K8.exec(i);if(c==null||e==null)a=void 0;else{var u=+c[1];a=e[0]-u}}else a=e==null?void 0:e[0];if(s==="auto")e!=null&&(l=Math.max(...e));else if(At(s))l=s;else if(typeof s=="function")try{e!=null&&(l=s(e==null?void 0:e[1]))}catch{}else if(typeof s=="string"&&X8.test(s)){var d=X8.exec(s);if(d==null||e==null)l=void 0;else{var f=+d[1];l=e[1]+f}}else l=e==null?void 0:e[1];var h=[a,l];if(Ov(h))return e==null?h:QV(h,e,n)}}}var ux=1e9,yDe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},S4,mr=!0,Ko="[DecimalError] ",pm=Ko+"Invalid argument: ",_4=Ko+"Exponent out of range: ",dx=Math.floor,kh=Math.pow,bDe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ya,ki=1e7,lr=7,Qne=9007199254740991,BN=dx(Qne/lr),Tt={};Tt.absoluteValue=Tt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Tt.comparedTo=Tt.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Tt.decimalPlaces=Tt.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*lr;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Tt.dividedBy=Tt.div=function(t){return xu(this,new this.constructor(t))};Tt.dividedToIntegerBy=Tt.idiv=function(t){var e=this,n=e.constructor;return Kn(xu(e,new n(t),0,1),n.precision)};Tt.equals=Tt.eq=function(t){return!this.cmp(t)};Tt.exponent=function(){return ui(this)};Tt.greaterThan=Tt.gt=function(t){return this.cmp(t)>0};Tt.greaterThanOrEqualTo=Tt.gte=function(t){return this.cmp(t)>=0};Tt.isInteger=Tt.isint=function(){return this.e>this.d.length-2};Tt.isNegative=Tt.isneg=function(){return this.s<0};Tt.isPositive=Tt.ispos=function(){return this.s>0};Tt.isZero=function(){return this.s===0};Tt.lessThan=Tt.lt=function(t){return this.cmp(t)<0};Tt.lessThanOrEqualTo=Tt.lte=function(t){return this.cmp(t)<1};Tt.logarithm=Tt.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Ya))throw Error(Ko+"NaN");if(n.s<1)throw Error(Ko+(n.s?"NaN":"-Infinity"));return n.eq(Ya)?new r(0):(mr=!1,e=xu(_b(n,s),_b(t,s),s),mr=!0,Kn(e,i))};Tt.minus=Tt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?tre(e,t):Jne(e,(t.s=-t.s,t))};Tt.modulo=Tt.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Ko+"NaN");return n.s?(mr=!1,e=xu(n,t,0,1).times(t),mr=!0,n.minus(e)):Kn(new r(n),i)};Tt.naturalExponential=Tt.exp=function(){return ere(this)};Tt.naturalLogarithm=Tt.ln=function(){return _b(this)};Tt.negated=Tt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Tt.plus=Tt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Jne(e,t):tre(e,(t.s=-t.s,t))};Tt.precision=Tt.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(pm+t);if(e=ui(i)+1,r=i.d.length-1,n=r*lr+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Tt.squareRoot=Tt.sqrt=function(){var t,e,n,r,i,s,a,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Ko+"NaN")}for(t=ui(l),mr=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=dc(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=dx((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=a=n+3;;)if(s=r,r=s.plus(xu(l,s,a+2)).times(.5),dc(s.d).slice(0,a)===(e=dc(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Kn(s,n+1,0),s.times(s).eq(l)){r=s;break}}else if(e!="9999")break;a+=4}return mr=!0,Kn(r,n)};Tt.times=Tt.mul=function(t){var e,n,r,i,s,a,l,c,u,d=this,f=d.constructor,h=d.d,m=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,n=d.e+t.e,c=h.length,u=m.length,c<u&&(s=h,h=m,m=s,a=c,c=u,u=a),s=[],a=c+u,r=a;r--;)s.push(0);for(r=u;--r>=0;){for(e=0,i=c+r;i>r;)l=s[i]+m[r]*h[i-r-1]+e,s[i--]=l%ki|0,e=l/ki|0;s[i]=(s[i]+e)%ki|0}for(;!s[--a];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,mr?Kn(t,f.precision):t};Tt.toDecimalPlaces=Tt.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ac(t,0,ux),e===void 0?e=r.rounding:Ac(e,0,8),Kn(n,t+ui(n)+1,e))};Tt.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Um(r,!0):(Ac(t,0,ux),e===void 0?e=i.rounding:Ac(e,0,8),r=Kn(new i(r),t+1,e),n=Um(r,!0,t+1)),n};Tt.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?Um(i):(Ac(t,0,ux),e===void 0?e=s.rounding:Ac(e,0,8),r=Kn(new s(i),t+ui(i)+1,e),n=Um(r.abs(),!1,t+ui(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Tt.toInteger=Tt.toint=function(){var t=this,e=t.constructor;return Kn(new e(t),ui(t)+1,e.rounding)};Tt.toNumber=function(){return+this};Tt.toPower=Tt.pow=function(t){var e,n,r,i,s,a,l=this,c=l.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c(Ya);if(l=new c(l),!l.s){if(t.s<1)throw Error(Ko+"Infinity");return l}if(l.eq(Ya))return l;if(r=c.precision,t.eq(Ya))return Kn(l,r);if(e=t.e,n=t.d.length-1,a=e>=n,s=l.s,a){if((n=d<0?-d:d)<=Qne){for(i=new c(Ya),e=Math.ceil(r/lr+4),mr=!1;n%2&&(i=i.times(l),eW(i.d,e)),n=dx(n/2),n!==0;)l=l.times(l),eW(l.d,e);return mr=!0,t.s<0?new c(Ya).div(i):Kn(i,r)}}else if(s<0)throw Error(Ko+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,mr=!1,i=t.times(_b(l,r+u)),mr=!0,i=ere(i),i.s=s,i};Tt.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=ui(i),r=Um(i,n<=s.toExpNeg||n>=s.toExpPos)):(Ac(t,1,ux),e===void 0?e=s.rounding:Ac(e,0,8),i=Kn(new s(i),t,e),n=ui(i),r=Um(i,t<=n||n<=s.toExpNeg,t)),r};Tt.toSignificantDigits=Tt.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ac(t,1,ux),e===void 0?e=r.rounding:Ac(e,0,8)),Kn(new r(n),t,e)};Tt.toString=Tt.valueOf=Tt.val=Tt.toJSON=Tt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=ui(t),n=t.constructor;return Um(t,e<=n.toExpNeg||e>=n.toExpPos)};function Jne(t,e){var n,r,i,s,a,l,c,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),mr?Kn(e,f):e;if(c=t.d,u=e.d,a=t.e,i=e.e,c=c.slice(),s=a-i,s){for(s<0?(r=c,s=-s,l=u.length):(r=u,i=a,l=c.length),a=Math.ceil(f/lr),l=a>l?a+1:l+1,s>l&&(s=l,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,r=u,u=c,c=r),n=0;s;)n=(c[--s]=c[s]+u[s]+n)/ki|0,c[s]%=ki;for(n&&(c.unshift(n),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,mr?Kn(e,f):e}function Ac(t,e,n){if(t!==~~t||t<e||t>n)throw Error(pm+t)}function dc(t){var e,n,r,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)r=t[e]+"",n=lr-r.length,n&&(s+=Od(n)),s+=r;a=t[e],r=a+"",n=lr-r.length,n&&(s+=Od(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var xu=function(){function t(r,i){var s,a=0,l=r.length;for(r=r.slice();l--;)s=r[l]*i+a,r[l]=s%ki|0,a=s/ki|0;return a&&r.unshift(a),r}function e(r,i,s,a){var l,c;if(s!=a)c=s>a?1:-1;else for(l=c=0;l<s;l++)if(r[l]!=i[l]){c=r[l]>i[l]?1:-1;break}return c}function n(r,i,s){for(var a=0;s--;)r[s]-=a,a=r[s]<i[s]?1:0,r[s]=a*ki+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,a){var l,c,u,d,f,h,m,p,x,v,g,w,_,E,N,C,j,T,A=r.constructor,P=r.s==i.s?1:-1,R=r.d,D=i.d;if(!r.s)return new A(r);if(!i.s)throw Error(Ko+"Division by zero");for(c=r.e-i.e,j=D.length,N=R.length,m=new A(P),p=m.d=[],u=0;D[u]==(R[u]||0);)++u;if(D[u]>(R[u]||0)&&--c,s==null?w=s=A.precision:a?w=s+(ui(r)-ui(i))+1:w=s,w<0)return new A(0);if(w=w/lr+2|0,u=0,j==1)for(d=0,D=D[0],w++;(u<N||d)&&w--;u++)_=d*ki+(R[u]||0),p[u]=_/D|0,d=_%D|0;else{for(d=ki/(D[0]+1)|0,d>1&&(D=t(D,d),R=t(R,d),j=D.length,N=R.length),E=j,x=R.slice(0,j),v=x.length;v<j;)x[v++]=0;T=D.slice(),T.unshift(0),C=D[0],D[1]>=ki/2&&++C;do d=0,l=e(D,x,j,v),l<0?(g=x[0],j!=v&&(g=g*ki+(x[1]||0)),d=g/C|0,d>1?(d>=ki&&(d=ki-1),f=t(D,d),h=f.length,v=x.length,l=e(f,x,h,v),l==1&&(d--,n(f,j<h?T:D,h))):(d==0&&(l=d=1),f=D.slice()),h=f.length,h<v&&f.unshift(0),n(x,f,v),l==-1&&(v=x.length,l=e(D,x,j,v),l<1&&(d++,n(x,j<v?T:D,v))),v=x.length):l===0&&(d++,x=[0]),p[u++]=d,l&&x[0]?x[v++]=R[E]||0:(x=[R[E]],v=1);while((E++<N||x[0]!==void 0)&&w--)}return p[0]||p.shift(),m.e=c,Kn(m,a?s+ui(m)+1:s)}}();function ere(t,e){var n,r,i,s,a,l,c=0,u=0,d=t.constructor,f=d.precision;if(ui(t)>16)throw Error(_4+ui(t));if(!t.s)return new d(Ya);for(mr=!1,l=f,a=new d(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(r=Math.log(kh(2,u))/Math.LN10*2+5|0,l+=r,n=i=s=new d(Ya),d.precision=l;;){if(i=Kn(i.times(t),l),n=n.times(++c),a=s.plus(xu(i,n,l)),dc(a.d).slice(0,l)===dc(s.d).slice(0,l)){for(;u--;)s=Kn(s.times(s),l);return d.precision=f,e==null?(mr=!0,Kn(s,f)):s}s=a}}function ui(t){for(var e=t.e*lr,n=t.d[0];n>=10;n/=10)e++;return e}function mP(t,e,n){if(e>t.LN10.sd())throw mr=!0,n&&(t.precision=n),Error(Ko+"LN10 precision limit exceeded");return Kn(new t(t.LN10),e)}function Od(t){for(var e="";t--;)e+="0";return e}function _b(t,e){var n,r,i,s,a,l,c,u,d,f=1,h=10,m=t,p=m.d,x=m.constructor,v=x.precision;if(m.s<1)throw Error(Ko+(m.s?"NaN":"-Infinity"));if(m.eq(Ya))return new x(0);if(e==null?(mr=!1,u=v):u=e,m.eq(10))return e==null&&(mr=!0),mP(x,u);if(u+=h,x.precision=u,n=dc(p),r=n.charAt(0),s=ui(m),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(t),n=dc(m.d),r=n.charAt(0),f++;s=ui(m),r>1?(m=new x("0."+n),s++):m=new x(r+"."+n.slice(1))}else return c=mP(x,u+2,v).times(s+""),m=_b(new x(r+"."+n.slice(1)),u-h).plus(c),x.precision=v,e==null?(mr=!0,Kn(m,v)):m;for(l=a=m=xu(m.minus(Ya),m.plus(Ya),u),d=Kn(m.times(m),u),i=3;;){if(a=Kn(a.times(d),u),c=l.plus(xu(a,new x(i),u)),dc(c.d).slice(0,u)===dc(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(mP(x,u+2,v).times(s+""))),l=xu(l,new x(f),u),x.precision=v,e==null?(mr=!0,Kn(l,v)):l;l=c,i+=2}}function JV(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=dx(n/lr),t.d=[],r=(n+1)%lr,n<0&&(r+=lr),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=lr;r<i;)t.d.push(+e.slice(r,r+=lr));e=e.slice(r),r=lr-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),mr&&(t.e>BN||t.e<-BN))throw Error(_4+n)}else t.s=0,t.e=0,t.d=[0];return t}function Kn(t,e,n){var r,i,s,a,l,c,u,d,f=t.d;for(a=1,s=f[0];s>=10;s/=10)a++;if(r=e-a,r<0)r+=lr,i=e,u=f[d=0];else{if(d=Math.ceil((r+1)/lr),s=f.length,d>=s)return t;for(u=s=f[d],a=1;s>=10;s/=10)a++;r%=lr,i=r-lr+a}if(n!==void 0&&(s=kh(10,a-i-1),l=u/s%10|0,c=e<0||f[d+1]!==void 0||u%s,c=n<4?(l||c)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?i>0?u/kh(10,a-i):0:f[d-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return c?(s=ui(t),f.length=1,e=e-s-1,f[0]=kh(10,(lr-e%lr)%lr),t.e=dx(-e/lr)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=d,s=1,d--):(f.length=d+1,s=kh(10,lr-r),f[d]=i>0?(u/kh(10,a-i)%kh(10,i)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==ki&&(f[0]=1,++t.e);break}else{if(f[d]+=s,f[d]!=ki)break;f[d--]=0,s=1}for(r=f.length;f[--r]===0;)f.pop();if(mr&&(t.e>BN||t.e<-BN))throw Error(_4+ui(t));return t}function tre(t,e){var n,r,i,s,a,l,c,u,d,f,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),mr?Kn(e,m):e;if(c=t.d,f=e.d,r=e.e,u=t.e,c=c.slice(),a=u-r,a){for(d=a<0,d?(n=c,a=-a,l=f.length):(n=f,r=u,l=c.length),i=Math.max(Math.ceil(m/lr),l)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=c.length,l=f.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}a=0}for(d&&(n=c,c=f,f=n,e.s=-e.s),l=c.length,i=f.length-l;i>0;--i)c[l++]=0;for(i=f.length;i>a;){if(c[--i]<f[i]){for(s=i;s&&c[--s]===0;)c[s]=ki-1;--c[s],c[i]+=ki}c[i]-=f[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,mr?Kn(e,m):e):new h(0)}function Um(t,e,n){var r,i=ui(t),s=dc(t.d),a=s.length;return e?(n&&(r=n-a)>0?s=s.charAt(0)+"."+s.slice(1)+Od(r):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Od(-i-1)+s,n&&(r=n-a)>0&&(s+=Od(r))):i>=a?(s+=Od(i+1-a),n&&(r=n-i-1)>0&&(s=s+"."+Od(r))):((r=i+1)<a&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(s+="."),s+=Od(r))),t.s<0?"-"+s:s}function eW(t,e){if(t.length>e)return t.length=e,!0}function nre(t){var e,n,r;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(pm+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return JV(a,s.toString())}else if(typeof s!="string")throw Error(pm+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,bDe.test(s))JV(a,s);else throw Error(pm+s)}if(i.prototype=Tt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=nre,i.config=i.set=wDe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function wDe(t){if(!t||typeof t!="object")throw Error(Ko+"Object expected");var e,n,r,i=["precision",1,ux,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(dx(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(pm+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(pm+n+": "+r);return this}var S4=nre(yDe);Ya=new S4(1);const zn=S4;var _De=t=>t,rre={},ire=t=>t===rre,tW=t=>function e(){return arguments.length===0||arguments.length===1&&ire(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},sre=(t,e)=>t===1?e:tW(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=r.filter(a=>a!==rre).length;return s>=t?e(...r):sre(t-s,tW(function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];var u=r.map(d=>ire(d)?l.shift():d);return e(...u,...l)}))}),OC=t=>sre(t.length,t),HO=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},SDe=OC((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),EDe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return _De;var i=n.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce((l,c)=>c(l),s(...arguments))}},GO=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),are=t=>{var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return e&&i.every((a,l)=>{var c;return a===((c=e)===null||c===void 0?void 0:c[l])})||(e=i,n=t(...i)),n}};function ore(t){var e;return t===0?e=1:e=Math.floor(new zn(t).abs().log(10).toNumber())+1,e}function lre(t,e,n){for(var r=new zn(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}OC((t,e,n)=>{var r=+t,i=+e;return r+n*(i-r)});OC((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});OC((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var cre=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},ure=(t,e,n)=>{if(t.lte(0))return new zn(0);var r=ore(t.toNumber()),i=new zn(10).pow(r),s=t.div(i),a=r!==1?.05:.1,l=new zn(Math.ceil(s.div(a).toNumber())).add(n).mul(a),c=l.mul(i);return e?new zn(c.toNumber()):new zn(Math.ceil(c.toNumber()))},NDe=(t,e,n)=>{var r=new zn(1),i=new zn(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new zn(10).pow(ore(t)-1),i=new zn(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new zn(Math.floor(t)))}else t===0?i=new zn(Math.floor((e-1)/2)):n||(i=new zn(Math.floor(t)));var a=Math.floor((e-1)/2),l=EDe(SDe(c=>i.add(new zn(c-a).mul(r)).toNumber()),HO);return l(0,e)},dre=function(e,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new zn(0),tickMin:new zn(0),tickMax:new zn(0)};var a=ure(new zn(n).sub(e).div(r-1),i,s),l;e<=0&&n>=0?l=new zn(0):(l=new zn(e).add(n).div(2),l=l.sub(new zn(l).mod(a)));var c=Math.ceil(l.sub(e).div(a).toNumber()),u=Math.ceil(new zn(n).sub(l).div(a).toNumber()),d=c+u+1;return d>r?dre(e,n,r,i,s+1):(d<r&&(u=n>0?u+(r-d):u,c=n>0?c:c+(r-d)),{step:a,tickMin:l.sub(new zn(c).mul(a)),tickMax:l.add(new zn(u).mul(a))})};function MDe(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(r,2),[a,l]=cre([e,n]);if(a===-1/0||l===1/0){var c=l===1/0?[a,...HO(0,r-1).map(()=>1/0)]:[...HO(0,r-1).map(()=>-1/0),l];return e>n?GO(c):c}if(a===l)return NDe(a,r,i);var{step:u,tickMin:d,tickMax:f}=dre(a,l,s,i,0),h=lre(d,f.add(new zn(.1).mul(u)),u);return e>n?GO(h):h}function CDe(t,e){var[n,r]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,a]=cre([n,r]);if(s===-1/0||a===1/0)return[n,r];if(s===a)return[s];var l=Math.max(e,2),c=ure(new zn(a).sub(s).div(l-1),i,0),u=[...lre(new zn(s),new zn(a),c),a];return i===!1&&(u=u.map(d=>Math.round(d))),n>r?GO(u):u}var jDe=are(MDe),ADe=are(CDe),DC=t=>t.rootProps.maxBarSize,fre=t=>t.rootProps.barGap,E4=t=>t.rootProps.barCategoryGap,hre=t=>t.rootProps.barSize,fx=t=>t.rootProps.stackOffset,N4=t=>t.options.chartName,M4=t=>t.rootProps.syncId,mre=t=>t.rootProps.syncMethod,C4=t=>t.options.eventEmitter,oc={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},pa={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},IC=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},TDe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:oc.angleAxisId,includeHidden:!1,name:void 0,reversed:oc.reversed,scale:oc.scale,tick:oc.tick,tickCount:void 0,ticks:void 0,type:oc.type,unit:void 0},PDe={allowDataOverflow:pa.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:pa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:pa.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:pa.scale,tick:pa.tick,tickCount:pa.tickCount,ticks:void 0,type:pa.type,unit:void 0},kDe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:oc.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:oc.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:oc.scale,tick:oc.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},RDe={allowDataOverflow:pa.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:pa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:pa.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:pa.scale,tick:pa.tick,tickCount:pa.tickCount,ticks:void 0,type:"category",unit:void 0},rp=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?kDe:TDe,hx=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?RDe:PDe,LC=t=>t.polarOptions,j4=je([Hu,Gu,Ei],zte),pre=je([LC,j4],(t,e)=>{if(t!=null)return Ys(t.innerRadius,e,0)}),gre=je([LC,j4],(t,e)=>{if(t!=null)return Ys(t.outerRadius,e,e*.8)}),ODe=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},vre=je([LC],ODe),DDe=je([rp,vre],IC),xre=je([j4,pre,gre],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]}),IDe=je([hx,xre],IC),mx=je([dn,LC,pre,gre,Hu,Gu],(t,e,n,r,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:a,cy:l,startAngle:c,endAngle:u}=e;return{cx:Ys(a,i,i/2),cy:Ys(l,s,s/2),innerRadius:n,outerRadius:r,startAngle:c,endAngle:u,clockWise:!1}}}),gr=(t,e)=>e,Fw=(t,e,n)=>n;function nW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nW(Object(n),!0).forEach(function(r){LDe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LDe(t,e,n){return(e=FDe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FDe(t){var e=UDe(t,"string");return typeof e=="symbol"?e:e+""}function UDe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qO=[0,"auto"],Ga={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Oc=(t,e)=>{var n=t.cartesianAxis.xAxis[e];return n??Ga},qa={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:qO,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:SC},Xu=(t,e)=>{var n=t.cartesianAxis.yAxis[e];return n??qa},BDe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},A4=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??BDe},Kr=(t,e,n)=>{switch(e){case"xAxis":return Oc(t,n);case"yAxis":return Xu(t,n);case"zAxis":return A4(t,n);case"angleAxis":return rp(t,n);case"radiusAxis":return hx(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},zDe=(t,e,n)=>{switch(e){case"xAxis":return Oc(t,n);case"yAxis":return Xu(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},px=(t,e,n)=>{switch(e){case"xAxis":return Oc(t,n);case"yAxis":return Xu(t,n);case"angleAxis":return rp(t,n);case"radiusAxis":return hx(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},yre=t=>t.graphicalItems.countOfBars>0;function T4(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var FC=t=>t.graphicalItems.cartesianItems,VDe=je([gr,Fw],T4),P4=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),Uw=je([FC,Kr,VDe],P4),bre=t=>t.filter(e=>e.stackId===void 0),WDe=je([Uw],bre),k4=t=>t.map(e=>e.data).filter(Boolean).flat(1),$De=je([Uw],k4),R4=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},UC=je([$De,w4],R4),O4=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:Hn(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:Hn(i,r)}))):t.map(r=>({value:r})),BC=je([UC,Kr,Uw],O4);function wre(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function ip(t){return t.filter(e=>Go(e)||e instanceof Date).map(Number).filter(e=>ea(e)===!1)}function HDe(t,e,n){return!n||typeof e!="number"||ea(e)?[]:n.length?ip(n.flatMap(r=>{var i=Hn(t,r.dataKey),s,a;if(Array.isArray(i)?[s,a]=i:s=a=i,!(!fo(s)||!fo(a)))return[e-s,e+a]})):[]}var D4=(t,e,n)=>{var r={},i=e.reduce((s,a)=>(a.stackId==null||(s[a.stackId]==null&&(s[a.stackId]=[]),s[a.stackId].push(a)),s),r);return Object.fromEntries(Object.entries(i).map(s=>{var[a,l]=s,c=l.map(u=>u.dataKey);return[a,{stackedData:nPe(t,c,n),graphicalItems:l}]}))},KO=je([UC,Uw,fx],D4),_re=(t,e,n)=>{var{dataStartIndex:r,dataEndIndex:i}=e;if(n!=="zAxis"){var s=sPe(t,r,i);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},GDe=je([KO,Lf,gr],_re),Sre=(t,e,n,r)=>n.length>0?t.flatMap(i=>n.flatMap(s=>{var a,l,c=(a=s.errorBars)===null||a===void 0?void 0:a.filter(d=>wre(r,d)),u=Hn(i,(l=e.dataKey)!==null&&l!==void 0?l:s.dataKey);return{value:u,errorDomain:HDe(i,u,c)}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(i=>({value:Hn(i,e.dataKey),errorDomain:[]})):t.map(i=>({value:i,errorDomain:[]})),qDe=je(UC,Kr,WDe,gr,Sre);function KDe(t){var{value:e}=t;if(Go(e)||e instanceof Date)return e}var XDe=t=>{var e=t.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=ip(e);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},YDe=(t,e,n)=>{var r=t.map(KDe).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&Eee(r))?vne(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},I4=t=>{var e;if(t==null||!("domain"in t))return qO;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=ip(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:qO},L4=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),a=Math.min(...s),l=Math.max(...s);return[a,l]}},Ere=t=>t.referenceElements.dots,gx=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),ZDe=je([Ere,gr,Fw],gx),Nre=t=>t.referenceElements.areas,QDe=je([Nre,gr,Fw],gx),Mre=t=>t.referenceElements.lines,JDe=je([Mre,gr,Fw],gx),Cre=(t,e)=>{var n=ip(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},eIe=je(ZDe,gr,Cre),jre=(t,e)=>{var n=ip(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},tIe=je([QDe,gr],jre),Are=(t,e)=>{var n=ip(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},nIe=je(JDe,gr,Are),rIe=je(eIe,nIe,tIe,(t,e,n)=>L4(t,n,e)),Tre=je([Kr],I4),F4=(t,e,n,r,i)=>{var s=vDe(e,t.allowDataOverflow);return s??xDe(e,L4(n,i,XDe(r)),t.allowDataOverflow)},iIe=je([Kr,Tre,GDe,qDe,rIe],F4),sIe=[0,1],U4=(t,e,n,r,i,s,a)=>{if(!(t==null||n==null||n.length===0)){var{dataKey:l,type:c}=t,u=Rc(e,s);return u&&l==null?vne(0,n.length):c==="category"?YDe(r,t,u):i==="expand"?sIe:a}},B4=je([Kr,dn,UC,BC,fx,gr,iIe],U4),Pre=(t,e,n,r,i)=>{if(t!=null){var{scale:s,type:a}=t;if(s==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":a==="category"?"band":"linear";if(typeof s=="string"){var l="scale".concat(Tw(s));return l in Gy?l:"point"}}},Ff=je([Kr,dn,yre,N4,gr],Pre);function aIe(t){if(t!=null){if(t in Gy)return Gy[t]();var e="scale".concat(Tw(t));if(e in Gy)return Gy[e]()}}function zC(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=aIe(e);if(i!=null){var s=i.domain(n).range(r);return QTe(s),s}}}var z4=(t,e,n)=>{var r=I4(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Ov(t))return jDe(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Ov(t))return ADe(t,e.tickCount,e.allowDecimals)}},V4=je([B4,px,Ff],z4),W4=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&Ov(e)&&Array.isArray(n)&&n.length>0){var i=e[0],s=n[0],a=e[1],l=n[n.length-1];return[Math.min(i,s),Math.max(a,l)]}return e},oIe=je([Kr,B4,V4,gr],W4),lIe=je(BC,Kr,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(ip(t.map(l=>l.value))).sort((l,c)=>l-c);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var s=0;s<r.length-1;s++){var a=r[s+1]-r[s];n=Math.min(n,a)}return n/i}}),kre=je(lIe,dn,E4,Ei,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!fo(t))return 0;var s=e==="vertical"?r.height:r.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var a=Ys(n,t*s),l=t*s/2;return l-a-(l-a)/s*a}return 0}),cIe=(t,e)=>{var n=Oc(t,e);return n==null||typeof n.padding!="string"?0:kre(t,"xAxis",e,n.padding)},uIe=(t,e)=>{var n=Xu(t,e);return n==null||typeof n.padding!="string"?0:kre(t,"yAxis",e,n.padding)},dIe=je(Oc,cIe,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),fIe=je(Xu,uIe,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),hIe=je([Ei,dIe,NC,EC,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),mIe=je([Ei,dn,fIe,NC,EC,(t,e,n)=>n],(t,e,n,r,i,s)=>{var{padding:a}=i;return s?[r.height-a.bottom,a.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Bw=(t,e,n,r)=>{var i;switch(e){case"xAxis":return hIe(t,n,r);case"yAxis":return mIe(t,n,r);case"zAxis":return(i=A4(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return vre(t);case"radiusAxis":return xre(t,n);default:return}},Rre=je([Kr,Bw],IC),yf=je([Kr,Ff,oIe,Rre],zC);je(Uw,gr,(t,e)=>t.flatMap(n=>{var r;return(r=n.errorBars)!==null&&r!==void 0?r:[]}).filter(n=>wre(e,n)));function Ore(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var VC=(t,e)=>e,WC=(t,e,n)=>n,pIe=je(HL,VC,WC,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(Ore)),gIe=je(GL,VC,WC,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(Ore)),Dre=(t,e)=>({width:t.width,height:e.height}),vIe=(t,e)=>{var n=typeof e.width=="number"?e.width:SC;return{width:n,height:t.height}},Ire=je(Ei,Oc,Dre),xIe=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},yIe=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},bIe=je(Gu,Ei,pIe,VC,WC,(t,e,n,r,i)=>{var s={},a;return n.forEach(l=>{var c=Dre(e,l);a==null&&(a=xIe(e,r,t));var u=r==="top"&&!i||r==="bottom"&&i;s[l.id]=a-Number(u)*c.height,a+=(u?-1:1)*c.height}),s}),wIe=je(Hu,Ei,gIe,VC,WC,(t,e,n,r,i)=>{var s={},a;return n.forEach(l=>{var c=vIe(e,l);a==null&&(a=yIe(e,r,t));var u=r==="left"&&!i||r==="right"&&i;s[l.id]=a-Number(u)*c.width,a+=(u?-1:1)*c.width}),s}),_Ie=(t,e)=>{var n=Ei(t),r=Oc(t,e);if(r!=null){var i=bIe(t,r.orientation,r.mirror),s=i[e];return s==null?{x:n.left,y:0}:{x:n.left,y:s}}},SIe=(t,e)=>{var n=Ei(t),r=Xu(t,e);if(r!=null){var i=wIe(t,r.orientation,r.mirror),s=i[e];return s==null?{x:0,y:n.top}:{x:s,y:n.top}}},Lre=je(Ei,Xu,(t,e)=>{var n=typeof e.width=="number"?e.width:SC;return{width:n,height:t.height}}),rW=(t,e,n)=>{switch(e){case"xAxis":return Ire(t,n).width;case"yAxis":return Lre(t,n).height;default:return}},Fre=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:a}=n,l=Rc(t,r),c=e.map(u=>u.value);if(a&&l&&s==="category"&&i&&Eee(c))return c}},zw=je([dn,BC,Kr,gr],Fre),$4=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,a=Rc(t,r);if(a&&(i==="number"||s!=="auto"))return e.map(l=>l.value)}},H4=je([dn,BC,px,gr],$4),iW=je([dn,zDe,Ff,yf,zw,H4,Bw,V4,gr],(t,e,n,r,i,s,a,l,c)=>{if(e==null)return null;var u=Rc(t,c);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:c,categoricalDomain:s,duplicateDomain:i,isCategorical:u,niceTicks:l,range:a,realScaleType:n,scale:r}}),Ure=(t,e,n,r,i,s,a,l,c)=>{if(!(e==null||r==null)){var u=Rc(t,c),{type:d,ticks:f,tickCount:h}=e,m=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,p=d==="category"&&r.bandwidth?r.bandwidth()/m:0;p=c==="angleAxis"&&s!=null&&s.length>=2?oi(s[0]-s[1])*2*p:p;var x=f||i;if(x){var v=x.map((g,w)=>{var _=a?a.indexOf(g):g;return{index:w,coordinate:r(_)+p,value:g,offset:p}});return v.filter(g=>!ea(g.coordinate))}return u&&l?l.map((g,w)=>({coordinate:r(g)+p,value:g,index:w,offset:p})):r.ticks?r.ticks(h).map(g=>({coordinate:r(g)+p,value:g,offset:p})):r.domain().map((g,w)=>({coordinate:r(g)+p,value:a?a[g]:g,index:w,offset:p}))}},Bre=je([dn,px,Ff,yf,V4,Bw,zw,H4,gr],Ure),zre=(t,e,n,r,i,s,a)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var l=Rc(t,a),{tickCount:c}=e,u=0;return u=a==="angleAxis"&&(r==null?void 0:r.length)>=2?oi(r[0]-r[1])*2*u:u,l&&s?s.map((d,f)=>({coordinate:n(d)+u,value:d,index:f,offset:u})):n.ticks?n.ticks(c).map(d=>({coordinate:n(d)+u,value:d,offset:u})):n.domain().map((d,f)=>({coordinate:n(d)+u,value:i?i[d]:d,index:f,offset:u}))}},bf=je([dn,px,yf,Bw,zw,H4,gr],zre),Tc=je(Kr,yf,(t,e)=>{if(!(t==null||e==null))return zN(zN({},t),{},{scale:e})}),EIe=je([Kr,Ff,B4,Rre],zC);je((t,e,n)=>A4(t,n),EIe,(t,e)=>{if(!(t==null||e==null))return zN(zN({},t),{},{scale:e})});var NIe=je([dn,HL,GL],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),Vre=t=>t.options.defaultTooltipEventType,Wre=t=>t.options.validateTooltipEventTypes;function $re(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function G4(t,e){var n=Vre(t),r=Wre(t);return $re(e,n,r)}function MIe(t){return gt(e=>G4(e,t))}var Hre=(t,e)=>{var n,r=Number(e);if(!(ea(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},CIe=t=>t.tooltip.settings,Fd={active:!1,index:null,dataKey:void 0,coordinate:void 0},jIe={itemInteraction:{click:Fd,hover:Fd},axisInteraction:{click:Fd,hover:Fd},keyboardInteraction:Fd,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Gre=Zo({name:"tooltip",initialState:jIe,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var n=vu(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:AIe,removeTooltipEntrySettings:TIe,setTooltipSettingsState:PIe,setActiveMouseOverItemIndex:qre,mouseLeaveItem:kIe,mouseLeaveChart:Kre,setActiveClickItemIndex:RIe,setMouseOverAxisIndex:Xre,setMouseClickAxisIndex:OIe,setSyncInteraction:XO,setKeyboardInteraction:YO}=Gre.actions,DIe=Gre.reducer;function sW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function B_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sW(Object(n),!0).forEach(function(r){IIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IIe(t,e,n){return(e=LIe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LIe(t){var e=FIe(t,"string");return typeof e=="symbol"?e:e+""}function FIe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function UIe(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function BIe(t){return t.index!=null}var Yre=(t,e,n,r)=>{if(e==null)return Fd;var i=UIe(t,e,n);if(i==null)return Fd;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(BIe(i)){if(s)return B_(B_({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return B_(B_({},Fd),{},{coordinate:i.coordinate})},q4=(t,e)=>{var n=t==null?void 0:t.index;if(n==null)return null;var r=Number(n);if(!fo(r))return n;var i=0,s=1/0;return e.length>0&&(s=e.length-1),String(Math.max(i,Math.min(r,s)))},Zre=(t,e,n,r,i,s,a,l)=>{if(!(s==null||l==null)){var c=a[0],u=c==null?void 0:l(c.positions,s);if(u!=null)return u;var d=i==null?void 0:i[Number(s)];if(d)switch(n){case"horizontal":return{x:d.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:d.coordinate}}}},Qre=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(s=>{var a;return((a=s.settings)===null||a===void 0?void 0:a.dataKey)===i})},Vw=t=>t.options.tooltipPayloadSearcher,vx=t=>t.tooltip;function aW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aW(Object(n),!0).forEach(function(r){zIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zIe(t,e,n){return(e=VIe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VIe(t){var e=WIe(t,"string");return typeof e=="symbol"?e:e+""}function WIe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $Ie(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function HIe(t,e){return t??e}var Jre=(t,e,n,r,i,s,a)=>{if(!(e==null||s==null)){var{chartData:l,computedData:c,dataStartIndex:u,dataEndIndex:d}=n,f=[];return t.reduce((h,m)=>{var p,{dataDefinedOnItem:x,settings:v}=m,g=HIe(x,l),w=$Ie(g,u,d),_=(p=v==null?void 0:v.dataKey)!==null&&p!==void 0?p:r==null?void 0:r.dataKey,E=v==null?void 0:v.nameKey,N;if(r!=null&&r.dataKey&&Array.isArray(w)&&!Array.isArray(w[0])&&a==="axis"?N=Nee(w,r.dataKey,i):N=s(w,e,c,E),Array.isArray(N))N.forEach(j=>{var T=oW(oW({},v),{},{name:j.name,unit:j.unit,color:void 0,fill:void 0});h.push(Y8({tooltipEntrySettings:T,dataKey:j.dataKey,payload:j.payload,value:Hn(j.payload,j.dataKey),name:j.name}))});else{var C;h.push(Y8({tooltipEntrySettings:v,dataKey:_,payload:N,value:Hn(N,_),name:(C=Hn(N,E))!==null&&C!==void 0?C:v==null?void 0:v.name}))}return h},f)}},Vi=t=>{var e=dn(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},xx=t=>t.tooltip.settings.axisId,ns=t=>{var e=Vi(t),n=xx(t);return px(t,e,n)},K4=je([ns,dn,yre,N4,Vi],Pre),GIe=je([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),qIe=je([Vi,xx],T4),$C=je([GIe,ns,qIe],P4),KIe=je([$C],k4),sp=je([KIe,Lf],R4),X4=je([sp,ns,$C],O4),XIe=je([ns],I4),YIe=je([sp,$C,fx],D4),ZIe=je([YIe,Lf,Vi],_re),QIe=je([$C],bre),JIe=je([sp,ns,QIe,Vi],Sre),e3e=je([Ere,Vi,xx],gx),t3e=je([e3e,Vi],Cre),n3e=je([Nre,Vi,xx],gx),r3e=je([n3e,Vi],jre),i3e=je([Mre,Vi,xx],gx),s3e=je([i3e,Vi],Are),a3e=je([t3e,s3e,r3e],L4),o3e=je([ns,XIe,ZIe,JIe,a3e],F4),eie=je([ns,dn,sp,X4,fx,Vi,o3e],U4),l3e=je([eie,ns,K4],z4),c3e=je([ns,eie,l3e,Vi],W4),tie=t=>{var e=Vi(t),n=xx(t),r=!1;return Bw(t,e,n,r)},nie=je([ns,tie],IC),rie=je([ns,K4,c3e,nie],zC),u3e=je([dn,X4,ns,Vi],Fre),d3e=je([dn,X4,ns,Vi],$4),f3e=(t,e,n,r,i,s,a,l)=>{if(e){var{type:c}=e,u=Rc(t,l);if(r){var d=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,f=c==="category"&&r.bandwidth?r.bandwidth()/d:0;return f=l==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?oi(i[0]-i[1])*2*f:f,u&&a?a.map((h,m)=>({coordinate:r(h)+f,value:h,index:m,offset:f})):r.domain().map((h,m)=>({coordinate:r(h)+f,value:s?s[h]:h,index:m,offset:f}))}}},Yu=je([dn,ns,K4,rie,tie,u3e,d3e,Vi],f3e),Y4=je([Vre,Wre,CIe],(t,e,n)=>$re(n.shared,t,e)),iie=t=>t.tooltip.settings.trigger,Z4=t=>t.tooltip.settings.defaultIndex,HC=je([vx,Y4,iie,Z4],Yre),ku=je([HC,sp],q4),sie=je([Yu,ku],Hre),aie=je([HC],t=>{if(t)return t.dataKey}),oie=je([vx,Y4,iie,Z4],Qre),h3e=je([Hu,Gu,dn,Ei,Yu,Z4,oie,Vw],Zre),m3e=je([HC,h3e],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),p3e=je([HC],t=>t.active),g3e=je([oie,ku,Lf,ns,sie,Vw,Y4],Jre),v3e=je([g3e],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function lW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lW(Object(n),!0).forEach(function(r){x3e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function x3e(t,e,n){return(e=y3e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y3e(t){var e=b3e(t,"string");return typeof e=="symbol"?e:e+""}function b3e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var w3e=()=>gt(ns),_3e=()=>{var t=w3e(),e=gt(Yu),n=gt(rie);return Dl(cW(cW({},t),{},{scale:n}),e)},S3e=()=>gt(N4),Q4=(t,e)=>e,lie=(t,e,n)=>n,J4=(t,e,n,r)=>r,E3e=je(Yu,t=>gC(t,e=>e.coordinate)),eF=je([vx,Q4,lie,J4],Yre),cie=je([eF,sp],q4),N3e=(t,e,n)=>{if(e!=null){var r=vx(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},uie=je([vx,Q4,lie,J4],Qre),VN=je([Hu,Gu,dn,Ei,Yu,J4,uie,Vw],Zre),M3e=je([eF,VN],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),die=je(Yu,cie,Hre),C3e=je([uie,cie,Lf,ns,die,Vw,Q4],Jre),j3e=je([eF],t=>({isActive:t.active,activeIndex:t.index})),A3e=(t,e,n,r,i,s,a,l)=>{if(!(!t||!e||!r||!i||!s)){var c=aPe(t.chartX,t.chartY,e,n,l);if(c){var u=lPe(c,e),d=YTe(u,a,s,r,i),f=oPe(e,s,d,c);return{activeIndex:String(d),activeCoordinate:f}}}};function ZO(){return ZO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ZO.apply(null,arguments)}function uW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function z_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uW(Object(n),!0).forEach(function(r){T3e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function T3e(t,e,n){return(e=P3e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P3e(t){var e=k3e(t,"string");return typeof e=="symbol"?e:e+""}function k3e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function R3e(t){var{coordinate:e,payload:n,index:r,offset:i,tooltipAxisBandSize:s,layout:a,cursor:l,tooltipEventType:c,chartName:u}=t,d=e,f=n,h=r;if(!l||!d||u!=="ScatterChart"&&c!=="axis")return null;var m,p;if(u==="ScatterChart")m=d,p=ske;else if(u==="BarChart")m=ake(a,d,i,s),p=une;else if(a==="radial"){var{cx:x,cy:v,radius:g,startAngle:w,endAngle:_}=dne(d);m={cx:x,cy:v,startAngle:w,endAngle:_,innerRadius:g,outerRadius:g},p=hne}else m={points:zke(a,d,i)},p=YL;var E=typeof l=="object"&&"className"in l?l.className:void 0,N=z_(z_(z_(z_({stroke:"#ccc",pointerEvents:"none"},i),m),Ut(l,!1)),{},{payload:f,payloadIndex:h,className:qt("recharts-tooltip-cursor",E)});return S.isValidElement(l)?S.cloneElement(l,N):S.createElement(p,N)}function O3e(t){var e=_3e(),n=Qte(),r=CC(),i=S3e();return S.createElement(R3e,ZO({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var fie=S.createContext(null),D3e=()=>S.useContext(fie),hie={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,f||c,h),p=n?n+u:u;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],m]:c._events[p].push(m):(c._events[p]=m,c._eventsCount++),c}function a(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,p=new Array(m);h<m;h++)p[h]=f[h].fn;return p},l.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,p){var x=n?n+u:u;if(!this._events[x])return!1;var v=this._events[x],g=arguments.length,w,_;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),g){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,m),!0;case 6:return v.fn.call(v.context,d,f,h,m,p),!0}for(_=1,w=new Array(g-1);_<g;_++)w[_-1]=arguments[_];v.fn.apply(v.context,w)}else{var E=v.length,N;for(_=0;_<E;_++)switch(v[_].once&&this.removeListener(u,v[_].fn,void 0,!0),g){case 1:v[_].fn.call(v[_].context);break;case 2:v[_].fn.call(v[_].context,d);break;case 3:v[_].fn.call(v[_].context,d,f);break;case 4:v[_].fn.call(v[_].context,d,f,h);break;default:if(!w)for(N=1,w=new Array(g-1);N<g;N++)w[N-1]=arguments[N];v[_].fn.apply(v[_].context,w)}}return!0},l.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=n?n+u:u;if(!this._events[m])return this;if(!d)return a(this,m),this;var p=this._events[m];if(p.fn)p.fn===d&&(!h||p.once)&&(!f||p.context===f)&&a(this,m);else{for(var x=0,v=[],g=p.length;x<g;x++)(p[x].fn!==d||h&&!p[x].once||f&&p[x].context!==f)&&v.push(p[x]);v.length?this._events[m]=v.length===1?v[0]:v:a(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&a(this,d)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(hie);var I3e=hie.exports;const L3e=Pa(I3e);var Sb=new L3e,QO="recharts.syncEvent.tooltip",dW="recharts.syncEvent.brush";function Ww(t,e){if(e){var n=Number.parseInt(e,10);if(!ea(n))return t==null?void 0:t[n]}}var F3e={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},mie=Zo({name:"options",initialState:F3e,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),U3e=mie.reducer,{createEventEmitter:B3e}=mie.actions;function z3e(t){return t.tooltip.syncInteraction}var V3e={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},pie=Zo({name:"chartData",initialState:V3e,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:fW,setDataStartEndIndexes:W3e,setComputedData:grt}=pie.actions,$3e=pie.reducer,gie=()=>{};function H3e(){var t=gt(M4),e=gt(C4),n=Qn(),r=gt(mre),i=gt(Yu),s=CC(),a=MC(),l=gt(c=>c.rootProps.className);S.useEffect(()=>{if(t==null)return gie;var c=(u,d,f)=>{if(e!==f&&t===u){if(r==="index"){n(d);return}if(i!=null){var h;if(typeof r=="function"){var m={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},p=r(i,m);h=i[p]}else r==="value"&&(h=i.find(C=>String(C.value)===d.payload.label));var{coordinate:x}=d.payload;if(h==null||d.payload.active===!1||x==null||a==null){n(XO({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:v,y:g}=x,w=Math.min(v,a.x+a.width),_=Math.min(g,a.y+a.height),E={x:s==="horizontal"?h.coordinate:w,y:s==="horizontal"?_:h.coordinate},N=XO({active:d.payload.active,coordinate:E,dataKey:d.payload.dataKey,index:String(h.index),label:d.payload.label});n(N)}}};return Sb.on(QO,c),()=>{Sb.off(QO,c)}},[l,n,e,t,r,i,s,a])}function G3e(){var t=gt(M4),e=gt(C4),n=Qn();S.useEffect(()=>{if(t==null)return gie;var r=(i,s,a)=>{e!==a&&t===i&&n(W3e(s))};return Sb.on(dW,r),()=>{Sb.off(dW,r)}},[n,e,t])}function q3e(){var t=Qn();S.useEffect(()=>{t(B3e())},[t]),H3e(),G3e()}function K3e(t,e,n,r,i,s){var a=gt(h=>N3e(h,t,e)),l=gt(C4),c=gt(M4),u=gt(mre),d=gt(z3e),f=d==null?void 0:d.active;S.useEffect(()=>{if(!f&&c!=null&&l!=null){var h=XO({active:s,coordinate:n,dataKey:a,index:i,label:typeof r=="number"?String(r):r});Sb.emit(QO,c,h,l)}},[f,n,a,i,r,l,c,u,s])}function hW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hW(Object(n),!0).forEach(function(r){X3e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function X3e(t,e,n){return(e=Y3e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y3e(t){var e=Z3e(t,"string");return typeof e=="symbol"?e:e+""}function Z3e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Q3e(t){return t.dataKey}function J3e(t,e){return S.isValidElement(t)?S.cloneElement(t,e):typeof t=="function"?S.createElement(t,e):S.createElement(LPe,e)}var pW=[],eLe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!qu.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Zi(t){var e=ka(t,eLe),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:s,content:a,filterNull:l,isAnimationActive:c,offset:u,payloadUniqBy:d,position:f,reverseDirection:h,useTranslate3d:m,wrapperStyle:p,cursor:x,shared:v,trigger:g,defaultIndex:w,portal:_,axisId:E}=e,N=Qn(),C=typeof w=="number"?String(w):w;S.useEffect(()=>{N(PIe({shared:v,trigger:g,axisId:E,active:n,defaultIndex:C}))},[N,v,g,E,n,C]);var j=MC(),T=nne(),A=MIe(v),{activeIndex:P,isActive:R}=gt(Q=>j3e(Q,A,g,C)),D=gt(Q=>C3e(Q,A,g,C)),F=gt(Q=>die(Q,A,g,C)),I=gt(Q=>M3e(Q,A,g,C)),G=D,q=D3e(),$=n??R,[L,V]=gte([G,$]),K=A==="axis"?F:void 0;K3e(A,g,I,K,P,$);var W=_??q;if(W==null)return null;var B=G??pW;$||(B=pW),l&&B.length&&(B=ate(G.filter(Q=>Q.value!=null&&(Q.hide!==!0||e.includeHidden)),d,Q3e));var ee=B.length>0,Y=S.createElement($Pe,{allowEscapeViewBox:r,animationDuration:i,animationEasing:s,isAnimationActive:c,active:$,coordinate:I,hasPayload:ee,offset:u,position:f,reverseDirection:h,useTranslate3d:m,viewBox:j,wrapperStyle:p,lastBoundingBox:L,innerRef:V,hasPortalFromProps:!!_},J3e(a,mW(mW({},e),{},{payload:B,label:K,active:$,coordinate:I,accessibilityLayer:T})));return S.createElement(S.Fragment,null,Vu.createPortal(Y,W),$&&S.createElement(O3e,{cursor:x,tooltipEventType:A,coordinate:I,payload:G,index:P}))}var vie={},xie={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=0,i={}){typeof i!="object"&&(i={});let s=null,a=null,l=null,c=0,u=null,d;const{leading:f=!1,trailing:h=!0,maxWait:m}=i,p="maxWait"in i,x=p?Math.max(Number(m)||0,r):0,v=j=>(s!==null&&(d=n.apply(a,s)),s=a=null,c=j,d),g=j=>(c=j,u=setTimeout(N,r),f&&s!==null?v(j):d),w=j=>(u=null,h&&s!==null?v(j):d),_=j=>{if(l===null)return!0;const T=j-l,A=T>=r||T<0,P=p&&j-c>=x;return A||P},E=j=>{const T=l===null?0:j-l,A=r-T,P=x-(j-c);return p?Math.min(A,P):A},N=()=>{const j=Date.now();if(_(j))return w(j);u=setTimeout(N,E(j))},C=function(...j){const T=Date.now(),A=_(T);if(s=j,a=this,l=T,A){if(u===null)return g(T);if(p)return clearTimeout(u),u=setTimeout(N,r),v(T)}return u===null&&(u=setTimeout(N,r)),d};return C.cancel=()=>{u!==null&&clearTimeout(u),c=0,l=s=a=u=null},C.flush=()=>u===null?d:w(Date.now()),C}t.debounce=e})(xie);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xie;function n(r,i=0,s={}){const{leading:a=!0,trailing:l=!0}=s;return e.debounce(r,i,{leading:a,maxWait:i,trailing:l})}t.throttle=n})(vie);var tLe=vie.throttle;const nLe=Pa(tLe);var f0=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]};function gW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gW(Object(n),!0).forEach(function(r){rLe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rLe(t,e,n){return(e=iLe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iLe(t){var e=sLe(t,"string");return typeof e=="symbol"?e:e+""}function sLe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var li=S.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:s="100%",minWidth:a=0,minHeight:l,maxHeight:c,children:u,debounce:d=0,id:f,className:h,onResize:m,style:p={}}=t,x=S.useRef(null),v=S.useRef();v.current=m,S.useImperativeHandle(e,()=>x.current);var[g,w]=S.useState({containerWidth:r.width,containerHeight:r.height}),_=S.useCallback((N,C)=>{w(j=>{var T=Math.round(N),A=Math.round(C);return j.containerWidth===T&&j.containerHeight===A?j:{containerWidth:T,containerHeight:A}})},[]);S.useEffect(()=>{var N=A=>{var P,{width:R,height:D}=A[0].contentRect;_(R,D),(P=v.current)===null||P===void 0||P.call(v,R,D)};d>0&&(N=nLe(N,d,{trailing:!0,leading:!1}));var C=new ResizeObserver(N),{width:j,height:T}=x.current.getBoundingClientRect();return _(j,T),C.observe(x.current),()=>{C.disconnect()}},[_,d]);var E=S.useMemo(()=>{var{containerWidth:N,containerHeight:C}=g;if(N<0||C<0)return null;f0(Hh(i)||Hh(s),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,s),f0(!n||n>0,"The aspect(%s) must be greater than zero.",n);var j=Hh(i)?N:i,T=Hh(s)?C:s;return n&&n>0&&(j?T=j/n:T&&(j=T*n),c&&T>c&&(T=c)),f0(j>0||T>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,j,T,i,s,a,l,n),S.Children.map(u,A=>S.cloneElement(A,{width:j,height:T,style:pP({width:j,height:T},A.props.style)}))},[n,u,s,c,l,a,g,i]);return S.createElement("div",{id:f?"".concat(f):void 0,className:qt("recharts-responsive-container",h),style:pP(pP({},p),{},{width:i,height:s,minWidth:a,minHeight:l,maxHeight:c}),ref:x},S.createElement("div",{style:{width:0,height:0,overflow:"visible"}},E))}),ap=t=>null;ap.displayName="Cell";function vW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vW(Object(n),!0).forEach(function(r){aLe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aLe(t,e,n){return(e=oLe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oLe(t){var e=lLe(t,"string");return typeof e=="symbol"?e:e+""}function lLe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bp={widthCache:{},cacheCount:0},cLe=2e3,uLe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},xW="recharts_measurement_span";function dLe(t){var e=JO({},t);return Object.keys(e).forEach(n=>{e[n]||delete e[n]}),e}var h0=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||qu.isSsr)return{width:0,height:0};var r=dLe(n),i=JSON.stringify({text:e,copyStyle:r});if(Bp.widthCache[i])return Bp.widthCache[i];try{var s=document.getElementById(xW);s||(s=document.createElement("span"),s.setAttribute("id",xW),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var a=JO(JO({},uLe),r);Object.assign(s.style,a),s.textContent="".concat(e);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return Bp.widthCache[i]=c,++Bp.cacheCount>cLe&&(Bp.cacheCount=0,Bp.widthCache={}),c}catch{return{width:0,height:0}}},yW=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,bW=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,fLe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,hLe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,yie={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},mLe=Object.keys(yie),Cg="NaN";function pLe(t,e){return t*yie[e]}class ma{static parse(e){var n,[,r,i]=(n=hLe.exec(e))!==null&&n!==void 0?n:[];return new ma(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,ea(e)&&(this.unit=""),n!==""&&!fLe.test(n)&&(this.num=NaN,this.unit=""),mLe.includes(n)&&(this.num=pLe(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new ma(NaN,""):new ma(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new ma(NaN,""):new ma(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new ma(NaN,""):new ma(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new ma(NaN,""):new ma(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ea(this.num)}}function bie(t){if(t.includes(Cg))return Cg;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,s]=(n=yW.exec(e))!==null&&n!==void 0?n:[],a=ma.parse(r??""),l=ma.parse(s??""),c=i==="*"?a.multiply(l):a.divide(l);if(c.isNaN())return Cg;e=e.replace(yW,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var u,[,d,f,h]=(u=bW.exec(e))!==null&&u!==void 0?u:[],m=ma.parse(d??""),p=ma.parse(h??""),x=f==="+"?m.add(p):m.subtract(p);if(x.isNaN())return Cg;e=e.replace(bW,x.toString())}return e}var wW=/\(([^()]*)\)/;function gLe(t){for(var e=t,n;(n=wW.exec(e))!=null;){var[,r]=n;e=e.replace(wW,bie(r))}return e}function vLe(t){var e=t.replace(/\s+/g,"");return e=gLe(e),e=bie(e),e}function xLe(t){try{return vLe(t)}catch{return Cg}}function gP(t){var e=xLe(t.slice(5,-1));return e===Cg?"":e}var yLe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],bLe=["dx","dy","angle","className","breakAll"];function eD(){return eD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eD.apply(null,arguments)}function _W(t,e){if(t==null)return{};var n,r,i=wLe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function wLe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var wie=/[ \f\n\r\t\v\u2028\u2029]+/,_ie=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];Fn(e)||(n?i=e.toString().split(""):i=e.toString().split(wie));var s=i.map(l=>({word:l,width:h0(l,r).width})),a=n?0:h0(" ",r).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},_Le=(t,e,n,r,i)=>{var{maxLines:s,children:a,style:l,breakAll:c}=t,u=At(s),d=a,f=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return R.reduce((D,F)=>{var{word:I,width:G}=F,q=D[D.length-1];if(q&&(r==null||i||q.width+G+n<Number(r)))q.words.push(I),q.width+=G+n;else{var $={words:[I],width:G};D.push($)}return D},[])},h=f(e),m=P=>P.reduce((R,D)=>R.width>D.width?R:D);if(!u||i)return h;var p=h.length>s||m(h).width>Number(r);if(!p)return h;for(var x="…",v=P=>{var R=d.slice(0,P),D=_ie({breakAll:c,style:l,children:R+x}).wordsWithComputedWidth,F=f(D),I=F.length>s||m(F).width>Number(r);return[I,F]},g=0,w=d.length-1,_=0,E;g<=w&&_<=d.length-1;){var N=Math.floor((g+w)/2),C=N-1,[j,T]=v(C),[A]=v(N);if(!j&&!A&&(g=N+1),j&&A&&(w=N-1),!j&&A){E=T;break}_++}return E||h},SW=t=>{var e=Fn(t)?[]:t.toString().split(wie);return[{words:e}]},SLe=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:a}=t;if((e||n)&&!qu.isSsr){var l,c,u=_ie({breakAll:s,children:r,style:i});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;l=d,c=f}else return SW(r);return _Le({breakAll:s,children:r,maxLines:a,style:i},l,c,e,n)}return SW(r)},EW="#808080",yx=S.forwardRef((t,e)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:s="0.71em",scaleToFit:a=!1,textAnchor:l="start",verticalAnchor:c="end",fill:u=EW}=t,d=_W(t,yLe),f=S.useMemo(()=>SLe({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:a,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,a,d.style,d.width]),{dx:h,dy:m,angle:p,className:x,breakAll:v}=d,g=_W(d,bLe);if(!Go(n)||!Go(r))return null;var w=n+(At(h)?h:0),_=r+(At(m)?m:0),E;switch(c){case"start":E=gP("calc(".concat(s,")"));break;case"middle":E=gP("calc(".concat((f.length-1)/2," * -").concat(i," + (").concat(s," / 2))"));break;default:E=gP("calc(".concat(f.length-1," * -").concat(i,")"));break}var N=[];if(a){var C=f[0].width,{width:j}=d;N.push("scale(".concat(At(j)?j/C:1,")"))}return p&&N.push("rotate(".concat(p,", ").concat(w,", ").concat(_,")")),N.length&&(g.transform=N.join(" ")),S.createElement("text",eD({},Ut(g,!0),{ref:e,x:w,y:_,className:qt("recharts-text",x),textAnchor:l,fill:u.includes("url")?EW:u}),f.map((T,A)=>{var P=T.words.join(v?"":" ");return S.createElement("tspan",{x:w,dy:A===0?E:i,key:"".concat(P,"-").concat(A)},P)}))});yx.displayName="Text";var ELe=["offset"],NLe=["labelRef"];function NW(t,e){if(t==null)return{};var n,r,i=MLe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function MLe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function MW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ri(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MW(Object(n),!0).forEach(function(r){CLe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CLe(t,e,n){return(e=jLe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jLe(t){var e=ALe(t,"string");return typeof e=="symbol"?e:e+""}function ALe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lu(){return lu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lu.apply(null,arguments)}var TLe=t=>{var{value:e,formatter:n}=t,r=Fn(t.children)?e:t.children;return typeof n=="function"?n(r):r},tF=t=>t!=null&&typeof t=="function",PLe=(t,e)=>{var n=oi(e-t),r=Math.min(Math.abs(e-t),360);return n*r},kLe=(t,e,n)=>{var{position:r,viewBox:i,offset:s,className:a}=t,{cx:l,cy:c,innerRadius:u,outerRadius:d,startAngle:f,endAngle:h,clockWise:m}=i,p=(u+d)/2,x=PLe(f,h),v=x>=0?1:-1,g,w;r==="insideStart"?(g=f+v*s,w=m):r==="insideEnd"?(g=h-v*s,w=!m):r==="end"&&(g=h+v*s,w=m),w=x<=0?w:!w;var _=Ln(l,c,p,g),E=Ln(l,c,p,g+(w?1:-1)*359),N="M".concat(_.x,",").concat(_.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(w?0:1,`,
    `).concat(E.x,",").concat(E.y),C=Fn(t.id)?Im("recharts-radial-line-"):t.id;return S.createElement("text",lu({},n,{dominantBaseline:"central",className:qt("recharts-radial-bar-label",a)}),S.createElement("defs",null,S.createElement("path",{id:C,d:N})),S.createElement("textPath",{xlinkHref:"#".concat(C)},e))},RLe=t=>{var{viewBox:e,offset:n,position:r}=t,{cx:i,cy:s,innerRadius:a,outerRadius:l,startAngle:c,endAngle:u}=e,d=(c+u)/2;if(r==="outside"){var{x:f,y:h}=Ln(i,s,l+n,d);return{x:f,y:h,textAnchor:f>=i?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"end"};var m=(a+l)/2,{x:p,y:x}=Ln(i,s,m,d);return{x:p,y:x,textAnchor:"middle",verticalAnchor:"middle"}},OLe=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,{x:s,y:a,width:l,height:c}=e,u=c>=0?1:-1,d=u*r,f=u>0?"end":"start",h=u>0?"start":"end",m=l>=0?1:-1,p=m*r,x=m>0?"end":"start",v=m>0?"start":"end";if(i==="top"){var g={x:s+l/2,y:a-u*r,textAnchor:"middle",verticalAnchor:f};return ri(ri({},g),n?{height:Math.max(a-n.y,0),width:l}:{})}if(i==="bottom"){var w={x:s+l/2,y:a+c+d,textAnchor:"middle",verticalAnchor:h};return ri(ri({},w),n?{height:Math.max(n.y+n.height-(a+c),0),width:l}:{})}if(i==="left"){var _={x:s-p,y:a+c/2,textAnchor:x,verticalAnchor:"middle"};return ri(ri({},_),n?{width:Math.max(_.x-n.x,0),height:c}:{})}if(i==="right"){var E={x:s+l+p,y:a+c/2,textAnchor:v,verticalAnchor:"middle"};return ri(ri({},E),n?{width:Math.max(n.x+n.width-E.x,0),height:c}:{})}var N=n?{width:l,height:c}:{};return i==="insideLeft"?ri({x:s+p,y:a+c/2,textAnchor:v,verticalAnchor:"middle"},N):i==="insideRight"?ri({x:s+l-p,y:a+c/2,textAnchor:x,verticalAnchor:"middle"},N):i==="insideTop"?ri({x:s+l/2,y:a+d,textAnchor:"middle",verticalAnchor:h},N):i==="insideBottom"?ri({x:s+l/2,y:a+c-d,textAnchor:"middle",verticalAnchor:f},N):i==="insideTopLeft"?ri({x:s+p,y:a+d,textAnchor:v,verticalAnchor:h},N):i==="insideTopRight"?ri({x:s+l-p,y:a+d,textAnchor:x,verticalAnchor:h},N):i==="insideBottomLeft"?ri({x:s+p,y:a+c-d,textAnchor:v,verticalAnchor:f},N):i==="insideBottomRight"?ri({x:s+l-p,y:a+c-d,textAnchor:x,verticalAnchor:f},N):i&&typeof i=="object"&&(At(i.x)||Hh(i.x))&&(At(i.y)||Hh(i.y))?ri({x:s+Ys(i.x,l),y:a+Ys(i.y,c),textAnchor:"end",verticalAnchor:"end"},N):ri({x:s+l/2,y:a+c/2,textAnchor:"middle",verticalAnchor:"middle"},N)},DLe=t=>"cx"in t&&At(t.cx);function Ws(t){var{offset:e=5}=t,n=NW(t,ELe),r=ri({offset:e},n),{viewBox:i,position:s,value:a,children:l,content:c,className:u="",textBreakAll:d,labelRef:f}=r,h=MC(),m=i||h;if(!m||Fn(a)&&Fn(l)&&!S.isValidElement(c)&&typeof c!="function")return null;if(S.isValidElement(c)){var{labelRef:p}=r,x=NW(r,NLe);return S.cloneElement(c,x)}var v;if(typeof c=="function"){if(v=S.createElement(c,r),S.isValidElement(v))return v}else v=TLe(r);var g=DLe(m),w=Ut(r,!0);if(g&&(s==="insideStart"||s==="insideEnd"||s==="end"))return kLe(r,v,w);var _=g?RLe(r):OLe(r,m);return S.createElement(yx,lu({ref:f,className:qt("recharts-label",u)},w,_,{breakAll:d}),v)}Ws.displayName="Label";var Sie=t=>{var{cx:e,cy:n,angle:r,startAngle:i,endAngle:s,r:a,radius:l,innerRadius:c,outerRadius:u,x:d,y:f,top:h,left:m,width:p,height:x,clockWise:v,labelViewBox:g}=t;if(g)return g;if(At(p)&&At(x)){if(At(d)&&At(f))return{x:d,y:f,width:p,height:x};if(At(h)&&At(m))return{x:h,y:m,width:p,height:x}}if(At(d)&&At(f))return{x:d,y:f,width:0,height:0};if(At(e)&&At(n))return{cx:e,cy:n,startAngle:i||r||0,endAngle:s||r||0,innerRadius:c||0,outerRadius:u||l||a||0,clockWise:v};if(t.viewBox)return t.viewBox},ILe=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?S.createElement(Ws,lu({key:"label-implicit"},r)):Go(t)?S.createElement(Ws,lu({key:"label-implicit",value:t},r)):S.isValidElement(t)?t.type===Ws?S.cloneElement(t,ri({key:"label-implicit"},r)):S.createElement(Ws,lu({key:"label-implicit",content:t},r)):tF(t)?S.createElement(Ws,lu({key:"label-implicit",content:t},r)):t&&typeof t=="object"?S.createElement(Ws,lu({},t,{key:"label-implicit"},r)):null},LLe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:i,labelRef:s}=e,a=Sie(e),l=lx(i,Ws).map((u,d)=>S.cloneElement(u,{viewBox:n||a,key:"label-".concat(d)}));if(!r)return l;var c=ILe(e.label,n||a,s);return[c,...l]};Ws.parseViewBox=Sie;Ws.renderCallByParent=LLe;var Eie={},Nie={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(Nie);var Mie={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(Mie);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Nie,n=Mie,r=uC;function i(s){if(r.isArrayLike(s))return e.last(n.toArray(s))}t.last=i})(Eie);var FLe=Eie.last;const Cie=Pa(FLe);var ULe=["valueAccessor"],BLe=["data","dataKey","clockWise","id","textBreakAll"];function WN(){return WN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WN.apply(null,arguments)}function CW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CW(Object(n),!0).forEach(function(r){zLe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zLe(t,e,n){return(e=VLe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VLe(t){var e=WLe(t,"string");return typeof e=="symbol"?e:e+""}function WLe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function AW(t,e){if(t==null)return{};var n,r,i=$Le(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function $Le(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var HLe=t=>Array.isArray(t.value)?Cie(t.value):t.value;function wc(t){var{valueAccessor:e=HLe}=t,n=AW(t,ULe),{data:r,dataKey:i,clockWise:s,id:a,textBreakAll:l}=n,c=AW(n,BLe);return!r||!r.length?null:S.createElement(kn,{className:"recharts-label-list"},r.map((u,d)=>{var f=Fn(i)?e(u,d):Hn(u&&u.payload,i),h=Fn(a)?{}:{id:"".concat(a,"-").concat(d)};return S.createElement(Ws,WN({},Ut(u,!0),c,h,{parentViewBox:u.parentViewBox,value:f,textBreakAll:l,viewBox:Ws.parseViewBox(Fn(s)?u:jW(jW({},u),{},{clockWise:s})),key:"label-".concat(d),index:d}))}))}wc.displayName="LabelList";function GLe(t,e){return t?t===!0?S.createElement(wc,{key:"labelList-implicit",data:e}):S.isValidElement(t)||tF(t)?S.createElement(wc,{key:"labelList-implicit",data:e,content:t}):typeof t=="object"?S.createElement(wc,WN({data:e},t,{key:"labelList-implicit"})):null:null}function qLe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:r}=t,i=lx(r,wc).map((a,l)=>S.cloneElement(a,{data:e,key:"labelList-".concat(l)}));if(!n)return i;var s=GLe(t.label,e);return[s,...i]}wc.renderCallByParent=qLe;var KLe=["points","className","baseLinePoints","connectNulls"];function jg(){return jg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jg.apply(null,arguments)}function XLe(t,e){if(t==null)return{};var n,r,i=YLe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function YLe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var TW=t=>t&&t.x===+t.x&&t.y===+t.y,ZLe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(r=>{TW(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),TW(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},m0=(t,e)=>{var n=ZLe(t);e&&(n=[n.reduce((i,s)=>[...i,...s],[])]);var r=n.map(i=>i.reduce((s,a,l)=>"".concat(s).concat(l===0?"M":"L").concat(a.x,",").concat(a.y),"")).join("");return n.length===1?"".concat(r,"Z"):r},QLe=(t,e,n)=>{var r=m0(t,n);return"".concat(r.slice(-1)==="Z"?r.slice(0,-1):r,"L").concat(m0(e.reverse(),n).slice(1))},jie=t=>{var{points:e,className:n,baseLinePoints:r,connectNulls:i}=t,s=XLe(t,KLe);if(!e||!e.length)return null;var a=qt("recharts-polygon",n);if(r&&r.length){var l=s.stroke&&s.stroke!=="none",c=QLe(e,r,i);return S.createElement("g",{className:a},S.createElement("path",jg({},Ut(s,!0),{fill:c.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:c})),l?S.createElement("path",jg({},Ut(s,!0),{fill:"none",d:m0(e,i)})):null,l?S.createElement("path",jg({},Ut(s,!0),{fill:"none",d:m0(r,i)})):null)}var u=m0(e,i);return S.createElement("path",jg({},Ut(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",className:a,d:u}))};function tD(){return tD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tD.apply(null,arguments)}var GC=t=>{var{cx:e,cy:n,r,className:i}=t,s=qt("recharts-dot",i);return e===+e&&n===+n&&r===+r?S.createElement("circle",tD({},Ut(t,!1),SL(t),{className:s,cx:e,cy:n,r})):null},$w=t=>t.graphicalItems.polarItems,JLe=je([gr,Fw],T4),qC=je([$w,Kr,JLe],P4),e4e=je([qC],k4),KC=je([e4e,Lw],R4),Aie=je([KC,Kr,qC],O4),t4e=je([KC,Kr,qC],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var s,a=Hn(r,(s=e.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:a,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:Hn(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]}))),PW=()=>{},n4e=je([Kr,Tre,PW,t4e,PW],F4),Tie=je([Kr,dn,KC,Aie,fx,gr,n4e],U4),Pie=je([Tie,Kr,Ff],z4),r4e=je([Kr,Tie,Pie,gr],W4),nF=(t,e,n)=>{switch(e){case"angleAxis":return rp(t,n);case"radiusAxis":return hx(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},rF=(t,e,n)=>{switch(e){case"angleAxis":return DDe(t,n);case"radiusAxis":return IDe(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Uf=je([nF,Ff,r4e,rF],zC),kie=je([dn,Aie,px,gr],$4),op=je([dn,nF,Ff,Uf,Pie,rF,zw,kie,gr],Ure),i4e=je([dn,nF,Uf,rF,zw,kie,gr],zre),s4e=(t,e)=>op(t,"angleAxis",e,!1),a4e=je([s4e],t=>{if(t)return t.map(e=>e.coordinate)}),o4e=(t,e)=>op(t,"radiusAxis",e,!1),l4e=je([o4e],t=>{if(t)return t.map(e=>e.coordinate)}),c4e=["gridType","radialLines","angleAxisId","radiusAxisId","cx","cy","innerRadius","outerRadius"];function u4e(t,e){if(t==null)return{};var n,r,i=d4e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function d4e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ru(){return Ru=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ru.apply(null,arguments)}function kW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kW(Object(n),!0).forEach(function(r){f4e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function f4e(t,e,n){return(e=h4e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h4e(t){var e=m4e(t,"string");return typeof e=="symbol"?e:e+""}function m4e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var p4e=(t,e,n,r)=>{var i="";return r.forEach((s,a)=>{var l=Ln(e,n,t,s);a?i+="L ".concat(l.x,",").concat(l.y):i+="M ".concat(l.x,",").concat(l.y)}),i+="Z",i},g4e=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,polarAngles:s,radialLines:a}=t;if(!s||!s.length||!a)return null;var l=Dv({stroke:"#ccc"},Ut(t,!1));return S.createElement("g",{className:"recharts-polar-grid-angle"},s.map(c=>{var u=Ln(e,n,r,c),d=Ln(e,n,i,c);return S.createElement("line",Ru({},l,{key:"line-".concat(c),x1:u.x,y1:u.y,x2:d.x,y2:d.y}))}))},v4e=t=>{var{cx:e,cy:n,radius:r,index:i}=t,s=Dv(Dv({stroke:"#ccc"},Ut(t,!1)),{},{fill:"none"});return S.createElement("circle",Ru({},s,{className:qt("recharts-polar-grid-concentric-circle",t.className),key:"circle-".concat(i),cx:e,cy:n,r}))},x4e=t=>{var{radius:e,index:n}=t,r=Dv(Dv({stroke:"#ccc"},Ut(t,!1)),{},{fill:"none"});return S.createElement("path",Ru({},r,{className:qt("recharts-polar-grid-concentric-polygon",t.className),key:"path-".concat(n),d:p4e(e,t.cx,t.cy,t.polarAngles)}))},y4e=t=>{var{polarRadius:e,gridType:n}=t;return!e||!e.length?null:S.createElement("g",{className:"recharts-polar-grid-concentric"},e.map((r,i)=>{var s=i;return n==="circle"?S.createElement(v4e,Ru({key:s},t,{radius:r,index:i})):S.createElement(x4e,Ru({key:s},t,{radius:r,index:i}))}))},Rie=t=>{var e,n,r,i,s,a,l,c,{gridType:u="polygon",radialLines:d=!0,angleAxisId:f=0,radiusAxisId:h=0,cx:m,cy:p,innerRadius:x,outerRadius:v}=t,g=u4e(t,c4e),w=gt(mx),_=Dv({cx:(e=(n=w==null?void 0:w.cx)!==null&&n!==void 0?n:m)!==null&&e!==void 0?e:0,cy:(r=(i=w==null?void 0:w.cy)!==null&&i!==void 0?i:p)!==null&&r!==void 0?r:0,innerRadius:(s=(a=w==null?void 0:w.innerRadius)!==null&&a!==void 0?a:x)!==null&&s!==void 0?s:0,outerRadius:(l=(c=w==null?void 0:w.outerRadius)!==null&&c!==void 0?c:v)!==null&&l!==void 0?l:0},g),{polarAngles:E,polarRadius:N,cx:C,cy:j,innerRadius:T,outerRadius:A}=_,P=gt(I=>a4e(I,f)),R=gt(I=>l4e(I,h)),D=Array.isArray(E)?E:P,F=Array.isArray(N)?N:R;return A<=0||D==null||F==null?null:S.createElement("g",{className:"recharts-polar-grid"},S.createElement(g4e,Ru({cx:C,cy:j,innerRadius:T,outerRadius:A,gridType:u,radialLines:d},_,{polarAngles:D,polarRadius:F})),S.createElement(y4e,Ru({cx:C,cy:j,innerRadius:T,outerRadius:A,gridType:u,radialLines:d},_,{polarAngles:D,polarRadius:F})))};Rie.displayName="PolarGrid";var Oie={},Die={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){if(n.length===0)return;let i=n[0],s=r(i);for(let a=1;a<n.length;a++){const l=n[a],c=r(l);c>s&&(s=c,i=l)}return i}t.maxBy=e})(Die);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Die,n=Pw,r=dC;function i(s,a){if(s!=null)return e.maxBy(Array.from(s),r.iteratee(a??n.identity))}t.maxBy=i})(Oie);var b4e=Oie.maxBy;const w4e=Pa(b4e);var Iie={},Lie={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){if(n.length===0)return;let i=n[0],s=r(i);for(let a=1;a<n.length;a++){const l=n[a],c=r(l);c<s&&(s=c,i=l)}return i}t.minBy=e})(Lie);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Lie,n=Pw,r=dC;function i(s,a){if(s!=null)return e.minBy(Array.from(s),r.iteratee(a??n.identity))}t.minBy=i})(Iie);var _4e=Iie.minBy;const S4e=Pa(_4e);var E4e={radiusAxis:{},angleAxis:{}},Fie=Zo({name:"polarAxis",initialState:E4e,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:N4e,removeRadiusAxis:M4e,addAngleAxis:C4e,removeAngleAxis:j4e}=Fie.actions,A4e=Fie.reducer,T4e=["cx","cy","angle","axisLine"],P4e=["angle","tickFormatter","stroke","tick"];function Eb(){return Eb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Eb.apply(null,arguments)}function RW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RW(Object(n),!0).forEach(function(r){XC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XC(t,e,n){return(e=k4e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k4e(t){var e=R4e(t,"string");return typeof e=="symbol"?e:e+""}function R4e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Uie(t,e){if(t==null)return{};var n,r,i=O4e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function O4e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Bie="radiusAxis";function D4e(t){var e=Qn();return S.useEffect(()=>(e(N4e(t)),()=>{e(M4e(t))})),null}var I4e=(t,e,n,r)=>{var{coordinate:i}=t;return Ln(n,r,i,e)},L4e=t=>{var e;switch(t){case"left":e="end";break;case"right":e="start";break;default:e="middle";break}return e},F4e=(t,e,n,r)=>{var i=w4e(r,a=>a.coordinate||0),s=S4e(r,a=>a.coordinate||0);return{cx:e,cy:n,startAngle:t,endAngle:t,innerRadius:s.coordinate||0,outerRadius:i.coordinate||0}},U4e=(t,e)=>{var{cx:n,cy:r,angle:i,axisLine:s}=t,a=Uie(t,T4e),l=e.reduce((f,h)=>[Math.min(f[0],h.coordinate),Math.max(f[1],h.coordinate)],[1/0,-1/0]),c=Ln(n,r,l[0],i),u=Ln(n,r,l[1],i),d=fc(fc(fc({},Ut(a,!1)),{},{fill:"none"},Ut(s,!1)),{},{x1:c.x,y1:c.y,x2:u.x,y2:u.y});return S.createElement("line",Eb({className:"recharts-polar-radius-axis-line"},d))},B4e=(t,e,n)=>{var r;return S.isValidElement(t)?r=S.cloneElement(t,e):typeof t=="function"?r=t(e):r=S.createElement(yx,Eb({},e,{className:"recharts-polar-radius-axis-tick-value"}),n),r},z4e=(t,e)=>{var{angle:n,tickFormatter:r,stroke:i,tick:s}=t,a=Uie(t,P4e),l=L4e(t.orientation),c=Ut(a,!1),u=Ut(s,!1),d=e.map((f,h)=>{var m=I4e(f,t.angle,t.cx,t.cy),p=fc(fc(fc(fc({textAnchor:l,transform:"rotate(".concat(90-n,", ").concat(m.x,", ").concat(m.y,")")},c),{},{stroke:"none",fill:i},u),{},{index:h},m),{},{payload:f});return S.createElement(kn,Eb({className:qt("recharts-polar-radius-axis-tick",Vte(s)),key:"tick-".concat(f.coordinate)},Wu(t,f,h)),B4e(s,p,r?r(f.value,h):f.value))});return S.createElement(kn,{className:"recharts-polar-radius-axis-ticks"},d)},V4e=t=>{var{radiusAxisId:e}=t,n=gt(mx),r=gt(c=>Uf(c,"radiusAxis",e)),i=gt(c=>op(c,"radiusAxis",e,!1));if(n==null||!i||!i.length)return null;var s=fc(fc(fc({},t),{},{scale:r},n),{},{radius:n.outerRadius}),{tick:a,axisLine:l}=s;return S.createElement(kn,{className:qt("recharts-polar-radius-axis",Bie,s.className)},l&&U4e(s,i),a&&z4e(s,i),Ws.renderCallByParent(s,F4e(s.angle,s.cx,s.cy,i)))};class YC extends S.PureComponent{render(){return S.createElement(S.Fragment,null,S.createElement(D4e,{domain:this.props.domain,id:this.props.radiusAxisId,scale:this.props.scale,type:this.props.type,dataKey:this.props.dataKey,unit:void 0,name:this.props.name,allowDuplicatedCategory:this.props.allowDuplicatedCategory,allowDataOverflow:this.props.allowDataOverflow,reversed:this.props.reversed,includeHidden:this.props.includeHidden,allowDecimals:this.props.allowDecimals,tickCount:this.props.tickCount,ticks:this.props.ticks,tick:this.props.tick}),S.createElement(V4e,this.props))}}XC(YC,"displayName","PolarRadiusAxis");XC(YC,"axisType",Bie);XC(YC,"defaultProps",pa);var W4e=["children"];function Ou(){return Ou=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ou.apply(null,arguments)}function OW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OW(Object(n),!0).forEach(function(r){ZC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZC(t,e,n){return(e=$4e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $4e(t){var e=H4e(t,"string");return typeof e=="symbol"?e:e+""}function H4e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function G4e(t,e){if(t==null)return{};var n,r,i=q4e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function q4e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var K4e=Math.PI/180,DW=1e-5,zie="angleAxis";function X4e(t){var e=Qn(),n=S.useMemo(()=>{var{children:s}=t,a=G4e(t,W4e);return a},[t]),r=gt(s=>rp(s,n.id)),i=n===r;return S.useEffect(()=>(e(C4e(n)),()=>{e(j4e(n))}),[e,n]),i?t.children:null}var Y4e=(t,e)=>{var{cx:n,cy:r,radius:i,orientation:s,tickSize:a}=e,l=a||8,c=Ln(n,r,i,t.coordinate),u=Ln(n,r,i+(s==="inner"?-1:1)*l,t.coordinate);return{x1:c.x,y1:c.y,x2:u.x,y2:u.y}},Z4e=(t,e)=>{var n=Math.cos(-t.coordinate*K4e);return n>DW?e==="outer"?"start":"end":n<-DW?e==="outer"?"end":"start":"middle"},Q4e=t=>{var{cx:e,cy:n,radius:r,axisLineType:i,axisLine:s,ticks:a}=t;if(!s)return null;var l=lc(lc({},Ut(t,!1)),{},{fill:"none"},Ut(s,!1));if(i==="circle")return S.createElement(GC,Ou({className:"recharts-polar-angle-axis-line"},l,{cx:e,cy:n,r}));var c=a.map(u=>Ln(e,n,r,u.coordinate));return S.createElement(jie,Ou({className:"recharts-polar-angle-axis-line"},l,{points:c}))},J4e=t=>{var{tick:e,tickProps:n,value:r}=t;return e?S.isValidElement(e)?S.cloneElement(e,n):typeof e=="function"?e(n):S.createElement(yx,Ou({},n,{className:"recharts-polar-angle-axis-tick-value"}),r):null},eFe=t=>{var{tick:e,tickLine:n,tickFormatter:r,stroke:i,ticks:s}=t,a=Ut(t,!1),l=Ut(e,!1),c=lc(lc({},a),{},{fill:"none"},Ut(n,!1)),u=s.map((d,f)=>{var h=Y4e(d,t),m=Z4e(d,t.orientation),p=lc(lc(lc({textAnchor:m},a),{},{stroke:"none",fill:i},l),{},{index:f,payload:d,x:h.x2,y:h.y2});return S.createElement(kn,Ou({className:qt("recharts-polar-angle-axis-tick",Vte(e)),key:"tick-".concat(d.coordinate)},Wu(t,d,f)),n&&S.createElement("line",Ou({className:"recharts-polar-angle-axis-tick-line"},c,h)),S.createElement(J4e,{tick:e,tickProps:p,value:r?r(d.value,f):d.value}))});return S.createElement(kn,{className:"recharts-polar-angle-axis-ticks"},u)},tFe=t=>{var{angleAxisId:e}=t,n=gt(mx),r=gt(l=>Uf(l,"angleAxis",e)),i=Bi(),s=gt(l=>op(l,"angleAxis",e,i));if(n==null||!s||!s.length)return null;var a=lc(lc(lc({},t),{},{scale:r},n),{},{radius:n.outerRadius});return S.createElement(kn,{className:qt("recharts-polar-angle-axis",zie,a.className)},S.createElement(Q4e,Ou({},a,{ticks:s})),S.createElement(eFe,Ou({},a,{ticks:s})))};class QC extends S.PureComponent{render(){return this.props.radius<=0?null:S.createElement(X4e,{id:this.props.angleAxisId,scale:this.props.scale,type:this.props.type,dataKey:this.props.dataKey,unit:void 0,name:this.props.name,allowDuplicatedCategory:!1,allowDataOverflow:!1,reversed:this.props.reversed,includeHidden:!1,allowDecimals:this.props.allowDecimals,tickCount:this.props.tickCount,ticks:this.props.ticks,tick:this.props.tick,domain:this.props.domain},S.createElement(tFe,this.props))}}ZC(QC,"displayName","PolarAngleAxis");ZC(QC,"axisType",zie);ZC(QC,"defaultProps",oc);function IW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IW(Object(n),!0).forEach(function(r){nFe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nFe(t,e,n){return(e=rFe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rFe(t){var e=iFe(t,"string");return typeof e=="symbol"?e:e+""}function iFe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iF=(t,e)=>e,sFe=[],sF=(t,e,n)=>(n==null?void 0:n.length)===0?sFe:n,Vie=je([Lw,iF,sF],(t,e,n)=>{var{chartData:r}=t,i;if((e==null?void 0:e.data)!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(s=>LW(LW({},e.presentationProps),s.props))),i!=null)return i}),aFe=je([Vie,iF,sF],(t,e,n)=>{if(t!=null)return t.map((r,i)=>{var s,a=Hn(r,e.nameKey,e.name),l;return n!=null&&(s=n[i])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?l=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?l=r.fill:l=e.fill,{value:$u(a,e.dataKey),color:l,payload:r,type:e.legendType}})}),oFe=je([$w,iF],(t,e)=>{if(t.some(n=>n.type==="pie"&&e.dataKey===n.dataKey&&e.data===n.data))return e}),lFe=je([Vie,oFe,sF,Ei],(t,e,n,r)=>{if(!(e==null||t==null))return XFe({offset:r,pieSettings:e,displayedData:t,cells:n})}),cFe={countOfBars:0,cartesianItems:[],polarItems:[]},Wie=Zo({name:"graphicalItems",initialState:cFe,reducers:{addBar(t){t.countOfBars+=1},removeBar(t){t.countOfBars-=1},addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:n,next:r}=e.payload,i=vu(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},removeCartesianGraphicalItem(t,e){var n=vu(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var n=vu(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)}}}),{addBar:uFe,removeBar:dFe,addCartesianGraphicalItem:fFe,replaceCartesianGraphicalItem:hFe,removeCartesianGraphicalItem:mFe,addPolarGraphicalItem:pFe,removePolarGraphicalItem:gFe}=Wie.actions,vFe=Wie.reducer;function FW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FW(Object(n),!0).forEach(function(r){xFe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xFe(t,e,n){return(e=yFe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yFe(t){var e=bFe(t,"string");return typeof e=="symbol"?e:e+""}function bFe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wFe(t){var e=Qn(),n=S.useRef(null);return S.useEffect(()=>{var r=UW(UW({},t),{},{stackId:Gte(t.stackId)});n.current===null?e(fFe(r)):n.current!==r&&e(hFe({prev:n.current,next:r})),n.current=r},[e,t]),S.useEffect(()=>()=>{n.current&&(e(mFe(n.current)),n.current=null)},[e]),null}function $ie(t){var e=Qn();return S.useEffect(()=>(e(pFe(t)),()=>{e(gFe(t))}),[e,t]),null}var Hie={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const s=n[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${s}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(Hie);var _Fe=Hie.isPlainObject;const SFe=Pa(_Fe);function $N(){return $N=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$N.apply(null,arguments)}var BW=(t,e,n,r,i)=>{var s=n-r,a;return a="M ".concat(t,",").concat(e),a+="L ".concat(t+n,",").concat(e),a+="L ".concat(t+n-s/2,",").concat(e+i),a+="L ".concat(t+n-s/2-r,",").concat(e+i),a+="L ".concat(t,",").concat(e," Z"),a},EFe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},NFe=t=>{var e=ka(t,EFe),n=S.useRef(),[r,i]=S.useState(-1);S.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var v=n.current.getTotalLength();v&&i(v)}catch{}},[]);var{x:s,y:a,upperWidth:l,lowerWidth:c,height:u,className:d}=e,{animationEasing:f,animationDuration:h,animationBegin:m,isUpdateAnimationActive:p}=e;if(s!==+s||a!==+a||l!==+l||c!==+c||u!==+u||l===0&&c===0||u===0)return null;var x=qt("recharts-trapezoid",d);return p?S.createElement(jc,{canBegin:r>0,from:{upperWidth:0,lowerWidth:0,height:u,x:s,y:a},to:{upperWidth:l,lowerWidth:c,height:u,x:s,y:a},duration:h,animationEasing:f,isActive:p},v=>{var{upperWidth:g,lowerWidth:w,height:_,x:E,y:N}=v;return S.createElement(jc,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:h,easing:f},S.createElement("path",$N({},Ut(e,!0),{className:x,d:BW(E,N,g,w,_),ref:n})))}):S.createElement("g",null,S.createElement("path",$N({},Ut(e,!0),{className:x,d:BW(s,a,l,c,u)})))},MFe=["option","shapeType","propTransformer","activeClassName","isActive"];function CFe(t,e){if(t==null)return{};var n,r,i=jFe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jFe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function zW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zW(Object(n),!0).forEach(function(r){AFe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AFe(t,e,n){return(e=TFe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TFe(t){var e=PFe(t,"string");return typeof e=="symbol"?e:e+""}function PFe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kFe(t,e){return HN(HN({},e),t)}function RFe(t,e){return t==="symbols"}function VW(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return S.createElement(une,n);case"trapezoid":return S.createElement(NFe,n);case"sector":return S.createElement(hne,n);case"symbols":if(RFe(e))return S.createElement(jL,n);break;default:return null}}function OFe(t){return S.isValidElement(t)?t.props:t}function aF(t){var{option:e,shapeType:n,propTransformer:r=kFe,activeClassName:i="recharts-active-shape",isActive:s}=t,a=CFe(t,MFe),l;if(S.isValidElement(e))l=S.cloneElement(e,HN(HN({},a),OFe(e)));else if(typeof e=="function")l=e(a);else if(SFe(e)&&typeof e!="boolean"){var c=r(e,a);l=S.createElement(VW,{shapeType:n,elementProps:c})}else{var u=a;l=S.createElement(VW,{shapeType:n,elementProps:u})}return s?S.createElement(kn,{className:i},l):l}var JC=(t,e)=>{var n=Qn();return(r,i)=>s=>{t==null||t(r,i,s),n(qre({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},ej=t=>{var e=Qn();return(n,r)=>i=>{t==null||t(n,r,i),e(kIe())}},tj=(t,e)=>{var n=Qn();return(r,i)=>s=>{t==null||t(r,i,s),n(RIe({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function Hw(t){var{fn:e,args:n}=t,r=Qn(),i=Bi();return S.useEffect(()=>{if(!i){var s=e(n);return r(AIe(s)),()=>{r(TIe(s))}}},[e,n,r,i]),null}var Gie=()=>{};function qie(t){var{legendPayload:e}=t,n=Qn(),r=Bi();return S.useEffect(()=>r?Gie:(n(ene(e)),()=>{n(tne(e))}),[n,r,e]),null}function oF(t){var{legendPayload:e}=t,n=Qn(),r=gt(dn);return S.useEffect(()=>r!=="centric"&&r!=="radial"?Gie:(n(ene(e)),()=>{n(tne(e))}),[n,r,e]),null}function Gw(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=S.useRef(Im(e)),r=S.useRef(t);return r.current!==t&&(n.current=Im(e),r.current=t),n.current}var DFe=["onMouseEnter","onClick","onMouseLeave"];function IFe(t,e){if(t==null)return{};var n,r,i=LFe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function LFe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function WW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WW(Object(n),!0).forEach(function(r){nj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nj(t,e,n){return(e=FFe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FFe(t){var e=UFe(t,"string");return typeof e=="symbol"?e:e+""}function UFe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bm(){return Bm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bm.apply(null,arguments)}function BFe(t){var e=S.useMemo(()=>Ut(t,!1),[t]),n=S.useMemo(()=>lx(t.children,ap),[t.children]),r=S.useMemo(()=>({name:t.name,nameKey:t.nameKey,tooltipType:t.tooltipType,data:t.data,dataKey:t.dataKey,cx:t.cx,cy:t.cy,startAngle:t.startAngle,endAngle:t.endAngle,minAngle:t.minAngle,paddingAngle:t.paddingAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius,cornerRadius:t.cornerRadius,legendType:t.legendType,fill:t.fill,presentationProps:e}),[t.cornerRadius,t.cx,t.cy,t.data,t.dataKey,t.endAngle,t.innerRadius,t.minAngle,t.name,t.nameKey,t.outerRadius,t.paddingAngle,t.startAngle,t.tooltipType,t.legendType,t.fill,e]),i=gt(s=>aFe(s,r,n));return S.createElement(oF,{legendPayload:i})}function zFe(t){var{dataKey:e,nameKey:n,sectors:r,stroke:i,strokeWidth:s,fill:a,name:l,hide:c,tooltipType:u}=t;return{dataDefinedOnItem:r==null?void 0:r.map(d=>d.tooltipPayload),positions:r==null?void 0:r.map(d=>d.tooltipPosition),settings:{stroke:i,strokeWidth:s,fill:a,dataKey:e,nameKey:n,name:$u(l,e),hide:c,type:u,color:a,unit:""}}}var VFe=(t,e)=>t>e?"start":t<e?"end":"middle",WFe=(t,e,n)=>typeof e=="function"?e(t):Ys(e,n,n*.8),$Fe=(t,e,n)=>{var{top:r,left:i,width:s,height:a}=e,l=zte(s,a),c=i+Ys(t.cx,s,s/2),u=r+Ys(t.cy,a,a/2),d=Ys(t.innerRadius,l,0),f=WFe(n,t.outerRadius,l),h=t.maxRadius||Math.sqrt(s*s+a*a)/2;return{cx:c,cy:u,innerRadius:d,outerRadius:f,maxRadius:h}},HFe=(t,e)=>{var n=oi(e-t),r=Math.min(Math.abs(e-t),360);return n*r},GFe=(t,e)=>{if(S.isValidElement(t))return S.cloneElement(t,e);if(typeof t=="function")return t(e);var n=qt("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return S.createElement(YL,Bm({},e,{type:"linear",className:n}))},qFe=(t,e,n)=>{if(S.isValidElement(t))return S.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),S.isValidElement(r)))return r;var i=qt("recharts-pie-label-text",typeof t!="boolean"&&typeof t!="function"?t.className:"");return S.createElement(yx,Bm({},e,{alignmentBaseline:"middle",className:i}),r)};function KFe(t){var{sectors:e,props:n,showLabels:r}=t,{label:i,labelLine:s,dataKey:a}=n;if(!r||!i||!e)return null;var l=Ut(n,!1),c=Ut(i,!1),u=Ut(s,!1),d=typeof i=="object"&&"offsetRadius"in i&&i.offsetRadius||20,f=e.map((h,m)=>{var p=(h.startAngle+h.endAngle)/2,x=Ln(h.cx,h.cy,h.outerRadius+d,p),v=kr(kr(kr(kr({},l),h),{},{stroke:"none"},c),{},{index:m,textAnchor:VFe(x.x,h.cx)},x),g=kr(kr(kr(kr({},l),h),{},{fill:"none",stroke:h.fill},u),{},{index:m,points:[Ln(h.cx,h.cy,h.outerRadius,p),x],key:"line"});return S.createElement(kn,{key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(m)},s&&GFe(s,g),qFe(i,v,Hn(h,a)))});return S.createElement(kn,{className:"recharts-pie-labels"},f)}function Kie(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:i,showLabels:s}=t,a=gt(ku),{onMouseEnter:l,onClick:c,onMouseLeave:u}=i,d=IFe(i,DFe),f=JC(l,i.dataKey),h=ej(u),m=tj(c,i.dataKey);return e==null?null:S.createElement(S.Fragment,null,e.map((p,x)=>{if((p==null?void 0:p.startAngle)===0&&(p==null?void 0:p.endAngle)===0&&e.length!==1)return null;var v=n&&String(x)===a,g=a?r:null,w=v?n:g,_=kr(kr({},p),{},{stroke:p.stroke,tabIndex:-1,[Xte]:x,[Yte]:i.dataKey});return S.createElement(kn,Bm({tabIndex:-1,className:"recharts-pie-sector"},Wu(d,p,x),{onMouseEnter:f(p,x),onMouseLeave:h(p,x),onClick:m(p,x),key:"sector-".concat(p==null?void 0:p.startAngle,"-").concat(p==null?void 0:p.endAngle,"-").concat(p.midAngle,"-").concat(x)}),S.createElement(aF,Bm({option:w,isActive:v,shapeType:"sector"},_)))}),S.createElement(KFe,{sectors:e,props:i,showLabels:s}))}function XFe(t){var e,{pieSettings:n,displayedData:r,cells:i,offset:s}=t,{cornerRadius:a,startAngle:l,endAngle:c,dataKey:u,nameKey:d,tooltipType:f}=n,h=Math.abs(n.minAngle),m=HFe(l,c),p=Math.abs(m),x=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,v=r.filter(C=>Hn(C,u,0)!==0).length,g=(p>=360?v:v-1)*x,w=p-v*h-g,_=r.reduce((C,j)=>{var T=Hn(j,u,0);return C+(At(T)?T:0)},0),E;if(_>0){var N;E=r.map((C,j)=>{var T=Hn(C,u,0),A=Hn(C,d,j),P=$Fe(n,s,C),R=(At(T)?T:0)/_,D,F=kr(kr({},C),i&&i[j]&&i[j].props);j?D=N.endAngle+oi(m)*x*(T!==0?1:0):D=l;var I=D+oi(m)*((T!==0?h:0)+R*w),G=(D+I)/2,q=(P.innerRadius+P.outerRadius)/2,$=[{name:A,value:T,payload:F,dataKey:u,type:f}],L=Ln(P.cx,P.cy,q,G);return N=kr(kr(kr(kr({},n.presentationProps),{},{percent:R,cornerRadius:a,name:A,tooltipPayload:$,midAngle:G,middleRadius:q,tooltipPosition:L},F),P),{},{value:Hn(C,u),startAngle:D,endAngle:I,payload:F,paddingAngle:oi(m)*x}),N})}return E}function YFe(t){var{props:e,previousSectorsRef:n}=t,{sectors:r,isAnimationActive:i,animationBegin:s,animationDuration:a,animationEasing:l,activeShape:c,inactiveShape:u,onAnimationStart:d,onAnimationEnd:f}=e,h=Gw(e,"recharts-pie-"),m=n.current,[p,x]=S.useState(!0),v=S.useCallback(()=>{typeof f=="function"&&f(),x(!1)},[f]),g=S.useCallback(()=>{typeof d=="function"&&d(),x(!0)},[d]);return S.createElement(jc,{begin:s,duration:a,isActive:i,easing:l,from:{t:0},to:{t:1},onAnimationStart:g,onAnimationEnd:v,key:h},w=>{var{t:_}=w,E=[],N=r&&r[0],C=N.startAngle;return r.forEach((j,T)=>{var A=m&&m[T],P=T>0?xf(j,"paddingAngle",0):0;if(A){var R=si(A.endAngle-A.startAngle,j.endAngle-j.startAngle),D=kr(kr({},j),{},{startAngle:C+P,endAngle:C+R(_)+P});E.push(D),C=D.endAngle}else{var{endAngle:F,startAngle:I}=j,G=si(0,F-I),q=G(_),$=kr(kr({},j),{},{startAngle:C+P,endAngle:C+q+P});E.push($),C=$.endAngle}}),n.current=E,S.createElement(kn,null,S.createElement(Kie,{sectors:E,activeShape:c,inactiveShape:u,allOtherPieProps:e,showLabels:!p}))})}function ZFe(t){var{sectors:e,isAnimationActive:n,activeShape:r,inactiveShape:i}=t,s=S.useRef(null),a=s.current;return n&&e&&e.length&&(!a||a!==e)?S.createElement(YFe,{props:t,previousSectorsRef:s}):S.createElement(Kie,{sectors:e,activeShape:r,inactiveShape:i,allOtherPieProps:t,showLabels:!0})}function QFe(t){var{hide:e,className:n,rootTabIndex:r}=t,i=qt("recharts-pie",n);return e?null:S.createElement(kn,{tabIndex:r,className:i},S.createElement(ZFe,t))}var Xie={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!qu.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function JFe(t){var e=ka(t,Xie),n=S.useMemo(()=>lx(t.children,ap),[t.children]),r=Ut(e,!1),i=S.useMemo(()=>({name:e.name,nameKey:e.nameKey,tooltipType:e.tooltipType,data:e.data,dataKey:e.dataKey,cx:e.cx,cy:e.cy,startAngle:e.startAngle,endAngle:e.endAngle,minAngle:e.minAngle,paddingAngle:e.paddingAngle,innerRadius:e.innerRadius,outerRadius:e.outerRadius,cornerRadius:e.cornerRadius,legendType:e.legendType,fill:e.fill,presentationProps:r}),[e.cornerRadius,e.cx,e.cy,e.data,e.dataKey,e.endAngle,e.innerRadius,e.minAngle,e.name,e.nameKey,e.outerRadius,e.paddingAngle,e.startAngle,e.tooltipType,e.legendType,e.fill,r]),s=gt(a=>lFe(a,i,n));return S.createElement(S.Fragment,null,S.createElement(Hw,{fn:zFe,args:kr(kr({},e),{},{sectors:s})}),S.createElement(QFe,Bm({},e,{sectors:s})))}class rj extends S.PureComponent{constructor(){super(...arguments),nj(this,"id",Im("recharts-pie-"))}render(){return S.createElement(S.Fragment,null,S.createElement($ie,{data:this.props.data,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:0,radiusAxisId:0,stackId:void 0,barSize:void 0,type:"pie"}),S.createElement(BFe,this.props),S.createElement(JFe,this.props),this.props.children)}}nj(rj,"displayName","Pie");nj(rj,"defaultProps",Xie);var eUe=je([Ei],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),tUe=je([eUe,Hu,Gu],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),nUe=t=>{var e=Bi();return gt(n=>Tc(n,"xAxis",t,e))},rUe=t=>{var e=Bi();return gt(n=>Tc(n,"yAxis",t,e))},lF=()=>gt(tUe),iUe=()=>gt(v3e);function $W(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$W(Object(n),!0).forEach(function(r){sUe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$W(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sUe(t,e,n){return(e=aUe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aUe(t){var e=oUe(t,"string");return typeof e=="symbol"?e:e+""}function oUe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lUe=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:s}=t;if(i===!1||e.x==null||e.y==null)return null;var a=HW(HW({index:n,dataKey:s,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},Ut(i,!1)),SL(i)),l;return S.isValidElement(i)?l=S.cloneElement(i,a):typeof i=="function"?l=i(a):l=S.createElement(GC,a),S.createElement(kn,{className:"recharts-active-dot"},l)};function Yie(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i}=t,s=gt(ku),a=iUe();if(e==null||a==null)return null;var l=e.find(c=>a.includes(c.payload));return Fn(l)?null:lUe({point:l,childIndex:Number(s),mainColor:n,dataKey:i,activeDot:r})}var Zie=t=>S.createElement($ie,t);function GW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GW(Object(n),!0).forEach(function(r){cUe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cUe(t,e,n){return(e=uUe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uUe(t){var e=dUe(t,"string");return typeof e=="symbol"?e:e+""}function dUe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qie=(t,e)=>Uf(t,"radiusAxis",e),fUe=je([Qie],t=>{if(t!=null)return{scale:t}}),hUe=je([hx,Qie],(t,e)=>{if(!(t==null||e==null))return GN(GN({},t),{},{scale:e})}),mUe=(t,e,n,r)=>op(t,"radiusAxis",e,r),Jie=(t,e,n)=>rp(t,n),ese=(t,e,n)=>Uf(t,"angleAxis",n),pUe=je([Jie,ese],(t,e)=>{if(!(t==null||e==null))return GN(GN({},t),{},{scale:e})}),gUe=(t,e,n,r)=>op(t,"angleAxis",n,r),vUe=je([Jie,ese,mx],(t,e,n)=>{if(!(n==null||e==null))return{scale:e,type:t.type,dataKey:t.dataKey,cx:n.cx,cy:n.cy}}),xUe=(t,e,n,r,i)=>i,yUe=je([dn,hUe,mUe,pUe,gUe],(t,e,n,r,i)=>Rc(t,"radiusAxis")?Dl(e,n,!1):Dl(r,i,!1)),bUe=je([$w,xUe],(t,e)=>{if(t.some(n=>n.type==="radar"&&e===n.dataKey))return e}),wUe=je([fUe,vUe,Lw,bUe,yUe],(t,e,n,r,i)=>{var{chartData:s,dataStartIndex:a,dataEndIndex:l}=n;if(!(t==null||e==null||s==null||i==null||r==null)){var c=s.slice(a,l+1);return CUe({radiusAxis:t,angleAxis:e,displayedData:c,dataKey:r,bandSize:i})}});function qW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qW(Object(n),!0).forEach(function(r){cF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cF(t,e,n){return(e=_Ue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _Ue(t){var e=SUe(t,"string");return typeof e=="symbol"?e:e+""}function SUe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nb(){return Nb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nb.apply(null,arguments)}function uF(t,e){return t&&t!=="none"?t:e}var EUe=t=>{var{dataKey:e,name:n,stroke:r,fill:i,legendType:s,hide:a}=t;return[{inactive:a,dataKey:e,type:s,color:uF(r,i),value:$u(n,e),payload:t}]};function NUe(t){var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:s,hide:a,tooltipType:l}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,nameKey:void 0,dataKey:e,name:$u(s,e),hide:a,type:l,color:uF(n,i),unit:""}}}function MUe(t,e){var n;return S.isValidElement(t)?n=S.cloneElement(t,e):typeof t=="function"?n=t(e):n=S.createElement(GC,Nb({},e,{className:qt("recharts-radar-dot",typeof t!="boolean"?t.className:"")})),n}function CUe(t){var{radiusAxis:e,angleAxis:n,displayedData:r,dataKey:i,bandSize:s}=t,{cx:a,cy:l}=n,c=!1,u=[],d=n.type!=="number"?s??0:0;r.forEach((h,m)=>{var p=Hn(h,n.dataKey,m),x=Hn(h,i),v=n.scale(p)+d,g=Array.isArray(x)?Cie(x):x,w=Fn(g)?void 0:e.scale(g);Array.isArray(x)&&x.length>=2&&(c=!0),u.push(Gs(Gs({},Ln(a,l,w,v)),{},{name:p,value:x,cx:a,cy:l,radius:w,angle:v,payload:h}))});var f=[];return c&&u.forEach(h=>{if(Array.isArray(h.value)){var m=h.value[0],p=Fn(m)?void 0:e.scale(m);f.push(Gs(Gs({},h),{},{radius:p},Ln(a,l,p,h.angle)))}else f.push(h)}),{points:u,isRange:c,baseLinePoints:f}}function jUe(t){var{points:e,props:n}=t,{dot:r,dataKey:i}=n;if(!r)return null;var s=Ut(n,!1),a=Ut(r,!0),l=e.map((c,u)=>{var d=Gs(Gs(Gs({key:"dot-".concat(u),r:3},s),a),{},{dataKey:i,cx:c.x,cy:c.y,index:u,payload:c});return MUe(r,d)});return S.createElement(kn,{className:"recharts-radar-dots"},l)}function tse(t){var{points:e,props:n,showLabels:r}=t;if(e==null)return null;var{shape:i,isRange:s,baseLinePoints:a,connectNulls:l}=n,c=f=>{var{onMouseEnter:h}=n;h&&h(n,f)},u=f=>{var{onMouseLeave:h}=n;h&&h(n,f)},d;return S.isValidElement(i)?d=S.cloneElement(i,Gs(Gs({},n),{},{points:e})):typeof i=="function"?d=i(Gs(Gs({},n),{},{points:e})):d=S.createElement(jie,Nb({},Ut(n,!0),{onMouseEnter:c,onMouseLeave:u,points:e,baseLinePoints:s?a:null,connectNulls:l})),S.createElement(kn,{className:"recharts-radar-polygon"},d,S.createElement(jUe,{props:n,points:e}),r&&wc.renderCallByParent(n,e))}function AUe(t){var{props:e,previousPointsRef:n}=t,{points:r,isAnimationActive:i,animationBegin:s,animationDuration:a,animationEasing:l,onAnimationEnd:c,onAnimationStart:u}=e,d=n.current,f=Gw(e,"recharts-radar-"),[h,m]=S.useState(!0),p=S.useCallback(()=>{typeof c=="function"&&c(),m(!1)},[c]),x=S.useCallback(()=>{typeof u=="function"&&u(),m(!0)},[u]);return S.createElement(jc,{begin:s,duration:a,isActive:i,easing:l,from:{t:0},to:{t:1},key:"radar-".concat(f),onAnimationEnd:p,onAnimationStart:x},v=>{var{t:g}=v,w=d&&d.length/r.length,_=g===1?r:r.map((E,N)=>{var C=d&&d[Math.floor(N*w)];if(C){var j=si(C.x,E.x),T=si(C.y,E.y);return Gs(Gs({},E),{},{x:j(g),y:T(g)})}var A=si(E.cx,E.x),P=si(E.cy,E.y);return Gs(Gs({},E),{},{x:A(g),y:P(g)})});return g>0&&(n.current=_),S.createElement(tse,{points:_,props:e,showLabels:!h})})}function TUe(t){var{points:e,isAnimationActive:n,isRange:r}=t,i=S.useRef(void 0),s=i.current;return n&&e&&e.length&&!r&&(!s||s!==e)?S.createElement(AUe,{props:t,previousPointsRef:i}):S.createElement(tse,{points:e,props:t,showLabels:!0})}var PUe={angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!qu.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"};class kUe extends S.PureComponent{render(){var{hide:e,className:n,points:r}=this.props;if(e)return null;var i=qt("recharts-radar",n);return S.createElement(S.Fragment,null,S.createElement(kn,{className:i},S.createElement(TUe,this.props)),S.createElement(Yie,{points:r,mainColor:uF(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}function RUe(t){var e=Bi(),n=gt(r=>wUe(r,t.radiusAxisId,t.angleAxisId,e,t.dataKey));return S.createElement(kUe,Nb({},t,{points:n==null?void 0:n.points,baseLinePoints:n==null?void 0:n.baseLinePoints,isRange:n==null?void 0:n.isRange}))}class dF extends S.PureComponent{render(){return S.createElement(S.Fragment,null,S.createElement(Zie,{data:void 0,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:this.props.angleAxisId,radiusAxisId:this.props.radiusAxisId,stackId:void 0,barSize:void 0,type:"radar"}),S.createElement(oF,{legendPayload:EUe(this.props)}),S.createElement(Hw,{fn:NUe,args:this.props}),S.createElement(RUe,this.props))}}cF(dF,"displayName","Radar");cF(dF,"defaultProps",PUe);function nD(){return nD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nD.apply(null,arguments)}function KW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KW(Object(n),!0).forEach(function(r){OUe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OUe(t,e,n){return(e=DUe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DUe(t){var e=IUe(t,"string");return typeof e=="symbol"?e:e+""}function IUe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nse(t){return typeof t=="string"?parseInt(t,10):t}function LUe(t,e){var n="".concat(e.cx||t.cx),r=Number(n),i="".concat(e.cy||t.cy),s=Number(i);return vP(vP(vP({},e),t),{},{cx:r,cy:s})}function rse(t){return S.createElement(aF,nD({shapeType:"sector",propTransformer:LUe},t))}var ise=()=>{var t=Qn();return S.useEffect(()=>(t(uFe()),()=>{t(dFe())})),null},FUe=["children"];function UUe(t,e){if(t==null)return{};var n,r,i=BUe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function BUe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var XW=()=>{},sse=S.createContext({addErrorBar:XW,removeErrorBar:XW}),zUe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},ase=S.createContext(zUe);function ose(t){var{children:e}=t,n=UUe(t,FUe);return S.createElement(ase.Provider,{value:n},e)}var VUe=()=>S.useContext(ase),lse=t=>{var{children:e,xAxisId:n,yAxisId:r,zAxisId:i,dataKey:s,data:a,stackId:l,hide:c,type:u,barSize:d}=t,[f,h]=S.useState([]),m=S.useCallback(v=>{h(g=>[...g,v])},[h]),p=S.useCallback(v=>{h(g=>g.filter(w=>w!==v))},[h]),x=Bi();return S.createElement(sse.Provider,{value:{addErrorBar:m,removeErrorBar:p}},S.createElement(wFe,{type:u,data:a,xAxisId:n,yAxisId:r,zAxisId:i,dataKey:s,errorBars:f,stackId:l,hide:c,barSize:d,isPanorama:x}),e)};function WUe(t){var{addErrorBar:e,removeErrorBar:n}=S.useContext(sse);return S.useEffect(()=>(e(t),()=>{n(t)}),[e,n,t]),null}var $Ue=["direction","width","dataKey","isAnimationActive","animationBegin","animationDuration","animationEasing"];function cse(t,e,n){return(e=HUe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HUe(t){var e=GUe(t,"string");return typeof e=="symbol"?e:e+""}function GUe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mb(){return Mb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mb.apply(null,arguments)}function qUe(t,e){if(t==null)return{};var n,r,i=KUe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function KUe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function XUe(t){var{direction:e,width:n,dataKey:r,isAnimationActive:i,animationBegin:s,animationDuration:a,animationEasing:l}=t,c=qUe(t,$Ue),u=Ut(c,!1),{data:d,dataPointFormatter:f,xAxisId:h,yAxisId:m,errorBarOffset:p}=VUe(),x=nUe(h),v=rUe(m);if((x==null?void 0:x.scale)==null||(v==null?void 0:v.scale)==null||d==null||e==="x"&&x.type!=="number")return null;var g=d.map(w=>{var{x:_,y:E,value:N,errorVal:C}=f(w,r,e);if(!C)return null;var j=[],T,A;if(Array.isArray(C)?[T,A]=C:T=A=C,e==="x"){var{scale:P}=x,R=E+p,D=R+n,F=R-n,I=P(N-T),G=P(N+A);j.push({x1:G,y1:D,x2:G,y2:F}),j.push({x1:I,y1:R,x2:G,y2:R}),j.push({x1:I,y1:D,x2:I,y2:F})}else if(e==="y"){var{scale:q}=v,$=_+p,L=$-n,V=$+n,K=q(N-T),W=q(N+A);j.push({x1:L,y1:W,x2:V,y2:W}),j.push({x1:$,y1:K,x2:$,y2:W}),j.push({x1:L,y1:K,x2:V,y2:K})}var B="".concat(_+p,"px ").concat(E+p,"px");return S.createElement(kn,Mb({className:"recharts-errorBar",key:"bar-".concat(j.map(ee=>"".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)))},u),j.map(ee=>{var Y=i?{transformOrigin:"".concat(ee.x1-5,"px")}:void 0;return S.createElement(jc,{from:{transform:"scaleY(0)",transformOrigin:B},to:{transform:"scaleY(1)",transformOrigin:B},begin:s,easing:l,isActive:i,duration:a,key:"line-".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2),style:{transformOrigin:B}},S.createElement("line",Mb({},ee,{style:Y})))}))});return S.createElement(kn,{className:"recharts-errorBars"},g)}var use=S.createContext(void 0);function YUe(t){var e=S.useContext(use);return t??e??"x"}function dse(t){var{direction:e,children:n}=t;return S.createElement(use.Provider,{value:e},n)}var fse={stroke:"black",strokeWidth:1.5,width:5,offset:0,isAnimationActive:!0,animationBegin:0,animationDuration:400,animationEasing:"ease-in-out"};function ZUe(t){var e=YUe(t.direction),{width:n,isAnimationActive:r,animationBegin:i,animationDuration:s,animationEasing:a}=ka(t,fse);return S.createElement(S.Fragment,null,S.createElement(WUe,{dataKey:t.dataKey,direction:e}),S.createElement(XUe,Mb({},t,{direction:e,width:n,isAnimationActive:r,animationBegin:i,animationDuration:s,animationEasing:a})))}class hse extends S.Component{render(){return S.createElement(ZUe,this.props)}}cse(hse,"defaultProps",fse);cse(hse,"displayName","ErrorBar");var QUe="Invariant failed";function JUe(t,e){throw new Error(QUe)}var e5e=["x","y"];function rD(){return rD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rD.apply(null,arguments)}function YW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YW(Object(n),!0).forEach(function(r){t5e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function t5e(t,e,n){return(e=n5e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n5e(t){var e=r5e(t,"string");return typeof e=="symbol"?e:e+""}function r5e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function i5e(t,e){if(t==null)return{};var n,r,i=s5e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function s5e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function a5e(t,e){var{x:n,y:r}=t,i=i5e(t,e5e),s="".concat(n),a=parseInt(s,10),l="".concat(r),c=parseInt(l,10),u="".concat(e.height||i.height),d=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return yy(yy(yy(yy(yy({},e),i),a?{x:a}:{}),c?{y:c}:{}),{},{height:d,width:h,name:e.name,radius:e.radius})}function mse(t){return S.createElement(aF,rD({shapeType:"rectangle",propTransformer:a5e,activeClassName:"recharts-active-bar"},t))}var o5e=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(At(e))return e;var s=At(r)||Fn(r);return s?e(r,i):(s||JUe(),n)}};function fF(t,e){var n,r,i=gt(u=>Oc(u,t)),s=gt(u=>Xu(u,e)),a=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Ga.allowDataOverflow,l=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:qa.allowDataOverflow,c=a||l;return{needClip:c,needClipX:a,needClipY:l}}function pse(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=lF(),{needClipX:s,needClipY:a,needClip:l}=fF(e,n);if(!l)return null;var{x:c,y:u,width:d,height:f}=i;return S.createElement("clipPath",{id:"clipPath-".concat(r)},S.createElement("rect",{x:s?c:c-d/2,y:a?u:u-f/2,width:s?d:d*2,height:a?f:f*2}))}var l5e=["onMouseEnter","onMouseLeave","onClick"],c5e=["value","background","tooltipPosition"],u5e=["onMouseEnter","onClick","onMouseLeave"];function Cb(){return Cb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cb.apply(null,arguments)}function ZW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ys(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZW(Object(n),!0).forEach(function(r){ij(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ij(t,e,n){return(e=d5e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d5e(t){var e=f5e(t,"string");return typeof e=="symbol"?e:e+""}function f5e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iD(t,e){if(t==null)return{};var n,r,i=h5e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function h5e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var m5e=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:$u(n,e),payload:t}]};function p5e(t){var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:s,hide:a,unit:l}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:$u(s,e),hide:a,type:t.tooltipType,color:t.fill,unit:l}}}function g5e(t){var e=gt(ku),{data:n,dataKey:r,background:i,allOtherBarProps:s}=t,{onMouseEnter:a,onMouseLeave:l,onClick:c}=s,u=iD(s,l5e),d=JC(a,r),f=ej(l),h=tj(c,r);if(!i||n==null)return null;var m=Ut(i,!1);return S.createElement(S.Fragment,null,n.map((p,x)=>{var{value:v,background:g,tooltipPosition:w}=p,_=iD(p,c5e);if(!g)return null;var E=d(p,x),N=f(p,x),C=h(p,x),j=ys(ys(ys(ys(ys({option:i,isActive:String(x)===e},_),{},{fill:"#eee"},g),m),Wu(u,p,x)),{},{onMouseEnter:E,onMouseLeave:N,onClick:C,dataKey:r,index:x,className:"recharts-bar-background-rectangle"});return S.createElement(mse,Cb({key:"background-bar-".concat(x)},j))}))}function gse(t){var{data:e,props:n,showLabels:r}=t,i=Ut(n,!1),{shape:s,dataKey:a,activeBar:l}=n,c=gt(ku),u=gt(aie),{onMouseEnter:d,onClick:f,onMouseLeave:h}=n,m=iD(n,u5e),p=JC(d,a),x=ej(h),v=tj(f,a);return e?S.createElement(S.Fragment,null,e.map((g,w)=>{var _=l&&String(w)===c&&(u==null||a===u),E=_?l:s,N=ys(ys(ys({},i),g),{},{isActive:_,option:E,index:w,dataKey:a});return S.createElement(kn,Cb({className:"recharts-bar-rectangle"},Wu(m,g,w),{onMouseEnter:p(g,w),onMouseLeave:x(g,w),onClick:v(g,w),key:"rectangle-".concat(g==null?void 0:g.x,"-").concat(g==null?void 0:g.y,"-").concat(g==null?void 0:g.value,"-").concat(w)}),S.createElement(mse,N))}),r&&wc.renderCallByParent(n,e)):null}function v5e(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:s,animationBegin:a,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=e,f=n.current,h=Gw(e,"recharts-bar-"),[m,p]=S.useState(!1),x=S.useCallback(()=>{typeof u=="function"&&u(),p(!1)},[u]),v=S.useCallback(()=>{typeof d=="function"&&d(),p(!0)},[d]);return S.createElement(jc,{begin:a,duration:l,isActive:s,easing:c,from:{t:0},to:{t:1},onAnimationEnd:x,onAnimationStart:v,key:h},g=>{var{t:w}=g,_=w===1?r:r.map((E,N)=>{var C=f&&f[N];if(C){var j=si(C.x,E.x),T=si(C.y,E.y),A=si(C.width,E.width),P=si(C.height,E.height);return ys(ys({},E),{},{x:j(w),y:T(w),width:A(w),height:P(w)})}if(i==="horizontal"){var R=si(0,E.height),D=R(w);return ys(ys({},E),{},{y:E.y+E.height-D,height:D})}var F=si(0,E.width),I=F(w);return ys(ys({},E),{},{width:I})});return w>0&&(n.current=_),S.createElement(kn,null,S.createElement(gse,{props:e,data:_,showLabels:!m}))})}function x5e(t){var{data:e,isAnimationActive:n}=t,r=S.useRef(null);return n&&e&&e.length&&(r.current==null||r.current!==e)?S.createElement(v5e,{previousRectanglesRef:r,props:t}):S.createElement(gse,{props:t,data:e,showLabels:!0})}var vse=0,y5e=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:Hn(t,e)}};class b5e extends S.PureComponent{constructor(){super(...arguments),ij(this,"id",Im("recharts-bar-"))}render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:s,yAxisId:a,needClip:l,background:c,id:u,layout:d}=this.props;if(e)return null;var f=qt("recharts-bar",i),h=Fn(u)?this.id:u;return S.createElement(kn,{className:f},l&&S.createElement("defs",null,S.createElement(pse,{clipPathId:h,xAxisId:s,yAxisId:a})),S.createElement(kn,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(h,")"):null},S.createElement(g5e,{data:n,dataKey:r,background:c,allOtherBarProps:this.props}),S.createElement(x5e,this.props)),S.createElement(dse,{direction:d==="horizontal"?"y":"x"},this.props.children))}}var xse={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!qu.isSsr,legendType:"rect",minPointSize:vse,xAxisId:0,yAxisId:0};function w5e(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:a,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d}=ka(t,xse),{needClip:f}=fF(e,n),h=CC(),m=Bi(),p=S.useMemo(()=>({barSize:t.barSize,data:void 0,dataKey:t.dataKey,maxBarSize:t.maxBarSize,minPointSize:s,stackId:Gte(t.stackId)}),[t.barSize,t.dataKey,t.maxBarSize,s,t.stackId]),x=lx(t.children,ap),v=gt(_=>G5e(_,e,n,m,p,x));if(h!=="vertical"&&h!=="horizontal")return null;var g,w=v==null?void 0:v[0];return w==null||w.height==null||w.width==null?g=0:g=h==="vertical"?w.height/2:w.width/2,S.createElement(ose,{xAxisId:e,yAxisId:n,data:v,dataPointFormatter:y5e,errorBarOffset:g},S.createElement(b5e,Cb({},t,{layout:h,needClip:f,data:v,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:a,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function _5e(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:s,xAxis:a,yAxis:l,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:f,offset:h,cells:m}=t,p=e==="horizontal"?l:a,x=d?p.scale.domain():null,v=qte({numericAxis:p});return f.map((g,w)=>{var _,E,N,C,j,T;d?_=Hte(d[w],x):(_=Hn(g,n),Array.isArray(_)||(_=[v,_]));var A=o5e(r,vse)(_[1],w);if(e==="horizontal"){var P,[R,D]=[l.scale(_[0]),l.scale(_[1])];E=CN({axis:a,ticks:c,bandSize:s,offset:i.offset,entry:g,index:w}),N=(P=D??R)!==null&&P!==void 0?P:void 0,C=i.size;var F=R-D;if(j=ea(F)?0:F,T={x:E,y:h.top,width:C,height:h.height},Math.abs(A)>0&&Math.abs(j)<Math.abs(A)){var I=oi(j||A)*(Math.abs(A)-Math.abs(j));N-=I,j+=I}}else{var[G,q]=[a.scale(_[0]),a.scale(_[1])];if(E=G,N=CN({axis:l,ticks:u,bandSize:s,offset:i.offset,entry:g,index:w}),C=q-G,j=i.size,T={x:h.left,y:N,width:h.width,height:j},Math.abs(A)>0&&Math.abs(C)<Math.abs(A)){var $=oi(C||A)*(Math.abs(A)-Math.abs(C));C+=$}}var L=ys(ys({},g),{},{x:E,y:N,width:C,height:j,value:d?_:_[1],payload:g,background:T,tooltipPosition:{x:E+C/2,y:N+j/2}},m&&m[w]&&m[w].props);return L})}class hc extends S.PureComponent{render(){return S.createElement(lse,{type:"bar",data:null,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:this.props.stackId,hide:this.props.hide,barSize:this.props.barSize},S.createElement(ise,null),S.createElement(qie,{legendPayload:m5e(this.props)}),S.createElement(Hw,{fn:p5e,args:this.props}),S.createElement(w5e,this.props))}}ij(hc,"displayName","Bar");ij(hc,"defaultProps",xse);function QW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function V_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QW(Object(n),!0).forEach(function(r){S5e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function S5e(t,e,n){return(e=E5e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E5e(t){var e=N5e(t,"string");return typeof e=="symbol"?e:e+""}function N5e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var M5e=(t,e)=>e,C5e=(t,e,n)=>n,j5e=(t,e,n,r)=>r,hF=(t,e,n,r,i)=>i,A5e=(t,e,n,r,i)=>i.maxBarSize,T5e=(t,e,n,r,i,s)=>s,JW=(t,e,n)=>{var r=n??t;if(!Fn(r))return Ys(r,e,0)},P5e=je([dn,FC,M5e,C5e,j5e],(t,e,n,r,i)=>e.filter(s=>t==="horizontal"?s.xAxisId===n:s.yAxisId===r).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),k5e=(t,e,n,r)=>{var i=dn(t);return i==="horizontal"?KO(t,"yAxis",n,r):KO(t,"xAxis",e,r)},R5e=(t,e,n)=>{var r=dn(t);return r==="horizontal"?rW(t,"xAxis",e):rW(t,"yAxis",n)};function O5e(t){return t.stackId!=null&&t.dataKey!=null}var yse=(t,e,n)=>{var r={},i=t.filter(O5e),s=t.filter(u=>u.stackId==null),a=i.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),r),l=Object.entries(a).map(u=>{var[d,f]=u,h=f.map(p=>p.dataKey),m=JW(e,n,f[0].barSize);return{stackId:d,dataKeys:h,barSize:m}}),c=s.map(u=>{var d=[u.dataKey].filter(h=>h!=null),f=JW(e,n,u.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...l,...c]},D5e=je([P5e,hre,R5e],yse),I5e=(t,e,n,r,i)=>{var s,a,l=dn(t),c=DC(t),{maxBarSize:u}=i,d=Fn(u)?c:u,f,h;return l==="horizontal"?(f=Tc(t,"xAxis",e,r),h=bf(t,"xAxis",e,r)):(f=Tc(t,"yAxis",n,r),h=bf(t,"yAxis",n,r)),(s=(a=Dl(f,h,!0))!==null&&a!==void 0?a:d)!==null&&s!==void 0?s:0},bse=(t,e,n,r)=>{var i=dn(t),s,a;return i==="horizontal"?(s=Tc(t,"xAxis",e,r),a=bf(t,"xAxis",e,r)):(s=Tc(t,"yAxis",n,r),a=bf(t,"yAxis",n,r)),Dl(s,a)};function L5e(t,e,n,r,i){var s=r.length;if(!(s<1)){var a=Ys(t,n,0,!0),l,c=[];if(fo(r[0].barSize)){var u=!1,d=n/s,f=r.reduce((g,w)=>g+(w.barSize||0),0);f+=(s-1)*a,f>=n&&(f-=(s-1)*a,a=0),f>=n&&d>0&&(u=!0,d*=.9,f=s*d);var h=(n-f)/2>>0,m={offset:h-a,size:0};l=r.reduce((g,w)=>{var _,E={stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:m.offset+m.size+a,size:u?d:(_=w.barSize)!==null&&_!==void 0?_:0}},N=[...g,E];return m=N[N.length-1].position,N},c)}else{var p=Ys(e,n,0,!0);n-2*p-(s-1)*a<=0&&(a=0);var x=(n-2*p-(s-1)*a)/s;x>1&&(x>>=0);var v=fo(i)?Math.min(x,i):x;l=r.reduce((g,w,_)=>[...g,{stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:p+(x+a)*_+(x-v)/2,size:v}}],c)}return l}}var wse=(t,e,n,r,i,s,a)=>{var l=Fn(a)?e:a,c=L5e(n,r,i!==s?i:s,t,l);return i!==s&&c!=null&&(c=c.map(u=>V_(V_({},u),{},{position:V_(V_({},u.position),{},{offset:u.position.offset-i/2})}))),c},F5e=je([D5e,DC,fre,E4,I5e,bse,A5e],wse),U5e=(t,e,n,r)=>Tc(t,"xAxis",e,r),B5e=(t,e,n,r)=>Tc(t,"yAxis",n,r),z5e=(t,e,n,r)=>bf(t,"xAxis",e,r),V5e=(t,e,n,r)=>bf(t,"yAxis",n,r),W5e=je([F5e,hF],(t,e)=>{if(t!=null){var n=t.find(r=>r.stackId===e.stackId&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),_se=(t,e)=>{if(!(!t||(e==null?void 0:e.dataKey)==null)){var{stackId:n}=e;if(n!=null){var r=t[n];if(r){var{stackedData:i}=r;if(i){var s=i.find(a=>a.key===e.dataKey);return s}}}}},$5e=je([FC,hF],(t,e)=>{if(t.some(n=>n.type==="bar"&&e.dataKey===n.dataKey&&e.stackId===n.stackId&&e.stackId===n.stackId))return e}),H5e=je([k5e,hF],_se),G5e=je([Ei,U5e,B5e,z5e,V5e,W5e,dn,w4,bse,H5e,$5e,T5e],(t,e,n,r,i,s,a,l,c,u,d,f)=>{var{chartData:h,dataStartIndex:m,dataEndIndex:p}=l;if(!(d==null||s==null||a!=="horizontal"&&a!=="vertical"||e==null||n==null||r==null||i==null||c==null)){var{data:x}=d,v;if(x!=null&&x.length>0?v=x:v=h==null?void 0:h.slice(m,p+1),v!=null)return _5e({layout:a,barSettings:d,pos:s,bandSize:c,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,stackedData:u,displayedData:v,offset:t,cells:f})}});function e$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e$(Object(n),!0).forEach(function(r){q5e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function q5e(t,e,n){return(e=K5e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K5e(t){var e=X5e(t,"string");return typeof e=="symbol"?e:e+""}function X5e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Y5e=(t,e)=>hx(t,e),Z5e=(t,e)=>Uf(t,"radiusAxis",e),sj=je([Y5e,Z5e],(t,e)=>{if(!(t==null||e==null))return qN(qN({},t),{},{scale:e})}),mF=(t,e,n,r)=>i4e(t,"radiusAxis",e,r),Q5e=(t,e,n)=>rp(t,n),J5e=(t,e,n)=>Uf(t,"angleAxis",n),aj=je([Q5e,J5e],(t,e)=>{if(!(t==null||e==null))return qN(qN({},t),{},{scale:e})}),pF=(t,e,n,r)=>op(t,"angleAxis",n,r),eBe=(t,e,n,r)=>r,gF=je([$w,eBe],(t,e)=>{if(t.some(n=>n.type==="radialBar"&&e.dataKey===n.dataKey&&e.stackId===n.stackId))return e}),Sse=je([dn,sj,mF,aj,pF],(t,e,n,r,i)=>Rc(t,"radiusAxis")?Dl(e,n,!1):Dl(r,i,!1)),tBe=je([aj,sj,dn],(t,e,n)=>{var r=n==="radial"?t:e;if(!(r==null||r.scale==null))return qte({numericAxis:r})}),nBe=(t,e,n,r,i)=>i,rBe=(t,e,n,r,i)=>n,iBe=(t,e,n,r,i)=>e,Ese=(t,e,n,r,i)=>r.maxBarSize,sBe=je([dn,$w,rBe,iBe],(t,e,n,r)=>e.filter(i=>t==="centric"?i.angleAxisId===n:i.radiusAxisId===r).filter(i=>i.hide===!1).filter(i=>i.type==="radialBar")),aBe=()=>{},oBe=je([sBe,hre,aBe],yse),lBe=je([dn,DC,aj,pF,sj,mF,Ese],(t,e,n,r,i,s,a)=>{var l,c,u=Fn(a)?e:a;if(t==="centric"){var d,f;return(d=(f=Dl(n,r,!0))!==null&&f!==void 0?f:u)!==null&&d!==void 0?d:0}return(l=(c=Dl(i,s,!0))!==null&&c!==void 0?c:u)!==null&&l!==void 0?l:0}),cBe=je([oBe,DC,fre,E4,lBe,Sse,Ese],wse),uBe=je([cBe,gF],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),t$=je([KC,qC,fx],D4),dBe=(t,e,n)=>{var r=dn(t);return r==="centric"?t$(t,"radiusAxis",e):t$(t,"angleAxis",n)},fBe=je([dBe,gF],_se),hBe=je([aj,pF,sj,mF,Lf,gF,Sse,dn,tBe,mx,nBe,uBe,fBe],(t,e,n,r,i,s,a,l,c,u,d,f,h)=>{var{chartData:m,dataStartIndex:p,dataEndIndex:x}=i;if(s==null||n==null||t==null||m==null||a==null||f==null||l!=="centric"&&l!=="radial"||r==null)return[];var{dataKey:v,minPointSize:g}=s,{cx:w,cy:_,startAngle:E,endAngle:N}=u,C=m.slice(p,x+1),j=l==="centric"?n:t,T=h?j.scale.domain():null;return CBe({angleAxis:t,angleAxisTicks:e,bandSize:a,baseValue:c,cells:d,cx:w,cy:_,dataKey:v,dataStartIndex:p,displayedData:C,endAngle:N,layout:l,minPointSize:g,pos:f,radiusAxis:n,radiusAxisTicks:r,stackedData:h,stackedDomain:T,startAngle:E})}),mBe=je([Lw,(t,e)=>e],(t,e)=>{var{chartData:n,dataStartIndex:r,dataEndIndex:i}=t;if(n==null)return[];var s=n.slice(r,i+1);return s.length===0?[]:s.map(a=>({type:e,value:a.name,color:a.fill,payload:a}))}),pBe=["shape","activeShape","cornerRadius"],gBe=["onMouseEnter","onClick","onMouseLeave"],vBe=["value","background"];function sD(){return sD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sD.apply(null,arguments)}function n$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Oi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n$(Object(n),!0).forEach(function(r){vF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vF(t,e,n){return(e=xBe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xBe(t){var e=yBe(t,"string");return typeof e=="symbol"?e:e+""}function yBe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aD(t,e){if(t==null)return{};var n,r,i=bBe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function bBe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var oD=[];function Nse(t){var{sectors:e,allOtherRadialBarProps:n,showLabels:r}=t,{shape:i,activeShape:s,cornerRadius:a}=n,l=aD(n,pBe),c=Ut(l,!1),u=gt(ku),{onMouseEnter:d,onClick:f,onMouseLeave:h}=n,m=aD(n,gBe),p=JC(d,n.dataKey),x=ej(h),v=tj(f,n.dataKey);return e==null?null:S.createElement(S.Fragment,null,e.map((g,w)=>{var _=s&&u===String(w),E=p(g,w),N=x(g,w),C=v(g,w),j=Oi(Oi(Oi(Oi({},c),{},{cornerRadius:nse(a)},g),Wu(m,g,w)),{},{onMouseEnter:E,onMouseLeave:N,onClick:C,key:"sector-".concat(w),className:"recharts-radial-bar-sector ".concat(g.className),forceCornerRadius:l.forceCornerRadius,cornerIsExternal:l.cornerIsExternal,isActive:_,option:_?s:i});return S.createElement(rse,j)}),r&&wc.renderCallByParent(n,e))}function wBe(t){var{props:e,previousSectorsRef:n}=t,{data:r,isAnimationActive:i,animationBegin:s,animationDuration:a,animationEasing:l,onAnimationEnd:c,onAnimationStart:u}=e,d=Gw(e,"recharts-radialbar-"),f=n.current,[h,m]=S.useState(!0),p=S.useCallback(()=>{typeof c=="function"&&c(),m(!1)},[c]),x=S.useCallback(()=>{typeof u=="function"&&u(),m(!0)},[u]);return S.createElement(jc,{begin:s,duration:a,isActive:i,easing:l,from:{t:0},to:{t:1},onAnimationStart:x,onAnimationEnd:p,key:d},v=>{var{t:g}=v,w=g===1?r:(r??oD).map((_,E)=>{var N=f&&f[E];if(N){var C=si(N.startAngle,_.startAngle),j=si(N.endAngle,_.endAngle);return Oi(Oi({},_),{},{startAngle:C(g),endAngle:j(g)})}var{endAngle:T,startAngle:A}=_,P=si(A,T);return Oi(Oi({},_),{},{endAngle:P(g)})});return g>0&&(n.current=w??null),S.createElement(kn,null,S.createElement(Nse,{sectors:w??oD,allOtherRadialBarProps:e,showLabels:!h}))})}function _Be(t){var{data:e=[],isAnimationActive:n}=t,r=S.useRef(null),i=r.current;return n&&e&&e.length&&(!i||i!==e)?S.createElement(wBe,{props:t,previousSectorsRef:r}):S.createElement(Nse,{sectors:e,allOtherRadialBarProps:t,showLabels:!0})}function SBe(t){var e=gt(n=>mBe(n,t.legendType));return S.createElement(oF,{legendPayload:e??[]})}function EBe(t){var{dataKey:e,data:n,stroke:r,strokeWidth:i,name:s,hide:a,fill:l,tooltipType:c}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:l,nameKey:void 0,dataKey:e,name:$u(s,e),hide:a,type:c,color:l,unit:""}}}class NBe extends S.PureComponent{renderBackground(e){if(e==null)return null;var{cornerRadius:n}=this.props,r=Ut(this.props.background,!1);return e.map((i,s)=>{var{value:a,background:l}=i,c=aD(i,vBe);if(!l)return null;var u=Oi(Oi(Oi(Oi(Oi({cornerRadius:nse(n)},c),{},{fill:"#eee"},l),r),Wu(this.props,i,s)),{},{index:s,key:"sector-".concat(s),className:qt("recharts-radial-bar-background-sector",r==null?void 0:r.className),option:l,isActive:!1});return S.createElement(rse,u)})}render(){var{hide:e,data:n,className:r,background:i}=this.props;if(e)return null;var s=qt("recharts-area",r);return S.createElement(kn,{className:s},i&&S.createElement(kn,{className:"recharts-radial-bar-background"},this.renderBackground(n)),S.createElement(kn,{className:"recharts-radial-bar-sectors"},S.createElement(_Be,this.props)))}}function MBe(t){var e,n=lx(t.children,ap),r={dataKey:t.dataKey,minPointSize:t.minPointSize,stackId:t.stackId,maxBarSize:t.maxBarSize,barSize:t.barSize},i=(e=gt(s=>hBe(s,t.radiusAxisId,t.angleAxisId,r,n)))!==null&&e!==void 0?e:oD;return S.createElement(S.Fragment,null,S.createElement(Hw,{fn:EBe,args:Oi(Oi({},t),{},{data:i})}),S.createElement(NBe,sD({},t,{data:i})))}var dE={angleAxisId:0,radiusAxisId:0,minPointSize:0,hide:!1,legendType:"rect",data:[],isAnimationActive:!qu.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease",forceCornerRadius:!1,cornerIsExternal:!1};function CBe(t){var{displayedData:e,stackedData:n,dataStartIndex:r,stackedDomain:i,dataKey:s,baseValue:a,layout:l,radiusAxis:c,radiusAxisTicks:u,bandSize:d,pos:f,angleAxis:h,minPointSize:m,cx:p,cy:x,angleAxisTicks:v,cells:g,startAngle:w,endAngle:_}=t;return(e??[]).map((E,N)=>{var C,j,T,A,P,R;if(n?C=Hte(n[r+N],i):(C=Hn(E,s),Array.isArray(C)||(C=[a,C])),l==="radial"){j=CN({axis:c,ticks:u,bandSize:d,offset:f.offset,entry:E,index:N}),P=h.scale(C[1]),A=h.scale(C[0]),T=(j??0)+f.size;var D=P-A;if(Math.abs(m)>0&&Math.abs(D)<Math.abs(m)){var F=oi(D||m)*(Math.abs(m)-Math.abs(D));P+=F}R={background:{cx:p,cy:x,innerRadius:j,outerRadius:T,startAngle:w,endAngle:_}}}else{j=c.scale(C[0]),T=c.scale(C[1]),A=CN({axis:h,ticks:v,bandSize:d,offset:f.offset,entry:E,index:N}),P=(A??0)+f.size;var I=T-j;if(Math.abs(m)>0&&Math.abs(I)<Math.abs(m)){var G=oi(I||m)*(Math.abs(m)-Math.abs(I));T+=G}}return Oi(Oi(Oi({},E),R),{},{payload:E,value:n?C:C[1],cx:p,cy:x,innerRadius:j,outerRadius:T,startAngle:A,endAngle:P},g&&g[N]&&g[N].props)})}class KN extends S.PureComponent{render(){var e,n,r;return S.createElement(S.Fragment,null,S.createElement(ise,null),S.createElement(Zie,{data:void 0,dataKey:this.props.dataKey,hide:(e=this.props.hide)!==null&&e!==void 0?e:dE.hide,angleAxisId:(n=this.props.angleAxisId)!==null&&n!==void 0?n:dE.angleAxisId,radiusAxisId:(r=this.props.radiusAxisId)!==null&&r!==void 0?r:dE.radiusAxisId,stackId:this.props.stackId,barSize:this.props.barSize,type:"radialBar"}),S.createElement(SBe,this.props),S.createElement(MBe,this.props))}}vF(KN,"displayName","RadialBar");vF(KN,"defaultProps",dE);var Mse=t=>{var{chartData:e}=t,n=Qn(),r=Bi();return S.useEffect(()=>r?()=>{}:(n(fW(e)),()=>{n(fW(void 0))}),[e,n,r]),null},r$={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Cse=Zo({name:"brush",initialState:r$,reducers:{setBrushSettings(t,e){return e.payload==null?r$:e.payload}}}),{setBrushSettings:vrt}=Cse.actions,jBe=Cse.reducer;function i$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function W_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i$(Object(n),!0).forEach(function(r){jse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jse(t,e,n){return(e=ABe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ABe(t){var e=TBe(t,"string");return typeof e=="symbol"?e:e+""}function TBe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var PBe=(t,e)=>{var{x:n,y:r}=t,{x:i,y:s}=e;return{x:Math.min(n,i),y:Math.min(r,s),width:Math.abs(i-n),height:Math.abs(s-r)}},kBe=t=>{var{x1:e,y1:n,x2:r,y2:i}=t;return PBe({x:e,y:n},{x:r,y:i})};class oj{static create(e){return new oj(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(n){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}jse(oj,"EPS",1e-4);var RBe=t=>{var e=Object.keys(t).reduce((n,r)=>W_(W_({},n),{},{[r]:oj.create(t[r])}),{});return W_(W_({},e),{},{apply(n){var{bandAware:r,position:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.fromEntries(Object.entries(n).map(s=>{var[a,l]=s;return[a,e[a].apply(l,{bandAware:r,position:i})]}))},isInRange(n){return Object.keys(n).every(r=>e[r].isInRange(n[r]))}})};function OBe(t){return(t%180+180)%180}var DBe=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=OBe(i),a=s*Math.PI/180,l=Math.atan(r/n),c=a>l&&a<Math.PI-l?r/Math.sin(a):n/Math.cos(a);return Math.abs(c)},IBe={dots:[],areas:[],lines:[]},Ase=Zo({name:"referenceElements",initialState:IBe,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=vu(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=vu(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=vu(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:xrt,removeDot:yrt,addArea:brt,removeArea:wrt,addLine:LBe,removeLine:FBe}=Ase.actions,UBe=Ase.reducer,Tse=S.createContext(void 0),BBe=t=>{var{children:e}=t,[n]=S.useState("".concat(Im("recharts"),"-clip")),r=lF();if(r==null)return null;var{x:i,y:s,width:a,height:l}=r;return S.createElement(Tse.Provider,{value:n},S.createElement("defs",null,S.createElement("clipPath",{id:n},S.createElement("rect",{x:i,y:s,height:l,width:a}))),e)},zBe=()=>S.useContext(Tse);function s$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function a$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s$(Object(n),!0).forEach(function(r){xF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xF(t,e,n){return(e=VBe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VBe(t){var e=WBe(t,"string");return typeof e=="symbol"?e:e+""}function WBe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lD(){return lD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lD.apply(null,arguments)}var $Be=(t,e)=>{var n;return S.isValidElement(t)?n=S.cloneElement(t,e):typeof t=="function"?n=t(e):n=S.createElement("line",lD({},e,{className:"recharts-reference-line-line"})),n},HBe=(t,e,n,r,i,s,a,l,c)=>{var{x:u,y:d,width:f,height:h}=i;if(n){var{y:m}=c,p=t.y.apply(m,{position:s});if(ea(p)||c.ifOverflow==="discard"&&!t.y.isInRange(p))return null;var x=[{x:u+f,y:p},{x:u,y:p}];return l==="left"?x.reverse():x}if(e){var{x:v}=c,g=t.x.apply(v,{position:s});if(ea(g)||c.ifOverflow==="discard"&&!t.x.isInRange(g))return null;var w=[{x:g,y:d+h},{x:g,y:d}];return a==="top"?w.reverse():w}if(r){var{segment:_}=c,E=_.map(N=>t.apply(N,{position:s}));return c.ifOverflow==="discard"&&E.some(N=>!t.isInRange(N))?null:E}return null};function GBe(t){var e=Qn();return S.useEffect(()=>(e(LBe(t)),()=>{e(FBe(t))})),null}function qBe(t){var{x:e,y:n,segment:r,xAxisId:i,yAxisId:s,shape:a,className:l,ifOverflow:c}=t,u=Bi(),d=zBe(),f=gt(R=>Oc(R,i)),h=gt(R=>Xu(R,s)),m=gt(R=>yf(R,"xAxis",i,u)),p=gt(R=>yf(R,"yAxis",s,u)),x=MC(),v=Go(e),g=Go(n);if(!d||!x||f==null||h==null||m==null||p==null)return null;var w=RBe({x:m,y:p}),_=r&&r.length===2,E=HBe(w,v,g,_,x,t.position,f.orientation,h.orientation,t);if(!E)return null;var[{x:N,y:C},{x:j,y:T}]=E,A=c==="hidden"?"url(#".concat(d,")"):void 0,P=a$(a$({clipPath:A},Ut(t,!0)),{},{x1:N,y1:C,x2:j,y2:T});return S.createElement(kn,{className:qt("recharts-reference-line",l)},$Be(a,P),Ws.renderCallByParent(t,kBe({x1:N,y1:C,x2:j,y2:T})))}function KBe(t){return S.createElement(S.Fragment,null,S.createElement(GBe,{yAxisId:t.yAxisId,xAxisId:t.xAxisId,ifOverflow:t.ifOverflow,x:t.x,y:t.y}),S.createElement(qBe,t))}class jb extends S.Component{render(){return S.createElement(KBe,this.props)}}xF(jb,"displayName","ReferenceLine");xF(jb,"defaultProps",{ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function xP(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function Pse(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function XBe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return DBe(r,n)}function YBe(t,e,n){var r=n==="width",{x:i,y:s,width:a,height:l}=t;return e===1?{start:r?i:s,end:r?i+a:s+l}:{start:r?i+a:s+l,end:r?i:s}}function XN(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function ZBe(t,e){return Pse(t,e+1)}function QBe(t,e,n,r,i){for(var s=(r||[]).slice(),{start:a,end:l}=e,c=0,u=1,d=a,f=function(){var p=r==null?void 0:r[c];if(p===void 0)return{v:Pse(r,u)};var x=c,v,g=()=>(v===void 0&&(v=n(p,x)),v),w=p.coordinate,_=c===0||XN(t,w,g,d,l);_||(c=0,d=a,u+=1),_&&(d=w+t*(g()/2+i),c+=u)},h;u<=s.length;)if(h=f(),h)return h.v;return[]}function o$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o$(Object(n),!0).forEach(function(r){JBe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JBe(t,e,n){return(e=eze(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eze(t){var e=tze(t,"string");return typeof e=="symbol"?e:e+""}function tze(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nze(t,e,n,r,i){for(var s=(r||[]).slice(),a=s.length,{start:l}=e,{end:c}=e,u=function(h){var m=s[h],p,x=()=>(p===void 0&&(p=n(m,h)),p);if(h===a-1){var v=t*(m.coordinate+t*x()/2-c);s[h]=m=vs(vs({},m),{},{tickCoord:v>0?m.coordinate-v*t:m.coordinate})}else s[h]=m=vs(vs({},m),{},{tickCoord:m.coordinate});var g=XN(t,m.tickCoord,x,l,c);g&&(c=m.tickCoord-t*(x()/2+i),s[h]=vs(vs({},m),{},{isShow:!0}))},d=a-1;d>=0;d--)u(d);return s}function rze(t,e,n,r,i,s){var a=(r||[]).slice(),l=a.length,{start:c,end:u}=e;if(s){var d=r[l-1],f=n(d,l-1),h=t*(d.coordinate+t*f/2-u);a[l-1]=d=vs(vs({},d),{},{tickCoord:h>0?d.coordinate-h*t:d.coordinate});var m=XN(t,d.tickCoord,()=>f,c,u);m&&(u=d.tickCoord-t*(f/2+i),a[l-1]=vs(vs({},d),{},{isShow:!0}))}for(var p=s?l-1:l,x=function(w){var _=a[w],E,N=()=>(E===void 0&&(E=n(_,w)),E);if(w===0){var C=t*(_.coordinate-t*N()/2-c);a[w]=_=vs(vs({},_),{},{tickCoord:C<0?_.coordinate-C*t:_.coordinate})}else a[w]=_=vs(vs({},_),{},{tickCoord:_.coordinate});var j=XN(t,_.tickCoord,N,c,u);j&&(c=_.tickCoord+t*(N()/2+i),a[w]=vs(vs({},_),{},{isShow:!0}))},v=0;v<p;v++)x(v);return a}function yF(t,e,n){var{tick:r,ticks:i,viewBox:s,minTickGap:a,orientation:l,interval:c,tickFormatter:u,unit:d,angle:f}=t;if(!i||!i.length||!r)return[];if(At(c)||qu.isSsr){var h;return(h=ZBe(i,At(c)?c:0))!==null&&h!==void 0?h:[]}var m=[],p=l==="top"||l==="bottom"?"width":"height",x=d&&p==="width"?h0(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},v=(_,E)=>{var N=typeof u=="function"?u(_.value,E):_.value;return p==="width"?XBe(h0(N,{fontSize:e,letterSpacing:n}),x,f):h0(N,{fontSize:e,letterSpacing:n})[p]},g=i.length>=2?oi(i[1].coordinate-i[0].coordinate):1,w=YBe(s,g,p);return c==="equidistantPreserveStart"?QBe(g,w,v,i,a):(c==="preserveStart"||c==="preserveStartEnd"?m=rze(g,w,v,i,a,c==="preserveStartEnd"):m=nze(g,w,v,i,a),m.filter(_=>_.isShow))}var ize=["viewBox"],sze=["viewBox"];function Ag(){return Ag=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ag.apply(null,arguments)}function l$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l$(Object(n),!0).forEach(function(r){bF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function c$(t,e){if(t==null)return{};var n,r,i=aze(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function aze(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function bF(t,e,n){return(e=oze(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oze(t){var e=lze(t,"string");return typeof e=="symbol"?e:e+""}function lze(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Bf extends S.Component{constructor(e){super(e),this.tickRefs=S.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(e,n){var{viewBox:r}=e,i=c$(e,ize),s=this.props,{viewBox:a}=s,l=c$(s,sze);return!xP(r,a)||!xP(i,l)||!xP(n,this.state)}getTickLineCoord(e){var{x:n,y:r,width:i,height:s,orientation:a,tickSize:l,mirror:c,tickMargin:u}=this.props,d,f,h,m,p,x,v=c?-1:1,g=e.tickSize||l,w=At(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":d=f=e.coordinate,m=r+ +!c*s,h=m-v*g,x=h-v*u,p=w;break;case"left":h=m=e.coordinate,f=n+ +!c*i,d=f-v*g,p=d-v*u,x=w;break;case"right":h=m=e.coordinate,f=n+ +c*i,d=f+v*g,p=d+v*u,x=w;break;default:d=f=e.coordinate,m=r+ +c*s,h=m+v*g,x=h+v*u,p=w;break}return{line:{x1:d,y1:h,x2:f,y2:m},tick:{x:p,y:x}}}getTickTextAnchor(){var{orientation:e,mirror:n}=this.props,r;switch(e){case"left":r=n?"start":"end";break;case"right":r=n?"end":"start";break;default:r="middle";break}return r}getTickVerticalAnchor(){var{orientation:e,mirror:n}=this.props;switch(e){case"left":case"right":return"middle";case"top":return n?"start":"end";default:return n?"end":"start"}}renderAxisLine(){var{x:e,y:n,width:r,height:i,orientation:s,mirror:a,axisLine:l}=this.props,c=mi(mi(mi({},Ut(this.props,!1)),Ut(l,!1)),{},{fill:"none"});if(s==="top"||s==="bottom"){var u=+(s==="top"&&!a||s==="bottom"&&a);c=mi(mi({},c),{},{x1:e,y1:n+u*i,x2:e+r,y2:n+u*i})}else{var d=+(s==="left"&&!a||s==="right"&&a);c=mi(mi({},c),{},{x1:e+d*r,y1:n,x2:e+d*r,y2:n+i})}return S.createElement("line",Ag({},c,{className:qt("recharts-cartesian-axis-line",xf(l,"className"))}))}static renderTickItem(e,n,r){var i,s=qt(n.className,"recharts-cartesian-axis-tick-value");if(S.isValidElement(e))i=S.cloneElement(e,mi(mi({},n),{},{className:s}));else if(typeof e=="function")i=e(mi(mi({},n),{},{className:s}));else{var a="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(a=qt(a,e.className)),i=S.createElement(yx,Ag({},n,{className:a}),r)}return i}renderTicks(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:i,stroke:s,tick:a,tickFormatter:l,unit:c}=this.props,u=yF(mi(mi({},this.props),{},{ticks:r}),e,n),d=this.getTickTextAnchor(),f=this.getTickVerticalAnchor(),h=Ut(this.props,!1),m=Ut(a,!1),p=mi(mi({},h),{},{fill:"none"},Ut(i,!1)),x=u.map((v,g)=>{var{line:w,tick:_}=this.getTickLineCoord(v),E=mi(mi(mi(mi({textAnchor:d,verticalAnchor:f},h),{},{stroke:"none",fill:s},m),_),{},{index:g,payload:v,visibleTicksCount:u.length,tickFormatter:l});return S.createElement(kn,Ag({className:"recharts-cartesian-axis-tick",key:"tick-".concat(v.value,"-").concat(v.coordinate,"-").concat(v.tickCoord)},Wu(this.props,v,g)),i&&S.createElement("line",Ag({},p,w,{className:qt("recharts-cartesian-axis-tick-line",xf(i,"className"))})),a&&Bf.renderTickItem(a,E,"".concat(typeof l=="function"?l(v.value,g):v.value).concat(c||"")))});return x.length>0?S.createElement("g",{className:"recharts-cartesian-axis-ticks"},x):null}render(){var{axisLine:e,width:n,height:r,className:i,hide:s}=this.props;if(s)return null;var{ticks:a}=this.props;return n!=null&&n<=0||r!=null&&r<=0?null:S.createElement(kn,{className:qt("recharts-cartesian-axis",i),ref:l=>{if(l){var c=l.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(c);var u=c[0];if(u){var d=window.getComputedStyle(u).fontSize,f=window.getComputedStyle(u).letterSpacing;(d!==this.state.fontSize||f!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(u).fontSize,letterSpacing:window.getComputedStyle(u).letterSpacing})}}}},e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,a),Ws.renderCallByParent(this.props))}}bF(Bf,"displayName","CartesianAxis");bF(Bf,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var cze=["x1","y1","x2","y2","key"],uze=["offset"],dze=["xAxisId","yAxisId"],fze=["xAxisId","yAxisId"];function u$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u$(Object(n),!0).forEach(function(r){hze(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hze(t,e,n){return(e=mze(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mze(t){var e=pze(t,"string");return typeof e=="symbol"?e:e+""}function pze(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xh(){return Xh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xh.apply(null,arguments)}function YN(t,e){if(t==null)return{};var n,r,i=gze(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function gze(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var vze=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:s,height:a,ry:l}=t;return S.createElement("rect",{x:r,y:i,ry:l,width:s,height:a,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function kse(t,e){var n;if(S.isValidElement(t))n=S.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var{x1:r,y1:i,x2:s,y2:a,key:l}=e,c=YN(e,cze),u=Ut(c,!1),{offset:d}=u,f=YN(u,uze);n=S.createElement("line",Xh({},f,{x1:r,y1:i,x2:s,y2:a,fill:"none",key:l}))}return n}function xze(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:a}=t,l=YN(t,dze),c=i.map((u,d)=>{var f=bs(bs({},l),{},{x1:e,y1:u,x2:e+n,y2:u,key:"line-".concat(d),index:d});return kse(r,f)});return S.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function yze(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:a}=t,l=YN(t,fze),c=i.map((u,d)=>{var f=bs(bs({},l),{},{x1:u,y1:e,x2:u,y2:e+n,key:"line-".concat(d),index:d});return kse(r,f)});return S.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function bze(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:s,height:a,horizontalPoints:l,horizontal:c=!0}=t;if(!c||!e||!e.length)return null;var u=l.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],p=m?i+a-f:u[h+1]-f;if(p<=0)return null;var x=h%e.length;return S.createElement("rect",{key:"react-".concat(h),y:f,x:r,height:p,width:s,stroke:"none",fill:e[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return S.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function wze(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:s,width:a,height:l,verticalPoints:c}=t;if(!e||!n||!n.length)return null;var u=c.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],p=m?i+a-f:u[h+1]-f;if(p<=0)return null;var x=h%n.length;return S.createElement("rect",{key:"react-".concat(h),x:f,y:s,width:p,height:l,stroke:"none",fill:n[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return S.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var _ze=(t,e)=>{var{xAxis:n,width:r,height:i,offset:s}=t;return Wte(yF(bs(bs(bs({},Bf.defaultProps),n),{},{ticks:$te(n),viewBox:{x:0,y:0,width:r,height:i}})),s.left,s.left+s.width,e)},Sze=(t,e)=>{var{yAxis:n,width:r,height:i,offset:s}=t;return Wte(yF(bs(bs(bs({},Bf.defaultProps),n),{},{ticks:$te(n),viewBox:{x:0,y:0,width:r,height:i}})),s.top,s.top+s.height,e)},Eze={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function Ns(t){var e=qL(),n=KL(),r=Qte(),i=bs(bs({},ka(t,Eze)),{},{x:At(t.x)?t.x:r.left,y:At(t.y)?t.y:r.top,width:At(t.width)?t.width:r.width,height:At(t.height)?t.height:r.height}),{xAxisId:s,yAxisId:a,x:l,y:c,width:u,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:m}=i,p=Bi(),x=gt(A=>iW(A,"xAxis",s,p)),v=gt(A=>iW(A,"yAxis",a,p));if(!At(u)||u<=0||!At(d)||d<=0||!At(l)||l!==+l||!At(c)||c!==+c)return null;var g=i.verticalCoordinatesGenerator||_ze,w=i.horizontalCoordinatesGenerator||Sze,{horizontalPoints:_,verticalPoints:E}=i;if((!_||!_.length)&&typeof w=="function"){var N=h&&h.length,C=w({yAxis:v?bs(bs({},v),{},{ticks:N?h:v.ticks}):void 0,width:e,height:n,offset:r},N?!0:f);f0(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof C,"]")),Array.isArray(C)&&(_=C)}if((!E||!E.length)&&typeof g=="function"){var j=m&&m.length,T=g({xAxis:x?bs(bs({},x),{},{ticks:j?m:x.ticks}):void 0,width:e,height:n,offset:r},j?!0:f);f0(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof T,"]")),Array.isArray(T)&&(E=T)}return S.createElement("g",{className:"recharts-cartesian-grid"},S.createElement(vze,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),S.createElement(bze,Xh({},i,{horizontalPoints:_})),S.createElement(wze,Xh({},i,{verticalPoints:E})),S.createElement(xze,Xh({},i,{offset:r,horizontalPoints:_,xAxis:x,yAxis:v})),S.createElement(yze,Xh({},i,{offset:r,verticalPoints:E,xAxis:x,yAxis:v})))}Ns.displayName="CartesianGrid";var Rse=(t,e,n,r)=>Tc(t,"xAxis",e,r),Ose=(t,e,n,r)=>bf(t,"xAxis",e,r),Dse=(t,e,n,r)=>Tc(t,"yAxis",n,r),Ise=(t,e,n,r)=>bf(t,"yAxis",n,r),Nze=je([dn,Rse,Dse,Ose,Ise],(t,e,n,r,i)=>Rc(t,"xAxis")?Dl(e,r,!1):Dl(n,i,!1)),Mze=(t,e,n,r,i)=>i,Cze=je([FC,Mze],(t,e)=>{if(t.some(n=>n.type==="line"&&e.dataKey===n.dataKey&&e.data===n.data))return e}),jze=je([dn,Rse,Dse,Ose,Ise,Cze,Nze,w4],(t,e,n,r,i,s,a,l)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=l;if(!(s==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||a==null)){var{dataKey:f,data:h}=s,m;if(h!=null&&h.length>0?m=h:m=c==null?void 0:c.slice(u,d+1),m!=null)return qze({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:f,bandSize:a,displayedData:m})}}),Aze=["type","layout","connectNulls","needClip"],Tze=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId"];function Lse(t,e){if(t==null)return{};var n,r,i=Pze(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Pze(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function d$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?d$(Object(n),!0).forEach(function(r){lj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lj(t,e,n){return(e=kze(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kze(t){var e=Rze(t,"string");return typeof e=="symbol"?e:e+""}function Rze(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Iv(){return Iv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Iv.apply(null,arguments)}var Oze=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:$u(n,e),payload:t}]};function Dze(t){var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:s,name:a,hide:l,unit:c}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:$u(a,e),hide:l,type:t.tooltipType,color:t.stroke,unit:c}}}var Fse=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function Ize(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var Lze=(t,e,n)=>{var r=n.reduce((f,h)=>f+h);if(!r)return Fse(e,t);for(var i=Math.floor(t/r),s=t%r,a=e-t,l=[],c=0,u=0;c<n.length;u+=n[c],++c)if(u+n[c]>s){l=[...n.slice(0,c),s-u];break}var d=l.length%2===0?[0,a]:[a];return[...Ize(n,i),...l,...d].map(f=>"".concat(f,"px")).join(", ")};function Fze(t,e){var n;if(S.isValidElement(t))n=S.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var r=qt("recharts-line-dot",typeof t!="boolean"?t.className:"");n=S.createElement(GC,Iv({},e,{className:r}))}return n}function Uze(t,e){return t==null?!1:e?!0:t.length===1}function Bze(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:s,needClip:a}=r;if(!Uze(n,i))return null;var l=Cee(i),c=Ut(r,!1),u=Ut(i,!0),d=n.map((h,m)=>{var p=yl(yl(yl({key:"dot-".concat(m),r:3},c),u),{},{index:m,cx:h.x,cy:h.y,dataKey:s,value:h.value,payload:h.payload,points:n});return Fze(i,p)}),f={clipPath:a?"url(#clipPath-".concat(l?"":"dots-").concat(e,")"):null};return S.createElement(kn,Iv({className:"recharts-line-dots",key:"dots"},f),d)}function cD(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:s,showLabels:a}=t,{type:l,layout:c,connectNulls:u,needClip:d}=s,f=Lse(s,Aze),h=yl(yl({},Ut(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(e,")"):null,points:r,type:l,layout:c,connectNulls:u,strokeDasharray:i??s.strokeDasharray});return S.createElement(S.Fragment,null,(r==null?void 0:r.length)>1&&S.createElement(YL,Iv({},h,{pathRef:n})),S.createElement(Bze,{points:r,clipPathId:e,props:s}),a&&wc.renderCallByParent(s,r))}function zze(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function Vze(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:s}=t,{points:a,strokeDasharray:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:f,animateNewValues:h,width:m,height:p,onAnimationEnd:x,onAnimationStart:v}=n,g=i.current,w=Gw(n,"recharts-line-"),[_,E]=S.useState(!1),N=S.useCallback(()=>{typeof x=="function"&&x(),E(!1)},[x]),C=S.useCallback(()=>{typeof v=="function"&&v(),E(!0)},[v]),j=zze(r.current),T=s.current;return S.createElement(jc,{begin:u,duration:d,isActive:c,easing:f,from:{t:0},to:{t:1},onAnimationEnd:N,onAnimationStart:C,key:w},A=>{var{t:P}=A,R=si(T,j+T),D=Math.min(R(P),j),F;if(l){var I="".concat(l).split(/[,\s]+/gim).map($=>parseFloat($));F=Lze(D,j,I)}else F=Fse(j,D);if(g){var G=g.length/a.length,q=P===1?a:a.map(($,L)=>{var V=Math.floor(L*G);if(g[V]){var K=g[V],W=si(K.x,$.x),B=si(K.y,$.y);return yl(yl({},$),{},{x:W(P),y:B(P)})}if(h){var ee=si(m*2,$.x),Y=si(p/2,$.y);return yl(yl({},$),{},{x:ee(P),y:Y(P)})}return yl(yl({},$),{},{x:$.x,y:$.y})});return i.current=q,S.createElement(cD,{props:n,points:q,clipPathId:e,pathRef:r,showLabels:!_,strokeDasharray:F})}return P>0&&j>0&&(i.current=a,s.current=D),S.createElement(cD,{props:n,points:a,clipPathId:e,pathRef:r,showLabels:!_,strokeDasharray:F})})}function Wze(t){var{clipPathId:e,props:n}=t,{points:r,isAnimationActive:i}=n,s=S.useRef(null),a=S.useRef(0),l=S.useRef(null),c=s.current;return i&&r&&r.length&&c!==r?S.createElement(Vze,{props:n,clipPathId:e,previousPointsRef:s,longestAnimatedLengthRef:a,pathRef:l}):S.createElement(cD,{props:n,points:r,clipPathId:e,pathRef:l,showLabels:!0})}var $ze=(t,e)=>({x:t.x,y:t.y,value:t.value,errorVal:Hn(t.payload,e)});class Hze extends S.Component{constructor(){super(...arguments),lj(this,"id",Im("recharts-line-"))}render(){var e,{hide:n,dot:r,points:i,className:s,xAxisId:a,yAxisId:l,top:c,left:u,width:d,height:f,id:h,needClip:m,layout:p}=this.props;if(n)return null;var x=qt("recharts-line",s),v=Fn(h)?this.id:h,{r:g=3,strokeWidth:w=2}=(e=Ut(r,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},_=Cee(r),E=g*2+w;return S.createElement(S.Fragment,null,S.createElement(kn,{className:x},m&&S.createElement("defs",null,S.createElement(pse,{clipPathId:v,xAxisId:a,yAxisId:l}),!_&&S.createElement("clipPath",{id:"clipPath-dots-".concat(v)},S.createElement("rect",{x:u-E/2,y:c-E/2,width:d+E,height:f+E}))),S.createElement(Wze,{props:this.props,clipPathId:v}),S.createElement(dse,{direction:p==="horizontal"?"y":"x"},S.createElement(ose,{xAxisId:a,yAxisId:l,data:i,dataPointFormatter:$ze,errorBarOffset:0},this.props.children))),S.createElement(Yie,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var Use={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!qu.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function Gze(t){var e=ka(t,Use),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:a,connectNulls:l,dot:c,hide:u,isAnimationActive:d,label:f,legendType:h,xAxisId:m,yAxisId:p}=e,x=Lse(e,Tze),{needClip:v}=fF(m,p),{height:g,width:w,x:_,y:E}=lF(),N=CC(),C=Bi(),j=S.useMemo(()=>({dataKey:t.dataKey,data:t.data}),[t.dataKey,t.data]),T=gt(A=>jze(A,m,p,C,j));return N!=="horizontal"&&N!=="vertical"?null:S.createElement(Hze,Iv({},x,{connectNulls:l,dot:c,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:a,isAnimationActive:d,hide:u,label:f,legendType:h,xAxisId:m,yAxisId:p,points:T,layout:N,height:g,width:w,left:_,top:E,needClip:v}))}function qze(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,dataKey:a,bandSize:l,displayedData:c}=t;return c.map((u,d)=>{var f=Hn(u,a);return e==="horizontal"?{x:q8({axis:n,ticks:i,bandSize:l,entry:u,index:d}),y:Fn(f)?null:r.scale(f),value:f,payload:u}:{x:Fn(f)?null:n.scale(f),y:q8({axis:r,ticks:s,bandSize:l,entry:u,index:d}),value:f,payload:u}})}let bi=class extends S.PureComponent{render(){return S.createElement(lse,{type:"line",data:this.props.data,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:void 0,hide:this.props.hide,barSize:void 0},S.createElement(qie,{legendPayload:Oze(this.props)}),S.createElement(Hw,{fn:Dze,args:this.props}),S.createElement(Gze,this.props))}};lj(bi,"displayName","Line");lj(bi,"defaultProps",Use);function f$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function h$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f$(Object(n),!0).forEach(function(r){Kze(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kze(t,e,n){return(e=Xze(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xze(t){var e=Yze(t,"string");return typeof e=="symbol"?e:e+""}function Yze(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zze={xAxis:{},yAxis:{},zAxis:{}},Bse=Zo({name:"cartesianAxis",initialState:Zze,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload;t.yAxis[n]&&(t.yAxis[n]=h$(h$({},t.yAxis[n]),{},{width:r}))}}}),{addXAxis:Qze,removeXAxis:Jze,addYAxis:e6e,removeYAxis:t6e,addZAxis:Srt,removeZAxis:Ert,updateYAxisWidth:n6e}=Bse.actions,r6e=Bse.reducer,i6e=["children"],s6e=["dangerouslySetInnerHTML","ticks"];function zse(t,e,n){return(e=a6e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a6e(t){var e=o6e(t,"string");return typeof e=="symbol"?e:e+""}function o6e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uD(){return uD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uD.apply(null,arguments)}function Vse(t,e){if(t==null)return{};var n,r,i=l6e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function l6e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function c6e(t){var e=Qn(),n=S.useMemo(()=>{var{children:s}=t,a=Vse(t,i6e);return a},[t]),r=gt(s=>Oc(s,n.id)),i=n===r;return S.useEffect(()=>(e(Qze(n)),()=>{e(Jze(n))}),[n,e]),i?t.children:null}var u6e=t=>{var{xAxisId:e,className:n}=t,r=gt(Zte),i=Bi(),s="xAxis",a=gt(m=>yf(m,s,e,i)),l=gt(m=>Bre(m,s,e,i)),c=gt(m=>Ire(m,e)),u=gt(m=>_Ie(m,e));if(c==null||u==null)return null;var{dangerouslySetInnerHTML:d,ticks:f}=t,h=Vse(t,s6e);return S.createElement(Bf,uD({},h,{scale:a,x:u.x,y:u.y,width:c.width,height:c.height,className:qt("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:l}))},d6e=t=>{var e,n,r,i,s;return S.createElement(c6e,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.xAxisId,scale:t.scale,type:t.type,padding:t.padding,allowDataOverflow:t.allowDataOverflow,domain:t.domain,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,includeHidden:(n=t.includeHidden)!==null&&n!==void 0?n:!1,reversed:t.reversed,ticks:t.ticks,height:t.height,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(r=t.angle)!==null&&r!==void 0?r:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(s=t.tick)!==null&&s!==void 0?s:!0,tickFormatter:t.tickFormatter},S.createElement(u6e,t))};class Ji extends S.Component{render(){return S.createElement(d6e,this.props)}}zse(Ji,"displayName","XAxis");zse(Ji,"defaultProps",{allowDataOverflow:Ga.allowDataOverflow,allowDecimals:Ga.allowDecimals,allowDuplicatedCategory:Ga.allowDuplicatedCategory,height:Ga.height,hide:!1,mirror:Ga.mirror,orientation:Ga.orientation,padding:Ga.padding,reversed:Ga.reversed,scale:Ga.scale,tickCount:Ga.tickCount,type:Ga.type,xAxisId:0});var f6e=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=t,a=0;if(e){e.forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>a&&(a=f.width)}});var l=n?n.getBoundingClientRect().width:0,c=i+s,u=a+c+l+(n?r:0);return Math.round(u)}return 0},h6e=["dangerouslySetInnerHTML","ticks"];function Wse(t,e,n){return(e=m6e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m6e(t){var e=p6e(t,"string");return typeof e=="symbol"?e:e+""}function p6e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dD(){return dD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dD.apply(null,arguments)}function g6e(t,e){if(t==null)return{};var n,r,i=v6e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function v6e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function x6e(t){var e=Qn();return S.useEffect(()=>(e(e6e(t)),()=>{e(t6e(t))}),[t,e]),null}var y6e=t=>{var e,{yAxisId:n,className:r,width:i,label:s}=t,a=S.useRef(null),l=S.useRef(null),c=gt(Zte),u=Bi(),d=Qn(),f="yAxis",h=gt(_=>yf(_,f,n,u)),m=gt(_=>Lre(_,n)),p=gt(_=>SIe(_,n)),x=gt(_=>Bre(_,f,n,u));if(S.useLayoutEffect(()=>{var _;if(!(i!=="auto"||!m||tF(s)||S.isValidElement(s))){var E=a.current,N=E==null||(_=E.tickRefs)===null||_===void 0?void 0:_.current,{tickSize:C,tickMargin:j}=E.props,T=f6e({ticks:N,label:l.current,labelGapWithTick:5,tickSize:C,tickMargin:j});Math.round(m.width)!==Math.round(T)&&d(n6e({id:n,width:T}))}},[a,a==null||(e=a.current)===null||e===void 0||(e=e.tickRefs)===null||e===void 0?void 0:e.current,m==null?void 0:m.width,m,d,s,n,i]),m==null||p==null)return null;var{dangerouslySetInnerHTML:v,ticks:g}=t,w=g6e(t,h6e);return S.createElement(Bf,dD({},w,{ref:a,labelRef:l,scale:h,x:p.x,y:p.y,width:m.width,height:m.height,className:qt("recharts-".concat(f," ").concat(f),r),viewBox:c,ticks:x}))},b6e=t=>{var e,n,r,i,s;return S.createElement(S.Fragment,null,S.createElement(x6e,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:(n=t.includeHidden)!==null&&n!==void 0?n:!1,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(r=t.angle)!==null&&r!==void 0?r:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(s=t.tick)!==null&&s!==void 0?s:!0,tickFormatter:t.tickFormatter}),S.createElement(y6e,t))},w6e={allowDataOverflow:qa.allowDataOverflow,allowDecimals:qa.allowDecimals,allowDuplicatedCategory:qa.allowDuplicatedCategory,hide:!1,mirror:qa.mirror,orientation:qa.orientation,padding:qa.padding,reversed:qa.reversed,scale:qa.scale,tickCount:qa.tickCount,type:qa.type,width:qa.width,yAxisId:0};class wi extends S.Component{render(){return S.createElement(b6e,this.props)}}Wse(wi,"displayName","YAxis");Wse(wi,"defaultProps",w6e);var _6e={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qw=S;function S6e(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var E6e=typeof Object.is=="function"?Object.is:S6e,N6e=qw.useSyncExternalStore,M6e=qw.useRef,C6e=qw.useEffect,j6e=qw.useMemo,A6e=qw.useDebugValue;_6e.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=M6e(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=j6e(function(){function c(m){if(!u){if(u=!0,d=m,m=r(m),i!==void 0&&a.hasValue){var p=a.value;if(i(p,m))return f=p}return f=m}if(p=f,E6e(d,m))return p;var x=r(m);return i!==void 0&&i(p,x)?(d=m,p):(d=m,f=x)}var u=!1,d,f,h=n===void 0?null:n;return[function(){return c(e())},h===null?void 0:function(){return c(h())}]},[e,n,r,i]);var l=N6e(t,s[0],s[1]);return C6e(function(){a.hasValue=!0,a.value=l},[l]),A6e(l),l};function T6e(t){t()}function P6e(){let t=null,e=null;return{clear(){t=null,e=null},notify(){T6e(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var m$={notify(){},get:()=>[]};function k6e(t,e){let n,r=m$,i=0,s=!1;function a(x){d();const v=r.subscribe(x);let g=!1;return()=>{g||(g=!0,v(),f())}}function l(){r.notify()}function c(){p.onStateChange&&p.onStateChange()}function u(){return s}function d(){i++,n||(n=t.subscribe(c),r=P6e())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=m$)}function h(){s||(s=!0,d())}function m(){s&&(s=!1,f())}const p={addNestedSub:a,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>r};return p}var R6e=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",O6e=R6e(),D6e=()=>typeof navigator<"u"&&navigator.product==="ReactNative",I6e=D6e(),L6e=()=>O6e||I6e?S.useLayoutEffect:S.useEffect,F6e=L6e(),yP=Symbol.for("react-redux-context"),bP=typeof globalThis<"u"?globalThis:{};function U6e(){if(!S.createContext)return{};const t=bP[yP]??(bP[yP]=new Map);let e=t.get(S.createContext);return e||(e=S.createContext(null),t.set(S.createContext,e)),e}var B6e=U6e();function z6e(t){const{children:e,context:n,serverState:r,store:i}=t,s=S.useMemo(()=>{const c=k6e(i);return{store:i,subscription:c,getServerState:r?()=>r:void 0}},[i,r]),a=S.useMemo(()=>i.getState(),[i]);F6e(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,a]);const l=n||B6e;return S.createElement(l.Provider,{value:s},e)}var V6e=z6e,W6e=(t,e)=>e,wF=je([W6e,dn,mx,Vi,nie,Yu,E3e,Ei],A3e),_F=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},$se=qo("mouseClick"),Hse=kw();Hse.startListening({actionCreator:$se,effect:(t,e)=>{var n=t.payload,r=wF(e.getState(),_F(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(OIe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var fD=qo("mouseMove"),Gse=kw();Gse.startListening({actionCreator:fD,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=G4(r,r.tooltip.settings.shared),s=wF(r,_F(n));i==="axis"&&((s==null?void 0:s.activeIndex)!=null?e.dispatch(Xre({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):e.dispatch(Kre()))}});function $6e(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":e}var p$={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},qse=Zo({name:"rootProps",initialState:p$,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:p$.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),H6e=qse.reducer,{updateOptions:G6e}=qse.actions,Kse=Zo({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:q6e}=Kse.actions,K6e=Kse.reducer,Xse=qo("keyDown"),Yse=qo("focus"),SF=kw();SF.startListening({actionCreator:Xse,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var a=Number(q4(i,sp(n))),l=Yu(n);if(s==="Enter"){var c=VN(n,"axis","hover",String(i.index));e.dispatch(YO({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:c}));return}var u=NIe(n),d=u==="left-to-right"?1:-1,f=s==="ArrowRight"?1:-1,h=a+f*d;if(!(l==null||h>=l.length||h<0)){var m=VN(n,"axis","hover",String(h));e.dispatch(YO({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:m}))}}}}});SF.startListening({actionCreator:Yse,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",a=VN(n,"axis","hover",String(s));e.dispatch(YO({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:a}))}}}});var Ao=qo("externalEvent"),Zse=kw();Zse.startListening({actionCreator:Ao,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:m3e(n),activeDataKey:aie(n),activeIndex:ku(n),activeLabel:sie(n),activeTooltipIndex:ku(n),isTooltipActive:p3e(n)};t.payload.handler(r,t.payload.reactEvent)}}});var X6e=je([vx],t=>t.tooltipItemPayloads),Y6e=je([X6e,Vw,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(l=>l.settings.dataKey===r);if(i!=null){var{positions:s}=i;if(s!=null){var a=e(s,n);return a}}}),Qse=qo("touchMove"),Jse=kw();Jse.startListening({actionCreator:Qse,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=G4(r,r.tooltip.settings.shared);if(i==="axis"){var s=wF(r,_F({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&e.dispatch(Xre({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var a,l=n.touches[0],c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(Xte),d=(a=c.getAttribute(Yte))!==null&&a!==void 0?a:void 0,f=Y6e(e.getState(),u,d);e.dispatch(qre({activeDataKey:d,activeIndex:u,activeCoordinate:f}))}}});var Z6e=xte({brush:jBe,cartesianAxis:r6e,chartData:$3e,graphicalItems:vFe,layout:LTe,legend:wPe,options:U3e,polarAxis:A4e,polarOptions:K6e,referenceElements:UBe,rootProps:H6e,tooltip:DIe}),Q6e=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return lTe({reducer:Z6e,preloadedState:e,middleware:r=>r({serializableCheck:!1}).concat([Hse.middleware,Gse.middleware,SF.middleware,Zse.middleware,Jse.middleware]),devTools:{serialize:{replacer:$6e},name:"recharts-".concat(n)}})};function eae(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=Bi(),s=S.useRef(null);if(i)return n;s.current==null&&(s.current=Q6e(e,r));var a=LL;return S.createElement(V6e,{context:a,store:s.current},n)}function tae(t){var{layout:e,width:n,height:r,margin:i}=t,s=Qn(),a=Bi();return S.useEffect(()=>{a||(s(OTe(e)),s(DTe({width:n,height:r})),s(RTe(i)))},[s,a,e,n,r,i]),null}function nae(t){var e=Qn();return S.useEffect(()=>{e(G6e(t))},[e,t]),null}var J6e=["children"];function e8e(t,e){if(t==null)return{};var n,r,i=t8e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function t8e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ZN(){return ZN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ZN.apply(null,arguments)}var n8e={width:"100%",height:"100%"},r8e=S.forwardRef((t,e)=>{var n=qL(),r=KL(),i=nne();if(!Tv(n)||!Tv(r))return null;var{children:s,otherAttributes:a,title:l,desc:c}=t,u,d;return typeof a.tabIndex=="number"?u=a.tabIndex:u=i?0:void 0,typeof a.role=="string"?d=a.role:d=i?"application":void 0,S.createElement(EL,ZN({},a,{title:l,desc:c,role:d,tabIndex:u,width:n,height:r,style:n8e,ref:e}),s)}),i8e=t=>{var{children:e}=t,n=gt(NC);if(!n)return null;var{width:r,height:i,y:s,x:a}=n;return S.createElement(EL,{width:r,height:i,x:a,y:s},e)},g$=S.forwardRef((t,e)=>{var{children:n}=t,r=e8e(t,J6e),i=Bi();return i?S.createElement(i8e,null,n):S.createElement(r8e,ZN({ref:e},r),n)});function s8e(){var t=Qn(),[e,n]=S.useState(null),r=gt(cPe);return S.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;fo(s)&&s!==r&&t(ITe(s))}},[e,t,r]),n}function v$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function a8e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v$(Object(n),!0).forEach(function(r){o8e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function o8e(t,e,n){return(e=l8e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l8e(t){var e=c8e(t,"string");return typeof e=="symbol"?e:e+""}function c8e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var u8e=S.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:a,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:p,onTouchStart:x,style:v,width:g}=t,w=Qn(),[_,E]=S.useState(null),[N,C]=S.useState(null);q3e();var j=s8e(),T=S.useCallback(B=>{j(B),typeof e=="function"&&e(B),E(B),C(B)},[j,e,E,C]),A=S.useCallback(B=>{w($se(B)),w(Ao({handler:s,reactEvent:B}))},[w,s]),P=S.useCallback(B=>{w(fD(B)),w(Ao({handler:u,reactEvent:B}))},[w,u]),R=S.useCallback(B=>{w(Kre()),w(Ao({handler:d,reactEvent:B}))},[w,d]),D=S.useCallback(B=>{w(fD(B)),w(Ao({handler:f,reactEvent:B}))},[w,f]),F=S.useCallback(()=>{w(Yse())},[w]),I=S.useCallback(B=>{w(Xse(B.key))},[w]),G=S.useCallback(B=>{w(Ao({handler:a,reactEvent:B}))},[w,a]),q=S.useCallback(B=>{w(Ao({handler:l,reactEvent:B}))},[w,l]),$=S.useCallback(B=>{w(Ao({handler:c,reactEvent:B}))},[w,c]),L=S.useCallback(B=>{w(Ao({handler:h,reactEvent:B}))},[w,h]),V=S.useCallback(B=>{w(Ao({handler:x,reactEvent:B}))},[w,x]),K=S.useCallback(B=>{w(Qse(B)),w(Ao({handler:p,reactEvent:B}))},[w,p]),W=S.useCallback(B=>{w(Ao({handler:m,reactEvent:B}))},[w,m]);return S.createElement(fie.Provider,{value:_},S.createElement(jee.Provider,{value:N},S.createElement("div",{className:qt("recharts-wrapper",r),style:a8e({position:"relative",cursor:"default",width:g,height:i},v),onClick:A,onContextMenu:G,onDoubleClick:q,onFocus:F,onKeyDown:I,onMouseDown:$,onMouseEnter:P,onMouseLeave:R,onMouseMove:D,onMouseUp:L,onTouchEnd:W,onTouchMove:K,onTouchStart:V,ref:T},n)))}),d8e=["children","className","width","height","style","compact","title","desc"];function f8e(t,e){if(t==null)return{};var n,r,i=h8e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function h8e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var rae=S.forwardRef((t,e)=>{var{children:n,className:r,width:i,height:s,style:a,compact:l,title:c,desc:u}=t,d=f8e(t,d8e),f=Ut(d,!1);return l?S.createElement(g$,{otherAttributes:f,title:c,desc:u},n):S.createElement(u8e,{className:r,style:a,width:i,height:s,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},S.createElement(g$,{otherAttributes:f,title:c,desc:u,ref:e},S.createElement(BBe,null,n)))}),m8e=["width","height"];function hD(){return hD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hD.apply(null,arguments)}function p8e(t,e){if(t==null)return{};var n,r,i=g8e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function g8e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var v8e={top:5,right:5,bottom:5,left:5},x8e={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:v8e,reverseStackOrder:!1,syncMethod:"index"},iae=S.forwardRef(function(e,n){var r,i=ka(e.categoricalChartProps,x8e),{width:s,height:a}=i,l=p8e(i,m8e);if(!Tv(s)||!Tv(a))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,categoricalChartProps:h}=e,m={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return S.createElement(eae,{preloadedState:{options:m},reduxStoreName:(r=h.id)!==null&&r!==void 0?r:c},S.createElement(Mse,{chartData:h.data}),S.createElement(tae,{width:s,height:a,layout:i.layout,margin:i.margin}),S.createElement(nae,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),S.createElement(rae,hD({},l,{width:s,height:a,ref:n})))}),y8e=["axis"],jl=S.forwardRef((t,e)=>S.createElement(iae,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:y8e,tooltipPayloadSearcher:Ww,categoricalChartProps:t,ref:e})),b8e=["axis","item"],QN=S.forwardRef((t,e)=>S.createElement(iae,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:b8e,tooltipPayloadSearcher:Ww,categoricalChartProps:t,ref:e}));function w8e(t){var e=Qn();return S.useEffect(()=>{e(q6e(t))},[e,t]),null}var _8e=["width","height","layout"];function mD(){return mD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mD.apply(null,arguments)}function S8e(t,e){if(t==null)return{};var n,r,i=E8e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function E8e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var N8e={top:5,right:5,bottom:5,left:5},M8e={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:N8e,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},EF=S.forwardRef(function(e,n){var r,i=ka(e.categoricalChartProps,M8e),{width:s,height:a,layout:l}=i,c=S8e(i,_8e);if(!Tv(s)||!Tv(a))return null;var{chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:h}=e,m={chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:h,eventEmitter:void 0};return S.createElement(eae,{preloadedState:{options:m},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:u},S.createElement(Mse,{chartData:i.data}),S.createElement(tae,{width:s,height:a,layout:l,margin:i.margin}),S.createElement(nae,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),S.createElement(w8e,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),S.createElement(rae,mD({width:s,height:a},c,{ref:n})))}),C8e=["item"],j8e={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},sae=S.forwardRef((t,e)=>{var n=ka(t,j8e);return S.createElement(EF,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:C8e,tooltipPayloadSearcher:Ww,categoricalChartProps:n,ref:e})}),A8e=["axis"],T8e={layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},P8e=S.forwardRef((t,e)=>{var n=ka(t,T8e);return S.createElement(EF,{chartName:"RadarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:A8e,tooltipPayloadSearcher:Ww,categoricalChartProps:n,ref:e})}),k8e=["axis","item"],R8e={layout:"radial",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},x$=S.forwardRef((t,e)=>{var n=ka(t,R8e);return S.createElement(EF,{chartName:"RadialBarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:k8e,tooltipPayloadSearcher:Ww,categoricalChartProps:n,ref:e})}),cj="Collapsible",[O8e,aae]=qr(cj),[D8e,NF]=O8e(cj),oae=S.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:s,onOpenChange:a,...l}=t,[c,u]=Js({prop:r,defaultProp:i??!1,onChange:a,caller:cj});return o.jsx(D8e,{scope:n,disabled:s,contentId:to(),open:c,onOpenToggle:S.useCallback(()=>u(d=>!d),[u]),children:o.jsx(_t.div,{"data-state":CF(c),"data-disabled":s?"":void 0,...l,ref:e})})});oae.displayName=cj;var lae="CollapsibleTrigger",cae=S.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,i=NF(lae,n);return o.jsx(_t.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":CF(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:e,onClick:ot(t.onClick,i.onOpenToggle)})});cae.displayName=lae;var MF="CollapsibleContent",uae=S.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=NF(MF,t.__scopeCollapsible);return o.jsx(js,{present:n||i.open,children:({present:s})=>o.jsx(I8e,{...r,ref:e,present:s})})});uae.displayName=MF;var I8e=S.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:i,...s}=t,a=NF(MF,n),[l,c]=S.useState(r),u=S.useRef(null),d=Wt(e,u),f=S.useRef(0),h=f.current,m=S.useRef(0),p=m.current,x=a.open||l,v=S.useRef(x),g=S.useRef(void 0);return S.useEffect(()=>{const w=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(w)},[]),Gr(()=>{const w=u.current;if(w){g.current=g.current||{transitionDuration:w.style.transitionDuration,animationName:w.style.animationName},w.style.transitionDuration="0s",w.style.animationName="none";const _=w.getBoundingClientRect();f.current=_.height,m.current=_.width,v.current||(w.style.transitionDuration=g.current.transitionDuration,w.style.animationName=g.current.animationName),c(r)}},[a.open,r]),o.jsx(_t.div,{"data-state":CF(a.open),"data-disabled":a.disabled?"":void 0,id:a.contentId,hidden:!x,...s,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":p?`${p}px`:void 0,...t.style},children:x&&i})});function CF(t){return t?"open":"closed"}var L8e=oae,F8e=cae,U8e=uae,Ul="Accordion",B8e=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[jF,z8e,V8e]=Yv(Ul),[uj,Nrt]=qr(Ul,[V8e,aae]),AF=aae(),dae=Ze.forwardRef((t,e)=>{const{type:n,...r}=t,i=r,s=r;return o.jsx(jF.Provider,{scope:t.__scopeAccordion,children:n==="multiple"?o.jsx(G8e,{...s,ref:e}):o.jsx(H8e,{...i,ref:e})})});dae.displayName=Ul;var[fae,W8e]=uj(Ul),[hae,$8e]=uj(Ul,{collapsible:!1}),H8e=Ze.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},collapsible:s=!1,...a}=t,[l,c]=Js({prop:n,defaultProp:r??"",onChange:i,caller:Ul});return o.jsx(fae,{scope:t.__scopeAccordion,value:Ze.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:Ze.useCallback(()=>s&&c(""),[s,c]),children:o.jsx(hae,{scope:t.__scopeAccordion,collapsible:s,children:o.jsx(mae,{...a,ref:e})})})}),G8e=Ze.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...s}=t,[a,l]=Js({prop:n,defaultProp:r??[],onChange:i,caller:Ul}),c=Ze.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=Ze.useCallback(d=>l((f=[])=>f.filter(h=>h!==d)),[l]);return o.jsx(fae,{scope:t.__scopeAccordion,value:a,onItemOpen:c,onItemClose:u,children:o.jsx(hae,{scope:t.__scopeAccordion,collapsible:!0,children:o.jsx(mae,{...s,ref:e})})})}),[q8e,dj]=uj(Ul),mae=Ze.forwardRef((t,e)=>{const{__scopeAccordion:n,disabled:r,dir:i,orientation:s="vertical",...a}=t,l=Ze.useRef(null),c=Wt(l,e),u=z8e(n),f=Qm(i)==="ltr",h=ot(t.onKeyDown,m=>{var T;if(!B8e.includes(m.key))return;const p=m.target,x=u().filter(A=>{var P;return!((P=A.ref.current)!=null&&P.disabled)}),v=x.findIndex(A=>A.ref.current===p),g=x.length;if(v===-1)return;m.preventDefault();let w=v;const _=0,E=g-1,N=()=>{w=v+1,w>E&&(w=_)},C=()=>{w=v-1,w<_&&(w=E)};switch(m.key){case"Home":w=_;break;case"End":w=E;break;case"ArrowRight":s==="horizontal"&&(f?N():C());break;case"ArrowDown":s==="vertical"&&N();break;case"ArrowLeft":s==="horizontal"&&(f?C():N());break;case"ArrowUp":s==="vertical"&&C();break}const j=w%g;(T=x[j].ref.current)==null||T.focus()});return o.jsx(q8e,{scope:n,disabled:r,direction:i,orientation:s,children:o.jsx(jF.Slot,{scope:n,children:o.jsx(_t.div,{...a,"data-orientation":s,ref:c,onKeyDown:r?void 0:h})})})}),JN="AccordionItem",[K8e,TF]=uj(JN),pae=Ze.forwardRef((t,e)=>{const{__scopeAccordion:n,value:r,...i}=t,s=dj(JN,n),a=W8e(JN,n),l=AF(n),c=to(),u=r&&a.value.includes(r)||!1,d=s.disabled||t.disabled;return o.jsx(K8e,{scope:n,open:u,disabled:d,triggerId:c,children:o.jsx(L8e,{"data-orientation":s.orientation,"data-state":wae(u),...l,...i,ref:e,disabled:d,open:u,onOpenChange:f=>{f?a.onItemOpen(r):a.onItemClose(r)}})})});pae.displayName=JN;var gae="AccordionHeader",vae=Ze.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=dj(Ul,n),s=TF(gae,n);return o.jsx(_t.h3,{"data-orientation":i.orientation,"data-state":wae(s.open),"data-disabled":s.disabled?"":void 0,...r,ref:e})});vae.displayName=gae;var pD="AccordionTrigger",xae=Ze.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=dj(Ul,n),s=TF(pD,n),a=$8e(pD,n),l=AF(n);return o.jsx(jF.ItemSlot,{scope:n,children:o.jsx(F8e,{"aria-disabled":s.open&&!a.collapsible||void 0,"data-orientation":i.orientation,id:s.triggerId,...l,...r,ref:e})})});xae.displayName=pD;var yae="AccordionContent",bae=Ze.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=dj(Ul,n),s=TF(yae,n),a=AF(n);return o.jsx(U8e,{role:"region","aria-labelledby":s.triggerId,"data-orientation":i.orientation,...a,...r,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});bae.displayName=yae;function wae(t){return t?"open":"closed"}var X8e=dae,Y8e=pae,Z8e=vae,_ae=xae,Sae=bae;const Eae=X8e,p0=S.forwardRef(({className:t,...e},n)=>o.jsx(Y8e,{ref:n,className:xt("border-b",t),...e}));p0.displayName="AccordionItem";const g0=S.forwardRef(({className:t,children:e,...n},r)=>o.jsx(Z8e,{className:"flex",children:o.jsxs(_ae,{ref:r,className:xt("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...n,children:[e,o.jsx(h2,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));g0.displayName=_ae.displayName;const v0=S.forwardRef(({className:t,children:e,...n},r)=>o.jsx(Sae,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:o.jsx("div",{className:xt("pb-4 pt-0",t),children:e})}));v0.displayName=Sae.displayName;const gD=[{value:"muito_bem",label:"Muito Bem",icon:"😊",score:5},{value:"bem",label:"Bem",icon:"🙂",score:4},{value:"neutro",label:"Neutro",icon:"😐",score:3},{value:"mal",label:"Mal",icon:"😔",score:2},{value:"muito_mal",label:"Muito Mal",icon:"😢",score:1}],Q8e=t=>gD.find(e=>e.value===t)||gD[2],$_={data:"",alimentacao:"",hidratacao:"",atividade_fisica:"",duracao_exercicio:"",humor:"",sono:"",peso:"",observacoes:"",bem_estar_matinal:{inspiracao:"",descricao_pessoa:"",pessoa_precisa_mim:"",tirar_emocional:"",melhor_maneira:"",resultado_evolucao:"",lembrete_mentor:"",desafio_crescimento:""},resumo_dia:{momento_feliz:"",situacao_bem_lidada:"",acao_melhorar_saude:"",habito_saudavel:"",evento_grato:""}};function J8e(){const[t,e]=S.useState([]),[n,r]=S.useState(new Date),[i,s]=S.useState(!0),a=S.useMemo(()=>t.find(p=>Ot(new Date(p.data),"yyyy-MM-dd")===Ot(n,"yyyy-MM-dd")),[t,n]),[l,c]=S.useState($_);S.useEffect(()=>{const p=[{id:1,data:Ot(new Date,"yyyy-MM-dd"),alimentacao:"Café da manhã saudável com frutas",hidratacao:2.5,atividade_fisica:"Caminhada",duracao_exercicio:30,humor:"bem",sono:8,peso:70.5,observacoes:"Dia produtivo",bem_estar_matinal:{inspiracao:"Gratidão pela vida",descricao_pessoa:"Determinada",pessoa_precisa_mim:"Minha família",tirar_emocional:"Trabalho excessivo",resultado_evolucao:"Mais energia",lembrete_mentor:"Foque no progresso, não na perfeição",desafio_crescimento:"Meditar 10 minutos"},resumo_dia:{momento_feliz:"Conversa com amigo",situacao_bem_lidada:"Apresentação no trabalho",acao_melhorar_saude:"Beber mais água",habito_saudavel:"Caminhar pela manhã",evento_grato:"Saúde da família"}}];e(p),s(!1)},[]),S.useEffect(()=>{const p={...$_,data:Ot(n,"yyyy-MM-dd")};c(a?{...p,...a,alimentacao:a.alimentacao||"",hidratacao:a.hidratacao!==null?String(a.hidratacao):"",atividade_fisica:a.atividade_fisica||"",duracao_exercicio:a.duracao_exercicio!==null?String(a.duracao_exercicio):"",sono:a.sono!==null?String(a.sono):"",peso:a.peso!==null?String(a.peso):"",observacoes:a.observacoes||"",bem_estar_matinal:a.bem_estar_matinal||$_.bem_estar_matinal,resumo_dia:a.resumo_dia||$_.resumo_dia}:p)},[a,n]);const u=(p,x)=>{c(v=>({...v,[p]:x}))},d=(p,x,v)=>{c(g=>({...g,[p]:{...g[p],[x]:v}}))},f=async p=>{p.preventDefault(),console.log("Salvando entrada do diário:",l),alert("Entrada do diário salva com sucesso!")},h=S.useMemo(()=>Array.from({length:7}).map((x,v)=>dm(new Date,v)).reverse().map(x=>{const v=t.find(w=>Ot(new Date(w.data),"yyyy-MM-dd")===Ot(x,"yyyy-MM-dd")),g=v?Q8e(v.humor):null;return{date:Ot(x,"dd/MM"),Peso:v==null?void 0:v.peso,Sono:v==null?void 0:v.sono,Humor:g==null?void 0:g.score}}),[t]),m="Continue registrando para receber insights personalizados!";return i?o.jsx("div",{className:"p-6",children:"Carregando..."}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-green-50 p-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsx(le,{className:"mb-6 bg-blue-50 border-blue-200",children:o.jsxs(ue,{className:"p-4 flex items-center gap-4",children:[o.jsx(l3,{className:"w-8 h-8 text-blue-600"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-blue-800",children:"Dica do Dia"}),o.jsx("p",{className:"text-sm text-blue-700",children:m})]})]})}),o.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[o.jsxs(le,{className:"bg-white/80 backdrop-blur-sm border-0 shadow-xl",children:[o.jsxs(Qe,{children:[o.jsx(et,{children:"Selecione a Data"}),o.jsx(lb,{children:"Veja ou preencha o diário de um dia específico."})]}),o.jsx(ue,{className:"flex justify-center",children:o.jsx(fN,{mode:"single",selected:n,onSelect:r,locale:pn,disabled:p=>p>new Date,className:"pointer-events-auto"})})]}),o.jsxs(le,{className:"bg-white/80 backdrop-blur-sm border-0 shadow-xl",children:[o.jsx(Qe,{children:o.jsxs(et,{className:"flex items-center",children:[o.jsx(Hr,{className:"mr-2"}),"Evolução da Semana"]})}),o.jsx(ue,{children:o.jsx("div",{className:"h-64",children:o.jsx(li,{width:"100%",height:"100%",children:o.jsxs(jl,{data:h,children:[o.jsx(Ns,{strokeDasharray:"3 3"}),o.jsx(Ji,{dataKey:"date"}),o.jsx(wi,{yAxisId:"left"}),o.jsx(wi,{yAxisId:"right",orientation:"right"}),o.jsx(Zi,{}),o.jsx(Av,{}),o.jsx(bi,{yAxisId:"left",type:"monotone",dataKey:"Peso",stroke:"#8884d8"}),o.jsx(bi,{yAxisId:"left",type:"monotone",dataKey:"Sono",stroke:"#82ca9d"}),o.jsx(bi,{yAxisId:"right",type:"monotone",dataKey:"Humor",stroke:"#ffc658"})]})})})})]})]}),o.jsx("div",{className:"lg:col-span-2 space-y-6",children:o.jsxs(le,{className:"bg-white/80 backdrop-blur-sm border-0 shadow-xl",children:[o.jsx(Qe,{children:o.jsxs(et,{children:["Registro do Dia: ",Ot(n,"dd 'de' MMMM 'de' yyyy",{locale:pn})]})}),o.jsx(ue,{children:o.jsxs("form",{onSubmit:f,className:"space-y-6",children:[o.jsxs(Eae,{type:"multiple",defaultValue:["item-1","item-2","item-3"],className:"w-full",children:[o.jsxs(p0,{value:"item-1",children:[o.jsxs(g0,{className:"font-semibold text-lg",children:[o.jsx($pe,{className:"mr-2"})," Bem-Estar Matinal"]}),o.jsxs(v0,{className:"space-y-4 pt-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ce,{children:"O que me inspira hoje?"}),o.jsx(mn,{value:l.bem_estar_matinal.inspiracao,onChange:p=>d("bem_estar_matinal","inspiracao",p.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ce,{children:"Se eu pudesse descrever em uma palavra o tipo de pessoa que eu queria ser hoje, eu escolho?"}),o.jsx(ut,{value:l.bem_estar_matinal.descricao_pessoa,onChange:p=>d("bem_estar_matinal","descricao_pessoa",p.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ce,{children:"A pessoa que mais precisa de mim hoje é?"}),o.jsx(ut,{value:l.bem_estar_matinal.pessoa_precisa_mim,onChange:p=>d("bem_estar_matinal","pessoa_precisa_mim",p.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ce,{children:"O que poderia tirar meu emocional hoje? E a melhor maneira de isso não acontecer é?"}),o.jsx(mn,{value:l.bem_estar_matinal.tirar_emocional,onChange:p=>d("bem_estar_matinal","tirar_emocional",p.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ce,{children:"Um resultado que mostra que eu estou evoluindo?"}),o.jsx(ut,{value:l.bem_estar_matinal.resultado_evolucao,onChange:p=>d("bem_estar_matinal","resultado_evolucao",p.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ce,{children:"Se eu fosse meu mentor o que diria para eu me lembrar de?"}),o.jsx(mn,{value:l.bem_estar_matinal.lembrete_mentor,onChange:p=>d("bem_estar_matinal","lembrete_mentor",p.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ce,{children:"Qual desafio fora da minha zona de conforto vou enfrentar hoje para promover meu crescimento?"}),o.jsx(ut,{value:l.bem_estar_matinal.desafio_crescimento,onChange:p=>d("bem_estar_matinal","desafio_crescimento",p.target.value)})]})]})]}),o.jsxs(p0,{value:"item-2",children:[o.jsxs(g0,{className:"font-semibold text-lg",children:[o.jsx(Vr,{className:"mr-2"})," Saúde e Corpo"]}),o.jsxs(v0,{className:"space-y-4 pt-4",children:[o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ce,{htmlFor:"alimentacao",children:[o.jsx(ZK,{className:"inline-block mr-2 w-4 h-4"}),"Alimentação"]}),o.jsx(mn,{id:"alimentacao",value:l.alimentacao||"",onChange:p=>u("alimentacao",p.target.value),placeholder:"O que você comeu hoje?"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ce,{htmlFor:"observacoes",children:"Observações"}),o.jsx(mn,{id:"observacoes",value:l.observacoes||"",onChange:p=>u("observacoes",p.target.value),placeholder:"Como se sentiu, algo diferente?"})]})]}),o.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ce,{htmlFor:"hidratacao",children:[o.jsx(xv,{className:"inline-block mr-2 w-4 h-4"}),"Hidratação (L)"]}),o.jsx(ut,{id:"hidratacao",type:"number",step:"0.1",value:l.hidratacao,onChange:p=>u("hidratacao",p.target.value),placeholder:"2.5"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ce,{htmlFor:"sono",children:[o.jsx(kpe,{className:"inline-block mr-2 w-4 h-4"}),"Sono (h)"]}),o.jsx(ut,{id:"sono",type:"number",step:"0.5",value:l.sono,onChange:p=>u("sono",p.target.value),placeholder:"8"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ce,{htmlFor:"peso",children:[o.jsx(Ype,{className:"inline-block mr-2 w-4 h-4"}),"Peso (kg)"]}),o.jsx(ut,{id:"peso",type:"number",step:"0.1",value:l.peso,onChange:p=>u("peso",p.target.value),placeholder:"70.5"})]})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ce,{htmlFor:"atividade_fisica",children:[o.jsx(Vr,{className:"inline-block mr-2 w-4 h-4"}),"Atividade Física"]}),o.jsx(ut,{id:"atividade_fisica",value:l.atividade_fisica||"",onChange:p=>u("atividade_fisica",p.target.value),placeholder:"Caminhada, musculação..."})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ce,{htmlFor:"duracao_exercicio",children:"Duração (min)"}),o.jsx(ut,{id:"duracao_exercicio",type:"number",value:l.duracao_exercicio,onChange:p=>u("duracao_exercicio",p.target.value),placeholder:"30"})]})]}),o.jsxs("div",{children:[o.jsx(Ce,{children:"Como você se sentiu hoje?"}),o.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:gD.map(p=>o.jsxs(pe,{type:"button",variant:l.humor===p.value?"default":"outline",onClick:()=>u("humor",p.value),children:[p.icon," ",p.label]},p.value))})]})]})]}),o.jsxs(p0,{value:"item-3",children:[o.jsxs(g0,{className:"font-semibold text-lg",children:[o.jsx(Hpe,{className:"mr-2"})," Resumo do Dia"]}),o.jsxs(v0,{className:"space-y-4 pt-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ce,{children:"Um momento que realmente me deixou feliz no dia de hoje foi:"}),o.jsx(mn,{value:l.resumo_dia.momento_feliz,onChange:p=>d("resumo_dia","momento_feliz",p.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ce,{children:"A situação ou tarefa que lidei bem hoje foi:"}),o.jsx(mn,{value:l.resumo_dia.situacao_bem_lidada,onChange:p=>d("resumo_dia","situacao_bem_lidada",p.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ce,{children:"Qual foi uma ação que eu tomei hoje para melhorar a minha saúde?"}),o.jsx(mn,{value:l.resumo_dia.acao_melhorar_saude,onChange:p=>d("resumo_dia","acao_melhorar_saude",p.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ce,{children:"Qual hábito saudável pratiquei hoje?"}),o.jsx(mn,{value:l.resumo_dia.habito_saudavel,onChange:p=>d("resumo_dia","habito_saudavel",p.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ce,{children:"Qual evento + significativo pelo qual sou grato(a) hoje e por quê?"}),o.jsx(mn,{value:l.resumo_dia.evento_grato,onChange:p=>d("resumo_dia","evento_grato",p.target.value)})]})]})]})]}),o.jsx("div",{className:"flex justify-end pt-4",children:o.jsx(pe,{type:"submit",className:"bg-gradient-to-r from-blue-600 to-green-600 text-white",children:a?"Atualizar Registro":"Salvar Registro"})})]})})]})})]})]})})}const eVe=(t=!1)=>{const[e,n]=S.useState(null),[r,i]=S.useState(!0),[s,a]=S.useState(null),{user:l}=Or(),{toast:c}=Ui(),u=new Date().toISOString().split("T")[0];S.useEffect(()=>{(async()=>{if(!(l!=null&&l.id))return;const{data:p}=await He.from("profiles").select("*").eq("user_id",l.id).single();a(p)})()},[l==null?void 0:l.id]);const d=async()=>{if(t||!l){try{const m=localStorage.getItem(`missao_dia_${u}`);n(m?JSON.parse(m):{user_id:"visitor",data:u,prioridades:[],concluido:!1})}catch(m){console.error("Erro ao carregar missão local:",m)}finally{i(!1)}return}if(s!=null&&s.id)try{const{data:m,error:p}=await He.from("missao_dia").select("*").eq("user_id",s.id).eq("data",u).maybeSingle();if(p)throw p;if(m)n({...m,prioridades:Array.isArray(m.prioridades)?m.prioridades.map(x=>String(x)):[]});else{const x={user_id:s.id,data:u,prioridades:[],concluido:!1};n(x)}}catch(m){console.error("Erro ao buscar missão do dia:",m),c({title:"Erro",description:"Não foi possível carregar sua missão do dia.",variant:"destructive"})}finally{i(!1)}},f=async m=>{if(!e)return;const p={...e,...m};if(n(p),t||!l){try{localStorage.setItem(`missao_dia_${u}`,JSON.stringify(p))}catch(x){console.error("Erro ao salvar missão local:",x)}return}if(s!=null&&s.id)try{if(e.id){const{error:x}=await He.from("missao_dia").update(m).eq("id",e.id);if(x)throw x}else{const{data:x,error:v}=await He.from("missao_dia").insert([{user_id:s.id,data:u,...m}]).select().single();if(v)throw v;x&&n({...p,id:x.id})}}catch(x){console.error("Erro ao atualizar missão:",x),c({title:"Erro",description:"Não foi possível salvar suas informações.",variant:"destructive"})}},h=async()=>{await f({concluido:!0}),c({title:"🎉 Missão cumprida!",description:"Cada passo de autocuidado te aproxima da sua melhor versão. ❤️"})};return S.useEffect(()=>{(t||!l||s!=null&&s.id)&&d()},[s==null?void 0:s.id,t,l]),{missao:e,loading:r,updateMissao:f,concluirMissao:h,isAfter6PM:new Date().getHours()>=18}},tVe=t=>{const e=S.useMemo(()=>{var s,a,l,c;if(!t)return{total:0,detalhes:[]};const r=[{categoria:"Ritual da Manhã",pergunta:"Primeiro líquido consumido",pontos:t.liquido_ao_acordar==="Água morna com limão"||t.liquido_ao_acordar==="Chá natural"?10:(t.liquido_ao_acordar==="Café puro"||t.liquido_ao_acordar==="Outro",0),pontosMaximos:10,respondida:!!t.liquido_ao_acordar},{categoria:"Ritual da Manhã",pergunta:"Práticas de conexão interna",pontos:((s=t.pratica_conexao)!=null&&s.includes("Oração")?15:0)+((a=t.pratica_conexao)!=null&&a.includes("Meditação")?15:0)+((l=t.pratica_conexao)!=null&&l.includes("Respiração consciente")?15:0),pontosMaximos:15,respondida:!!t.pratica_conexao},{categoria:"Ritual da Manhã",pergunta:"Energia ao acordar",pontos:t.energia_ao_acordar===5?3:t.energia_ao_acordar===4?2:t.energia_ao_acordar===3?1:t.energia_ao_acordar===2?0:t.energia_ao_acordar===1?-1:0,pontosMaximos:3,respondida:!!t.energia_ao_acordar},{categoria:"Hábitos do Dia",pergunta:"Horas de sono",pontos:t.sono_horas&&t.sono_horas>=8?10:0,pontosMaximos:10,respondida:!!t.sono_horas},{categoria:"Hábitos do Dia",pergunta:"Consumo de água",pontos:t.agua_litros==="2L"||t.agua_litros==="3L ou mais"?10:0,pontosMaximos:10,respondida:!!t.agua_litros},{categoria:"Hábitos do Dia",pergunta:"Atividade física",pontos:t.atividade_fisica===!0?20:0,pontosMaximos:20,respondida:t.atividade_fisica!==void 0},{categoria:"Hábitos do Dia",pergunta:"Nível de estresse",pontos:t.estresse_nivel===1||t.estresse_nivel===2?10:0,pontosMaximos:10,respondida:!!t.estresse_nivel},{categoria:"Hábitos do Dia",pergunta:"Fome emocional",pontos:t.fome_emocional===!1?10:0,pontosMaximos:10,respondida:t.fome_emocional!==void 0},{categoria:"Mente & Emoções",pergunta:"Gratidão",pontos:t.gratidao?10:0,pontosMaximos:10,respondida:!!t.gratidao},{categoria:"Mente & Emoções",pergunta:"Pequena vitória",pontos:t.pequena_vitoria&&t.pequena_vitoria.trim()?10:0,pontosMaximos:10,respondida:!!((c=t.pequena_vitoria)!=null&&c.trim())},{categoria:"Mente & Emoções",pergunta:"Intenção para amanhã",pontos:t.intencao_para_amanha?10:0,pontosMaximos:10,respondida:!!t.intencao_para_amanha},{categoria:"Mente & Emoções",pergunta:"Avaliação do dia",pontos:t.nota_dia===5?10:t.nota_dia===4?8:t.nota_dia===3?6:t.nota_dia===2?4:t.nota_dia===1?2:0,pontosMaximos:10,respondida:!!t.nota_dia}];return{total:r.reduce((u,d)=>u+d.pontos,0),detalhes:r}},[t]),n=S.useMemo(()=>{if(!t)return 0;const r=[t.liquido_ao_acordar,t.pratica_conexao,t.energia_ao_acordar,t.sono_horas,t.agua_litros,t.atividade_fisica,t.estresse_nivel,t.fome_emocional,t.gratidao,t.pequena_vitoria,t.intencao_para_amanha,t.nota_dia],i=r.filter(s=>s!=null&&s!=="").length;return Math.round(i/r.length*100)},[t]);return{pontuacaoCalculada:e,progresso:n}};function nVe(){const[t,e]=S.useState([]),[n,r]=S.useState([]),[i,s]=S.useState(!0),{user:a}=Or();S.useEffect(()=>{a&&l()},[a]);const l=async()=>{try{s(!0);const v=Ot(dm(new Date,7),"yyyy-MM-dd"),{data:g,error:w}=await He.from("pontuacao_diaria").select("*").eq("user_id",a==null?void 0:a.id).gte("data",v).order("data",{ascending:!0});if(w)throw w;e(g||[]),await c()}catch(v){console.error("Erro ao buscar pontuação:",v)}finally{s(!1)}},c=async()=>{try{const{data:v,error:g}=await He.from("pontuacao_diaria").select(`
          user_id,
          total_pontos_dia,
          data,
          users:profiles!inner(
            name,
            avatar_url
          )
        `).gte("data",Ot(dm(new Date,7),"yyyy-MM-dd"));if(g)throw g;const w=(v||[]).reduce((E,N)=>{var j,T;const C=N.user_id;return E[C]||(E[C]={userId:C,name:((j=N.users)==null?void 0:j.name)||"Usuário",avatar:(T=N.users)==null?void 0:T.avatar_url,pontos_dia:[],media_semanal:0,posicao:0,streak:0}),E[C].pontos_dia.push(N.total_pontos_dia),E},{}),_=Object.values(w).map(E=>({...E,media_semanal:E.pontos_dia.reduce((N,C)=>N+C,0)/E.pontos_dia.length})).sort((E,N)=>N.media_semanal-E.media_semanal).map((E,N)=>({userId:E.userId,name:E.name,avatar:E.avatar,weeklyPoints:Math.round(E.media_semanal),position:N+1,streak:E.streak,weekStartDate:Ot(dm(new Date,7),"yyyy-MM-dd"),weekEndDate:Ot(new Date,"yyyy-MM-dd"),categories:{}}));r(_)}catch(v){console.error("Erro ao buscar ranking:",v)}},u=t.find(v=>v.data===Ot(new Date,"yyyy-MM-dd"));return{pontuacao:t,ranking:n,isLoading:i,fetchPontuacao:l,pontuacaoHoje:u,historicoPontuacao:t,rankingSemanal:n,isLoadingHoje:i,isLoadingHistorico:i,isLoadingRanking:i,getFeedbackPontuacao:v=>v>=100?{emoji:"🏆",mensagem:"Excelente! Você está no topo da sua jornada!",categoria:"excelente"}:v>=60?{emoji:"👏",mensagem:"Muito bem! Continue assim!",categoria:"medio"}:{emoji:"💪",mensagem:"Vamos com tudo! Cada passo conta!",categoria:"baixa"}}}var rVe="Separator",y$="horizontal",iVe=["horizontal","vertical"],Nae=S.forwardRef((t,e)=>{const{decorative:n,orientation:r=y$,...i}=t,s=sVe(r)?r:y$,l=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return o.jsx(_t.div,{"data-orientation":s,...l,...i,ref:e})});Nae.displayName=rVe;function sVe(t){return iVe.includes(t)}var Mae=Nae;const x0=S.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},i)=>o.jsx(Mae,{ref:i,decorative:n,orientation:e,className:xt("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));x0.displayName=Mae.displayName;const aVe=({pontuacaoTotal:t,pontuacaoMaxima:e=30,showDetalhes:n=!1,className:r=""})=>{const s=t>=21?{emoji:"🟢",mensagem:"Excelente! Sua evolução está brilhando!",cor:"text-green-600",corBg:"bg-green-50",corBorder:"border-green-200",categoria:"Excelente",icone:Xs}:t>=11?{emoji:"🟡",mensagem:"Você está no caminho! Continue assim.",cor:"text-yellow-600",corBg:"bg-yellow-50",corBorder:"border-yellow-200",categoria:"Bom",icone:Nn}:{emoji:"🔴",mensagem:"Hoje foi difícil, mas você não desistiu!",cor:"text-red-600",corBg:"bg-red-50",corBorder:"border-red-200",categoria:"Precisa Melhorar",icone:Hr},a=s.icone,l=Math.min(t/e*100,100);return o.jsx(le,{className:`${s.corBg} ${s.corBorder} border-2 ${r}`,children:o.jsx(ue,{className:"p-6",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"text-3xl",children:s.emoji}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("h3",{className:"text-lg font-semibold text-instituto-dark",children:[t," pontos"]}),o.jsx(Nt,{variant:"secondary",className:`${s.cor} bg-white`,children:s.categoria})]}),o.jsx("p",{className:`text-sm ${s.cor} font-medium`,children:s.mensagem})]})]}),o.jsx(a,{className:`w-8 h-8 ${s.cor}`})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm text-instituto-dark/70",children:[o.jsx("span",{children:"Progresso do dia"}),o.jsxs("span",{children:[t,"/",e]})]}),o.jsx(Sa,{value:l,className:"h-2"})]}),n&&o.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-4 border-t border-instituto-border/20",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-instituto-dark",children:t}),o.jsx("div",{className:"text-xs text-instituto-dark/60",children:"Pontos Hoje"})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-2xl font-bold text-instituto-orange",children:[Math.round(l),"%"]}),o.jsx("div",{className:"text-xs text-instituto-dark/60",children:"Progresso"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-instituto-gold",children:Math.max(0,e-t)}),o.jsx("div",{className:"text-xs text-instituto-dark/60",children:"Faltam"})]})]})]})})})},oVe=({detalhes:t,totalPontos:e,totalMaximo:n,isVisible:r=!0,onToggleVisibility:i})=>{const s=Math.round(e/n*100),a=c=>c>0?"text-green-600":c<0?"text-red-600":"text-instituto-dark/60",l=c=>({"Ritual da Manhã":"bg-blue-100 text-blue-800","Hábitos do Dia":"bg-green-100 text-green-800","Mente & Emoções":"bg-purple-100 text-purple-800"})[c]||"bg-gray-100 text-gray-800";return r?o.jsxs(le,{className:"bg-instituto-orange/5 border-instituto-orange/20",children:[o.jsxs(Qe,{className:"pb-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(et,{className:"flex items-center gap-2",children:[o.jsx(u3,{className:"w-5 h-5 text-instituto-orange"}),"Pontuação em Tempo Real"]}),o.jsx(pe,{variant:"ghost",size:"sm",onClick:i,className:"text-instituto-orange hover:bg-instituto-orange/10",children:o.jsx(qE,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{className:"text-instituto-dark/70",children:"Progresso Total"}),o.jsxs("span",{className:"font-medium",children:[e,"/",n," pontos"]})]}),o.jsx(Sa,{value:s,className:"h-2"}),o.jsx("div",{className:"text-center",children:o.jsxs(Nt,{variant:"secondary",className:"bg-instituto-orange/10 text-instituto-orange",children:[s,"% completo"]})})]})]}),o.jsxs(ue,{className:"space-y-3",children:[t.map((c,u)=>o.jsxs("div",{className:`
              p-3 rounded-lg border transition-all duration-200
              ${c.respondida?"bg-white border-instituto-border":"bg-instituto-dark/5 border-instituto-dark/10"}
            `,children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx(Nt,{variant:"secondary",className:`text-xs ${l(c.categoria)}`,children:c.categoria}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:`text-sm font-bold ${a(c.pontos)}`,children:[c.pontos>0?"+":"",c.pontos]}),o.jsxs("span",{className:"text-xs text-instituto-dark/40",children:["/",c.pontosMaximos]})]})]}),o.jsx("p",{className:"text-sm text-instituto-dark/80 mb-2",children:c.pergunta}),o.jsx("div",{className:"w-full bg-instituto-dark/10 rounded-full h-1",children:o.jsx("div",{className:`
                  h-1 rounded-full transition-all duration-300
                  ${c.pontos>0?"bg-green-500":c.pontos<0?"bg-red-500":"bg-gray-300"}
                `,style:{width:`${Math.max(0,c.pontos/c.pontosMaximos*100)}%`}})}),!c.respondida&&o.jsx("p",{className:"text-xs text-instituto-dark/50 mt-1",children:"Aguardando resposta..."})]},u)),o.jsxs("div",{className:"mt-4 p-3 bg-white rounded-lg border border-instituto-border",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"font-medium text-instituto-dark",children:"Total do Dia"}),o.jsxs("span",{className:"text-2xl font-bold text-instituto-orange",children:[e," pontos"]})]}),o.jsxs("div",{className:"text-sm text-instituto-dark/60 mt-1",children:[t.filter(c=>c.respondida).length,"/",t.length," perguntas respondidas"]})]})]})]}):o.jsx(le,{className:"bg-instituto-orange/5 border-instituto-orange/20",children:o.jsx(ue,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Xs,{className:"w-6 h-6 text-instituto-orange"}),o.jsxs("div",{children:[o.jsxs("h3",{className:"font-semibold text-instituto-dark",children:[e," pontos"]}),o.jsxs("p",{className:"text-sm text-instituto-dark/60",children:[Math.round(e/n*100),"% do total"]})]})]}),o.jsx(pe,{variant:"ghost",size:"sm",onClick:i,className:"text-instituto-orange hover:bg-instituto-orange/10",children:o.jsx(eo,{className:"w-4 h-4"})})]})})})},lVe=({dados:t,isLoading:e=!1})=>{if(e)return o.jsxs(le,{children:[o.jsx(Qe,{children:o.jsxs(et,{className:"flex items-center gap-2",children:[o.jsx(Hr,{className:"w-5 h-5 text-instituto-orange"}),"Evolução Semanal"]})}),o.jsx(ue,{children:o.jsx("div",{className:"h-64 flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-instituto-orange"})})})]});const n=t.map(a=>({data:Ot($h(a.data),"dd/MM",{locale:pn}),pontos:a.total_pontos_dia,categoria:a.categoria_dia,dataCompleta:Ot($h(a.data),"EEEE, dd/MM/yyyy",{locale:pn})})),r=t.length>0?Math.round(t.reduce((a,l)=>a+l.total_pontos_dia,0)/t.length):0,i=t.reduce((a,l)=>l.total_pontos_dia>a.total_pontos_dia?l:a,t[0]||{total_pontos_dia:0,data:""}),s=({active:a,payload:l,label:c})=>!a||!(l!=null&&l.length)?null:o.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-lg border",children:[o.jsx("p",{className:"font-semibold",children:Ot($h(c),"dd 'de' MMMM",{locale:pn})}),l.map((u,d)=>o.jsxs("p",{className:"text-sm",children:[u.name,": ",u.value," pontos"]},d))]});return o.jsxs(le,{children:[o.jsx(Qe,{children:o.jsxs(et,{className:"flex items-center gap-2",children:[o.jsx(Hr,{className:"w-5 h-5 text-instituto-orange"}),"Evolução Semanal"]})}),o.jsx(ue,{children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"bg-instituto-orange/10 p-4 rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(Nn,{className:"w-4 h-4 text-instituto-orange"}),o.jsx("span",{className:"text-sm font-medium text-instituto-dark",children:"Média Semanal"})]}),o.jsx("div",{className:"text-2xl font-bold text-instituto-orange",children:r})]}),o.jsxs("div",{className:"bg-instituto-gold/10 p-4 rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(In,{className:"w-4 h-4 text-instituto-gold"}),o.jsx("span",{className:"text-sm font-medium text-instituto-dark",children:"Melhor Dia"})]}),o.jsx("div",{className:"text-2xl font-bold text-instituto-gold",children:i.total_pontos_dia}),o.jsx("div",{className:"text-xs text-instituto-dark/60",children:i.data?Ot($h(i.data),"dd/MM",{locale:pn}):"--"})]})]}),o.jsx("div",{className:"h-64",children:n.length>0?o.jsx(li,{width:"100%",height:"100%",children:o.jsxs(jl,{data:n,children:[o.jsx(Ns,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),o.jsx(Ji,{dataKey:"data",stroke:"#666",fontSize:12}),o.jsx(wi,{stroke:"#666",fontSize:12,domain:[0,"dataMax + 5"]}),o.jsx(Zi,{content:o.jsx(s,{})}),o.jsx(jb,{y:21,stroke:"#10b981",strokeDasharray:"5 5",label:"Excelente"}),o.jsx(jb,{y:11,stroke:"#f59e0b",strokeDasharray:"5 5",label:"Bom"}),o.jsx(bi,{type:"monotone",dataKey:"pontos",stroke:"#f97316",strokeWidth:3,dot:{fill:"#f97316",strokeWidth:2,r:4},activeDot:{r:6,fill:"#f97316"}})]})}):o.jsx("div",{className:"h-full flex items-center justify-center text-instituto-dark/60",children:o.jsxs("div",{className:"text-center",children:[o.jsx(In,{className:"w-12 h-12 mx-auto mb-2 text-instituto-dark/40"}),o.jsx("p",{children:"Nenhum dado disponível"}),o.jsx("p",{className:"text-sm",children:"Complete sua primeira missão para ver o gráfico!"})]})})}),o.jsxs("div",{className:"flex items-center justify-center gap-6 text-sm text-instituto-dark/60",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),o.jsx("span",{children:"Excelente (21+)"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),o.jsx("span",{children:"Bom (11-20)"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),o.jsx("span",{children:"Precisa Melhorar (0-10)"})]})]})]})})]})},cVe=({dados:t,isLoading:e=!1,userIdAtual:n})=>{if(e)return o.jsxs(le,{children:[o.jsx(Qe,{children:o.jsxs(et,{className:"flex items-center gap-2",children:[o.jsx(Xs,{className:"w-5 h-5 text-instituto-orange"}),"Ranking Semanal"]})}),o.jsx(ue,{children:o.jsx("div",{className:"h-64 flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-instituto-orange"})})})]});const r=l=>{switch(l){case 1:return o.jsx(Ja,{className:"w-6 h-6 text-yellow-500"});case 2:return o.jsx(c3,{className:"w-6 h-6 text-gray-400"});case 3:return o.jsx(lw,{className:"w-6 h-6 text-orange-600"});default:return o.jsxs("div",{className:"w-6 h-6 flex items-center justify-center text-instituto-dark font-bold",children:["#",l]})}},i=l=>{switch(l){case 1:return"bg-yellow-50 border-yellow-200";case 2:return"bg-gray-50 border-gray-200";case 3:return"bg-orange-50 border-orange-200";default:return"bg-white border-instituto-border"}},s=l=>l>=21?{texto:"Excelente",cor:"bg-green-100 text-green-800"}:l>=11?{texto:"Bom",cor:"bg-yellow-100 text-yellow-800"}:{texto:"Iniciante",cor:"bg-red-100 text-red-800"},a=l=>l.split(" ").map(c=>c.charAt(0)).join("").toUpperCase().slice(0,2);return o.jsxs(le,{children:[o.jsx(Qe,{children:o.jsxs(et,{className:"flex items-center gap-2",children:[o.jsx(Xs,{className:"w-5 h-5 text-instituto-orange"}),"Ranking Semanal",o.jsxs(Nt,{variant:"secondary",className:"ml-2",children:[t.length," participantes"]})]})}),o.jsxs(ue,{children:[o.jsx("div",{className:"space-y-3",children:t.length>0?t.map((l,c)=>{const u=c+1,d=s(l.media_semanal),f=l.user_id===n;return o.jsx("div",{className:`
                    p-4 rounded-lg border-2 transition-all duration-200
                    ${i(u)}
                    ${f?"ring-2 ring-instituto-orange ring-opacity-50":""}
                  `,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[r(u),o.jsx(hb,{className:"w-10 h-10",children:o.jsx(mb,{className:"bg-instituto-orange text-white text-sm",children:a(l.nome)})}),o.jsxs("div",{children:[o.jsxs("h4",{className:"font-medium text-instituto-dark",children:[l.nome,f&&o.jsx("span",{className:"ml-2 text-instituto-orange text-sm font-bold",children:"(Você)"})]}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx(Nt,{variant:"secondary",className:`text-xs ${d.cor} border-0`,children:d.texto}),o.jsxs("span",{className:"text-xs text-instituto-dark/60",children:[l.pontos.length," dias ativos"]})]})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-2xl font-bold text-instituto-orange",children:l.media_semanal}),o.jsx("div",{className:"text-xs text-instituto-dark/60",children:"média/dia"}),o.jsxs("div",{className:"text-xs text-instituto-dark/40",children:[l.total_pontos," total"]})]})]})},l.user_id)}):o.jsxs("div",{className:"text-center py-8 text-instituto-dark/60",children:[o.jsx(Xs,{className:"w-12 h-12 mx-auto mb-3 text-instituto-dark/40"}),o.jsx("p",{children:"Nenhum participante no ranking ainda"}),o.jsx("p",{className:"text-sm",children:"Seja o primeiro a completar uma missão!"})]})}),t.length>0&&o.jsxs("div",{className:"mt-6 p-4 bg-instituto-orange/10 rounded-lg",children:[o.jsx("h4",{className:"font-medium text-instituto-dark mb-2",children:"Como funciona o ranking?"}),o.jsxs("div",{className:"text-sm text-instituto-dark/70 space-y-1",children:[o.jsx("p",{children:"• Baseado na média semanal de pontos"}),o.jsx("p",{children:"• Atualizado diariamente"}),o.jsx("p",{children:"• Apenas usuários ativos aparecem"})]})]})]})]})},uVe=({progresso:t})=>o.jsxs(Qe,{className:"text-center pb-4",children:[o.jsx(et,{className:"text-2xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"Missão do Dia"}),o.jsx("p",{className:"text-sm text-muted-foreground italic",children:'"Mais que uma rotina, um reencontro com sua melhor versão."'}),o.jsxs("div",{className:"mt-4",children:[o.jsx(Sa,{value:t,className:"h-2"}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:[Math.round(t),"% concluído (",Math.round(t*12/100)," de 12 respostas)"]})]})]}),dVe=({missao:t,updateMissao:e})=>{const n=["Água morna com limão","Chá natural","Café puro","Água gelada","Outro"],r=["Oração","Meditação","Respiração consciente","Não fiz hoje"],i=(a,l,c)=>o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:a.map(u=>o.jsx(pe,{variant:l===u?"default":"outline",onClick:()=>c(u),className:"justify-start h-auto p-3 text-left",children:u},u))}),s=(a,l)=>o.jsx("div",{className:"flex gap-2 justify-center",children:[{emoji:"😴",value:1},{emoji:"😐",value:2},{emoji:"🙂",value:3},{emoji:"😊",value:4},{emoji:"💥",value:5}].map(({emoji:c,value:u})=>o.jsx(pe,{variant:a===u?"default":"outline",size:"lg",onClick:()=>l(u),className:"text-2xl h-14 w-14",children:c},u))});return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(Dpe,{className:"h-6 w-6 text-primary"}),o.jsx("h3",{className:"text-lg font-semibold",children:"Ritual da Manhã"})]}),o.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:'"Como você iniciou o seu dia hoje?"'}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Ce,{className:"text-sm font-medium mb-2 block",children:"🫖 Qual foi o primeiro líquido que consumiu?"}),i(n,t==null?void 0:t.liquido_ao_acordar,a=>e({liquido_ao_acordar:a}))]}),o.jsxs("div",{children:[o.jsx(Ce,{className:"text-sm font-medium mb-2 block",children:"🧘‍♀️ Praticou algum momento de conexão interna?"}),i(r,t==null?void 0:t.pratica_conexao,a=>e({pratica_conexao:a}))]}),o.jsxs("div",{children:[o.jsx(Ce,{className:"text-sm font-medium mb-3 block",children:"📿 Como você classificaria sua energia ao acordar?"}),s(t==null?void 0:t.energia_ao_acordar,a=>e({energia_ao_acordar:a}))]})]})]})},fVe=({missao:t,updateMissao:e})=>{const n=[{value:4,label:"4h ou menos"},{value:6,label:"6h"},{value:8,label:"8h"},{value:9,label:"9h+"}],r=["Menos de 500ml","1L","2L","3L ou mais"],i=(a,l,c=5)=>o.jsx("div",{className:"flex gap-2 justify-center",children:Array.from({length:c},(u,d)=>d+1).map(u=>o.jsx(pe,{variant:a===u?"default":"outline",size:"lg",onClick:()=>l(u),className:"h-12 w-12 text-lg font-bold",children:u},u))}),s=(a,l,c)=>o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:a.map(u=>o.jsx(pe,{variant:l===u?"default":"outline",onClick:()=>c(u),className:"justify-start h-auto p-3 text-left",children:u},u))});return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(Vr,{className:"h-6 w-6 text-primary"}),o.jsx("h3",{className:"text-lg font-semibold",children:"Hábitos do Dia"})]}),o.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:'"Agora me conte como foi seu autocuidado ao longo do dia."'}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Ce,{className:"text-sm font-medium mb-2 block",children:"💤 Quantas horas você dormiu?"}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:n.map(({value:a,label:l})=>o.jsx(pe,{variant:(t==null?void 0:t.sono_horas)===a?"default":"outline",onClick:()=>e({sono_horas:a}),className:"h-auto p-3",children:l},a))})]}),o.jsxs("div",{children:[o.jsx(Ce,{className:"text-sm font-medium mb-2 block",children:"💧 Quanto de água você bebeu hoje?"}),s(r,t==null?void 0:t.agua_litros,a=>e({agua_litros:a}))]}),o.jsxs("div",{children:[o.jsx(Ce,{className:"text-sm font-medium mb-2 block",children:"🏃‍♀️ Praticou atividade física hoje?"}),o.jsxs("div",{className:"flex gap-2 justify-center",children:[o.jsx(pe,{variant:(t==null?void 0:t.atividade_fisica)===!0?"default":"outline",onClick:()=>e({atividade_fisica:!0}),className:"flex-1",children:"Sim"}),o.jsx(pe,{variant:(t==null?void 0:t.atividade_fisica)===!1?"default":"outline",onClick:()=>e({atividade_fisica:!1}),className:"flex-1",children:"Não"})]})]}),o.jsxs("div",{children:[o.jsx(Ce,{className:"text-sm font-medium mb-3 block",children:"😰 Como está seu nível de estresse hoje? (1 = Muito baixo, 5 = Muito alto)"}),i(t==null?void 0:t.estresse_nivel,a=>e({estresse_nivel:a}))]}),o.jsxs("div",{children:[o.jsx(Ce,{className:"text-sm font-medium mb-2 block",children:"🍫 Sentiu fome emocional hoje?"}),o.jsxs("div",{className:"flex gap-2 justify-center",children:[o.jsx(pe,{variant:(t==null?void 0:t.fome_emocional)===!0?"default":"outline",onClick:()=>e({fome_emocional:!0}),className:"flex-1",children:"Sim"}),o.jsx(pe,{variant:(t==null?void 0:t.fome_emocional)===!1?"default":"outline",onClick:()=>e({fome_emocional:!1}),className:"flex-1",children:"Não"})]})]})]})]})},hVe=({missao:t,updateMissao:e})=>{const n=["Minha saúde","Minha família","Meu trabalho","Meu corpo","Outro"],r=["Cuidar de mim","Estar presente","Fazer melhor","Outro"],i=(a,l,c)=>o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:a.map(u=>o.jsx(pe,{variant:l===u?"default":"outline",onClick:()=>c(u),className:"justify-start h-auto p-3 text-left",children:u},u))}),s=(a,l)=>o.jsx("div",{className:"flex gap-2 justify-center",children:[1,2,3,4,5].map(c=>o.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>l(c),className:`p-1 ${a===c?"text-primary":"text-muted-foreground hover:text-primary"}`,children:o.jsx(Io,{className:`h-6 w-6 ${a===c?"fill-current":""}`})},c))});return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(a3,{className:"h-6 w-6 text-primary"}),o.jsx("h3",{className:"text-lg font-semibold",children:"Mente & Emoções"})]}),o.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:'"Agora vamos cuidar da sua mente e das suas emoções."'}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Ce,{className:"text-sm font-medium mb-2 block",children:"🙏 Pelo que você é grato hoje?"}),i(n,t==null?void 0:t.gratidao,a=>e({gratidao:a}))]}),o.jsxs("div",{children:[o.jsx(Ce,{className:"text-sm font-medium mb-2 block",children:"🏆 Qual foi sua pequena vitória hoje?"}),o.jsx(mn,{placeholder:"Ex: Terminei um projeto, cuidei da minha saúde, fiz alguém sorrir...",value:(t==null?void 0:t.pequena_vitoria)||"",onChange:a=>e({pequena_vitoria:a.target.value}),className:"min-h-[80px]"})]}),o.jsxs("div",{children:[o.jsx(Ce,{className:"text-sm font-medium mb-2 block",children:"🌱 Qual sua intenção para amanhã?"}),i(r,t==null?void 0:t.intencao_para_amanha,a=>e({intencao_para_amanha:a}))]}),o.jsxs("div",{children:[o.jsx(Ce,{className:"text-sm font-medium mb-3 block",children:"⭐ Como foi seu dia hoje? (1 = Muito ruim, 5 = Excelente)"}),s(t==null?void 0:t.nota_dia,a=>e({nota_dia:a}))]})]})]})},b$=({isVisitor:t=!1})=>{const{missao:e,loading:n,updateMissao:r,concluirMissao:i}=eVe(t),{pontuacaoCalculada:s,progresso:a}=tVe(e),{historicoPontuacao:l,rankingSemanal:c,isLoadingHistorico:u,isLoadingRanking:d,getFeedbackPontuacao:f}=nVe(),[h,m]=S.useState(!1),[p,x]=S.useState(!1),[v,g]=S.useState("evolucao");return n?o.jsx(le,{className:"border-0 bg-gradient-to-br from-background via-muted/30 to-background shadow-xl",children:o.jsx(ue,{className:"p-8",children:o.jsxs("div",{className:"animate-pulse space-y-4",children:[o.jsx("div",{className:"h-6 bg-muted rounded w-1/2"}),o.jsx("div",{className:"h-4 bg-muted rounded w-3/4"})]})})}):h?o.jsxs(le,{className:"border-0 bg-gradient-to-br from-background via-muted/30 to-background shadow-xl",children:[o.jsxs(Qe,{className:"text-center",children:[o.jsx(et,{className:"text-2xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"Sua Evolução e Ranking"}),o.jsxs("div",{className:"flex justify-center gap-2 mt-4",children:[o.jsxs(pe,{variant:v==="evolucao"?"default":"outline",size:"sm",onClick:()=>g("evolucao"),children:[o.jsx(Hr,{className:"w-4 h-4 mr-2"}),"Evolução"]}),o.jsxs(pe,{variant:v==="ranking"?"default":"outline",size:"sm",onClick:()=>g("ranking"),children:[o.jsx(Xs,{className:"w-4 h-4 mr-2"}),"Ranking"]})]})]}),o.jsxs(ue,{className:"space-y-6",children:[a>=100&&o.jsx(aVe,{pontuacaoTotal:s.total,pontuacaoMaxima:30,showDetalhes:!0}),o.jsxs("div",{className:"text-center p-6 bg-primary/10 rounded-lg",children:[o.jsxs("p",{className:"text-lg italic text-foreground/80 mb-4",children:['"',f(s.total).mensagem,'"']}),o.jsxs(Nt,{variant:"secondary",className:"text-sm",children:[f(s.total).emoji," ",s.total," pontos hoje"]})]}),v==="evolucao"&&o.jsx(lVe,{dados:l||[],isLoading:u}),v==="ranking"&&o.jsx(cVe,{dados:(c==null?void 0:c.map(w=>({user_id:w.userId,nome:w.name,pontos:[w.weeklyPoints],total_pontos:w.weeklyPoints,media_semanal:w.weeklyPoints})))||[],isLoading:d}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx(pe,{onClick:()=>m(!1),variant:"outline",className:"flex-1",children:"Voltar à Missão"}),o.jsxs(pe,{onClick:i,className:"flex-1 bg-gradient-to-r from-primary to-accent",disabled:a<100,children:[o.jsx(Kz,{className:"mr-2 h-4 w-4"}),"Concluir Missão"]})]})]})]}):o.jsxs(le,{className:"border-0 bg-gradient-to-br from-background via-muted/30 to-background shadow-xl",children:[o.jsx(uVe,{progresso:a}),o.jsxs(ue,{className:"space-y-8",children:[!t&&o.jsx(oVe,{detalhes:s.detalhes,totalPontos:s.total,totalMaximo:30,isVisible:p,onToggleVisibility:()=>x(!p)}),o.jsx(dVe,{missao:e,updateMissao:r}),o.jsx(x0,{}),o.jsx(fVe,{missao:e,updateMissao:r}),o.jsx(x0,{}),o.jsx(hVe,{missao:e,updateMissao:r}),o.jsx(x0,{}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs(pe,{onClick:()=>m(!0),variant:"outline",className:"flex-1",disabled:a<80,children:[o.jsx(Hr,{className:"mr-2 h-4 w-4"}),"Ver minha evolução"]}),o.jsxs(pe,{onClick:i,className:"flex-1 bg-gradient-to-r from-primary to-accent",disabled:a<100,children:[o.jsx(Kz,{className:"mr-2 h-4 w-4"}),"Concluir Missão"]})]})]})]})};var fj="Tabs",[mVe,Mrt]=qr(fj,[sx]),Cae=sx(),[pVe,PF]=mVe(fj),jae=S.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:a="horizontal",dir:l,activationMode:c="automatic",...u}=t,d=Qm(l),[f,h]=Js({prop:r,onChange:i,defaultProp:s??"",caller:fj});return o.jsx(pVe,{scope:n,baseId:to(),value:f,onValueChange:h,orientation:a,dir:d,activationMode:c,children:o.jsx(_t.div,{dir:d,"data-orientation":a,...u,ref:e})})});jae.displayName=fj;var Aae="TabsList",Tae=S.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,s=PF(Aae,n),a=Cae(n);return o.jsx(k3,{asChild:!0,...a,orientation:s.orientation,dir:s.dir,loop:r,children:o.jsx(_t.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});Tae.displayName=Aae;var Pae="TabsTrigger",kae=S.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=t,a=PF(Pae,n),l=Cae(n),c=Dae(a.baseId,r),u=Iae(a.baseId,r),d=r===a.value;return o.jsx(R3,{asChild:!0,...l,focusable:!i,active:d,children:o.jsx(_t.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...s,ref:e,onMouseDown:ot(t.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?a.onValueChange(r):f.preventDefault()}),onKeyDown:ot(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(r)}),onFocus:ot(t.onFocus,()=>{const f=a.activationMode!=="manual";!d&&!i&&f&&a.onValueChange(r)})})})});kae.displayName=Pae;var Rae="TabsContent",Oae=S.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...a}=t,l=PF(Rae,n),c=Dae(l.baseId,r),u=Iae(l.baseId,r),d=r===l.value,f=S.useRef(d);return S.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),o.jsx(js,{present:i||d,children:({present:h})=>o.jsx(_t.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:h&&s})})});Oae.displayName=Rae;function Dae(t,e){return`${t}-trigger-${e}`}function Iae(t,e){return`${t}-content-${e}`}var gVe=jae,Lae=Tae,Fae=kae,Uae=Oae;const Zu=gVe,Dc=S.forwardRef(({className:t,...e},n)=>o.jsx(Lae,{ref:n,className:xt("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Dc.displayName=Lae.displayName;const On=S.forwardRef(({className:t,...e},n)=>o.jsx(Fae,{ref:n,className:xt("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));On.displayName=Fae.displayName;const Dn=S.forwardRef(({className:t,...e},n)=>o.jsx(Uae,{ref:n,className:xt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Dn.displayName=Uae.displayName;const vVe=()=>{const[t,e]=S.useState(!1),[n,r]=S.useState(!1),[i,s]=S.useState(!1),[a,l]=S.useState(null),[c,u]=S.useState(null),[d,f]=S.useState(0),[h,m]=S.useState("Desconectado"),p=S.useCallback(async()=>{if(!navigator.bluetooth){m("Web Bluetooth não suportado neste navegador");return}r(!0),m("Procurando balança...");try{const _=await navigator.bluetooth.requestDevice({filters:[{namePrefix:"MIBFS"},{namePrefix:"MIBCS"},{namePrefix:"MI_SCALE"},{namePrefix:"Xiaomi"}],optionalServices:["0000181d-0000-1000-8000-00805f9b34fb","0000181b-0000-1000-8000-00805f9b34fb","0000fee0-0000-1000-8000-00805f9b34fb","0000fee1-0000-1000-8000-00805f9b34fb"]});l(_),m("Conectando...");const E=await _.gatt.connect();e(!0),m(`Conectado: ${_.name||"Mi Scale 2"}`)}catch(_){console.error("Erro ao conectar:",_),m("Erro na conexão. Tente novamente.")}finally{r(!1)}},[]),x=S.useCallback(async()=>{var E;if(!a||!((E=a.gatt)!=null&&E.connected)){m("Balança não conectada");return}s(!0),m("Suba na balança em 5 segundos..."),f(5);const _=setInterval(()=>{f(N=>{if(N<=1){clearInterval(_),m("Aguardando estabilização..."),f(10);const C=setInterval(()=>{f(j=>j<=1?(clearInterval(C),v(),0):j-1)},1e3);return 0}return N-1})},1e3)},[a]),v=S.useCallback(async()=>{var _;if(!(!a||!((_=a.gatt)!=null&&_.connected)))try{m("Descobrindo serviços da balança...");const E=["0000181b-0000-1000-8000-00805f9b34fb","0000181d-0000-1000-8000-00805f9b34fb","0000fee0-0000-1000-8000-00805f9b34fb","0000fee1-0000-1000-8000-00805f9b34fb"],N=["00002a9d-0000-1000-8000-00805f9b34fb","00002a98-0000-1000-8000-00805f9b34fb","00002a9c-0000-1000-8000-00805f9b34fb","00002a9e-0000-1000-8000-00805f9b34fb","0000fee1-0000-1000-8000-00805f9b34fb","0000fee2-0000-1000-8000-00805f9b34fb"];let C=null,j=null;for(const A of E)try{C=await a.gatt.getPrimaryService(A),m(`Serviço encontrado: ${A}`),console.log(`Serviço conectado: ${A}`);break}catch(P){console.log(`Serviço ${A} não encontrado:`,P)}if(!C){m("Nenhum serviço compatível encontrado"),s(!1);return}for(const A of N)try{j=await C.getCharacteristic(A),m(`Característica encontrada: ${A}`),console.log(`Característica conectada: ${A}`);break}catch(P){console.log(`Característica ${A} não encontrada:`,P)}if(!j){m("Nenhuma característica compatível encontrada"),s(!1);return}m("Aguardando dados da balança...");const T=A=>{console.log("=== EVENTO DE DADOS RECEBIDO ===");const P=A.target.value;if(!P){console.log("Nenhum valor recebido");return}if(console.log("Bytes recebidos:",P.byteLength),console.log("Dados hex:",Array.from(new Uint8Array(P.buffer)).map($=>$.toString(16).padStart(2,"0")).join(" ")),console.log("Dados decimais:",Array.from(new Uint8Array(P.buffer))),P.byteLength<4){console.log("Dados insuficientes recebidos - mínimo 4 bytes necessários");return}const R=P.getUint8(0),D=P.byteLength>=13;if(!(D?R===2||R===34:R===3||R===35)){console.log("Dados temporários detectados (não estabilizados), byte status:",R.toString(16)),m("Aguardando estabilização da medição...");return}console.log("Medição estabilizada detectada, byte status:",R.toString(16));let I=0,G=!1;if(D)try{I=P.getUint16(11,!0)/200,I>=5&&I<=300&&(G=!0,console.log("Formato Mi Scale 2 (bytes 11-12):",I))}catch($){console.log("Formato Mi Scale 2 falhou:",$)}if(!G)try{I=P.getUint16(1,!0)/200,I>=5&&I<=300&&(G=!0,console.log("Formato Mi Scale padrão (bytes 1-2):",I))}catch($){console.log("Formato padrão falhou:",$)}if(!G)try{I=P.getUint16(0,!0)/200,I>=5&&I<=300&&(G=!0,console.log("Formato alternativo (bytes 0-1):",I))}catch($){console.log("Formato alternativo falhou:",$)}if(!G){console.log("Peso inválido ou fora do range para todos os formatos"),m("Erro na leitura - tente novamente");return}console.log("Peso estabilizado capturado:",I,"kg");const q={weight:Math.round(I*10)/10,timestamp:new Date};if(P.byteLength>=20)try{const $=P.getUint16(9,!0);$>0&&$<1e4&&(q.bodyFat=Math.round((15+$/200)*10)/10,q.bodyWater=Math.round((55-$/400)*10)/10,q.muscleMass=Math.round(I*.4*10)/10,q.visceralFat=Math.round($/1e3),q.basalMetabolism=Math.round(I*24),q.bodyType="Normal")}catch($){console.log("Erro ao extrair dados de composição:",$)}u(q),m("Peso capturado com sucesso!"),s(!1),j.removeEventListener("characteristicvaluechanged",T)};j.addEventListener("characteristicvaluechanged",T),console.log("Propriedades da característica:",j.properties);try{await j.startNotifications(),m("Notificações ativadas. Suba na balança agora!"),console.log("Notificações Bluetooth ativadas com sucesso")}catch(A){console.log("Erro ao ativar notificações:",A),m("Aguardando dados... Suba na balança!");const P=setInterval(async()=>{try{if(!i){clearInterval(P);return}const R=j.value;R&&T({target:{value:R}})}catch(R){console.log("Erro na leitura periódica:",R)}},1e3);setTimeout(()=>clearInterval(P),6e4)}setTimeout(()=>{if(i){m("Timeout - tente novamente"),s(!1);try{j.removeEventListener("characteristicvaluechanged",T)}catch(A){console.log("Erro ao remover listener:",A)}}},6e4)}catch(E){console.error("Erro ao ler dados:",E),m(`Erro: ${E.message||"Falha na comunicação"}`),s(!1)}},[a,i]),g=S.useCallback(()=>{var _;(_=a==null?void 0:a.gatt)!=null&&_.connected&&a.gatt.disconnect(),l(null),e(!1),m("Desconectado"),u(null)},[a]),w=S.useCallback(()=>{u(null),m(t?`Conectado: ${(a==null?void 0:a.name)||"Mi Scale 2"}`:"Desconectado")},[t,a]);return{isConnected:t,isConnecting:n,isReading:i,device:a,lastReading:c,countdown:d,status:h,connectToScale:p,startWeighing:x,disconnect:g,clearReading:w}},Bae=({trigger:t,onDataSaved:e})=>{var I,G,q,$,L,V;const[n,r]=Ze.useState(!1),[i,s]=Ze.useState(!1),[a,l]=Ze.useState(!1),[c,u]=Ze.useState(!1),[d,f]=Ze.useState(90),{user:h}=Or(),{toast:m}=Ui(),{dadosSaude:p,refetch:x}=xw(),{isConnected:v,isConnecting:g,isReading:w,device:_,lastReading:E,countdown:N,status:C,connectToScale:j,startWeighing:T,disconnect:A,clearReading:P}=vVe(),R=async(K,W)=>{var B;if(!h){m({title:"Erro de autenticação",description:"Você precisa estar logado para salvar os dados",variant:"destructive"});return}s(!0);try{const{data:ee,error:Y}=await He.from("profiles").select("id").eq("user_id",h.id).single();if(Y)throw Y;const{data:Q}=await He.from("dados_fisicos_usuario").select("altura_cm, data_nascimento, sexo").eq("user_id",ee.id).order("created_at",{ascending:!1}).limit(1).maybeSingle(),{data:de}=await He.from("pesagens").select("peso_kg, data_medicao").eq("user_id",ee.id).order("data_medicao",{ascending:!1}).limit(1).maybeSingle(),te=(Q==null?void 0:Q.altura_cm)||170,he=((B=Q==null?void 0:Q.sexo)==null?void 0:B.toLowerCase())||"masculino";let oe=30;if(Q!=null&&Q.data_nascimento){const $e=new Date(Q.data_nascimento),rt=new Date;oe=rt.getFullYear()-$e.getFullYear();const st=rt.getMonth()-$e.getMonth();(st<0||st===0&&rt.getDate()<$e.getDate())&&oe--}const fe=K.weight,ve=te/100,ne=fe/(ve*ve),Be=he==="masculino"?1.2*ne+.23*oe-16.2:1.2*ne+.23*oe-5.4;let H="";ne<18.5?H="Magro":ne>=18.5&&ne<25?H="Normal":(H="Sobrepeso",Be>(he==="masculino"?22:30)&&(H="Sobrepeso com gordura alta"));const Te=fe*Be/100,Ne=fe-Te,De=Ne*.73/fe*100,ce=Be*.15,Ue=fe*.038,Ae=Ne*.2/fe*100,ge=Ne-Ue-fe*De/100,nt=he==="masculino"?10*fe+6.25*te-5*oe+5:10*fe+6.25*te-5*oe-161;let X=100;ne>25&&(X-=10),Be>(he==="masculino"?22:30)&&(X-=10),De<55&&(X-=10),ce>10&&(X-=10);const z=de?de.peso_kg-fe:0,{error:ae}=await He.from("pesagens").insert({user_id:ee.id,peso_kg:fe,gordura_corporal_pct:Math.round(Be*10)/10,agua_corporal_pct:Math.round(De*10)/10,massa_muscular_kg:Math.round(ge*10)/10,massa_ossea_kg:Math.round(Ue*10)/10,gordura_visceral:Math.round(ce),taxa_metabolica_basal:Math.round(nt),tipo_corpo:H,origem_medicao:"balança_bluetooth",data_medicao:K.timestamp.toISOString()});if(ae)throw ae;const Me=(W==null?void 0:W.circunferencia_abdominal_cm)||(p==null?void 0:p.circunferencia_abdominal_cm)||90,Se=(W==null?void 0:W.meta_peso_kg)||(p==null?void 0:p.meta_peso_kg)||fe;try{const{error:$e}=await He.from("dados_saude_usuario").upsert({user_id:ee.id,peso_atual_kg:fe,altura_cm:te,circunferencia_abdominal_cm:Me,meta_peso_kg:Se,data_atualizacao:new Date().toISOString()});$e&&console.error("Erro ao atualizar dados de saúde:",$e)}catch($e){console.error("Erro no salvamento dos dados de saúde:",$e)}const ye=z!==0?` | Progresso: ${z>0?"+":""}${z.toFixed(1)}kg`:"",Ye=de!=null&&de.data_medicao?` | Última: ${new Date(de.data_medicao).toLocaleDateString("pt-BR")}`:"";m({title:"✅ Pesagem registrada e todos os dados corporais atualizados!",description:`Peso: ${fe}kg | IMC: ${ne.toFixed(1)} | Tipo: ${H} | Pontuação: ${X}/100${ye}${Ye}`}),P(),u(!1),r(!1),await x(),e==null||e()}catch(ee){console.error("Erro ao salvar dados:",ee),m({title:"Erro ao salvar",description:"Não foi possível salvar os dados da pesagem",variant:"destructive"})}finally{s(!1)}},D=()=>g?o.jsx(c0,{className:"h-5 w-5 animate-spin text-blue-500"}):v?o.jsx(Zpe,{className:"h-5 w-5 text-green-500"}):o.jsx(qz,{className:"h-5 w-5 text-muted-foreground"}),F=()=>g?"bg-blue-500":v?"bg-green-500 animate-pulse":"bg-muted-foreground";return o.jsxs(Ii,{open:n,onOpenChange:r,children:[o.jsx(lo,{asChild:!0,children:t||o.jsxs(pe,{className:"bg-instituto-purple hover:bg-instituto-purple/80 text-white shadow-lg",size:"lg",children:[o.jsx(Wr,{className:"h-5 w-5 mr-2"}),"⚖️ Balança Inteligente"]})}),o.jsxs(vi,{className:"sm:max-w-lg max-h-[90vh] overflow-y-auto",children:[o.jsx(xi,{children:o.jsxs(yi,{className:"flex items-center gap-2",children:[o.jsx(Wr,{className:"h-5 w-5 text-instituto-purple"}),"Xiaomi Mi Body Composition Scale 2"]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[D(),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:v?`Conectado: ${(_==null?void 0:_.name)||"Mi Scale 2"}`:"Não conectado"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:C})]})]}),o.jsx("div",{className:`w-3 h-3 rounded-full ${F()}`})]}),!v&&o.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[o.jsxs("h4",{className:"font-semibold text-blue-800 mb-2 flex items-center gap-2",children:[o.jsx(Wh,{className:"h-4 w-4"}),"📋 Instruções para Conexão"]}),o.jsxs("ol",{className:"text-sm text-blue-700 space-y-1",children:[o.jsxs("li",{children:[o.jsx("span",{className:"font-medium",children:"1."})," Certifique-se que a balança está ligada"]}),o.jsxs("li",{children:[o.jsx("span",{className:"font-medium",children:"2."})," Coloque em superfície plana e rígida"]}),o.jsxs("li",{children:[o.jsx("span",{className:"font-medium",children:"3."})," Ative o Bluetooth no seu dispositivo"]}),o.jsxs("li",{children:[o.jsx("span",{className:"font-medium",children:"4."}),' Clique em "Conectar Balança"']}),o.jsxs("li",{children:[o.jsx("span",{className:"font-medium",children:"5."})," Selecione sua balança na lista"]})]})]}),w&&o.jsxs("div",{className:"p-4 bg-orange-50 border border-orange-200 rounded-lg",children:[o.jsxs("h4",{className:"font-semibold text-orange-800 mb-2 flex items-center gap-2",children:[o.jsx(qpe,{className:"h-4 w-4 animate-pulse"}),"⚖️ Processo de Pesagem"]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-sm text-orange-700",children:o.jsx("strong",{children:C})}),N>0&&o.jsx("div",{className:"bg-orange-200 rounded-full h-2",children:o.jsx("div",{className:"bg-orange-600 h-2 rounded-full transition-all duration-1000",style:{width:N<=5?`${(5-N)/5*100}%`:`${(10-N)/10*100}%`}})}),o.jsx("p",{className:"text-xs text-orange-600",children:"Mantenha-se parado na balança até a captura automática"})]})]}),o.jsx("div",{className:"space-y-3",children:v?o.jsx("div",{className:"space-y-2",children:w?o.jsxs(pe,{onClick:()=>{P(),r(!1)},variant:"outline",size:"lg",className:"w-full border-red-200 text-red-600 hover:bg-red-50",children:[o.jsx(YE,{className:"h-4 w-4 mr-2"}),"⏹️ Cancelar Pesagem"]}):o.jsxs(o.Fragment,{children:[o.jsxs(pe,{onClick:T,className:"w-full bg-green-600 hover:bg-green-700 text-white",size:"lg",children:[o.jsx(Wr,{className:"h-4 w-4 mr-2"}),"⚖️ Capturar Peso"]}),o.jsxs(pe,{onClick:A,variant:"outline",size:"sm",className:"w-full",children:[o.jsx(YE,{className:"h-4 w-4 mr-2"}),"Desconectar"]})]})}):o.jsx(pe,{onClick:j,disabled:g,className:"w-full bg-instituto-purple hover:bg-instituto-purple/80",size:"lg",children:g?o.jsxs(o.Fragment,{children:[o.jsx(c0,{className:"h-4 w-4 mr-2 animate-spin"}),"Procurando balança..."]}):o.jsxs(o.Fragment,{children:[o.jsx(qz,{className:"h-4 w-4 mr-2"}),"🔗 Conectar Balança"]})})}),E&&!c&&o.jsxs(le,{className:"bg-green-50 border-green-200",children:[o.jsx(Qe,{className:"pb-3",children:o.jsxs(et,{className:"text-center text-green-700 flex items-center justify-center gap-2",children:[o.jsx(Rr,{className:"h-5 w-5"}),"🔁 Dados Capturados - Processamento Automático"]})}),o.jsxs(ue,{children:[o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:[o.jsx("h5",{className:"font-semibold text-blue-800 mb-2",children:"📊 Dados Processados Automaticamente:"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[o.jsxs("div",{children:["✅ Peso: ",o.jsxs("strong",{children:[E.weight,"kg"]})]}),o.jsxs("div",{children:["✅ Gordura: ",o.jsxs("strong",{children:[(I=E.bodyFat)==null?void 0:I.toFixed(1),"%"]})]}),o.jsxs("div",{children:["✅ Água: ",o.jsxs("strong",{children:[(G=E.bodyWater)==null?void 0:G.toFixed(1),"%"]})]}),o.jsxs("div",{children:["✅ Massa Muscular: ",o.jsxs("strong",{children:[(q=E.muscleMass)==null?void 0:q.toFixed(1),"kg"]})]}),o.jsxs("div",{children:["✅ Gordura Visceral: ",o.jsx("strong",{children:E.visceralFat})]}),o.jsxs("div",{children:["✅ Metabolismo: ",o.jsx("strong",{children:E.basalMetabolism})]})]})]}),o.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 mb-4",children:[o.jsx("h5",{className:"font-semibold text-orange-800 mb-2",children:"📐 Circunferência Abdominal Necessária"}),o.jsx("p",{className:"text-sm text-orange-700 mb-3",children:"Para completar o processo, informe sua circunferência abdominal atual:"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(pe,{onClick:()=>{u(!0),f((p==null?void 0:p.circunferencia_abdominal_cm)||90)},className:"flex-1 bg-instituto-purple hover:bg-instituto-purple/80",size:"lg",children:[o.jsx(Nu,{className:"h-4 w-4 mr-2"}),"📐 Inserir Circunferência"]}),o.jsx(pe,{onClick:P,variant:"outline",size:"lg",children:"🔄 Nova Pesagem"})]})]})]}),E&&c&&o.jsxs(le,{className:"bg-orange-50 border-orange-200",children:[o.jsx(Qe,{className:"pb-3",children:o.jsxs(et,{className:"text-center text-orange-700 flex items-center justify-center gap-2",children:[o.jsx(Nu,{className:"h-5 w-5"}),"📐 Circunferência Abdominal"]})}),o.jsx(ue,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-white rounded-lg p-4",children:[o.jsx(Ce,{htmlFor:"circunferencia",className:"text-sm font-medium",children:"Circunferência Abdominal (cm)"}),o.jsx(ut,{id:"circunferencia",type:"number",value:d,onChange:K=>f(Number(K.target.value)),className:"mt-2",min:"50",max:"200",step:"0.1"}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Meça na altura do umbigo, em pé, após expirar"})]}),o.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:[o.jsx("h6",{className:"font-medium text-green-800 mb-2",children:"🎯 Dados Finais do Processo:"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[o.jsxs("div",{children:["Peso: ",o.jsxs("strong",{children:[E.weight,"kg"]})]}),o.jsxs("div",{children:["Gordura: ",o.jsxs("strong",{children:[($=E.bodyFat)==null?void 0:$.toFixed(1),"%"]})]}),o.jsxs("div",{children:["Água: ",o.jsxs("strong",{children:[(L=E.bodyWater)==null?void 0:L.toFixed(1),"%"]})]}),o.jsxs("div",{children:["Músculo: ",o.jsxs("strong",{children:[(V=E.muscleMass)==null?void 0:V.toFixed(1),"kg"]})]}),o.jsxs("div",{children:["Circunf.: ",o.jsxs("strong",{children:[d,"cm"]})]}),o.jsxs("div",{children:["Tipo: ",o.jsx("strong",{children:E.bodyType})]})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(pe,{onClick:()=>R(E,{circunferencia_abdominal_cm:d,meta_peso_kg:(p==null?void 0:p.meta_peso_kg)||E.weight}),disabled:i||d<50||d>200,className:"flex-1 bg-instituto-green hover:bg-instituto-green/80",size:"lg",children:i?o.jsxs(o.Fragment,{children:[o.jsx(c0,{className:"h-4 w-4 mr-2 animate-spin"}),"Finalizando..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Rr,{className:"h-4 w-4 mr-2"}),"✅ Finalizar e Atualizar Gráficos"]})}),o.jsx(pe,{onClick:()=>u(!1),variant:"outline",size:"lg",disabled:i,children:"⬅️ Voltar"})]})]})})]})]})]})]})},w$=({trigger:t})=>{const{dadosSaude:e,salvarDadosSaude:n}=xw(),{toast:r}=Ui(),[i,s]=S.useState(!1),[a,l]=S.useState({peso_atual_kg:(e==null?void 0:e.peso_atual_kg)||"",circunferencia_abdominal_cm:(e==null?void 0:e.circunferencia_abdominal_cm)||""});S.useEffect(()=>{e&&l({peso_atual_kg:e.peso_atual_kg||"",circunferencia_abdominal_cm:e.circunferencia_abdominal_cm||""})},[e]);const c=async d=>{d.preventDefault();const f={peso_atual_kg:parseFloat(a.peso_atual_kg.toString()),circunferencia_abdominal_cm:parseFloat(a.circunferencia_abdominal_cm.toString()),altura_cm:(e==null?void 0:e.altura_cm)||170,meta_peso_kg:(e==null?void 0:e.meta_peso_kg)||parseFloat(a.peso_atual_kg.toString())};await n(f),r({title:"✅ Medidas atualizadas!",description:"Seus dados foram salvos com sucesso. Os gráficos serão atualizados automaticamente."}),s(!1),setTimeout(()=>{window.location.reload()},1e3)},u=(d,f)=>{l(h=>({...h,[d]:f}))};return o.jsxs(Ii,{open:i,onOpenChange:s,children:[o.jsx(lo,{asChild:!0,children:t||o.jsx(pe,{className:"fixed bottom-6 right-6 rounded-full h-14 w-14 shadow-lg bg-instituto-orange hover:bg-instituto-orange/90 text-white",size:"icon",children:o.jsx(Wr,{className:"h-6 w-6"})})}),o.jsxs(vi,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[o.jsx(xi,{children:o.jsxs(yi,{className:"flex items-center gap-2 text-instituto-orange",children:[o.jsx(Nu,{className:"h-5 w-5"}),"Atualizar Medidas"]})}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"p-4 bg-gradient-to-r from-instituto-purple/10 to-instituto-blue/10 rounded-lg border border-instituto-purple/20",children:[o.jsxs("h3",{className:"text-lg font-semibold text-instituto-purple mb-2 flex items-center gap-2",children:[o.jsx(Wr,{className:"h-5 w-5"}),"🎯 Balança Inteligente (Opcional)"]}),o.jsx("p",{className:"text-muted-foreground mb-4 text-sm",children:"Conecte sua balança Xiaomi para preencher automaticamente peso e composição corporal"}),o.jsx(Bae,{trigger:o.jsxs(pe,{variant:"outline",className:"border-instituto-purple text-instituto-purple hover:bg-instituto-purple/10",size:"sm",children:[o.jsx(Wr,{className:"h-4 w-4 mr-2"}),"🔗 Conectar Balança Xiaomi"]}),onDataSaved:()=>{setTimeout(()=>{window.location.reload()},500)}}),o.jsx("div",{className:"mt-3 text-xs text-muted-foreground",children:"✅ Peso será preenchido automaticamente nos campos abaixo"})]}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("span",{className:"w-full border-t border-muted"})}),o.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:o.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"ou preencha manualmente"})})]}),o.jsxs("form",{onSubmit:c,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ce,{htmlFor:"peso",className:"flex items-center gap-2",children:[o.jsx(Wr,{className:"h-4 w-4 text-instituto-orange"}),"Peso Atual (kg)"]}),o.jsx(ut,{id:"peso",type:"number",step:"0.1",value:a.peso_atual_kg,onChange:d=>u("peso_atual_kg",d.target.value),placeholder:"Ex: 70.5",required:!0,className:"border-instituto-orange/30 focus:border-instituto-orange"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ce,{htmlFor:"circunferencia",className:"flex items-center gap-2",children:[o.jsx(Nu,{className:"h-4 w-4 text-instituto-orange"}),"Circunferência Abdominal (cm)"]}),o.jsx(ut,{id:"circunferencia",type:"number",step:"0.1",value:a.circunferencia_abdominal_cm,onChange:d=>u("circunferencia_abdominal_cm",d.target.value),placeholder:"Ex: 85.0",required:!0,className:"border-instituto-orange/30 focus:border-instituto-orange"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"💡 Medida importante para avaliar riscos à saúde"})]})]}),o.jsxs("div",{className:"p-4 bg-instituto-orange/5 rounded-lg border border-instituto-orange/20",children:[o.jsx("h4",{className:"font-medium text-instituto-orange mb-2",children:"📏 Como medir corretamente:"}),o.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[o.jsx("li",{children:"• Use uma fita métrica flexível"}),o.jsx("li",{children:"• Meça no ponto mais estreito da cintura"}),o.jsx("li",{children:"• Mantenha a fita paralela ao chão"}),o.jsx("li",{children:"• Respire normalmente durante a medição"})]})]}),o.jsxs("div",{className:"flex gap-2 pt-4",children:[o.jsx(pe,{type:"button",variant:"outline",onClick:()=>s(!1),className:"flex-1",children:"Cancelar"}),o.jsx(pe,{type:"submit",className:"flex-1 bg-instituto-orange hover:bg-instituto-orange/90",children:"💾 Salvar Medidas"})]})]})]})]})]})},xVe=({circunferenciaAbdominal:t,sexo:e,imc:n,peso:r,altura:i,pesoAnterior:s,showExplanation:a=!0,className:l=""})=>{const u=(()=>{const w={masculino:{baixo:94,moderado:102},feminino:{baixo:80,moderado:88}},_=w[e]||w.masculino;return t<_.baixo?{nivel:"Baixo",cor:"text-green-600",corBg:"bg-green-50",corBorder:"border-green-200",icone:Rr,porcentagem:Math.min(90,t/_.baixo*100),corBarra:"bg-green-500"}:t<=_.moderado?{nivel:"Moderado",cor:"text-yellow-600",corBg:"bg-yellow-50",corBorder:"border-yellow-200",icone:ya,porcentagem:Math.min(95,50+(t-_.baixo)/(_.moderado-_.baixo)*45),corBarra:"bg-yellow-500"}:{nivel:"Alto",cor:"text-red-600",corBg:"bg-red-50",corBorder:"border-red-200",icone:ya,porcentagem:Math.min(100,95+(t-_.moderado)/20*5),corBarra:"bg-red-500"}})(),d=()=>{const w={masculino:{baixo:94,moderado:102},feminino:{baixo:80,moderado:88}},_=w[e]||w.masculino,E=_.baixo-5,N=Math.max(0,t-E);return u.nivel==="Baixo"?{meta:`Manter abaixo de ${_.baixo}cm`,passos:[{icone:Wr,texto:"Continue medindo semanalmente",status:"check"},{icone:ST,texto:"Mantenha alimentação equilibrada",status:"check"},{icone:Vr,texto:"Exercite-se 3x por semana",status:"check"},{icone:In,texto:"Avaliação médica anual",status:"pending"}],proximaMeta:`Excelente! Mantenha-se entre ${E}-${_.baixo}cm`}:u.nivel==="Moderado"?{meta:`Reduzir para ${_.baixo}cm`,passos:[{icone:Nn,texto:`Reduzir ${(t-_.baixo).toFixed(1)}cm`,status:"active"},{icone:ST,texto:"Dieta com déficit calórico",status:"active"},{icone:Vr,texto:"Exercícios 4x por semana",status:"pending"},{icone:In,texto:"Reavaliação em 3 meses",status:"pending"}],proximaMeta:`Meta: reduzir ${N.toFixed(1)}cm em 6 meses`}:{meta:`URGENTE: Reduzir para ${_.moderado}cm`,passos:[{icone:ur,texto:"Procurar acompanhamento médico",status:"urgent"},{icone:Nn,texto:`Reduzir ${(t-_.moderado).toFixed(1)}cm primeiro`,status:"active"},{icone:ST,texto:"Dieta supervisionada",status:"active"},{icone:Vr,texto:"Exercícios orientados",status:"active"}],proximaMeta:`Meta inicial: ${_.moderado}cm em 3-4 meses`}},f=()=>n<18.5?{texto:"Abaixo do peso",cor:"text-blue-600"}:n<25?{texto:"Peso normal",cor:"text-green-600"}:n<30?{texto:"Sobrepeso",cor:"text-yellow-600"}:{texto:"Obesidade",cor:"text-red-600"},h=()=>{if(!s)return null;const w=r-s;return Math.abs(w)<.1?{icone:J0,cor:"text-gray-500",texto:"Estável"}:w>0?{icone:Hr,cor:"text-red-500",texto:`+${w.toFixed(1)}kg`}:{icone:jf,cor:"text-green-500",texto:`${w.toFixed(1)}kg`}},m=f(),p=h(),x=d(),v=u.icone,g=w=>{switch(w){case"check":return o.jsx(Rr,{className:"w-4 h-4 text-green-500"});case"active":return o.jsx(u3,{className:"w-4 h-4 text-blue-500"});case"urgent":return o.jsx(ya,{className:"w-4 h-4 text-red-500"});default:return o.jsx(Vr,{className:"w-4 h-4 text-gray-400"})}};return o.jsxs(le,{className:`${u.corBg} ${u.corBorder} border-2 ${l}`,children:[o.jsx(Qe,{className:"pb-3",children:o.jsxs(et,{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(v,{className:`w-5 h-5 ${u.cor}`}),o.jsx("span",{className:u.cor,children:"Risco Cardiometabólico"})]}),o.jsx(Nt,{variant:"secondary",className:`${u.cor} bg-white font-bold`,children:u.nivel})]})}),o.jsxs(ue,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm font-medium",children:"Circunferência"}),o.jsxs("span",{className:"text-lg font-bold",children:[t,"cm"]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm font-medium",children:"IMC"}),o.jsxs("div",{className:"text-right",children:[o.jsx("span",{className:"text-lg font-bold",children:n.toFixed(1)}),o.jsx("div",{className:`text-xs ${m.cor}`,children:m.texto})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm font-medium",children:"Peso Atual"}),o.jsxs("div",{className:"text-right",children:[o.jsxs("span",{className:"text-lg font-bold",children:[r.toFixed(1),"kg"]}),p&&o.jsxs("div",{className:`text-xs flex items-center gap-1 ${p.cor}`,children:[o.jsx(p.icone,{className:"w-3 h-3"}),p.texto]})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm font-medium",children:"Altura"}),o.jsxs("span",{className:"text-lg font-bold",children:[i,"cm"]})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"Nível de Risco"}),o.jsxs("span",{className:u.cor,children:[u.porcentagem.toFixed(0),"%"]})]}),o.jsx(Sa,{value:u.porcentagem,className:"h-2"})]}),o.jsx(x0,{}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Nn,{className:`w-4 h-4 ${u.cor}`}),o.jsx("h4",{className:"font-semibold text-sm",children:"Plano de Acompanhamento"})]}),o.jsxs("div",{className:`p-3 rounded-lg border-l-4 ${u.corBg} ${u.nivel==="Alto"?"border-l-red-500":u.nivel==="Moderado"?"border-l-yellow-500":"border-l-green-500"}`,children:[o.jsx("div",{className:"font-medium text-sm",children:x.meta}),o.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:x.proximaMeta})]}),o.jsx("div",{className:"space-y-2",children:x.passos.map((w,_)=>{const E=w.icone;return o.jsxs("div",{className:"flex items-center gap-3 p-2 bg-white rounded border",children:[g(w.status),o.jsx(E,{className:"w-4 h-4 text-gray-600"}),o.jsx("span",{className:"text-sm flex-1",children:w.texto}),w.status==="urgent"&&o.jsx(Nt,{variant:"destructive",className:"text-xs",children:"URGENTE"}),w.status==="active"&&o.jsx(Nt,{className:"text-xs bg-blue-100 text-blue-700",children:"ATIVO"}),w.status==="check"&&o.jsx(Nt,{className:"text-xs bg-green-100 text-green-700",children:"✓"})]},_)})})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[o.jsxs("div",{className:"text-center p-2 bg-green-100 rounded",children:[o.jsx("div",{className:"font-bold text-green-700",children:"Baixo"}),o.jsx("div",{className:"text-green-600",children:e==="masculino"?"<94cm":"<80cm"})]}),o.jsxs("div",{className:"text-center p-2 bg-yellow-100 rounded",children:[o.jsx("div",{className:"font-bold text-yellow-700",children:"Moderado"}),o.jsx("div",{className:"text-yellow-600",children:e==="masculino"?"94-102cm":"80-88cm"})]}),o.jsxs("div",{className:"text-center p-2 bg-red-100 rounded",children:[o.jsx("div",{className:"font-bold text-red-700",children:"Alto"}),o.jsx("div",{className:"text-red-600",children:e==="masculino"?">102cm":">88cm"})]})]}),a&&o.jsxs(Ii,{children:[o.jsx(lo,{asChild:!0,children:o.jsxs(pe,{variant:"outline",className:"w-full",size:"sm",children:[o.jsx(Upe,{className:"w-4 h-4 mr-2"}),"📘 Entenda seu Risco"]})}),o.jsxs(vi,{className:"sm:max-w-md",children:[o.jsx(xi,{children:o.jsxs(yi,{className:"flex items-center gap-2",children:[o.jsx(Es,{className:"w-5 h-5 text-red-500"}),"Risco Cardiometabólico"]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[o.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"O que é?"}),o.jsx("p",{className:"text-sm text-blue-700",children:"O risco cardiometabólico avalia a probabilidade de desenvolver doenças cardíacas, diabetes e síndrome metabólica com base na circunferência abdominal."})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("h4",{className:"font-semibold",children:"Níveis de Risco:"}),o.jsxs("div",{className:"flex items-center gap-3 p-3 bg-green-50 rounded-lg",children:[o.jsx(Rr,{className:"w-5 h-5 text-green-500"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-green-700",children:"Baixo"}),o.jsx("div",{className:"text-sm text-green-600",children:e==="masculino"?"Menos de 94cm":"Menos de 80cm"})]})]}),o.jsxs("div",{className:"flex items-center gap-3 p-3 bg-yellow-50 rounded-lg",children:[o.jsx(ya,{className:"w-5 h-5 text-yellow-500"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-yellow-700",children:"Moderado"}),o.jsxs("div",{className:"text-sm text-yellow-600",children:[e==="masculino"?"94-102cm":"80-88cm"," - Atenção necessária"]})]})]}),o.jsxs("div",{className:"flex items-center gap-3 p-3 bg-red-50 rounded-lg",children:[o.jsx(ya,{className:"w-5 h-5 text-red-500"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-red-700",children:"Alto"}),o.jsxs("div",{className:"text-sm text-red-600",children:[e==="masculino"?"Mais de 102cm":"Mais de 88cm"," - Cuidado médico recomendado"]})]})]})]}),o.jsxs("div",{className:"p-4 bg-instituto-orange/10 rounded-lg",children:[o.jsx("h4",{className:"font-semibold text-instituto-orange mb-2",children:"💪 Frase de Incentivo"}),o.jsxs("p",{className:"text-sm text-instituto-dark",children:[u.nivel==="Baixo"&&"Parabéns! Você está no caminho certo. Continue com seus hábitos saudáveis!",u.nivel==="Moderado"&&"Você tem potencial para melhorar! Pequenas mudanças fazem grande diferença.",u.nivel==="Alto"&&"Cada passo conta! Procure orientação médica e mantenha-se determinado(a)."]})]})]})]})]})]})]})},yVe=({dados:t,isLoading:e=!1,metaPeso:n,altura:r})=>{var h,m,p,x;if(e)return o.jsxs(le,{children:[o.jsx(Qe,{children:o.jsxs(et,{className:"flex items-center gap-2",children:[o.jsx(Hr,{className:"w-5 h-5 text-instituto-orange"}),"Evolução Semanal"]})}),o.jsx(ue,{children:o.jsx("div",{className:"h-64 flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-instituto-orange"})})})]});const i=t.map(v=>({...v,dataFormatada:Ot($h(v.data),"dd/MM",{locale:pn}),dataCompleta:Ot($h(v.data),"EEEE, dd/MM/yyyy",{locale:pn})})).sort((v,g)=>new Date(v.data).getTime()-new Date(g.data).getTime()),s={pesoAtual:((h=i[i.length-1])==null?void 0:h.peso)||0,pesoAnterior:((m=i[i.length-2])==null?void 0:m.peso)||0,imcAtual:((p=i[i.length-1])==null?void 0:p.imc)||0,imcAnterior:((x=i[i.length-2])==null?void 0:x.imc)||0,menorPeso:Math.min(...i.map(v=>v.peso)),maiorPeso:Math.max(...i.map(v=>v.peso))},a=s.pesoAtual-s.pesoAnterior,l=s.imcAtual-s.imcAnterior,c=v=>Math.abs(v)<.1?{icone:J0,cor:"text-gray-500",texto:"Estável"}:v>0?{icone:Hr,cor:"text-red-500",texto:`+${v.toFixed(1)}`}:{icone:jf,cor:"text-green-500",texto:`${v.toFixed(1)}`},u=c(a),d=c(l),f=({active:v,payload:g,label:w})=>!v||!(g!=null&&g.length)?null:o.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-lg border",children:[o.jsx("p",{className:"font-semibold",children:Ot($h(w),"dd 'de' MMMM",{locale:pn})}),g.map((_,E)=>o.jsxs("p",{className:"text-sm",children:[_.name,": ",_.value," ",_.unit||""]},E))]});return o.jsxs(le,{children:[o.jsx(Qe,{children:o.jsxs(et,{className:"flex items-center gap-2",children:[o.jsx(Hr,{className:"w-5 h-5 text-instituto-orange"}),"Evolução Semanal"]})}),o.jsx(ue,{children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"bg-instituto-orange/10 p-4 rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm font-medium text-instituto-dark",children:"Peso Atual"}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(u.icone,{className:`w-4 h-4 ${u.cor}`}),o.jsx("span",{className:`text-sm ${u.cor}`,children:u.texto})]})]}),o.jsxs("div",{className:"text-2xl font-bold text-instituto-orange",children:[s.pesoAtual.toFixed(1),"kg"]}),o.jsxs("div",{className:"text-xs text-instituto-dark/60",children:["Anterior: ",s.pesoAnterior.toFixed(1),"kg"]})]}),o.jsxs("div",{className:"bg-instituto-purple/10 p-4 rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm font-medium text-instituto-dark",children:"IMC Atual"}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(d.icone,{className:`w-4 h-4 ${d.cor}`}),o.jsx("span",{className:`text-sm ${d.cor}`,children:d.texto})]})]}),o.jsx("div",{className:"text-2xl font-bold text-instituto-purple",children:s.imcAtual.toFixed(1)}),o.jsxs("div",{className:"text-xs text-instituto-dark/60",children:["Anterior: ",s.imcAnterior.toFixed(1)]})]})]}),o.jsx("div",{className:"h-64",children:i.length>0?o.jsx(li,{width:"100%",height:"100%",children:o.jsxs(jl,{data:i,children:[o.jsx(Ns,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),o.jsx(Ji,{dataKey:"dataFormatada",stroke:"#666",fontSize:12}),o.jsx(wi,{stroke:"#666",fontSize:12}),o.jsx(Zi,{content:o.jsx(f,{})}),n&&o.jsx(jb,{y:n,stroke:"#10b981",strokeDasharray:"5 5",label:"Meta"}),o.jsx(bi,{type:"monotone",dataKey:"peso",stroke:"#f97316",strokeWidth:3,dot:{fill:"#f97316",strokeWidth:2,r:4},activeDot:{r:6,fill:"#f97316"}}),o.jsx(bi,{type:"monotone",dataKey:"imc",stroke:"#8b5cf6",strokeWidth:2,dot:{fill:"#8b5cf6",strokeWidth:2,r:3},activeDot:{r:5,fill:"#8b5cf6"}}),i.some(v=>v.circunferencia)&&o.jsx(bi,{type:"monotone",dataKey:"circunferencia",stroke:"#f59e0b",strokeWidth:2,dot:{fill:"#f59e0b",strokeWidth:2,r:3},activeDot:{r:5,fill:"#f59e0b"}})]})}):o.jsx("div",{className:"h-full flex items-center justify-center text-instituto-dark/60",children:o.jsxs("div",{className:"text-center",children:[o.jsx(In,{className:"w-12 h-12 mx-auto mb-2 text-instituto-dark/40"}),o.jsx("p",{children:"Nenhum dado disponível"}),o.jsx("p",{className:"text-sm",children:"Faça sua primeira pesagem para ver o gráfico!"})]})})}),o.jsxs("div",{className:"flex items-center justify-center gap-6 text-sm text-instituto-dark/60",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 bg-instituto-orange rounded-full"}),o.jsx("span",{children:"Peso (kg)"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 bg-instituto-purple rounded-full"}),o.jsx("span",{children:"IMC"})]}),i.some(v=>v.circunferencia)&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 bg-instituto-gold rounded-full"}),o.jsx("span",{children:"Cintura (cm)"})]}),n&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-0.5 bg-green-500 border-dashed border-green-500"}),o.jsx("span",{children:"Meta"})]})]}),i.length>1&&o.jsxs("div",{className:"bg-instituto-dark/5 p-4 rounded-lg",children:[o.jsx("h4",{className:"font-medium text-instituto-dark mb-2",children:"📍 Comparação com medição anterior"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-instituto-dark/60",children:"Semana passada:"}),o.jsxs("span",{className:"ml-2 font-medium",children:[s.pesoAnterior.toFixed(1),"kg"]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-instituto-dark/60",children:"Variação:"}),o.jsxs("span",{className:`ml-2 font-medium ${u.cor}`,children:[u.texto,"kg"]})]})]})]})]})})]})};/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const hj="178",Rh={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Oh={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},zae=0,vD=1,Vae=2,bVe=3,Wae=0,mj=1,y0=2,hl=3,Du=0,Zs=1,El=2,yu=0,gm=1,xD=2,yD=3,bD=4,$ae=5,Ud=100,Hae=101,Gae=102,qae=103,Kae=104,Xae=200,Yae=201,Zae=202,Qae=203,eM=204,tM=205,Jae=206,eoe=207,toe=208,noe=209,roe=210,ioe=211,soe=212,aoe=213,ooe=214,nM=0,rM=1,iM=2,zm=3,sM=4,aM=5,oM=6,lM=7,Kw=0,loe=1,coe=2,_c=0,uoe=1,doe=2,foe=3,kF=4,hoe=5,moe=6,poe=7,wD="attached",goe="detached",pj=300,Iu=301,wf=302,Ab=303,Tb=304,bx=306,Pb=1e3,Fo=1001,kb=1002,es=1003,RF=1004,wVe=1004,Tg=1005,_Ve=1005,$r=1006,b0=1007,SVe=1007,mc=1008,EVe=1008,Xo=1009,OF=1010,DF=1011,Lv=1012,gj=1013,Lu=1014,Na=1015,wx=1016,vj=1017,xj=1018,Fv=1020,IF=35902,LF=1021,FF=1022,_s=1023,Uv=1026,Bv=1027,yj=1028,Xw=1029,UF=1030,bj=1031,NVe=1032,wj=1033,w0=33776,_0=33777,S0=33778,E0=33779,cM=35840,uM=35841,dM=35842,fM=35843,hM=36196,mM=37492,pM=37496,gM=37808,vM=37809,xM=37810,yM=37811,bM=37812,wM=37813,_M=37814,SM=37815,EM=37816,NM=37817,MM=37818,CM=37819,jM=37820,AM=37821,N0=36492,TM=36494,PM=36495,BF=36283,kM=36284,RM=36285,OM=36286,voe=2200,xoe=2201,yoe=2202,Rb=2300,DM=2301,fE=2302,Yh=2400,Zh=2401,Ob=2402,_j=2500,zF=2501,MVe=0,CVe=1,jVe=2,boe=3200,VF=3201,AVe=3202,TVe=3203,zf=0,woe=1,cu="",ga="srgb",Vm="srgb-linear",Db="linear",Un="srgb",PVe=0,Dh=7680,kVe=7681,RVe=7682,OVe=7683,DVe=34055,IVe=34056,LVe=5386,FVe=512,UVe=513,BVe=514,zVe=515,VVe=516,WVe=517,$Ve=518,_D=519,_oe=512,Soe=513,Eoe=514,WF=515,Noe=516,Moe=517,Coe=518,joe=519,Ib=35044,HVe=35048,GVe=35040,qVe=35045,KVe=35049,XVe=35041,YVe=35046,ZVe=35050,QVe=35042,JVe="100",SD="300 es",Uo=2e3,Lb=2001,eWe={COMPUTE:"compute",RENDER:"render"},tWe={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},nWe={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};let Ic=class{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){const r=this._listeners;return r===void 0?!1:r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){const r=this._listeners;if(r===void 0)return;const i=r[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){const n=this._listeners;if(n===void 0)return;const r=n[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,a=i.length;s<a;s++)i[s].call(this,e);e.target=null}}};const fs=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let _$=1234567;const vm=Math.PI/180,zv=180/Math.PI;function io(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(fs[t&255]+fs[t>>8&255]+fs[t>>16&255]+fs[t>>24&255]+"-"+fs[e&255]+fs[e>>8&255]+"-"+fs[e>>16&15|64]+fs[e>>24&255]+"-"+fs[n&63|128]+fs[n>>8&255]+"-"+fs[n>>16&255]+fs[n>>24&255]+fs[r&255]+fs[r>>8&255]+fs[r>>16&255]+fs[r>>24&255]).toLowerCase()}function Zt(t,e,n){return Math.max(e,Math.min(n,t))}function $F(t,e){return(t%e+e)%e}function rWe(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function iWe(t,e,n){return t!==e?(n-t)/(e-t):0}function M0(t,e,n){return(1-n)*t+n*e}function sWe(t,e,n,r){return M0(t,e,1-Math.exp(-n*r))}function aWe(t,e=1){return e-Math.abs($F(t,e*2)-e)}function oWe(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function lWe(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function cWe(t,e){return t+Math.floor(Math.random()*(e-t+1))}function uWe(t,e){return t+Math.random()*(e-t)}function dWe(t){return t*(.5-Math.random())}function fWe(t){t!==void 0&&(_$=t);let e=_$+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function hWe(t){return t*vm}function mWe(t){return t*zv}function pWe(t){return(t&t-1)===0&&t!==0}function gWe(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function vWe(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function xWe(t,e,n,r,i){const s=Math.cos,a=Math.sin,l=s(n/2),c=a(n/2),u=s((e+r)/2),d=a((e+r)/2),f=s((e-r)/2),h=a((e-r)/2),m=s((r-e)/2),p=a((r-e)/2);switch(i){case"XYX":t.set(l*d,c*f,c*h,l*u);break;case"YZY":t.set(c*h,l*d,c*f,l*u);break;case"ZXZ":t.set(c*f,c*h,l*d,l*u);break;case"XZX":t.set(l*d,c*p,c*m,l*u);break;case"YXY":t.set(c*m,l*d,c*p,l*u);break;case"ZYZ":t.set(c*p,c*m,l*d,l*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function $s(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function ln(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const yWe={DEG2RAD:vm,RAD2DEG:zv,generateUUID:io,clamp:Zt,euclideanModulo:$F,mapLinear:rWe,inverseLerp:iWe,lerp:M0,damp:sWe,pingpong:aWe,smoothstep:oWe,smootherstep:lWe,randInt:cWe,randFloat:uWe,randFloatSpread:dWe,seededRandom:fWe,degToRad:hWe,radToDeg:mWe,isPowerOfTwo:pWe,ceilPowerOfTwo:gWe,floorPowerOfTwo:vWe,setQuaternionFromProperEuler:xWe,normalize:ln,denormalize:$s};class Ge{constructor(e=0,n=0){Ge.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Zt(this.x,e.x,n.x),this.y=Zt(this.y,e.y,n.y),this}clampScalar(e,n){return this.x=Zt(this.x,e,n),this.y=Zt(this.y,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Zt(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Zt(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),s=this.x-e.x,a=this.y-e.y;return this.x=s*r-a*i+e.x,this.y=s*i+a*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Ms{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,s,a,l){let c=r[i+0],u=r[i+1],d=r[i+2],f=r[i+3];const h=s[a+0],m=s[a+1],p=s[a+2],x=s[a+3];if(l===0){e[n+0]=c,e[n+1]=u,e[n+2]=d,e[n+3]=f;return}if(l===1){e[n+0]=h,e[n+1]=m,e[n+2]=p,e[n+3]=x;return}if(f!==x||c!==h||u!==m||d!==p){let v=1-l;const g=c*h+u*m+d*p+f*x,w=g>=0?1:-1,_=1-g*g;if(_>Number.EPSILON){const N=Math.sqrt(_),C=Math.atan2(N,g*w);v=Math.sin(v*C)/N,l=Math.sin(l*C)/N}const E=l*w;if(c=c*v+h*E,u=u*v+m*E,d=d*v+p*E,f=f*v+x*E,v===1-l){const N=1/Math.sqrt(c*c+u*u+d*d+f*f);c*=N,u*=N,d*=N,f*=N}}e[n]=c,e[n+1]=u,e[n+2]=d,e[n+3]=f}static multiplyQuaternionsFlat(e,n,r,i,s,a){const l=r[i],c=r[i+1],u=r[i+2],d=r[i+3],f=s[a],h=s[a+1],m=s[a+2],p=s[a+3];return e[n]=l*p+d*f+c*m-u*h,e[n+1]=c*p+d*h+u*f-l*m,e[n+2]=u*p+d*m+l*h-c*f,e[n+3]=d*p-l*f-c*h-u*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,i=e._y,s=e._z,a=e._order,l=Math.cos,c=Math.sin,u=l(r/2),d=l(i/2),f=l(s/2),h=c(r/2),m=c(i/2),p=c(s/2);switch(a){case"XYZ":this._x=h*d*f+u*m*p,this._y=u*m*f-h*d*p,this._z=u*d*p+h*m*f,this._w=u*d*f-h*m*p;break;case"YXZ":this._x=h*d*f+u*m*p,this._y=u*m*f-h*d*p,this._z=u*d*p-h*m*f,this._w=u*d*f+h*m*p;break;case"ZXY":this._x=h*d*f-u*m*p,this._y=u*m*f+h*d*p,this._z=u*d*p+h*m*f,this._w=u*d*f-h*m*p;break;case"ZYX":this._x=h*d*f-u*m*p,this._y=u*m*f+h*d*p,this._z=u*d*p-h*m*f,this._w=u*d*f+h*m*p;break;case"YZX":this._x=h*d*f+u*m*p,this._y=u*m*f+h*d*p,this._z=u*d*p-h*m*f,this._w=u*d*f-h*m*p;break;case"XZY":this._x=h*d*f-u*m*p,this._y=u*m*f-h*d*p,this._z=u*d*p+h*m*f,this._w=u*d*f+h*m*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],s=n[8],a=n[1],l=n[5],c=n[9],u=n[2],d=n[6],f=n[10],h=r+l+f;if(h>0){const m=.5/Math.sqrt(h+1);this._w=.25/m,this._x=(d-c)*m,this._y=(s-u)*m,this._z=(a-i)*m}else if(r>l&&r>f){const m=2*Math.sqrt(1+r-l-f);this._w=(d-c)/m,this._x=.25*m,this._y=(i+a)/m,this._z=(s+u)/m}else if(l>f){const m=2*Math.sqrt(1+l-r-f);this._w=(s-u)/m,this._x=(i+a)/m,this._y=.25*m,this._z=(c+d)/m}else{const m=2*Math.sqrt(1+f-r-l);this._w=(a-i)/m,this._x=(s+u)/m,this._y=(c+d)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<1e-8?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Zt(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,s=e._z,a=e._w,l=n._x,c=n._y,u=n._z,d=n._w;return this._x=r*d+a*l+i*u-s*c,this._y=i*d+a*c+s*l-r*u,this._z=s*d+a*u+r*c-i*l,this._w=a*d-r*l-i*c-s*u,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,a=this._w;let l=a*e._w+r*e._x+i*e._y+s*e._z;if(l<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,l=-l):this.copy(e),l>=1)return this._w=a,this._x=r,this._y=i,this._z=s,this;const c=1-l*l;if(c<=Number.EPSILON){const m=1-n;return this._w=m*a+n*this._w,this._x=m*r+n*this._x,this._y=m*i+n*this._y,this._z=m*s+n*this._z,this.normalize(),this}const u=Math.sqrt(c),d=Math.atan2(u,l),f=Math.sin((1-n)*d)/u,h=Math.sin(n*d)/u;return this._w=a*f+this._w*h,this._x=r*f+this._x*h,this._y=i*f+this._y*h,this._z=s*f+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),s=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),s*Math.sin(n),s*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class J{constructor(e=0,n=0,r=0){J.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(S$.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(S$.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[3]*r+s[6]*i,this.y=s[1]*n+s[4]*r+s[7]*i,this.z=s[2]*n+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=e.elements,a=1/(s[3]*n+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*n+s[4]*r+s[8]*i+s[12])*a,this.y=(s[1]*n+s[5]*r+s[9]*i+s[13])*a,this.z=(s[2]*n+s[6]*r+s[10]*i+s[14])*a,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,s=e.x,a=e.y,l=e.z,c=e.w,u=2*(a*i-l*r),d=2*(l*n-s*i),f=2*(s*r-a*n);return this.x=n+c*u+a*f-l*d,this.y=r+c*d+l*u-s*f,this.z=i+c*f+s*d-a*u,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i,this.y=s[1]*n+s[5]*r+s[9]*i,this.z=s[2]*n+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Zt(this.x,e.x,n.x),this.y=Zt(this.y,e.y,n.y),this.z=Zt(this.z,e.z,n.z),this}clampScalar(e,n){return this.x=Zt(this.x,e,n),this.y=Zt(this.y,e,n),this.z=Zt(this.z,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Zt(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,s=e.z,a=n.x,l=n.y,c=n.z;return this.x=i*c-s*l,this.y=s*a-r*c,this.z=r*l-i*a,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return wP.copy(this).projectOnVector(e),this.sub(wP)}reflect(e){return this.sub(wP.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Zt(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,r=Math.sqrt(1-n*n);return this.x=r*Math.cos(e),this.y=n,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const wP=new J,S$=new Ms;class Yt{constructor(e,n,r,i,s,a,l,c,u){Yt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,a,l,c,u)}set(e,n,r,i,s,a,l,c,u){const d=this.elements;return d[0]=e,d[1]=i,d[2]=l,d[3]=n,d[4]=s,d[5]=c,d[6]=r,d[7]=a,d[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,a=r[0],l=r[3],c=r[6],u=r[1],d=r[4],f=r[7],h=r[2],m=r[5],p=r[8],x=i[0],v=i[3],g=i[6],w=i[1],_=i[4],E=i[7],N=i[2],C=i[5],j=i[8];return s[0]=a*x+l*w+c*N,s[3]=a*v+l*_+c*C,s[6]=a*g+l*E+c*j,s[1]=u*x+d*w+f*N,s[4]=u*v+d*_+f*C,s[7]=u*g+d*E+f*j,s[2]=h*x+m*w+p*N,s[5]=h*v+m*_+p*C,s[8]=h*g+m*E+p*j,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],a=e[4],l=e[5],c=e[6],u=e[7],d=e[8];return n*a*d-n*l*u-r*s*d+r*l*c+i*s*u-i*a*c}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],a=e[4],l=e[5],c=e[6],u=e[7],d=e[8],f=d*a-l*u,h=l*c-d*s,m=u*s-a*c,p=n*f+r*h+i*m;if(p===0)return this.set(0,0,0,0,0,0,0,0,0);const x=1/p;return e[0]=f*x,e[1]=(i*u-d*r)*x,e[2]=(l*r-i*a)*x,e[3]=h*x,e[4]=(d*n-i*c)*x,e[5]=(i*s-l*n)*x,e[6]=m*x,e[7]=(r*c-u*n)*x,e[8]=(a*n-r*s)*x,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,s,a,l){const c=Math.cos(s),u=Math.sin(s);return this.set(r*c,r*u,-r*(c*a+u*l)+a+e,-i*u,i*c,-i*(-u*a+c*l)+l+n,0,0,1),this}scale(e,n){return this.premultiply(_P.makeScale(e,n)),this}rotate(e){return this.premultiply(_P.makeRotation(-e)),this}translate(e,n){return this.premultiply(_P.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const _P=new Yt;function Aoe(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const bWe={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Pg(t,e){return new bWe[t](e)}function Fb(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function Toe(){const t=Fb("canvas");return t.style.display="block",t}const E$={};function Jg(t){t in E$||(E$[t]=!0,console.warn(t))}function wWe(t,e,n){return new Promise(function(r,i){function s(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:i();break;case t.TIMEOUT_EXPIRED:setTimeout(s,n);break;default:r()}}setTimeout(s,n)})}function _We(t){const e=t.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function SWe(t){const e=t.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const N$=new Yt().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),M$=new Yt().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function EWe(){const t={enabled:!0,workingColorSpace:Vm,spaces:{},convert:function(i,s,a){return this.enabled===!1||s===a||!s||!a||(this.spaces[s].transfer===Un&&(i.r=bu(i.r),i.g=bu(i.g),i.b=bu(i.b)),this.spaces[s].primaries!==this.spaces[a].primaries&&(i.applyMatrix3(this.spaces[s].toXYZ),i.applyMatrix3(this.spaces[a].fromXYZ)),this.spaces[a].transfer===Un&&(i.r=ev(i.r),i.g=ev(i.g),i.b=ev(i.b))),i},workingToColorSpace:function(i,s){return this.convert(i,this.workingColorSpace,s)},colorSpaceToWorking:function(i,s){return this.convert(i,s,this.workingColorSpace)},getPrimaries:function(i){return this.spaces[i].primaries},getTransfer:function(i){return i===cu?Db:this.spaces[i].transfer},getLuminanceCoefficients:function(i,s=this.workingColorSpace){return i.fromArray(this.spaces[s].luminanceCoefficients)},define:function(i){Object.assign(this.spaces,i)},_getMatrix:function(i,s,a){return i.copy(this.spaces[s].toXYZ).multiply(this.spaces[a].fromXYZ)},_getDrawingBufferColorSpace:function(i){return this.spaces[i].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(i=this.workingColorSpace){return this.spaces[i].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(i,s){return Jg("THREE.ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),t.workingToColorSpace(i,s)},toWorkingColorSpace:function(i,s){return Jg("THREE.ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),t.colorSpaceToWorking(i,s)}},e=[.64,.33,.3,.6,.15,.06],n=[.2126,.7152,.0722],r=[.3127,.329];return t.define({[Vm]:{primaries:e,whitePoint:r,transfer:Db,toXYZ:N$,fromXYZ:M$,luminanceCoefficients:n,workingColorSpaceConfig:{unpackColorSpace:ga},outputColorSpaceConfig:{drawingBufferColorSpace:ga}},[ga]:{primaries:e,whitePoint:r,transfer:Un,toXYZ:N$,fromXYZ:M$,luminanceCoefficients:n,outputColorSpaceConfig:{drawingBufferColorSpace:ga}}}),t}const _n=EWe();function bu(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function ev(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let zp;class Poe{static getDataURL(e,n="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let r;if(e instanceof HTMLCanvasElement)r=e;else{zp===void 0&&(zp=Fb("canvas")),zp.width=e.width,zp.height=e.height;const i=zp.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),r=zp}return r.toDataURL(n)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=Fb("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let a=0;a<s.length;a++)s[a]=bu(s[a]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(bu(n[r]/255)*255):n[r]=bu(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let NWe=0;class Xd{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:NWe++}),this.uuid=io(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const n=this.data;return n instanceof HTMLVideoElement?e.set(n.videoWidth,n.videoHeight):n!==null?e.set(n.width,n.height,n.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let a=0,l=i.length;a<l;a++)i[a].isDataTexture?s.push(SP(i[a].image)):s.push(SP(i[a]))}else s=SP(i);r.url=s}return n||(e.images[this.uuid]=r),r}}function SP(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?Poe.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let MWe=0;const EP=new J;class Er extends Ic{constructor(e=Er.DEFAULT_IMAGE,n=Er.DEFAULT_MAPPING,r=Fo,i=Fo,s=$r,a=mc,l=_s,c=Xo,u=Er.DEFAULT_ANISOTROPY,d=cu){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:MWe++}),this.uuid=io(),this.name="",this.source=new Xd(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=a,this.anisotropy=u,this.format=l,this.internalFormat=null,this.type=c,this.offset=new Ge(0,0),this.repeat=new Ge(1,1),this.center=new Ge(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Yt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=d,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(EP).x}get height(){return this.source.getSize(EP).y}get depth(){return this.source.getSize(EP).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Texture.setValues(): parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Texture.setValues(): property '${n}' does not exist.`);continue}i&&r&&i.isVector2&&r.isVector2||i&&r&&i.isVector3&&r.isVector3||i&&r&&i.isMatrix3&&r.isMatrix3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==pj)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Pb:e.x=e.x-Math.floor(e.x);break;case Fo:e.x=e.x<0?0:1;break;case kb:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Pb:e.y=e.y-Math.floor(e.y);break;case Fo:e.y=e.y<0?0:1;break;case kb:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Er.DEFAULT_IMAGE=null;Er.DEFAULT_MAPPING=pj;Er.DEFAULT_ANISOTROPY=1;class wn{constructor(e=0,n=0,r=0,i=1){wn.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=this.w,a=e.elements;return this.x=a[0]*n+a[4]*r+a[8]*i+a[12]*s,this.y=a[1]*n+a[5]*r+a[9]*i+a[13]*s,this.z=a[2]*n+a[6]*r+a[10]*i+a[14]*s,this.w=a[3]*n+a[7]*r+a[11]*i+a[15]*s,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,s;const c=e.elements,u=c[0],d=c[4],f=c[8],h=c[1],m=c[5],p=c[9],x=c[2],v=c[6],g=c[10];if(Math.abs(d-h)<.01&&Math.abs(f-x)<.01&&Math.abs(p-v)<.01){if(Math.abs(d+h)<.1&&Math.abs(f+x)<.1&&Math.abs(p+v)<.1&&Math.abs(u+m+g-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const _=(u+1)/2,E=(m+1)/2,N=(g+1)/2,C=(d+h)/4,j=(f+x)/4,T=(p+v)/4;return _>E&&_>N?_<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(_),i=C/r,s=j/r):E>N?E<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(E),r=C/i,s=T/i):N<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(N),r=j/s,i=T/s),this.set(r,i,s,n),this}let w=Math.sqrt((v-p)*(v-p)+(f-x)*(f-x)+(h-d)*(h-d));return Math.abs(w)<.001&&(w=1),this.x=(v-p)/w,this.y=(f-x)/w,this.z=(h-d)/w,this.w=Math.acos((u+m+g-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Zt(this.x,e.x,n.x),this.y=Zt(this.y,e.y,n.y),this.z=Zt(this.z,e.z,n.z),this.w=Zt(this.w,e.w,n.w),this}clampScalar(e,n){return this.x=Zt(this.x,e,n),this.y=Zt(this.y,e,n),this.z=Zt(this.z,e,n),this.w=Zt(this.w,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Zt(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class HF extends Ic{constructor(e=1,n=1,r={}){super(),r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:$r,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},r),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=r.depth,this.scissor=new wn(0,0,e,n),this.scissorTest=!1,this.viewport=new wn(0,0,e,n);const i={width:e,height:n,depth:r.depth},s=new Er(i);this.textures=[];const a=r.count;for(let l=0;l<a;l++)this.textures[l]=s.clone(),this.textures[l].isRenderTargetTexture=!0,this.textures[l].renderTarget=this;this._setTextureOptions(r),this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=r.depthTexture,this.samples=r.samples,this.multiview=r.multiview}_setTextureOptions(e={}){const n={minFilter:$r,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(n.mapping=e.mapping),e.wrapS!==void 0&&(n.wrapS=e.wrapS),e.wrapT!==void 0&&(n.wrapT=e.wrapT),e.wrapR!==void 0&&(n.wrapR=e.wrapR),e.magFilter!==void 0&&(n.magFilter=e.magFilter),e.minFilter!==void 0&&(n.minFilter=e.minFilter),e.format!==void 0&&(n.format=e.format),e.type!==void 0&&(n.type=e.type),e.anisotropy!==void 0&&(n.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(n.colorSpace=e.colorSpace),e.flipY!==void 0&&(n.flipY=e.flipY),e.generateMipmaps!==void 0&&(n.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(n.internalFormat=e.internalFormat);for(let r=0;r<this.textures.length;r++)this.textures[r].setValues(n)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,s=this.textures.length;i<s;i++)this.textures[i].image.width=e,this.textures[i].image.height=n,this.textures[i].image.depth=r,this.textures[i].isArrayTexture=this.textures[i].image.depth>1;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let n=0,r=e.textures.length;n<r;n++){this.textures[n]=e.textures[n].clone(),this.textures[n].isRenderTargetTexture=!0,this.textures[n].renderTarget=this;const i=Object.assign({},e.textures[n].image);this.textures[n].source=new Xd(i)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Pc extends HF{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class Sj extends Er{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=es,this.minFilter=es,this.wrapR=Fo,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class CWe extends Pc{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new Sj(null,e,n,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class Ej extends Er{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=es,this.minFilter=es,this.wrapR=Fo,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class jWe extends Pc{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new Ej(null,e,n,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class Li{constructor(e=new J(1/0,1/0,1/0),n=new J(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(il.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(il.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=il.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const s=r.getAttribute("position");if(n===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let a=0,l=s.count;a<l;a++)e.isMesh===!0?e.getVertexPosition(a,il):il.fromBufferAttribute(s,a),il.applyMatrix4(e.matrixWorld),this.expandByPoint(il);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),H_.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),H_.copy(r.boundingBox)),H_.applyMatrix4(e.matrixWorld),this.union(H_)}const i=e.children;for(let s=0,a=i.length;s<a;s++)this.expandByObject(i[s],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,il),il.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(by),G_.subVectors(this.max,by),Vp.subVectors(e.a,by),Wp.subVectors(e.b,by),$p.subVectors(e.c,by),yd.subVectors(Wp,Vp),bd.subVectors($p,Wp),uh.subVectors(Vp,$p);let n=[0,-yd.z,yd.y,0,-bd.z,bd.y,0,-uh.z,uh.y,yd.z,0,-yd.x,bd.z,0,-bd.x,uh.z,0,-uh.x,-yd.y,yd.x,0,-bd.y,bd.x,0,-uh.y,uh.x,0];return!NP(n,Vp,Wp,$p,G_)||(n=[1,0,0,0,1,0,0,0,1],!NP(n,Vp,Wp,$p,G_))?!1:(q_.crossVectors(yd,bd),n=[q_.x,q_.y,q_.z],NP(n,Vp,Wp,$p,G_))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,il).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(il).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Kc[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Kc[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Kc[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Kc[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Kc[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Kc[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Kc[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Kc[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Kc),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const Kc=[new J,new J,new J,new J,new J,new J,new J,new J],il=new J,H_=new Li,Vp=new J,Wp=new J,$p=new J,yd=new J,bd=new J,uh=new J,by=new J,G_=new J,q_=new J,dh=new J;function NP(t,e,n,r,i){for(let s=0,a=t.length-3;s<=a;s+=3){dh.fromArray(t,s);const l=i.x*Math.abs(dh.x)+i.y*Math.abs(dh.y)+i.z*Math.abs(dh.z),c=e.dot(dh),u=n.dot(dh),d=r.dot(dh);if(Math.max(-Math.max(c,u,d),Math.min(c,u,d))>l)return!1}return!0}const AWe=new Li,wy=new J,MP=new J;class Fi{constructor(e=new J,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):AWe.setFromPoints(e).getCenter(r);let i=0;for(let s=0,a=e.length;s<a;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;wy.subVectors(e,this.center);const n=wy.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(wy,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(MP.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(wy.copy(e.center).add(MP)),this.expandByPoint(wy.copy(e.center).sub(MP))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const Xc=new J,CP=new J,K_=new J,wd=new J,jP=new J,X_=new J,AP=new J;class lp{constructor(e=new J,n=new J(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Xc)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=Xc.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(Xc.copy(this.origin).addScaledVector(this.direction,n),Xc.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){CP.copy(e).add(n).multiplyScalar(.5),K_.copy(n).sub(e).normalize(),wd.copy(this.origin).sub(CP);const s=e.distanceTo(n)*.5,a=-this.direction.dot(K_),l=wd.dot(this.direction),c=-wd.dot(K_),u=wd.lengthSq(),d=Math.abs(1-a*a);let f,h,m,p;if(d>0)if(f=a*c-l,h=a*l-c,p=s*d,f>=0)if(h>=-p)if(h<=p){const x=1/d;f*=x,h*=x,m=f*(f+a*h+2*l)+h*(a*f+h+2*c)+u}else h=s,f=Math.max(0,-(a*h+l)),m=-f*f+h*(h+2*c)+u;else h=-s,f=Math.max(0,-(a*h+l)),m=-f*f+h*(h+2*c)+u;else h<=-p?(f=Math.max(0,-(-a*s+l)),h=f>0?-s:Math.min(Math.max(-s,-c),s),m=-f*f+h*(h+2*c)+u):h<=p?(f=0,h=Math.min(Math.max(-s,-c),s),m=h*(h+2*c)+u):(f=Math.max(0,-(a*s+l)),h=f>0?s:Math.min(Math.max(-s,-c),s),m=-f*f+h*(h+2*c)+u);else h=a>0?-s:s,f=Math.max(0,-(a*h+l)),m=-f*f+h*(h+2*c)+u;return r&&r.copy(this.origin).addScaledVector(this.direction,f),i&&i.copy(CP).addScaledVector(K_,h),m}intersectSphere(e,n){Xc.subVectors(e.center,this.origin);const r=Xc.dot(this.direction),i=Xc.dot(Xc)-r*r,s=e.radius*e.radius;if(i>s)return null;const a=Math.sqrt(s-i),l=r-a,c=r+a;return c<0?null:l<0?this.at(c,n):this.at(l,n)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,s,a,l,c;const u=1/this.direction.x,d=1/this.direction.y,f=1/this.direction.z,h=this.origin;return u>=0?(r=(e.min.x-h.x)*u,i=(e.max.x-h.x)*u):(r=(e.max.x-h.x)*u,i=(e.min.x-h.x)*u),d>=0?(s=(e.min.y-h.y)*d,a=(e.max.y-h.y)*d):(s=(e.max.y-h.y)*d,a=(e.min.y-h.y)*d),r>a||s>i||((s>r||isNaN(r))&&(r=s),(a<i||isNaN(i))&&(i=a),f>=0?(l=(e.min.z-h.z)*f,c=(e.max.z-h.z)*f):(l=(e.max.z-h.z)*f,c=(e.min.z-h.z)*f),r>c||l>i)||((l>r||r!==r)&&(r=l),(c<i||i!==i)&&(i=c),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,Xc)!==null}intersectTriangle(e,n,r,i,s){jP.subVectors(n,e),X_.subVectors(r,e),AP.crossVectors(jP,X_);let a=this.direction.dot(AP),l;if(a>0){if(i)return null;l=1}else if(a<0)l=-1,a=-a;else return null;wd.subVectors(this.origin,e);const c=l*this.direction.dot(X_.crossVectors(wd,X_));if(c<0)return null;const u=l*this.direction.dot(jP.cross(wd));if(u<0||c+u>a)return null;const d=-l*wd.dot(AP);return d<0?null:this.at(d/a,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Vt{constructor(e,n,r,i,s,a,l,c,u,d,f,h,m,p,x,v){Vt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,a,l,c,u,d,f,h,m,p,x,v)}set(e,n,r,i,s,a,l,c,u,d,f,h,m,p,x,v){const g=this.elements;return g[0]=e,g[4]=n,g[8]=r,g[12]=i,g[1]=s,g[5]=a,g[9]=l,g[13]=c,g[2]=u,g[6]=d,g[10]=f,g[14]=h,g[3]=m,g[7]=p,g[11]=x,g[15]=v,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Vt().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/Hp.setFromMatrixColumn(e,0).length(),s=1/Hp.setFromMatrixColumn(e,1).length(),a=1/Hp.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*s,n[5]=r[5]*s,n[6]=r[6]*s,n[7]=0,n[8]=r[8]*a,n[9]=r[9]*a,n[10]=r[10]*a,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,s=e.z,a=Math.cos(r),l=Math.sin(r),c=Math.cos(i),u=Math.sin(i),d=Math.cos(s),f=Math.sin(s);if(e.order==="XYZ"){const h=a*d,m=a*f,p=l*d,x=l*f;n[0]=c*d,n[4]=-c*f,n[8]=u,n[1]=m+p*u,n[5]=h-x*u,n[9]=-l*c,n[2]=x-h*u,n[6]=p+m*u,n[10]=a*c}else if(e.order==="YXZ"){const h=c*d,m=c*f,p=u*d,x=u*f;n[0]=h+x*l,n[4]=p*l-m,n[8]=a*u,n[1]=a*f,n[5]=a*d,n[9]=-l,n[2]=m*l-p,n[6]=x+h*l,n[10]=a*c}else if(e.order==="ZXY"){const h=c*d,m=c*f,p=u*d,x=u*f;n[0]=h-x*l,n[4]=-a*f,n[8]=p+m*l,n[1]=m+p*l,n[5]=a*d,n[9]=x-h*l,n[2]=-a*u,n[6]=l,n[10]=a*c}else if(e.order==="ZYX"){const h=a*d,m=a*f,p=l*d,x=l*f;n[0]=c*d,n[4]=p*u-m,n[8]=h*u+x,n[1]=c*f,n[5]=x*u+h,n[9]=m*u-p,n[2]=-u,n[6]=l*c,n[10]=a*c}else if(e.order==="YZX"){const h=a*c,m=a*u,p=l*c,x=l*u;n[0]=c*d,n[4]=x-h*f,n[8]=p*f+m,n[1]=f,n[5]=a*d,n[9]=-l*d,n[2]=-u*d,n[6]=m*f+p,n[10]=h-x*f}else if(e.order==="XZY"){const h=a*c,m=a*u,p=l*c,x=l*u;n[0]=c*d,n[4]=-f,n[8]=u*d,n[1]=h*f+x,n[5]=a*d,n[9]=m*f-p,n[2]=p*f-m,n[6]=l*d,n[10]=x*f+h}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(TWe,e,PWe)}lookAt(e,n,r){const i=this.elements;return $a.subVectors(e,n),$a.lengthSq()===0&&($a.z=1),$a.normalize(),_d.crossVectors(r,$a),_d.lengthSq()===0&&(Math.abs(r.z)===1?$a.x+=1e-4:$a.z+=1e-4,$a.normalize(),_d.crossVectors(r,$a)),_d.normalize(),Y_.crossVectors($a,_d),i[0]=_d.x,i[4]=Y_.x,i[8]=$a.x,i[1]=_d.y,i[5]=Y_.y,i[9]=$a.y,i[2]=_d.z,i[6]=Y_.z,i[10]=$a.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,a=r[0],l=r[4],c=r[8],u=r[12],d=r[1],f=r[5],h=r[9],m=r[13],p=r[2],x=r[6],v=r[10],g=r[14],w=r[3],_=r[7],E=r[11],N=r[15],C=i[0],j=i[4],T=i[8],A=i[12],P=i[1],R=i[5],D=i[9],F=i[13],I=i[2],G=i[6],q=i[10],$=i[14],L=i[3],V=i[7],K=i[11],W=i[15];return s[0]=a*C+l*P+c*I+u*L,s[4]=a*j+l*R+c*G+u*V,s[8]=a*T+l*D+c*q+u*K,s[12]=a*A+l*F+c*$+u*W,s[1]=d*C+f*P+h*I+m*L,s[5]=d*j+f*R+h*G+m*V,s[9]=d*T+f*D+h*q+m*K,s[13]=d*A+f*F+h*$+m*W,s[2]=p*C+x*P+v*I+g*L,s[6]=p*j+x*R+v*G+g*V,s[10]=p*T+x*D+v*q+g*K,s[14]=p*A+x*F+v*$+g*W,s[3]=w*C+_*P+E*I+N*L,s[7]=w*j+_*R+E*G+N*V,s[11]=w*T+_*D+E*q+N*K,s[15]=w*A+_*F+E*$+N*W,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],s=e[12],a=e[1],l=e[5],c=e[9],u=e[13],d=e[2],f=e[6],h=e[10],m=e[14],p=e[3],x=e[7],v=e[11],g=e[15];return p*(+s*c*f-i*u*f-s*l*h+r*u*h+i*l*m-r*c*m)+x*(+n*c*m-n*u*h+s*a*h-i*a*m+i*u*d-s*c*d)+v*(+n*u*f-n*l*m-s*a*f+r*a*m+s*l*d-r*u*d)+g*(-i*l*d-n*c*f+n*l*h+i*a*f-r*a*h+r*c*d)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],a=e[4],l=e[5],c=e[6],u=e[7],d=e[8],f=e[9],h=e[10],m=e[11],p=e[12],x=e[13],v=e[14],g=e[15],w=f*v*u-x*h*u+x*c*m-l*v*m-f*c*g+l*h*g,_=p*h*u-d*v*u-p*c*m+a*v*m+d*c*g-a*h*g,E=d*x*u-p*f*u+p*l*m-a*x*m-d*l*g+a*f*g,N=p*f*c-d*x*c-p*l*h+a*x*h+d*l*v-a*f*v,C=n*w+r*_+i*E+s*N;if(C===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const j=1/C;return e[0]=w*j,e[1]=(x*h*s-f*v*s-x*i*m+r*v*m+f*i*g-r*h*g)*j,e[2]=(l*v*s-x*c*s+x*i*u-r*v*u-l*i*g+r*c*g)*j,e[3]=(f*c*s-l*h*s-f*i*u+r*h*u+l*i*m-r*c*m)*j,e[4]=_*j,e[5]=(d*v*s-p*h*s+p*i*m-n*v*m-d*i*g+n*h*g)*j,e[6]=(p*c*s-a*v*s-p*i*u+n*v*u+a*i*g-n*c*g)*j,e[7]=(a*h*s-d*c*s+d*i*u-n*h*u-a*i*m+n*c*m)*j,e[8]=E*j,e[9]=(p*f*s-d*x*s-p*r*m+n*x*m+d*r*g-n*f*g)*j,e[10]=(a*x*s-p*l*s+p*r*u-n*x*u-a*r*g+n*l*g)*j,e[11]=(d*l*s-a*f*s-d*r*u+n*f*u+a*r*m-n*l*m)*j,e[12]=N*j,e[13]=(d*x*i-p*f*i+p*r*h-n*x*h-d*r*v+n*f*v)*j,e[14]=(p*l*i-a*x*i-p*r*c+n*x*c+a*r*v-n*l*v)*j,e[15]=(a*f*i-d*l*i+d*r*c-n*f*c-a*r*h+n*l*h)*j,this}scale(e){const n=this.elements,r=e.x,i=e.y,s=e.z;return n[0]*=r,n[4]*=i,n[8]*=s,n[1]*=r,n[5]*=i,n[9]*=s,n[2]*=r,n[6]*=i,n[10]*=s,n[3]*=r,n[7]*=i,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),s=1-r,a=e.x,l=e.y,c=e.z,u=s*a,d=s*l;return this.set(u*a+r,u*l-i*c,u*c+i*l,0,u*l+i*c,d*l+r,d*c-i*a,0,u*c-i*l,d*c+i*a,s*c*c+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,s,a){return this.set(1,r,s,0,e,1,a,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,s=n._x,a=n._y,l=n._z,c=n._w,u=s+s,d=a+a,f=l+l,h=s*u,m=s*d,p=s*f,x=a*d,v=a*f,g=l*f,w=c*u,_=c*d,E=c*f,N=r.x,C=r.y,j=r.z;return i[0]=(1-(x+g))*N,i[1]=(m+E)*N,i[2]=(p-_)*N,i[3]=0,i[4]=(m-E)*C,i[5]=(1-(h+g))*C,i[6]=(v+w)*C,i[7]=0,i[8]=(p+_)*j,i[9]=(v-w)*j,i[10]=(1-(h+x))*j,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let s=Hp.set(i[0],i[1],i[2]).length();const a=Hp.set(i[4],i[5],i[6]).length(),l=Hp.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],sl.copy(this);const u=1/s,d=1/a,f=1/l;return sl.elements[0]*=u,sl.elements[1]*=u,sl.elements[2]*=u,sl.elements[4]*=d,sl.elements[5]*=d,sl.elements[6]*=d,sl.elements[8]*=f,sl.elements[9]*=f,sl.elements[10]*=f,n.setFromRotationMatrix(sl),r.x=s,r.y=a,r.z=l,this}makePerspective(e,n,r,i,s,a,l=Uo){const c=this.elements,u=2*s/(n-e),d=2*s/(r-i),f=(n+e)/(n-e),h=(r+i)/(r-i);let m,p;if(l===Uo)m=-(a+s)/(a-s),p=-2*a*s/(a-s);else if(l===Lb)m=-a/(a-s),p=-a*s/(a-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+l);return c[0]=u,c[4]=0,c[8]=f,c[12]=0,c[1]=0,c[5]=d,c[9]=h,c[13]=0,c[2]=0,c[6]=0,c[10]=m,c[14]=p,c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this}makeOrthographic(e,n,r,i,s,a,l=Uo){const c=this.elements,u=1/(n-e),d=1/(r-i),f=1/(a-s),h=(n+e)*u,m=(r+i)*d;let p,x;if(l===Uo)p=(a+s)*f,x=-2*f;else if(l===Lb)p=s*f,x=-1*f;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+l);return c[0]=2*u,c[4]=0,c[8]=0,c[12]=-h,c[1]=0,c[5]=2*d,c[9]=0,c[13]=-m,c[2]=0,c[6]=0,c[10]=x,c[14]=-p,c[3]=0,c[7]=0,c[11]=0,c[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const Hp=new J,sl=new Vt,TWe=new J(0,0,0),PWe=new J(1,1,1),_d=new J,Y_=new J,$a=new J,C$=new Vt,j$=new Ms;class ho{constructor(e=0,n=0,r=0,i=ho.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,s=i[0],a=i[4],l=i[8],c=i[1],u=i[5],d=i[9],f=i[2],h=i[6],m=i[10];switch(n){case"XYZ":this._y=Math.asin(Zt(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-d,m),this._z=Math.atan2(-a,s)):(this._x=Math.atan2(h,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Zt(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(l,m),this._z=Math.atan2(c,u)):(this._y=Math.atan2(-f,s),this._z=0);break;case"ZXY":this._x=Math.asin(Zt(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-f,m),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(c,s));break;case"ZYX":this._y=Math.asin(-Zt(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(h,m),this._z=Math.atan2(c,s)):(this._x=0,this._z=Math.atan2(-a,u));break;case"YZX":this._z=Math.asin(Zt(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-d,u),this._y=Math.atan2(-f,s)):(this._x=0,this._y=Math.atan2(l,m));break;case"XZY":this._z=Math.asin(-Zt(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(h,u),this._y=Math.atan2(l,s)):(this._x=Math.atan2(-d,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return C$.makeRotationFromQuaternion(e),this.setFromRotationMatrix(C$,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return j$.setFromEuler(this),this.setFromQuaternion(j$,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}ho.DEFAULT_ORDER="XYZ";class xm{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let kWe=0;const A$=new J,Gp=new Ms,Yc=new Vt,Z_=new J,_y=new J,RWe=new J,OWe=new Ms,T$=new J(1,0,0),P$=new J(0,1,0),k$=new J(0,0,1),R$={type:"added"},DWe={type:"removed"},qp={type:"childadded",child:null},TP={type:"childremoved",child:null};class Mn extends Ic{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:kWe++}),this.uuid=io(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Mn.DEFAULT_UP.clone();const e=new J,n=new ho,r=new Ms,i=new J(1,1,1);function s(){r.setFromEuler(n,!1)}function a(){n.setFromQuaternion(r,void 0,!1)}n._onChange(s),r._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Vt},normalMatrix:{value:new Yt}}),this.matrix=new Vt,this.matrixWorld=new Vt,this.matrixAutoUpdate=Mn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Mn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new xm,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Gp.setFromAxisAngle(e,n),this.quaternion.multiply(Gp),this}rotateOnWorldAxis(e,n){return Gp.setFromAxisAngle(e,n),this.quaternion.premultiply(Gp),this}rotateX(e){return this.rotateOnAxis(T$,e)}rotateY(e){return this.rotateOnAxis(P$,e)}rotateZ(e){return this.rotateOnAxis(k$,e)}translateOnAxis(e,n){return A$.copy(e).applyQuaternion(this.quaternion),this.position.add(A$.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(T$,e)}translateY(e){return this.translateOnAxis(P$,e)}translateZ(e){return this.translateOnAxis(k$,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Yc.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?Z_.copy(e):Z_.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),_y.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Yc.lookAt(_y,Z_,this.up):Yc.lookAt(Z_,_y,this.up),this.quaternion.setFromRotationMatrix(Yc),i&&(Yc.extractRotation(i.matrixWorld),Gp.setFromRotationMatrix(Yc),this.quaternion.premultiply(Gp.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(R$),qp.child=e,this.dispatchEvent(qp),qp.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(DWe),TP.child=e,this.dispatchEvent(TP),TP.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Yc.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Yc.multiply(e.parent.matrixWorld)),e.applyMatrix4(Yc),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(R$),qp.child=e,this.dispatchEvent(qp),qp.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const a=this.children[r].getObjectByProperty(e,n);if(a!==void 0)return a}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const i=this.children;for(let s=0,a=i.length;s<a;s++)i[s].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_y,e,RWe),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_y,OWe,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].updateMatrixWorld(e)}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const i=this.children;for(let s=0,a=i.length;s<a;s++)i[s].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.geometryInfo=this._geometryInfo.map(l=>({...l,boundingBox:l.boundingBox?l.boundingBox.toJSON():void 0,boundingSphere:l.boundingSphere?l.boundingSphere.toJSON():void 0})),i.instanceInfo=this._instanceInfo.map(l=>({...l})),i.availableInstanceIds=this._availableInstanceIds.slice(),i.availableGeometryIds=this._availableGeometryIds.slice(),i.nextIndexStart=this._nextIndexStart,i.nextVertexStart=this._nextVertexStart,i.geometryCount=this._geometryCount,i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.matricesTexture=this._matricesTexture.toJSON(e),i.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(i.boundingBox=this.boundingBox.toJSON()));function s(l,c){return l[c.uuid]===void 0&&(l[c.uuid]=c.toJSON(e)),c.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const l=this.geometry.parameters;if(l!==void 0&&l.shapes!==void 0){const c=l.shapes;if(Array.isArray(c))for(let u=0,d=c.length;u<d;u++){const f=c[u];s(e.shapes,f)}else s(e.shapes,c)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const l=[];for(let c=0,u=this.material.length;c<u;c++)l.push(s(e.materials,this.material[c]));i.material=l}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let l=0;l<this.children.length;l++)i.children.push(this.children[l].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let l=0;l<this.animations.length;l++){const c=this.animations[l];i.animations.push(s(e.animations,c))}}if(n){const l=a(e.geometries),c=a(e.materials),u=a(e.textures),d=a(e.images),f=a(e.shapes),h=a(e.skeletons),m=a(e.animations),p=a(e.nodes);l.length>0&&(r.geometries=l),c.length>0&&(r.materials=c),u.length>0&&(r.textures=u),d.length>0&&(r.images=d),f.length>0&&(r.shapes=f),h.length>0&&(r.skeletons=h),m.length>0&&(r.animations=m),p.length>0&&(r.nodes=p)}return r.object=i,r;function a(l){const c=[];for(const u in l){const d=l[u];delete d.metadata,c.push(d)}return c}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Mn.DEFAULT_UP=new J(0,1,0);Mn.DEFAULT_MATRIX_AUTO_UPDATE=!0;Mn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const al=new J,Zc=new J,PP=new J,Qc=new J,Kp=new J,Xp=new J,O$=new J,kP=new J,RP=new J,OP=new J,DP=new wn,IP=new wn,LP=new wn;class ba{constructor(e=new J,n=new J,r=new J){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),al.subVectors(e,n),i.cross(al);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,n,r,i,s){al.subVectors(i,n),Zc.subVectors(r,n),PP.subVectors(e,n);const a=al.dot(al),l=al.dot(Zc),c=al.dot(PP),u=Zc.dot(Zc),d=Zc.dot(PP),f=a*u-l*l;if(f===0)return s.set(0,0,0),null;const h=1/f,m=(u*c-l*d)*h,p=(a*d-l*c)*h;return s.set(1-m-p,p,m)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,Qc)===null?!1:Qc.x>=0&&Qc.y>=0&&Qc.x+Qc.y<=1}static getInterpolation(e,n,r,i,s,a,l,c){return this.getBarycoord(e,n,r,i,Qc)===null?(c.x=0,c.y=0,"z"in c&&(c.z=0),"w"in c&&(c.w=0),null):(c.setScalar(0),c.addScaledVector(s,Qc.x),c.addScaledVector(a,Qc.y),c.addScaledVector(l,Qc.z),c)}static getInterpolatedAttribute(e,n,r,i,s,a){return DP.setScalar(0),IP.setScalar(0),LP.setScalar(0),DP.fromBufferAttribute(e,n),IP.fromBufferAttribute(e,r),LP.fromBufferAttribute(e,i),a.setScalar(0),a.addScaledVector(DP,s.x),a.addScaledVector(IP,s.y),a.addScaledVector(LP,s.z),a}static isFrontFacing(e,n,r,i){return al.subVectors(r,n),Zc.subVectors(e,n),al.cross(Zc).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return al.subVectors(this.c,this.b),Zc.subVectors(this.a,this.b),al.cross(Zc).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return ba.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return ba.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,r,i,s){return ba.getInterpolation(e,this.a,this.b,this.c,n,r,i,s)}containsPoint(e){return ba.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return ba.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,s=this.c;let a,l;Kp.subVectors(i,r),Xp.subVectors(s,r),kP.subVectors(e,r);const c=Kp.dot(kP),u=Xp.dot(kP);if(c<=0&&u<=0)return n.copy(r);RP.subVectors(e,i);const d=Kp.dot(RP),f=Xp.dot(RP);if(d>=0&&f<=d)return n.copy(i);const h=c*f-d*u;if(h<=0&&c>=0&&d<=0)return a=c/(c-d),n.copy(r).addScaledVector(Kp,a);OP.subVectors(e,s);const m=Kp.dot(OP),p=Xp.dot(OP);if(p>=0&&m<=p)return n.copy(s);const x=m*u-c*p;if(x<=0&&u>=0&&p<=0)return l=u/(u-p),n.copy(r).addScaledVector(Xp,l);const v=d*p-m*f;if(v<=0&&f-d>=0&&m-p>=0)return O$.subVectors(s,i),l=(f-d)/(f-d+(m-p)),n.copy(i).addScaledVector(O$,l);const g=1/(v+x+h);return a=x*g,l=h*g,n.copy(r).addScaledVector(Kp,a).addScaledVector(Xp,l)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const koe={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Sd={h:0,s:0,l:0},Q_={h:0,s:0,l:0};function FP(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class wt{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=ga){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,_n.colorSpaceToWorking(this,n),this}setRGB(e,n,r,i=_n.workingColorSpace){return this.r=e,this.g=n,this.b=r,_n.colorSpaceToWorking(this,i),this}setHSL(e,n,r,i=_n.workingColorSpace){if(e=$F(e,1),n=Zt(n,0,1),r=Zt(r,0,1),n===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+n):r+n-r*n,a=2*r-s;this.r=FP(a,s,e+1/3),this.g=FP(a,s,e),this.b=FP(a,s,e-1/3)}return _n.colorSpaceToWorking(this,i),this}setStyle(e,n=ga){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const a=i[1],l=i[2];switch(a){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,n);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,n);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],a=s.length;if(a===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(a===6)return this.setHex(parseInt(s,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=ga){const r=koe[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=bu(e.r),this.g=bu(e.g),this.b=bu(e.b),this}copyLinearToSRGB(e){return this.r=ev(e.r),this.g=ev(e.g),this.b=ev(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=ga){return _n.workingToColorSpace(hs.copy(this),e),Math.round(Zt(hs.r*255,0,255))*65536+Math.round(Zt(hs.g*255,0,255))*256+Math.round(Zt(hs.b*255,0,255))}getHexString(e=ga){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=_n.workingColorSpace){_n.workingToColorSpace(hs.copy(this),n);const r=hs.r,i=hs.g,s=hs.b,a=Math.max(r,i,s),l=Math.min(r,i,s);let c,u;const d=(l+a)/2;if(l===a)c=0,u=0;else{const f=a-l;switch(u=d<=.5?f/(a+l):f/(2-a-l),a){case r:c=(i-s)/f+(i<s?6:0);break;case i:c=(s-r)/f+2;break;case s:c=(r-i)/f+4;break}c/=6}return e.h=c,e.s=u,e.l=d,e}getRGB(e,n=_n.workingColorSpace){return _n.workingToColorSpace(hs.copy(this),n),e.r=hs.r,e.g=hs.g,e.b=hs.b,e}getStyle(e=ga){_n.workingToColorSpace(hs.copy(this),e);const n=hs.r,r=hs.g,i=hs.b;return e!==ga?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(Sd),this.setHSL(Sd.h+e,Sd.s+n,Sd.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(Sd),e.getHSL(Q_);const r=M0(Sd.h,Q_.h,n),i=M0(Sd.s,Q_.s,n),s=M0(Sd.l,Q_.l,n);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*n+s[3]*r+s[6]*i,this.g=s[1]*n+s[4]*r+s[7]*i,this.b=s[2]*n+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const hs=new wt;wt.NAMES=koe;let IWe=0;class As extends Ic{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:IWe++}),this.uuid=io(),this.name="",this.type="Material",this.blending=gm,this.side=Du,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=eM,this.blendDst=tM,this.blendEquation=Ud,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new wt(0,0,0),this.blendAlpha=0,this.depthFunc=zm,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=_D,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Dh,this.stencilZFail=Dh,this.stencilZPass=Dh,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==gm&&(r.blending=this.blending),this.side!==Du&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==eM&&(r.blendSrc=this.blendSrc),this.blendDst!==tM&&(r.blendDst=this.blendDst),this.blendEquation!==Ud&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==zm&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==_D&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Dh&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Dh&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Dh&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const a=[];for(const l in s){const c=s[l];delete c.metadata,a.push(c)}return a}if(n){const s=i(e.textures),a=i(e.images);s.length>0&&(r.textures=s),a.length>0&&(r.images=a)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=n[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Qu extends As{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new wt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ho,this.combine=Kw,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const uu=LWe();function LWe(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let c=0;c<256;++c){const u=c-127;u<-27?(r[c]=0,r[c|256]=32768,i[c]=24,i[c|256]=24):u<-14?(r[c]=1024>>-u-14,r[c|256]=1024>>-u-14|32768,i[c]=-u-1,i[c|256]=-u-1):u<=15?(r[c]=u+15<<10,r[c|256]=u+15<<10|32768,i[c]=13,i[c|256]=13):u<128?(r[c]=31744,r[c|256]=64512,i[c]=24,i[c|256]=24):(r[c]=31744,r[c|256]=64512,i[c]=13,i[c|256]=13)}const s=new Uint32Array(2048),a=new Uint32Array(64),l=new Uint32Array(64);for(let c=1;c<1024;++c){let u=c<<13,d=0;for(;!(u&8388608);)u<<=1,d-=8388608;u&=-8388609,d+=947912704,s[c]=u|d}for(let c=1024;c<2048;++c)s[c]=939524096+(c-1024<<13);for(let c=1;c<31;++c)a[c]=c<<23;a[31]=1199570944,a[32]=2147483648;for(let c=33;c<63;++c)a[c]=2147483648+(c-32<<23);a[63]=3347054592;for(let c=1;c<64;++c)c!==32&&(l[c]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:a,offsetTable:l}}function fa(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=Zt(t,-65504,65504),uu.floatView[0]=t;const e=uu.uint32View[0],n=e>>23&511;return uu.baseTable[n]+((e&8388607)>>uu.shiftTable[n])}function qy(t){const e=t>>10;return uu.uint32View[0]=uu.mantissaTable[uu.offsetTable[e]+(t&1023)]+uu.exponentTable[e],uu.floatView[0]}class FWe{static toHalfFloat(e){return fa(e)}static fromHalfFloat(e){return qy(e)}}const ni=new J,J_=new Ge;let UWe=0;class Gn{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:UWe++}),this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=Ib,this.updateRanges=[],this.gpuType=Na,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)J_.fromBufferAttribute(this,n),J_.applyMatrix3(e),this.setXY(n,J_.x,J_.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)ni.fromBufferAttribute(this,n),ni.applyMatrix3(e),this.setXYZ(n,ni.x,ni.y,ni.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)ni.fromBufferAttribute(this,n),ni.applyMatrix4(e),this.setXYZ(n,ni.x,ni.y,ni.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)ni.fromBufferAttribute(this,n),ni.applyNormalMatrix(e),this.setXYZ(n,ni.x,ni.y,ni.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)ni.fromBufferAttribute(this,n),ni.transformDirection(e),this.setXYZ(n,ni.x,ni.y,ni.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=$s(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=ln(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=$s(n,this.array)),n}setX(e,n){return this.normalized&&(n=ln(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=$s(n,this.array)),n}setY(e,n){return this.normalized&&(n=ln(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=$s(n,this.array)),n}setZ(e,n){return this.normalized&&(n=ln(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=$s(n,this.array)),n}setW(e,n){return this.normalized&&(n=ln(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=ln(n,this.array),r=ln(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=ln(n,this.array),r=ln(r,this.array),i=ln(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=ln(n,this.array),r=ln(r,this.array),i=ln(i,this.array),s=ln(s,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Ib&&(e.usage=this.usage),e}}class BWe extends Gn{constructor(e,n,r){super(new Int8Array(e),n,r)}}class zWe extends Gn{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class VWe extends Gn{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class WWe extends Gn{constructor(e,n,r){super(new Int16Array(e),n,r)}}class GF extends Gn{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class $We extends Gn{constructor(e,n,r){super(new Int32Array(e),n,r)}}class qF extends Gn{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class HWe extends Gn{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=qy(this.array[e*this.itemSize]);return this.normalized&&(n=$s(n,this.array)),n}setX(e,n){return this.normalized&&(n=ln(n,this.array)),this.array[e*this.itemSize]=fa(n),this}getY(e){let n=qy(this.array[e*this.itemSize+1]);return this.normalized&&(n=$s(n,this.array)),n}setY(e,n){return this.normalized&&(n=ln(n,this.array)),this.array[e*this.itemSize+1]=fa(n),this}getZ(e){let n=qy(this.array[e*this.itemSize+2]);return this.normalized&&(n=$s(n,this.array)),n}setZ(e,n){return this.normalized&&(n=ln(n,this.array)),this.array[e*this.itemSize+2]=fa(n),this}getW(e){let n=qy(this.array[e*this.itemSize+3]);return this.normalized&&(n=$s(n,this.array)),n}setW(e,n){return this.normalized&&(n=ln(n,this.array)),this.array[e*this.itemSize+3]=fa(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=ln(n,this.array),r=ln(r,this.array)),this.array[e+0]=fa(n),this.array[e+1]=fa(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=ln(n,this.array),r=ln(r,this.array),i=ln(i,this.array)),this.array[e+0]=fa(n),this.array[e+1]=fa(r),this.array[e+2]=fa(i),this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=ln(n,this.array),r=ln(r,this.array),i=ln(i,this.array),s=ln(s,this.array)),this.array[e+0]=fa(n),this.array[e+1]=fa(r),this.array[e+2]=fa(i),this.array[e+3]=fa(s),this}}class Rt extends Gn{constructor(e,n,r){super(new Float32Array(e),n,r)}}let GWe=0;const Co=new Vt,UP=new Mn,Yp=new J,Ha=new Li,Sy=new Li,Ti=new J;class cn extends Ic{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:GWe++}),this.uuid=io(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(Aoe(e)?qF:GF)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new Yt().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Co.makeRotationFromQuaternion(e),this.applyMatrix4(Co),this}rotateX(e){return Co.makeRotationX(e),this.applyMatrix4(Co),this}rotateY(e){return Co.makeRotationY(e),this.applyMatrix4(Co),this}rotateZ(e){return Co.makeRotationZ(e),this.applyMatrix4(Co),this}translate(e,n,r){return Co.makeTranslation(e,n,r),this.applyMatrix4(Co),this}scale(e,n,r){return Co.makeScale(e,n,r),this.applyMatrix4(Co),this}lookAt(e){return UP.lookAt(e),UP.updateMatrix(),this.applyMatrix4(UP.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Yp).negate(),this.translate(Yp.x,Yp.y,Yp.z),this}setFromPoints(e){const n=this.getAttribute("position");if(n===void 0){const r=[];for(let i=0,s=e.length;i<s;i++){const a=e[i];r.push(a.x,a.y,a.z||0)}this.setAttribute("position",new Rt(r,3))}else{const r=Math.min(e.length,n.count);for(let i=0;i<r;i++){const s=e[i];n.setXYZ(i,s.x,s.y,s.z||0)}e.length>n.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),n.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Li);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new J(-1/0,-1/0,-1/0),new J(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const s=n[r];Ha.setFromBufferAttribute(s),this.morphTargetsRelative?(Ti.addVectors(this.boundingBox.min,Ha.min),this.boundingBox.expandByPoint(Ti),Ti.addVectors(this.boundingBox.max,Ha.max),this.boundingBox.expandByPoint(Ti)):(this.boundingBox.expandByPoint(Ha.min),this.boundingBox.expandByPoint(Ha.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Fi);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new J,1/0);return}if(e){const r=this.boundingSphere.center;if(Ha.setFromBufferAttribute(e),n)for(let s=0,a=n.length;s<a;s++){const l=n[s];Sy.setFromBufferAttribute(l),this.morphTargetsRelative?(Ti.addVectors(Ha.min,Sy.min),Ha.expandByPoint(Ti),Ti.addVectors(Ha.max,Sy.max),Ha.expandByPoint(Ti)):(Ha.expandByPoint(Sy.min),Ha.expandByPoint(Sy.max))}Ha.getCenter(r);let i=0;for(let s=0,a=e.count;s<a;s++)Ti.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(Ti));if(n)for(let s=0,a=n.length;s<a;s++){const l=n[s],c=this.morphTargetsRelative;for(let u=0,d=l.count;u<d;u++)Ti.fromBufferAttribute(l,u),c&&(Yp.fromBufferAttribute(e,u),Ti.add(Yp)),i=Math.max(i,r.distanceToSquared(Ti))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=n.position,i=n.normal,s=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Gn(new Float32Array(4*r.count),4));const a=this.getAttribute("tangent"),l=[],c=[];for(let T=0;T<r.count;T++)l[T]=new J,c[T]=new J;const u=new J,d=new J,f=new J,h=new Ge,m=new Ge,p=new Ge,x=new J,v=new J;function g(T,A,P){u.fromBufferAttribute(r,T),d.fromBufferAttribute(r,A),f.fromBufferAttribute(r,P),h.fromBufferAttribute(s,T),m.fromBufferAttribute(s,A),p.fromBufferAttribute(s,P),d.sub(u),f.sub(u),m.sub(h),p.sub(h);const R=1/(m.x*p.y-p.x*m.y);isFinite(R)&&(x.copy(d).multiplyScalar(p.y).addScaledVector(f,-m.y).multiplyScalar(R),v.copy(f).multiplyScalar(m.x).addScaledVector(d,-p.x).multiplyScalar(R),l[T].add(x),l[A].add(x),l[P].add(x),c[T].add(v),c[A].add(v),c[P].add(v))}let w=this.groups;w.length===0&&(w=[{start:0,count:e.count}]);for(let T=0,A=w.length;T<A;++T){const P=w[T],R=P.start,D=P.count;for(let F=R,I=R+D;F<I;F+=3)g(e.getX(F+0),e.getX(F+1),e.getX(F+2))}const _=new J,E=new J,N=new J,C=new J;function j(T){N.fromBufferAttribute(i,T),C.copy(N);const A=l[T];_.copy(A),_.sub(N.multiplyScalar(N.dot(A))).normalize(),E.crossVectors(C,A);const R=E.dot(c[T])<0?-1:1;a.setXYZW(T,_.x,_.y,_.z,R)}for(let T=0,A=w.length;T<A;++T){const P=w[T],R=P.start,D=P.count;for(let F=R,I=R+D;F<I;F+=3)j(e.getX(F+0)),j(e.getX(F+1)),j(e.getX(F+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Gn(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let h=0,m=r.count;h<m;h++)r.setXYZ(h,0,0,0);const i=new J,s=new J,a=new J,l=new J,c=new J,u=new J,d=new J,f=new J;if(e)for(let h=0,m=e.count;h<m;h+=3){const p=e.getX(h+0),x=e.getX(h+1),v=e.getX(h+2);i.fromBufferAttribute(n,p),s.fromBufferAttribute(n,x),a.fromBufferAttribute(n,v),d.subVectors(a,s),f.subVectors(i,s),d.cross(f),l.fromBufferAttribute(r,p),c.fromBufferAttribute(r,x),u.fromBufferAttribute(r,v),l.add(d),c.add(d),u.add(d),r.setXYZ(p,l.x,l.y,l.z),r.setXYZ(x,c.x,c.y,c.z),r.setXYZ(v,u.x,u.y,u.z)}else for(let h=0,m=n.count;h<m;h+=3)i.fromBufferAttribute(n,h+0),s.fromBufferAttribute(n,h+1),a.fromBufferAttribute(n,h+2),d.subVectors(a,s),f.subVectors(i,s),d.cross(f),r.setXYZ(h+0,d.x,d.y,d.z),r.setXYZ(h+1,d.x,d.y,d.z),r.setXYZ(h+2,d.x,d.y,d.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)Ti.fromBufferAttribute(e,n),Ti.normalize(),e.setXYZ(n,Ti.x,Ti.y,Ti.z)}toNonIndexed(){function e(l,c){const u=l.array,d=l.itemSize,f=l.normalized,h=new u.constructor(c.length*d);let m=0,p=0;for(let x=0,v=c.length;x<v;x++){l.isInterleavedBufferAttribute?m=c[x]*l.data.stride+l.offset:m=c[x]*d;for(let g=0;g<d;g++)h[p++]=u[m++]}return new Gn(h,d,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new cn,r=this.index.array,i=this.attributes;for(const l in i){const c=i[l],u=e(c,r);n.setAttribute(l,u)}const s=this.morphAttributes;for(const l in s){const c=[],u=s[l];for(let d=0,f=u.length;d<f;d++){const h=u[d],m=e(h,r);c.push(m)}n.morphAttributes[l]=c}n.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let l=0,c=a.length;l<c;l++){const u=a[l];n.addGroup(u.start,u.count,u.materialIndex)}return n}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const c=this.parameters;for(const u in c)c[u]!==void 0&&(e[u]=c[u]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const c in r){const u=r[c];e.data.attributes[c]=u.toJSON(e.data)}const i={};let s=!1;for(const c in this.morphAttributes){const u=this.morphAttributes[c],d=[];for(let f=0,h=u.length;f<h;f++){const m=u[f];d.push(m.toJSON(e.data))}d.length>0&&(i[c]=d,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const l=this.boundingSphere;return l!==null&&(e.data.boundingSphere=l.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone());const i=e.attributes;for(const u in i){const d=i[u];this.setAttribute(u,d.clone(n))}const s=e.morphAttributes;for(const u in s){const d=[],f=s[u];for(let h=0,m=f.length;h<m;h++)d.push(f[h].clone(n));this.morphAttributes[u]=d}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let u=0,d=a.length;u<d;u++){const f=a[u];this.addGroup(f.start,f.count,f.materialIndex)}const l=e.boundingBox;l!==null&&(this.boundingBox=l.clone());const c=e.boundingSphere;return c!==null&&(this.boundingSphere=c.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const D$=new Vt,fh=new lp,eS=new Fi,I$=new J,tS=new J,nS=new J,rS=new J,BP=new J,iS=new J,L$=new J,sS=new J;class _r extends Mn{constructor(e=new cn,n=new Qu){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=i.length;s<a;s++){const l=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=s}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,a=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const l=this.morphTargetInfluences;if(s&&l){iS.set(0,0,0);for(let c=0,u=s.length;c<u;c++){const d=l[c],f=s[c];d!==0&&(BP.fromBufferAttribute(f,e),a?iS.addScaledVector(BP,d):iS.addScaledVector(BP.sub(n),d))}n.add(iS)}return n}raycast(e,n){const r=this.geometry,i=this.material,s=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),eS.copy(r.boundingSphere),eS.applyMatrix4(s),fh.copy(e.ray).recast(e.near),!(eS.containsPoint(fh.origin)===!1&&(fh.intersectSphere(eS,I$)===null||fh.origin.distanceToSquared(I$)>(e.far-e.near)**2))&&(D$.copy(s).invert(),fh.copy(e.ray).applyMatrix4(D$),!(r.boundingBox!==null&&fh.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,fh)))}_computeIntersections(e,n,r){let i;const s=this.geometry,a=this.material,l=s.index,c=s.attributes.position,u=s.attributes.uv,d=s.attributes.uv1,f=s.attributes.normal,h=s.groups,m=s.drawRange;if(l!==null)if(Array.isArray(a))for(let p=0,x=h.length;p<x;p++){const v=h[p],g=a[v.materialIndex],w=Math.max(v.start,m.start),_=Math.min(l.count,Math.min(v.start+v.count,m.start+m.count));for(let E=w,N=_;E<N;E+=3){const C=l.getX(E),j=l.getX(E+1),T=l.getX(E+2);i=aS(this,g,e,r,u,d,f,C,j,T),i&&(i.faceIndex=Math.floor(E/3),i.face.materialIndex=v.materialIndex,n.push(i))}}else{const p=Math.max(0,m.start),x=Math.min(l.count,m.start+m.count);for(let v=p,g=x;v<g;v+=3){const w=l.getX(v),_=l.getX(v+1),E=l.getX(v+2);i=aS(this,a,e,r,u,d,f,w,_,E),i&&(i.faceIndex=Math.floor(v/3),n.push(i))}}else if(c!==void 0)if(Array.isArray(a))for(let p=0,x=h.length;p<x;p++){const v=h[p],g=a[v.materialIndex],w=Math.max(v.start,m.start),_=Math.min(c.count,Math.min(v.start+v.count,m.start+m.count));for(let E=w,N=_;E<N;E+=3){const C=E,j=E+1,T=E+2;i=aS(this,g,e,r,u,d,f,C,j,T),i&&(i.faceIndex=Math.floor(E/3),i.face.materialIndex=v.materialIndex,n.push(i))}}else{const p=Math.max(0,m.start),x=Math.min(c.count,m.start+m.count);for(let v=p,g=x;v<g;v+=3){const w=v,_=v+1,E=v+2;i=aS(this,a,e,r,u,d,f,w,_,E),i&&(i.faceIndex=Math.floor(v/3),n.push(i))}}}}function qWe(t,e,n,r,i,s,a,l){let c;if(e.side===Zs?c=r.intersectTriangle(a,s,i,!0,l):c=r.intersectTriangle(i,s,a,e.side===Du,l),c===null)return null;sS.copy(l),sS.applyMatrix4(t.matrixWorld);const u=n.ray.origin.distanceTo(sS);return u<n.near||u>n.far?null:{distance:u,point:sS.clone(),object:t}}function aS(t,e,n,r,i,s,a,l,c,u){t.getVertexPosition(l,tS),t.getVertexPosition(c,nS),t.getVertexPosition(u,rS);const d=qWe(t,e,n,r,tS,nS,rS,L$);if(d){const f=new J;ba.getBarycoord(L$,tS,nS,rS,f),i&&(d.uv=ba.getInterpolatedAttribute(i,l,c,u,f,new Ge)),s&&(d.uv1=ba.getInterpolatedAttribute(s,l,c,u,f,new Ge)),a&&(d.normal=ba.getInterpolatedAttribute(a,l,c,u,f,new J),d.normal.dot(r.direction)>0&&d.normal.multiplyScalar(-1));const h={a:l,b:c,c:u,normal:new J,materialIndex:0};ba.getNormal(tS,nS,rS,h.normal),d.face=h,d.barycoord=f}return d}class cp extends cn{constructor(e=1,n=1,r=1,i=1,s=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:s,depthSegments:a};const l=this;i=Math.floor(i),s=Math.floor(s),a=Math.floor(a);const c=[],u=[],d=[],f=[];let h=0,m=0;p("z","y","x",-1,-1,r,n,e,a,s,0),p("z","y","x",1,-1,r,n,-e,a,s,1),p("x","z","y",1,1,e,r,n,i,a,2),p("x","z","y",1,-1,e,r,-n,i,a,3),p("x","y","z",1,-1,e,n,r,i,s,4),p("x","y","z",-1,-1,e,n,-r,i,s,5),this.setIndex(c),this.setAttribute("position",new Rt(u,3)),this.setAttribute("normal",new Rt(d,3)),this.setAttribute("uv",new Rt(f,2));function p(x,v,g,w,_,E,N,C,j,T,A){const P=E/j,R=N/T,D=E/2,F=N/2,I=C/2,G=j+1,q=T+1;let $=0,L=0;const V=new J;for(let K=0;K<q;K++){const W=K*R-F;for(let B=0;B<G;B++){const ee=B*P-D;V[x]=ee*w,V[v]=W*_,V[g]=I,u.push(V.x,V.y,V.z),V[x]=0,V[v]=0,V[g]=C>0?1:-1,d.push(V.x,V.y,V.z),f.push(B/j),f.push(1-K/T),$+=1}}for(let K=0;K<T;K++)for(let W=0;W<j;W++){const B=h+W+G*K,ee=h+W+G*(K+1),Y=h+(W+1)+G*(K+1),Q=h+(W+1)+G*K;c.push(B,ee,Q),c.push(ee,Y,Q),L+=6}l.addGroup(m,L,A),m+=L,h+=$}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new cp(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Vv(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function Fs(t){const e={};for(let n=0;n<t.length;n++){const r=Vv(t[n]);for(const i in r)e[i]=r[i]}return e}function KWe(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function Roe(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:_n.workingColorSpace}const KF={clone:Vv,merge:Fs};var XWe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,YWe=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Il extends As{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=XWe,this.fragmentShader=YWe,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Vv(e.uniforms),this.uniformsGroups=KWe(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const a=this.uniforms[i].value;a&&a.isTexture?n.uniforms[i]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?n.uniforms[i]={type:"c",value:a.getHex()}:a&&a.isVector2?n.uniforms[i]={type:"v2",value:a.toArray()}:a&&a.isVector3?n.uniforms[i]={type:"v3",value:a.toArray()}:a&&a.isVector4?n.uniforms[i]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?n.uniforms[i]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?n.uniforms[i]={type:"m4",value:a.toArray()}:n.uniforms[i]={value:a}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class Yw extends Mn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Vt,this.projectionMatrix=new Vt,this.projectionMatrixInverse=new Vt,this.coordinateSystem=Uo}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Ed=new J,F$=new Ge,U$=new Ge;class zr extends Yw{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=zv*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(vm*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return zv*2*Math.atan(Math.tan(vm*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,r){Ed.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Ed.x,Ed.y).multiplyScalar(-e/Ed.z),Ed.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(Ed.x,Ed.y).multiplyScalar(-e/Ed.z)}getViewSize(e,n){return this.getViewBounds(e,F$,U$),n.subVectors(U$,F$)}setViewOffset(e,n,r,i,s,a){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(vm*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,s=-.5*i;const a=this.view;if(this.view!==null&&this.view.enabled){const c=a.fullWidth,u=a.fullHeight;s+=a.offsetX*i/c,n-=a.offsetY*r/u,i*=a.width/c,r*=a.height/u}const l=this.filmOffset;l!==0&&(s+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const Zp=-90,Qp=1;class Ooe extends Mn{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new zr(Zp,Qp,e,n);i.layers=this.layers,this.add(i);const s=new zr(Zp,Qp,e,n);s.layers=this.layers,this.add(s);const a=new zr(Zp,Qp,e,n);a.layers=this.layers,this.add(a);const l=new zr(Zp,Qp,e,n);l.layers=this.layers,this.add(l);const c=new zr(Zp,Qp,e,n);c.layers=this.layers,this.add(c);const u=new zr(Zp,Qp,e,n);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,s,a,l,c]=n;for(const u of n)this.remove(u);if(e===Uo)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),l.up.set(0,1,0),l.lookAt(0,0,1),c.up.set(0,1,0),c.lookAt(0,0,-1);else if(e===Lb)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),l.up.set(0,-1,0),l.lookAt(0,0,1),c.up.set(0,-1,0),c.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const u of n)this.add(u),u.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,a,l,c,u,d]=this.children,f=e.getRenderTarget(),h=e.getActiveCubeFace(),m=e.getActiveMipmapLevel(),p=e.xr.enabled;e.xr.enabled=!1;const x=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(n,s),e.setRenderTarget(r,1,i),e.render(n,a),e.setRenderTarget(r,2,i),e.render(n,l),e.setRenderTarget(r,3,i),e.render(n,c),e.setRenderTarget(r,4,i),e.render(n,u),r.texture.generateMipmaps=x,e.setRenderTarget(r,5,i),e.render(n,d),e.setRenderTarget(f,h,m),e.xr.enabled=p,r.texture.needsPMREMUpdate=!0}}class Zw extends Er{constructor(e=[],n=Iu,r,i,s,a,l,c,u,d){super(e,n,r,i,s,a,l,c,u,d),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Doe extends Pc{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new Zw(i),this._setTextureOptions(n),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new cp(5,5,5),s=new Il({name:"CubemapFromEquirect",uniforms:Vv(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Zs,blending:yu});s.uniforms.tEquirect.value=n;const a=new _r(i,s),l=n.minFilter;return n.minFilter===mc&&(n.minFilter=$r),new Ooe(1,10,this).update(e,a),n.minFilter=l,a.geometry.dispose(),a.material.dispose(),this}clear(e,n=!0,r=!0,i=!0){const s=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(n,r,i);e.setRenderTarget(s)}}class kg extends Mn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const ZWe={type:"move"};class hE{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new kg,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new kg,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new J,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new J),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new kg,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new J,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new J),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,s=null,a=null;const l=this._targetRay,c=this._grip,u=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(u&&e.hand){a=!0;for(const x of e.hand.values()){const v=n.getJointPose(x,r),g=this._getHandJoint(u,x);v!==null&&(g.matrix.fromArray(v.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,g.jointRadius=v.radius),g.visible=v!==null}const d=u.joints["index-finger-tip"],f=u.joints["thumb-tip"],h=d.position.distanceTo(f.position),m=.02,p=.005;u.inputState.pinching&&h>m+p?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&h<=m-p&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else c!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,r),s!==null&&(c.matrix.fromArray(s.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),c.matrixWorldNeedsUpdate=!0,s.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(s.linearVelocity)):c.hasLinearVelocity=!1,s.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(s.angularVelocity)):c.hasAngularVelocity=!1));l!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(l.matrix.fromArray(i.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,i.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(i.linearVelocity)):l.hasLinearVelocity=!1,i.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(i.angularVelocity)):l.hasAngularVelocity=!1,this.dispatchEvent(ZWe)))}return l!==null&&(l.visible=i!==null),c!==null&&(c.visible=s!==null),u!==null&&(u.visible=a!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new kg;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}class Nj{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new wt(e),this.density=n}clone(){return new Nj(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Mj{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new wt(e),this.near=n,this.far=r}clone(){return new Mj(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class XF extends Mn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new ho,this.environmentIntensity=1,this.environmentRotation=new ho,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class Cj{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=Ib,this.updateRanges=[],this.version=0,this.uuid=io()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=io()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=io()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Is=new J;class Wm{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)Is.fromBufferAttribute(this,n),Is.applyMatrix4(e),this.setXYZ(n,Is.x,Is.y,Is.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Is.fromBufferAttribute(this,n),Is.applyNormalMatrix(e),this.setXYZ(n,Is.x,Is.y,Is.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Is.fromBufferAttribute(this,n),Is.transformDirection(e),this.setXYZ(n,Is.x,Is.y,Is.z);return this}getComponent(e,n){let r=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(r=$s(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=ln(r,this.array)),this.data.array[e*this.data.stride+this.offset+n]=r,this}setX(e,n){return this.normalized&&(n=ln(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=ln(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=ln(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=ln(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=$s(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=$s(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=$s(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=$s(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=ln(n,this.array),r=ln(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=ln(n,this.array),r=ln(r,this.array),i=ln(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(n=ln(n,this.array),r=ln(r,this.array),i=ln(i,this.array),s=ln(s,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return new Gn(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Wm(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class YF extends As{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new wt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Jp;const Ey=new J,eg=new J,tg=new J,ng=new Ge,Ny=new Ge,Ioe=new Vt,oS=new J,My=new J,lS=new J,B$=new Ge,zP=new Ge,z$=new Ge;class Loe extends Mn{constructor(e=new YF){if(super(),this.isSprite=!0,this.type="Sprite",Jp===void 0){Jp=new cn;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new Cj(n,5);Jp.setIndex([0,1,2,0,2,3]),Jp.setAttribute("position",new Wm(r,3,0,!1)),Jp.setAttribute("uv",new Wm(r,2,3,!1))}this.geometry=Jp,this.material=e,this.center=new Ge(.5,.5),this.count=1}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),eg.setFromMatrixScale(this.matrixWorld),Ioe.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),tg.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&eg.multiplyScalar(-tg.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const a=this.center;cS(oS.set(-.5,-.5,0),tg,a,eg,i,s),cS(My.set(.5,-.5,0),tg,a,eg,i,s),cS(lS.set(.5,.5,0),tg,a,eg,i,s),B$.set(0,0),zP.set(1,0),z$.set(1,1);let l=e.ray.intersectTriangle(oS,My,lS,!1,Ey);if(l===null&&(cS(My.set(-.5,.5,0),tg,a,eg,i,s),zP.set(0,1),l=e.ray.intersectTriangle(oS,lS,My,!1,Ey),l===null))return;const c=e.ray.origin.distanceTo(Ey);c<e.near||c>e.far||n.push({distance:c,point:Ey.clone(),uv:ba.getInterpolation(Ey,oS,My,lS,B$,zP,z$,new Ge),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function cS(t,e,n,r,i,s){ng.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(Ny.x=s*ng.x-i*ng.y,Ny.y=i*ng.x+s*ng.y):Ny.copy(ng),t.copy(e),t.x+=Ny.x,t.y+=Ny.y,t.applyMatrix4(Ioe)}const uS=new J,V$=new J;class Foe extends Mn{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const s=n[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let s;for(s=0;s<i.length&&!(n<i[s].distance);s++);return i.splice(s,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}removeLevel(e){const n=this.levels;for(let r=0;r<n.length;r++)if(n[r].distance===e){const i=n.splice(r,1);return this.remove(i[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let s=n[r].distance;if(n[r].object.visible&&(s-=s*n[r].hysteresis),e<s)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){uS.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(uS);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){uS.setFromMatrixPosition(e.matrixWorld),V$.setFromMatrixPosition(this.matrixWorld);const r=uS.distanceTo(V$)/e.zoom;n[0].object.visible=!0;let i,s;for(i=1,s=n.length;i<s;i++){let a=n[i].distance;if(n[i].object.visible&&(a-=a*n[i].hysteresis),r>=a)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const a=r[i];n.object.levels.push({object:a.object.uuid,distance:a.distance,hysteresis:a.hysteresis})}return n}}const W$=new J,$$=new wn,H$=new wn,QWe=new J,G$=new Vt,dS=new J,VP=new Fi,q$=new Vt,WP=new lp;class Uoe extends _r{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=wD,this.bindMatrix=new Vt,this.bindMatrixInverse=new Vt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Li),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,dS),this.boundingBox.expandByPoint(dS)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Fi),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,dS),this.boundingSphere.expandByPoint(dS)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),VP.copy(this.boundingSphere),VP.applyMatrix4(i),e.ray.intersectsSphere(VP)!==!1&&(q$.copy(i).invert(),WP.copy(e.ray).applyMatrix4(q$),!(this.boundingBox!==null&&WP.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,WP)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new wn,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===wD?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===goe?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;$$.fromBufferAttribute(i.attributes.skinIndex,e),H$.fromBufferAttribute(i.attributes.skinWeight,e),W$.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let s=0;s<4;s++){const a=H$.getComponent(s);if(a!==0){const l=$$.getComponent(s);G$.multiplyMatrices(r.bones[l].matrixWorld,r.boneInverses[l]),n.addScaledVector(QWe.copy(W$).applyMatrix4(G$),a)}}return n.applyMatrix4(this.bindMatrixInverse)}}class ZF extends Mn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Sc extends Er{constructor(e=null,n=1,r=1,i,s,a,l,c,u=es,d=es,f,h){super(null,a,l,c,u,d,i,s,f,h),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const K$=new Vt,JWe=new Vt;class jj{constructor(e=[],n=[]){this.uuid=io(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Vt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new Vt;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,a=e.length;s<a;s++){const l=e[s]?e[s].matrixWorld:JWe;K$.multiplyMatrices(l,n[s]),K$.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new jj(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new Sc(n,e,e,_s,Na);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let a=n[s];a===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),a=new ZF),this.bones.push(a),this.boneInverses.push(new Vt().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,s=n.length;i<s;i++){const a=n[i];e.bones.push(a.uuid);const l=r[i];e.boneInverses.push(l.toArray())}return e}}class $m extends Gn{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const rg=new Vt,X$=new Vt,fS=[],Y$=new Li,e$e=new Vt,Cy=new _r,jy=new Fi;class Boe extends _r{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new $m(new Float32Array(r*16),16),this.instanceColor=null,this.morphTexture=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,e$e)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new Li),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,rg),Y$.copy(e.boundingBox).applyMatrix4(rg),this.boundingBox.union(Y$)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new Fi),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,rg),jy.copy(e.boundingSphere).applyMatrix4(rg),this.boundingSphere.union(jy)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,n){const r=n.morphTargetInfluences,i=this.morphTexture.source.data.data,s=r.length+1,a=e*s+1;for(let l=0;l<r.length;l++)r[l]=i[a+l]}raycast(e,n){const r=this.matrixWorld,i=this.count;if(Cy.geometry=this.geometry,Cy.material=this.material,Cy.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),jy.copy(this.boundingSphere),jy.applyMatrix4(r),e.ray.intersectsSphere(jy)!==!1))for(let s=0;s<i;s++){this.getMatrixAt(s,rg),X$.multiplyMatrices(r,rg),Cy.matrixWorld=X$,Cy.raycast(e,fS);for(let a=0,l=fS.length;a<l;a++){const c=fS[a];c.instanceId=s,c.object=this,n.push(c)}fS.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new $m(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,n){const r=n.morphTargetInfluences,i=r.length+1;this.morphTexture===null&&(this.morphTexture=new Sc(new Float32Array(i*this.count),i,this.count,yj,Na));const s=this.morphTexture.source.data.data;let a=0;for(let u=0;u<r.length;u++)a+=r[u];const l=this.geometry.morphTargetsRelative?1:1-a,c=i*e;s[c]=l,s.set(r,c+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const $P=new J,t$e=new J,n$e=new Yt;class au{constructor(e=new J(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=$P.subVectors(r,n).cross(t$e.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta($P),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:n.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||n$e.getNormalMatrix(e),i=this.coplanarPoint($P).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const hh=new Fi,r$e=new Ge(.5,.5),hS=new J;class _x{constructor(e=new au,n=new au,r=new au,i=new au,s=new au,a=new au){this.planes=[e,n,r,i,s,a]}set(e,n,r,i,s,a){const l=this.planes;return l[0].copy(e),l[1].copy(n),l[2].copy(r),l[3].copy(i),l[4].copy(s),l[5].copy(a),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=Uo){const r=this.planes,i=e.elements,s=i[0],a=i[1],l=i[2],c=i[3],u=i[4],d=i[5],f=i[6],h=i[7],m=i[8],p=i[9],x=i[10],v=i[11],g=i[12],w=i[13],_=i[14],E=i[15];if(r[0].setComponents(c-s,h-u,v-m,E-g).normalize(),r[1].setComponents(c+s,h+u,v+m,E+g).normalize(),r[2].setComponents(c+a,h+d,v+p,E+w).normalize(),r[3].setComponents(c-a,h-d,v-p,E-w).normalize(),r[4].setComponents(c-l,h-f,v-x,E-_).normalize(),n===Uo)r[5].setComponents(c+l,h+f,v+x,E+_).normalize();else if(n===Lb)r[5].setComponents(l,f,x,_).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),hh.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),hh.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(hh)}intersectsSprite(e){hh.center.set(0,0,0);const n=r$e.distanceTo(e.center);return hh.radius=.7071067811865476+n,hh.applyMatrix4(e.matrixWorld),this.intersectsSphere(hh)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(hS.x=i.normal.x>0?e.max.x:e.min.x,hS.y=i.normal.y>0?e.max.y:e.min.y,hS.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(hS)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const Kl=new Vt,Xl=new _x;class Aj{constructor(){this.coordinateSystem=Uo}intersectsObject(e,n){if(!n.isArrayCamera||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(Kl.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Xl.setFromProjectionMatrix(Kl,this.coordinateSystem),Xl.intersectsObject(e))return!0}return!1}intersectsSprite(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(Kl.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Xl.setFromProjectionMatrix(Kl,this.coordinateSystem),Xl.intersectsSprite(e))return!0}return!1}intersectsSphere(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(Kl.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Xl.setFromProjectionMatrix(Kl,this.coordinateSystem),Xl.intersectsSphere(e))return!0}return!1}intersectsBox(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(Kl.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Xl.setFromProjectionMatrix(Kl,this.coordinateSystem),Xl.intersectsBox(e))return!0}return!1}containsPoint(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(Kl.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Xl.setFromProjectionMatrix(Kl,this.coordinateSystem),Xl.containsPoint(e))return!0}return!1}clone(){return new Aj}}function HP(t,e){return t-e}function i$e(t,e){return t.z-e.z}function s$e(t,e){return e.z-t.z}class a$e{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n,r,i){const s=this.pool,a=this.list;this.index>=s.length&&s.push({start:-1,count:-1,z:-1,index:-1});const l=s[this.index];a.push(l),this.index++,l.start=e,l.count=n,l.z=r,l.index=i}reset(){this.list.length=0,this.index=0}}const da=new Vt,o$e=new wt(1,1,1),Z$=new _x,l$e=new Aj,mS=new Li,mh=new Fi,Ay=new J,Q$=new J,c$e=new J,GP=new a$e,ms=new _r,pS=[];function u$e(t,e,n=0){const r=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const i=t.count;for(let s=0;s<i;s++)for(let a=0;a<r;a++)e.setComponent(s+n,a,t.getComponent(s,a))}else e.array.set(t.array,n*r);e.needsUpdate=!0}function ph(t,e){if(t.constructor!==e.constructor){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++)e[r]=t[r]}else{const n=Math.min(t.length,e.length);e.set(new t.constructor(t.buffer,0,n))}}class zoe extends _r{constructor(e,n,r=n*2,i){super(new cn,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=n,this._maxIndexCount=r,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),r=new Sc(n,e,e,_s,Na);this._matricesTexture=r}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Uint32Array(e*e),r=new Sc(n,e,e,Xw,Lu);this._indirectTexture=r}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Float32Array(e*e*4).fill(1),r=new Sc(n,e,e,_s,Na);r.colorSpace=_n.workingColorSpace,this._colorsTexture=r}_initializeGeometry(e){const n=this.geometry,r=this._maxVertexCount,i=this._maxIndexCount;if(this._geometryInitialized===!1){for(const s in e.attributes){const a=e.getAttribute(s),{array:l,itemSize:c,normalized:u}=a,d=new l.constructor(r*c),f=new Gn(d,c,u);n.setAttribute(s,f)}if(e.getIndex()!==null){const s=r>65535?new Uint32Array(i):new Uint16Array(i);n.setIndex(new Gn(s,1))}this._geometryInitialized=!0}}_validateGeometry(e){const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const r in n.attributes){if(!e.hasAttribute(r))throw new Error(`THREE.BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),s=n.getAttribute(r);if(i.itemSize!==s.itemSize||i.normalized!==s.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const n=this._instanceInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const n=this._geometryInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Li);const e=this.boundingBox,n=this._instanceInfo;e.makeEmpty();for(let r=0,i=n.length;r<i;r++){if(n[r].active===!1)continue;const s=n[r].geometryIndex;this.getMatrixAt(r,da),this.getBoundingBoxAt(s,mS).applyMatrix4(da),e.union(mS)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Fi);const e=this.boundingSphere,n=this._instanceInfo;e.makeEmpty();for(let r=0,i=n.length;r<i;r++){if(n[r].active===!1)continue;const s=n[r].geometryIndex;this.getMatrixAt(r,da),this.getBoundingSphereAt(s,mh).applyMatrix4(da),e.union(mh)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const r={visible:!0,active:!0,geometryIndex:e};let i=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(HP),i=this._availableInstanceIds.shift(),this._instanceInfo[i]=r):(i=this._instanceInfo.length,this._instanceInfo.push(r));const s=this._matricesTexture;da.identity().toArray(s.image.data,i*16),s.needsUpdate=!0;const a=this._colorsTexture;return a&&(o$e.toArray(a.image.data,i*4),a.needsUpdate=!0),this._visibilityChanged=!0,i}addGeometry(e,n=-1,r=-1){this._initializeGeometry(e),this._validateGeometry(e);const i={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},s=this._geometryInfo;i.vertexStart=this._nextVertexStart,i.reservedVertexCount=n===-1?e.getAttribute("position").count:n;const a=e.getIndex();if(a!==null&&(i.indexStart=this._nextIndexStart,i.reservedIndexCount=r===-1?a.count:r),i.indexStart!==-1&&i.indexStart+i.reservedIndexCount>this._maxIndexCount||i.vertexStart+i.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let c;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(HP),c=this._availableGeometryIds.shift(),s[c]=i):(c=this._geometryCount,this._geometryCount++,s.push(i)),this.setGeometryAt(c,e),this._nextIndexStart=i.indexStart+i.reservedIndexCount,this._nextVertexStart=i.vertexStart+i.reservedVertexCount,c}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const r=this.geometry,i=r.getIndex()!==null,s=r.getIndex(),a=n.getIndex(),l=this._geometryInfo[e];if(i&&a.count>l.reservedIndexCount||n.attributes.position.count>l.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const c=l.vertexStart,u=l.reservedVertexCount;l.vertexCount=n.getAttribute("position").count;for(const d in r.attributes){const f=n.getAttribute(d),h=r.getAttribute(d);u$e(f,h,c);const m=f.itemSize;for(let p=f.count,x=u;p<x;p++){const v=c+p;for(let g=0;g<m;g++)h.setComponent(v,g,0)}h.needsUpdate=!0,h.addUpdateRange(c*m,u*m)}if(i){const d=l.indexStart,f=l.reservedIndexCount;l.indexCount=n.getIndex().count;for(let h=0;h<a.count;h++)s.setX(d+h,c+a.getX(h));for(let h=a.count,m=f;h<m;h++)s.setX(d+h,c);s.needsUpdate=!0,s.addUpdateRange(d,l.reservedIndexCount)}return l.start=i?l.indexStart:l.vertexStart,l.count=i?l.indexCount:l.vertexCount,l.boundingBox=null,n.boundingBox!==null&&(l.boundingBox=n.boundingBox.clone()),l.boundingSphere=null,n.boundingSphere!==null&&(l.boundingSphere=n.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._geometryInfo;if(e>=n.length||n[e].active===!1)return this;const r=this._instanceInfo;for(let i=0,s=r.length;i<s;i++)r[i].active&&r[i].geometryIndex===e&&this.deleteInstance(i);return n[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,n=0;const r=this._geometryInfo,i=r.map((a,l)=>l).sort((a,l)=>r[a].vertexStart-r[l].vertexStart),s=this.geometry;for(let a=0,l=r.length;a<l;a++){const c=i[a],u=r[c];if(u.active!==!1){if(s.index!==null){if(u.indexStart!==n){const{indexStart:d,vertexStart:f,reservedIndexCount:h}=u,m=s.index,p=m.array,x=e-f;for(let v=d;v<d+h;v++)p[v]=p[v]+x;m.array.copyWithin(n,d,d+h),m.addUpdateRange(n,h),u.indexStart=n}n+=u.reservedIndexCount}if(u.vertexStart!==e){const{vertexStart:d,reservedVertexCount:f}=u,h=s.attributes;for(const m in h){const p=h[m],{array:x,itemSize:v}=p;x.copyWithin(e*v,d*v,(d+f)*v),p.addUpdateRange(e*v,f*v)}u.vertexStart=e}e+=u.reservedVertexCount,u.start=s.index?u.indexStart:u.vertexStart,this._nextIndexStart=s.index?u.indexStart+u.reservedIndexCount:0,this._nextVertexStart=u.vertexStart+u.reservedVertexCount}}return this}getBoundingBoxAt(e,n){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingBox===null){const s=new Li,a=r.index,l=r.attributes.position;for(let c=i.start,u=i.start+i.count;c<u;c++){let d=c;a&&(d=a.getX(d)),s.expandByPoint(Ay.fromBufferAttribute(l,d))}i.boundingBox=s}return n.copy(i.boundingBox),n}getBoundingSphereAt(e,n){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingSphere===null){const s=new Fi;this.getBoundingBoxAt(e,mS),mS.getCenter(s.center);const a=r.index,l=r.attributes.position;let c=0;for(let u=i.start,d=i.start+i.count;u<d;u++){let f=u;a&&(f=a.getX(f)),Ay.fromBufferAttribute(l,f),c=Math.max(c,s.center.distanceToSquared(Ay))}s.radius=Math.sqrt(c),i.boundingSphere=s}return n.copy(i.boundingSphere),n}setMatrixAt(e,n){this.validateInstanceId(e);const r=this._matricesTexture,i=this._matricesTexture.image.data;return n.toArray(i,e*16),r.needsUpdate=!0,this}getMatrixAt(e,n){return this.validateInstanceId(e),n.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,n){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),n.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,n){return this.validateInstanceId(e),n.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,n){return this.validateInstanceId(e),this._instanceInfo[e].visible===n?this:(this._instanceInfo[e].visible=n,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,n){return this.validateInstanceId(e),this.validateGeometryId(n),this._instanceInfo[e].geometryIndex=n,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,n={}){this.validateGeometryId(e);const r=this._geometryInfo[e];return n.vertexStart=r.vertexStart,n.vertexCount=r.vertexCount,n.reservedVertexCount=r.reservedVertexCount,n.indexStart=r.indexStart,n.indexCount=r.indexCount,n.reservedIndexCount=r.reservedIndexCount,n.start=r.start,n.count=r.count,n}setInstanceCount(e){const n=this._availableInstanceIds,r=this._instanceInfo;for(n.sort(HP);n[n.length-1]===r.length;)r.pop(),n.pop();if(e<r.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const i=new Int32Array(e),s=new Int32Array(e);ph(this._multiDrawCounts,i),ph(this._multiDrawStarts,s),this._multiDrawCounts=i,this._multiDrawStarts=s,this._maxInstanceCount=e;const a=this._indirectTexture,l=this._matricesTexture,c=this._colorsTexture;a.dispose(),this._initIndirectTexture(),ph(a.image.data,this._indirectTexture.image.data),l.dispose(),this._initMatricesTexture(),ph(l.image.data,this._matricesTexture.image.data),c&&(c.dispose(),this._initColorsTexture(),ph(c.image.data,this._colorsTexture.image.data))}setGeometrySize(e,n){const r=[...this._geometryInfo].filter(l=>l.active);if(Math.max(...r.map(l=>l.vertexStart+l.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${n}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...r.map(c=>c.indexStart+c.reservedIndexCount))>n)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${n}. Cannot shrink further.`);const s=this.geometry;s.dispose(),this._maxVertexCount=e,this._maxIndexCount=n,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new cn,this._initializeGeometry(s));const a=this.geometry;s.index&&ph(s.index.array,a.index.array);for(const l in s.attributes)ph(s.attributes[l].array,a.attributes[l].array)}raycast(e,n){const r=this._instanceInfo,i=this._geometryInfo,s=this.matrixWorld,a=this.geometry;ms.material=this.material,ms.geometry.index=a.index,ms.geometry.attributes=a.attributes,ms.geometry.boundingBox===null&&(ms.geometry.boundingBox=new Li),ms.geometry.boundingSphere===null&&(ms.geometry.boundingSphere=new Fi);for(let l=0,c=r.length;l<c;l++){if(!r[l].visible||!r[l].active)continue;const u=r[l].geometryIndex,d=i[u];ms.geometry.setDrawRange(d.start,d.count),this.getMatrixAt(l,ms.matrixWorld).premultiply(s),this.getBoundingBoxAt(u,ms.geometry.boundingBox),this.getBoundingSphereAt(u,ms.geometry.boundingSphere),ms.raycast(e,pS);for(let f=0,h=pS.length;f<h;f++){const m=pS[f];m.object=this,m.batchId=l,n.push(m)}pS.length=0}ms.material=null,ms.geometry.index=null,ms.geometry.attributes={},ms.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(n=>({...n,boundingBox:n.boundingBox!==null?n.boundingBox.clone():null,boundingSphere:n.boundingSphere!==null?n.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(n=>({...n})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,n,r,i,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const a=i.getIndex(),l=a===null?1:a.array.BYTES_PER_ELEMENT,c=this._instanceInfo,u=this._multiDrawStarts,d=this._multiDrawCounts,f=this._geometryInfo,h=this.perObjectFrustumCulled,m=this._indirectTexture,p=m.image.data,x=r.isArrayCamera?l$e:Z$;h&&!r.isArrayCamera&&(da.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),Z$.setFromProjectionMatrix(da,e.coordinateSystem));let v=0;if(this.sortObjects){da.copy(this.matrixWorld).invert(),Ay.setFromMatrixPosition(r.matrixWorld).applyMatrix4(da),Q$.set(0,0,-1).transformDirection(r.matrixWorld).transformDirection(da);for(let _=0,E=c.length;_<E;_++)if(c[_].visible&&c[_].active){const N=c[_].geometryIndex;this.getMatrixAt(_,da),this.getBoundingSphereAt(N,mh).applyMatrix4(da);let C=!1;if(h&&(C=!x.intersectsSphere(mh,r)),!C){const j=f[N],T=c$e.subVectors(mh.center,Ay).dot(Q$);GP.push(j.start,j.count,T,_)}}const g=GP.list,w=this.customSort;w===null?g.sort(s.transparent?s$e:i$e):w.call(this,g,r);for(let _=0,E=g.length;_<E;_++){const N=g[_];u[v]=N.start*l,d[v]=N.count,p[v]=N.index,v++}GP.reset()}else for(let g=0,w=c.length;g<w;g++)if(c[g].visible&&c[g].active){const _=c[g].geometryIndex;let E=!1;if(h&&(this.getMatrixAt(g,da),this.getBoundingSphereAt(_,mh).applyMatrix4(da),E=!x.intersectsSphere(mh,r)),!E){const N=f[_];u[v]=N.start*l,d[v]=N.count,p[v]=g,v++}}m.needsUpdate=!0,this._multiDrawCount=v,this._visibilityChanged=!1}onBeforeShadow(e,n,r,i,s,a){this.onBeforeRender(e,null,i,s,a)}}class ia extends As{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new wt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const IM=new J,LM=new J,J$=new Vt,Ty=new lp,gS=new Fi,qP=new J,eH=new J;class _f extends Mn{constructor(e=new cn,n=new ia){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,s=n.count;i<s;i++)IM.fromBufferAttribute(n,i-1),LM.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=IM.distanceTo(LM);e.setAttribute("lineDistance",new Rt(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),gS.copy(r.boundingSphere),gS.applyMatrix4(i),gS.radius+=s,e.ray.intersectsSphere(gS)===!1)return;J$.copy(i).invert(),Ty.copy(e.ray).applyMatrix4(J$);const l=s/((this.scale.x+this.scale.y+this.scale.z)/3),c=l*l,u=this.isLineSegments?2:1,d=r.index,h=r.attributes.position;if(d!==null){const m=Math.max(0,a.start),p=Math.min(d.count,a.start+a.count);for(let x=m,v=p-1;x<v;x+=u){const g=d.getX(x),w=d.getX(x+1),_=vS(this,e,Ty,c,g,w,x);_&&n.push(_)}if(this.isLineLoop){const x=d.getX(p-1),v=d.getX(m),g=vS(this,e,Ty,c,x,v,p-1);g&&n.push(g)}}else{const m=Math.max(0,a.start),p=Math.min(h.count,a.start+a.count);for(let x=m,v=p-1;x<v;x+=u){const g=vS(this,e,Ty,c,x,x+1,x);g&&n.push(g)}if(this.isLineLoop){const x=vS(this,e,Ty,c,p-1,m,p-1);x&&n.push(x)}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=i.length;s<a;s++){const l=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=s}}}}}function vS(t,e,n,r,i,s,a){const l=t.geometry.attributes.position;if(IM.fromBufferAttribute(l,i),LM.fromBufferAttribute(l,s),n.distanceSqToSegment(IM,LM,qP,eH)>r)return;qP.applyMatrix4(t.matrixWorld);const u=e.ray.origin.distanceTo(qP);if(!(u<e.near||u>e.far))return{distance:u,point:eH.clone().applyMatrix4(t.matrixWorld),index:a,face:null,faceIndex:null,barycoord:null,object:t}}const tH=new J,nH=new J;class Lc extends _f{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,s=n.count;i<s;i+=2)tH.fromBufferAttribute(n,i),nH.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+tH.distanceTo(nH);e.setAttribute("lineDistance",new Rt(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class Voe extends _f{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class QF extends As{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new wt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const rH=new Vt,ED=new lp,xS=new Fi,yS=new J;class Woe extends Mn{constructor(e=new cn,n=new QF){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),xS.copy(r.boundingSphere),xS.applyMatrix4(i),xS.radius+=s,e.ray.intersectsSphere(xS)===!1)return;rH.copy(i).invert(),ED.copy(e.ray).applyMatrix4(rH);const l=s/((this.scale.x+this.scale.y+this.scale.z)/3),c=l*l,u=r.index,f=r.attributes.position;if(u!==null){const h=Math.max(0,a.start),m=Math.min(u.count,a.start+a.count);for(let p=h,x=m;p<x;p++){const v=u.getX(p);yS.fromBufferAttribute(f,v),iH(yS,v,c,i,e,n,this)}}else{const h=Math.max(0,a.start),m=Math.min(f.count,a.start+a.count);for(let p=h,x=m;p<x;p++)yS.fromBufferAttribute(f,p),iH(yS,p,c,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=i.length;s<a;s++){const l=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=s}}}}}function iH(t,e,n,r,i,s,a){const l=ED.distanceSqToPoint(t);if(l<n){const c=new J;ED.closestPointToPoint(t,c),c.applyMatrix4(r);const u=i.ray.origin.distanceTo(c);if(u<i.near||u>i.far)return;s.push({distance:u,distanceToRay:Math.sqrt(l),point:c,index:e,face:null,faceIndex:null,barycoord:null,object:a})}}class $oe extends Er{constructor(e,n,r,i,s=$r,a=$r,l,c,u){super(e,n,r,i,s,a,l,c,u),this.isVideoTexture=!0,this.generateMipmaps=!1;const d=this;function f(){d.needsUpdate=!0,e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(f)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class d$e extends $oe{constructor(e,n,r,i,s,a,l,c){super({},e,n,r,i,s,a,l,c),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class f$e extends Er{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=es,this.minFilter=es,this.generateMipmaps=!1,this.needsUpdate=!0}}class Tj extends Er{constructor(e,n,r,i,s,a,l,c,u,d,f,h){super(null,a,l,c,u,d,i,s,f,h),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class h$e extends Tj{constructor(e,n,r,i,s,a){super(e,n,r,s,a),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Fo,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class m$e extends Tj{constructor(e,n,r){super(void 0,e[0].width,e[0].height,n,r,Iu),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class p$e extends Er{constructor(e,n,r,i,s,a,l,c,u){super(e,n,r,i,s,a,l,c,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class JF extends Er{constructor(e,n,r=Lu,i,s,a,l=es,c=es,u,d=Uv,f=1){if(d!==Uv&&d!==Bv)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const h={width:e,height:n,depth:f};super(h,i,s,a,l,c,d,r,u),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new Xd(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class Pj extends cn{constructor(e=1,n=1,r=4,i=8,s=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:n,capSegments:r,radialSegments:i,heightSegments:s},n=Math.max(0,n),r=Math.max(1,Math.floor(r)),i=Math.max(3,Math.floor(i)),s=Math.max(1,Math.floor(s));const a=[],l=[],c=[],u=[],d=n/2,f=Math.PI/2*e,h=n,m=2*f+h,p=r*2+s,x=i+1,v=new J,g=new J;for(let w=0;w<=p;w++){let _=0,E=0,N=0,C=0;if(w<=r){const A=w/r,P=A*Math.PI/2;E=-d-e*Math.cos(P),N=e*Math.sin(P),C=-e*Math.cos(P),_=A*f}else if(w<=r+s){const A=(w-r)/s;E=-d+A*n,N=e,C=0,_=f+A*h}else{const A=(w-r-s)/r,P=A*Math.PI/2;E=d+e*Math.sin(P),N=e*Math.cos(P),C=e*Math.sin(P),_=f+h+A*f}const j=Math.max(0,Math.min(1,_/m));let T=0;w===0?T=.5/i:w===p&&(T=-.5/i);for(let A=0;A<=i;A++){const P=A/i,R=P*Math.PI*2,D=Math.sin(R),F=Math.cos(R);g.x=-N*F,g.y=E,g.z=N*D,l.push(g.x,g.y,g.z),v.set(-N*F,C,N*D),v.normalize(),c.push(v.x,v.y,v.z),u.push(P+T,j)}if(w>0){const A=(w-1)*x;for(let P=0;P<i;P++){const R=A+P,D=A+P+1,F=w*x+P,I=w*x+P+1;a.push(R,D,F),a.push(D,I,F)}}}this.setIndex(a),this.setAttribute("position",new Rt(l,3)),this.setAttribute("normal",new Rt(c,3)),this.setAttribute("uv",new Rt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Pj(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class kj extends cn{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const s=[],a=[],l=[],c=[],u=new J,d=new Ge;a.push(0,0,0),l.push(0,0,1),c.push(.5,.5);for(let f=0,h=3;f<=n;f++,h+=3){const m=r+f/n*i;u.x=e*Math.cos(m),u.y=e*Math.sin(m),a.push(u.x,u.y,u.z),l.push(0,0,1),d.x=(a[h]/e+1)/2,d.y=(a[h+1]/e+1)/2,c.push(d.x,d.y)}for(let f=1;f<=n;f++)s.push(f,f+1,0);this.setIndex(s),this.setAttribute("position",new Rt(a,3)),this.setAttribute("normal",new Rt(l,3)),this.setAttribute("uv",new Rt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new kj(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Qw extends cn{constructor(e=1,n=1,r=1,i=32,s=1,a=!1,l=0,c=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:s,openEnded:a,thetaStart:l,thetaLength:c};const u=this;i=Math.floor(i),s=Math.floor(s);const d=[],f=[],h=[],m=[];let p=0;const x=[],v=r/2;let g=0;w(),a===!1&&(e>0&&_(!0),n>0&&_(!1)),this.setIndex(d),this.setAttribute("position",new Rt(f,3)),this.setAttribute("normal",new Rt(h,3)),this.setAttribute("uv",new Rt(m,2));function w(){const E=new J,N=new J;let C=0;const j=(n-e)/r;for(let T=0;T<=s;T++){const A=[],P=T/s,R=P*(n-e)+e;for(let D=0;D<=i;D++){const F=D/i,I=F*c+l,G=Math.sin(I),q=Math.cos(I);N.x=R*G,N.y=-P*r+v,N.z=R*q,f.push(N.x,N.y,N.z),E.set(G,j,q).normalize(),h.push(E.x,E.y,E.z),m.push(F,1-P),A.push(p++)}x.push(A)}for(let T=0;T<i;T++)for(let A=0;A<s;A++){const P=x[A][T],R=x[A+1][T],D=x[A+1][T+1],F=x[A][T+1];(e>0||A!==0)&&(d.push(P,R,F),C+=3),(n>0||A!==s-1)&&(d.push(R,D,F),C+=3)}u.addGroup(g,C,0),g+=C}function _(E){const N=p,C=new Ge,j=new J;let T=0;const A=E===!0?e:n,P=E===!0?1:-1;for(let D=1;D<=i;D++)f.push(0,v*P,0),h.push(0,P,0),m.push(.5,.5),p++;const R=p;for(let D=0;D<=i;D++){const I=D/i*c+l,G=Math.cos(I),q=Math.sin(I);j.x=A*q,j.y=v*P,j.z=A*G,f.push(j.x,j.y,j.z),h.push(0,P,0),C.x=G*.5+.5,C.y=q*.5*P+.5,m.push(C.x,C.y),p++}for(let D=0;D<i;D++){const F=N+D,I=R+D;E===!0?d.push(I,I+1,F):d.push(I+1,I,F),T+=3}u.addGroup(g,T,E===!0?1:2),g+=T}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Qw(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Jw extends Qw{constructor(e=1,n=1,r=32,i=1,s=!1,a=0,l=Math.PI*2){super(0,e,n,r,i,s,a,l),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:a,thetaLength:l}}static fromJSON(e){return new Jw(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Vf extends cn{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const s=[],a=[];l(i),u(r),d(),this.setAttribute("position",new Rt(s,3)),this.setAttribute("normal",new Rt(s.slice(),3)),this.setAttribute("uv",new Rt(a,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function l(w){const _=new J,E=new J,N=new J;for(let C=0;C<n.length;C+=3)m(n[C+0],_),m(n[C+1],E),m(n[C+2],N),c(_,E,N,w)}function c(w,_,E,N){const C=N+1,j=[];for(let T=0;T<=C;T++){j[T]=[];const A=w.clone().lerp(E,T/C),P=_.clone().lerp(E,T/C),R=C-T;for(let D=0;D<=R;D++)D===0&&T===C?j[T][D]=A:j[T][D]=A.clone().lerp(P,D/R)}for(let T=0;T<C;T++)for(let A=0;A<2*(C-T)-1;A++){const P=Math.floor(A/2);A%2===0?(h(j[T][P+1]),h(j[T+1][P]),h(j[T][P])):(h(j[T][P+1]),h(j[T+1][P+1]),h(j[T+1][P]))}}function u(w){const _=new J;for(let E=0;E<s.length;E+=3)_.x=s[E+0],_.y=s[E+1],_.z=s[E+2],_.normalize().multiplyScalar(w),s[E+0]=_.x,s[E+1]=_.y,s[E+2]=_.z}function d(){const w=new J;for(let _=0;_<s.length;_+=3){w.x=s[_+0],w.y=s[_+1],w.z=s[_+2];const E=v(w)/2/Math.PI+.5,N=g(w)/Math.PI+.5;a.push(E,1-N)}p(),f()}function f(){for(let w=0;w<a.length;w+=6){const _=a[w+0],E=a[w+2],N=a[w+4],C=Math.max(_,E,N),j=Math.min(_,E,N);C>.9&&j<.1&&(_<.2&&(a[w+0]+=1),E<.2&&(a[w+2]+=1),N<.2&&(a[w+4]+=1))}}function h(w){s.push(w.x,w.y,w.z)}function m(w,_){const E=w*3;_.x=e[E+0],_.y=e[E+1],_.z=e[E+2]}function p(){const w=new J,_=new J,E=new J,N=new J,C=new Ge,j=new Ge,T=new Ge;for(let A=0,P=0;A<s.length;A+=9,P+=6){w.set(s[A+0],s[A+1],s[A+2]),_.set(s[A+3],s[A+4],s[A+5]),E.set(s[A+6],s[A+7],s[A+8]),C.set(a[P+0],a[P+1]),j.set(a[P+2],a[P+3]),T.set(a[P+4],a[P+5]),N.copy(w).add(_).add(E).divideScalar(3);const R=v(N);x(C,P+0,w,R),x(j,P+2,_,R),x(T,P+4,E,R)}}function x(w,_,E,N){N<0&&w.x===1&&(a[_]=w.x-1),E.x===0&&E.z===0&&(a[_]=N/2/Math.PI+.5)}function v(w){return Math.atan2(w.z,-w.x)}function g(w){return Math.atan2(-w.y,Math.sqrt(w.x*w.x+w.z*w.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Vf(e.vertices,e.indices,e.radius,e.details)}}class Rj extends Vf{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,a,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Rj(e.radius,e.detail)}}const bS=new J,wS=new J,KP=new J,_S=new ba;class Hoe extends cn{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),s=Math.cos(vm*n),a=e.getIndex(),l=e.getAttribute("position"),c=a?a.count:l.count,u=[0,0,0],d=["a","b","c"],f=new Array(3),h={},m=[];for(let p=0;p<c;p+=3){a?(u[0]=a.getX(p),u[1]=a.getX(p+1),u[2]=a.getX(p+2)):(u[0]=p,u[1]=p+1,u[2]=p+2);const{a:x,b:v,c:g}=_S;if(x.fromBufferAttribute(l,u[0]),v.fromBufferAttribute(l,u[1]),g.fromBufferAttribute(l,u[2]),_S.getNormal(KP),f[0]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,f[1]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,f[2]=`${Math.round(g.x*i)},${Math.round(g.y*i)},${Math.round(g.z*i)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let w=0;w<3;w++){const _=(w+1)%3,E=f[w],N=f[_],C=_S[d[w]],j=_S[d[_]],T=`${E}_${N}`,A=`${N}_${E}`;A in h&&h[A]?(KP.dot(h[A].normal)<=s&&(m.push(C.x,C.y,C.z),m.push(j.x,j.y,j.z)),h[A]=null):T in h||(h[T]={index0:u[w],index1:u[_],normal:KP.clone()})}}for(const p in h)if(h[p]){const{index0:x,index1:v}=h[p];bS.fromBufferAttribute(l,x),wS.fromBufferAttribute(l,v),m.push(bS.x,bS.y,bS.z),m.push(wS.x,wS.y,wS.z)}this.setAttribute("position",new Rt(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Bl{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),s=0;n.push(0);for(let a=1;a<=e;a++)r=this.getPoint(a/e),s+=r.distanceTo(i),n.push(s),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n=null){const r=this.getLengths();let i=0;const s=r.length;let a;n?a=n:a=e*r[s-1];let l=0,c=s-1,u;for(;l<=c;)if(i=Math.floor(l+(c-l)/2),u=r[i]-a,u<0)l=i+1;else if(u>0)c=i-1;else{c=i;break}if(i=c,r[i]===a)return i/(s-1);const d=r[i],h=r[i+1]-d,m=(a-d)/h;return(i+m)/(s-1)}getTangent(e,n){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const a=this.getPoint(i),l=this.getPoint(s),c=n||(a.isVector2?new Ge:new J);return c.copy(l).sub(a).normalize(),c}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n=!1){const r=new J,i=[],s=[],a=[],l=new J,c=new Vt;for(let m=0;m<=e;m++){const p=m/e;i[m]=this.getTangentAt(p,new J)}s[0]=new J,a[0]=new J;let u=Number.MAX_VALUE;const d=Math.abs(i[0].x),f=Math.abs(i[0].y),h=Math.abs(i[0].z);d<=u&&(u=d,r.set(1,0,0)),f<=u&&(u=f,r.set(0,1,0)),h<=u&&r.set(0,0,1),l.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],l),a[0].crossVectors(i[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),a[m]=a[m-1].clone(),l.crossVectors(i[m-1],i[m]),l.length()>Number.EPSILON){l.normalize();const p=Math.acos(Zt(i[m-1].dot(i[m]),-1,1));s[m].applyMatrix4(c.makeRotationAxis(l,p))}a[m].crossVectors(i[m],s[m])}if(n===!0){let m=Math.acos(Zt(s[0].dot(s[e]),-1,1));m/=e,i[0].dot(l.crossVectors(s[0],s[e]))>0&&(m=-m);for(let p=1;p<=e;p++)s[p].applyMatrix4(c.makeRotationAxis(i[p],m*p)),a[p].crossVectors(i[p],s[p])}return{tangents:i,normals:s,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Oj extends Bl{constructor(e=0,n=0,r=1,i=1,s=0,a=Math.PI*2,l=!1,c=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=a,this.aClockwise=l,this.aRotation=c}getPoint(e,n=new Ge){const r=n,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const a=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(a?s=0:s=i),this.aClockwise===!0&&!a&&(s===i?s=-i:s=s-i);const l=this.aStartAngle+e*s;let c=this.aX+this.xRadius*Math.cos(l),u=this.aY+this.yRadius*Math.sin(l);if(this.aRotation!==0){const d=Math.cos(this.aRotation),f=Math.sin(this.aRotation),h=c-this.aX,m=u-this.aY;c=h*d-m*f+this.aX,u=h*f+m*d+this.aY}return r.set(c,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class Goe extends Oj{constructor(e,n,r,i,s,a){super(e,n,r,r,i,s,a),this.isArcCurve=!0,this.type="ArcCurve"}}function eU(){let t=0,e=0,n=0,r=0;function i(s,a,l,c){t=s,e=l,n=-3*s+3*a-2*l-c,r=2*s-2*a+l+c}return{initCatmullRom:function(s,a,l,c,u){i(a,l,u*(l-s),u*(c-a))},initNonuniformCatmullRom:function(s,a,l,c,u,d,f){let h=(a-s)/u-(l-s)/(u+d)+(l-a)/d,m=(l-a)/d-(c-a)/(d+f)+(c-l)/f;h*=d,m*=d,i(a,l,h,m)},calc:function(s){const a=s*s,l=a*s;return t+e*s+n*a+r*l}}}const SS=new J,XP=new eU,YP=new eU,ZP=new eU;class qoe extends Bl{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new J){const r=n,i=this.points,s=i.length,a=(s-(this.closed?0:1))*e;let l=Math.floor(a),c=a-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/s)+1)*s:c===0&&l===s-1&&(l=s-2,c=1);let u,d;this.closed||l>0?u=i[(l-1)%s]:(SS.subVectors(i[0],i[1]).add(i[0]),u=SS);const f=i[l%s],h=i[(l+1)%s];if(this.closed||l+2<s?d=i[(l+2)%s]:(SS.subVectors(i[s-1],i[s-2]).add(i[s-1]),d=SS),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let p=Math.pow(u.distanceToSquared(f),m),x=Math.pow(f.distanceToSquared(h),m),v=Math.pow(h.distanceToSquared(d),m);x<1e-4&&(x=1),p<1e-4&&(p=x),v<1e-4&&(v=x),XP.initNonuniformCatmullRom(u.x,f.x,h.x,d.x,p,x,v),YP.initNonuniformCatmullRom(u.y,f.y,h.y,d.y,p,x,v),ZP.initNonuniformCatmullRom(u.z,f.z,h.z,d.z,p,x,v)}else this.curveType==="catmullrom"&&(XP.initCatmullRom(u.x,f.x,h.x,d.x,this.tension),YP.initCatmullRom(u.y,f.y,h.y,d.y,this.tension),ZP.initCatmullRom(u.z,f.z,h.z,d.z,this.tension));return r.set(XP.calc(c),YP.calc(c),ZP.calc(c)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new J().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function sH(t,e,n,r,i){const s=(r-e)*.5,a=(i-n)*.5,l=t*t,c=t*l;return(2*n-2*r+s+a)*c+(-3*n+3*r-2*s-a)*l+s*t+n}function g$e(t,e){const n=1-t;return n*n*e}function v$e(t,e){return 2*(1-t)*t*e}function x$e(t,e){return t*t*e}function C0(t,e,n,r){return g$e(t,e)+v$e(t,n)+x$e(t,r)}function y$e(t,e){const n=1-t;return n*n*n*e}function b$e(t,e){const n=1-t;return 3*n*n*t*e}function w$e(t,e){return 3*(1-t)*t*t*e}function _$e(t,e){return t*t*t*e}function j0(t,e,n,r,i){return y$e(t,e)+b$e(t,n)+w$e(t,r)+_$e(t,i)}class tU extends Bl{constructor(e=new Ge,n=new Ge,r=new Ge,i=new Ge){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new Ge){const r=n,i=this.v0,s=this.v1,a=this.v2,l=this.v3;return r.set(j0(e,i.x,s.x,a.x,l.x),j0(e,i.y,s.y,a.y,l.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Koe extends Bl{constructor(e=new J,n=new J,r=new J,i=new J){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new J){const r=n,i=this.v0,s=this.v1,a=this.v2,l=this.v3;return r.set(j0(e,i.x,s.x,a.x,l.x),j0(e,i.y,s.y,a.y,l.y),j0(e,i.z,s.z,a.z,l.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class nU extends Bl{constructor(e=new Ge,n=new Ge){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new Ge){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new Ge){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Xoe extends Bl{constructor(e=new J,n=new J){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new J){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new J){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class rU extends Bl{constructor(e=new Ge,n=new Ge,r=new Ge){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new Ge){const r=n,i=this.v0,s=this.v1,a=this.v2;return r.set(C0(e,i.x,s.x,a.x),C0(e,i.y,s.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class iU extends Bl{constructor(e=new J,n=new J,r=new J){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new J){const r=n,i=this.v0,s=this.v1,a=this.v2;return r.set(C0(e,i.x,s.x,a.x),C0(e,i.y,s.y,a.y),C0(e,i.z,s.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class sU extends Bl{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new Ge){const r=n,i=this.points,s=(i.length-1)*e,a=Math.floor(s),l=s-a,c=i[a===0?a:a-1],u=i[a],d=i[a>i.length-2?i.length-1:a+1],f=i[a>i.length-3?i.length-1:a+2];return r.set(sH(l,c.x,u.x,d.x,f.x),sH(l,c.y,u.y,d.y,f.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new Ge().fromArray(i))}return this}}var FM=Object.freeze({__proto__:null,ArcCurve:Goe,CatmullRomCurve3:qoe,CubicBezierCurve:tU,CubicBezierCurve3:Koe,EllipseCurve:Oj,LineCurve:nU,LineCurve3:Xoe,QuadraticBezierCurve:rU,QuadraticBezierCurve3:iU,SplineCurve:sU});class Yoe extends Bl{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new FM[r](n,e))}return this}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const a=i[s]-r,l=this.curves[s],c=l.getLength(),u=c===0?0:1-a/c;return l.getPointAt(u,n)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const a=s[i],l=a.isEllipseCurve?e*2:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,c=a.getPoints(l);for(let u=0;u<c.length;u++){const d=c[u];r&&r.equals(d)||(n.push(d),r=d)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new FM[i.type]().fromJSON(i))}return this}}class UM extends Yoe{constructor(e){super(),this.type="Path",this.currentPoint=new Ge,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new nU(this.currentPoint.clone(),new Ge(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const s=new rU(this.currentPoint.clone(),new Ge(e,n),new Ge(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,s,a){const l=new tU(this.currentPoint.clone(),new Ge(e,n),new Ge(r,i),new Ge(s,a));return this.curves.push(l),this.currentPoint.set(s,a),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new sU(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,s,a){const l=this.currentPoint.x,c=this.currentPoint.y;return this.absarc(e+l,n+c,r,i,s,a),this}absarc(e,n,r,i,s,a){return this.absellipse(e,n,r,r,i,s,a),this}ellipse(e,n,r,i,s,a,l,c){const u=this.currentPoint.x,d=this.currentPoint.y;return this.absellipse(e+u,n+d,r,i,s,a,l,c),this}absellipse(e,n,r,i,s,a,l,c){const u=new Oj(e,n,r,i,s,a,l,c);if(this.curves.length>0){const f=u.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(u);const d=u.getPoint(1);return this.currentPoint.copy(d),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class ym extends UM{constructor(e){super(e),this.uuid=io(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new UM().fromJSON(i))}return this}}function S$e(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let s=Zoe(t,0,i,n,!0);const a=[];if(!s||s.next===s.prev)return a;let l,c,u;if(r&&(s=j$e(t,e,s,n)),t.length>80*n){l=1/0,c=1/0;let d=-1/0,f=-1/0;for(let h=n;h<i;h+=n){const m=t[h],p=t[h+1];m<l&&(l=m),p<c&&(c=p),m>d&&(d=m),p>f&&(f=p)}u=Math.max(d-l,f-c),u=u!==0?32767/u:0}return Ub(s,a,n,l,c,u,0),a}function Zoe(t,e,n,r,i){let s;if(i===U$e(t,e,n,r)>0)for(let a=e;a<n;a+=r)s=aH(a/r|0,t[a],t[a+1],s);else for(let a=n-r;a>=e;a-=r)s=aH(a/r|0,t[a],t[a+1],s);return s&&Wv(s,s.next)&&(zb(s),s=s.next),s}function Hm(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(Wv(n,n.next)||br(n.prev,n,n.next)===0)){if(zb(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function Ub(t,e,n,r,i,s,a){if(!t)return;!a&&s&&R$e(t,r,i,s);let l=t;for(;t.prev!==t.next;){const c=t.prev,u=t.next;if(s?N$e(t,r,i,s):E$e(t)){e.push(c.i,t.i,u.i),zb(t),t=u.next,l=u.next;continue}if(t=u,t===l){a?a===1?(t=M$e(Hm(t),e),Ub(t,e,n,r,i,s,2)):a===2&&C$e(t,e,n,r,i,s):Ub(Hm(t),e,n,r,i,s,1);break}}}function E$e(t){const e=t.prev,n=t,r=t.next;if(br(e,n,r)>=0)return!1;const i=e.x,s=n.x,a=r.x,l=e.y,c=n.y,u=r.y,d=Math.min(i,s,a),f=Math.min(l,c,u),h=Math.max(i,s,a),m=Math.max(l,c,u);let p=r.next;for(;p!==e;){if(p.x>=d&&p.x<=h&&p.y>=f&&p.y<=m&&Ky(i,l,s,c,a,u,p.x,p.y)&&br(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function N$e(t,e,n,r){const i=t.prev,s=t,a=t.next;if(br(i,s,a)>=0)return!1;const l=i.x,c=s.x,u=a.x,d=i.y,f=s.y,h=a.y,m=Math.min(l,c,u),p=Math.min(d,f,h),x=Math.max(l,c,u),v=Math.max(d,f,h),g=ND(m,p,e,n,r),w=ND(x,v,e,n,r);let _=t.prevZ,E=t.nextZ;for(;_&&_.z>=g&&E&&E.z<=w;){if(_.x>=m&&_.x<=x&&_.y>=p&&_.y<=v&&_!==i&&_!==a&&Ky(l,d,c,f,u,h,_.x,_.y)&&br(_.prev,_,_.next)>=0||(_=_.prevZ,E.x>=m&&E.x<=x&&E.y>=p&&E.y<=v&&E!==i&&E!==a&&Ky(l,d,c,f,u,h,E.x,E.y)&&br(E.prev,E,E.next)>=0))return!1;E=E.nextZ}for(;_&&_.z>=g;){if(_.x>=m&&_.x<=x&&_.y>=p&&_.y<=v&&_!==i&&_!==a&&Ky(l,d,c,f,u,h,_.x,_.y)&&br(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;E&&E.z<=w;){if(E.x>=m&&E.x<=x&&E.y>=p&&E.y<=v&&E!==i&&E!==a&&Ky(l,d,c,f,u,h,E.x,E.y)&&br(E.prev,E,E.next)>=0)return!1;E=E.nextZ}return!0}function M$e(t,e){let n=t;do{const r=n.prev,i=n.next.next;!Wv(r,i)&&Joe(r,n,n.next,i)&&Bb(r,i)&&Bb(i,r)&&(e.push(r.i,n.i,i.i),zb(n),zb(n.next),n=t=i),n=n.next}while(n!==t);return Hm(n)}function C$e(t,e,n,r,i,s){let a=t;do{let l=a.next.next;for(;l!==a.prev;){if(a.i!==l.i&&I$e(a,l)){let c=ele(a,l);a=Hm(a,a.next),c=Hm(c,c.next),Ub(a,e,n,r,i,s,0),Ub(c,e,n,r,i,s,0);return}l=l.next}a=a.next}while(a!==t)}function j$e(t,e,n,r){const i=[];for(let s=0,a=e.length;s<a;s++){const l=e[s]*r,c=s<a-1?e[s+1]*r:t.length,u=Zoe(t,l,c,r,!1);u===u.next&&(u.steiner=!0),i.push(D$e(u))}i.sort(A$e);for(let s=0;s<i.length;s++)n=T$e(i[s],n);return n}function A$e(t,e){let n=t.x-e.x;if(n===0&&(n=t.y-e.y,n===0)){const r=(t.next.y-t.y)/(t.next.x-t.x),i=(e.next.y-e.y)/(e.next.x-e.x);n=r-i}return n}function T$e(t,e){const n=P$e(t,e);if(!n)return e;const r=ele(n,t);return Hm(r,r.next),Hm(n,n.next)}function P$e(t,e){let n=e;const r=t.x,i=t.y;let s=-1/0,a;if(Wv(t,n))return n;do{if(Wv(t,n.next))return n.next;if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){const f=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(f<=r&&f>s&&(s=f,a=n.x<n.next.x?n:n.next,f===r))return a}n=n.next}while(n!==e);if(!a)return null;const l=a,c=a.x,u=a.y;let d=1/0;n=a;do{if(r>=n.x&&n.x>=c&&r!==n.x&&Qoe(i<u?r:s,i,c,u,i<u?s:r,i,n.x,n.y)){const f=Math.abs(i-n.y)/(r-n.x);Bb(n,t)&&(f<d||f===d&&(n.x>a.x||n.x===a.x&&k$e(a,n)))&&(a=n,d=f)}n=n.next}while(n!==l);return a}function k$e(t,e){return br(t.prev,t,e.prev)<0&&br(e.next,t,t.next)<0}function R$e(t,e,n,r){let i=t;do i.z===0&&(i.z=ND(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,O$e(i)}function O$e(t){let e,n=1;do{let r=t,i;t=null;let s=null;for(e=0;r;){e++;let a=r,l=0;for(let u=0;u<n&&(l++,a=a.nextZ,!!a);u++);let c=n;for(;l>0||c>0&&a;)l!==0&&(c===0||!a||r.z<=a.z)?(i=r,r=r.nextZ,l--):(i=a,a=a.nextZ,c--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;r=a}s.nextZ=null,n*=2}while(e>1);return t}function ND(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function D$e(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function Qoe(t,e,n,r,i,s,a,l){return(i-a)*(e-l)>=(t-a)*(s-l)&&(t-a)*(r-l)>=(n-a)*(e-l)&&(n-a)*(s-l)>=(i-a)*(r-l)}function Ky(t,e,n,r,i,s,a,l){return!(t===a&&e===l)&&Qoe(t,e,n,r,i,s,a,l)}function I$e(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!L$e(t,e)&&(Bb(t,e)&&Bb(e,t)&&F$e(t,e)&&(br(t.prev,t,e.prev)||br(t,e.prev,e))||Wv(t,e)&&br(t.prev,t,t.next)>0&&br(e.prev,e,e.next)>0)}function br(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Wv(t,e){return t.x===e.x&&t.y===e.y}function Joe(t,e,n,r){const i=NS(br(t,e,n)),s=NS(br(t,e,r)),a=NS(br(n,r,t)),l=NS(br(n,r,e));return!!(i!==s&&a!==l||i===0&&ES(t,n,e)||s===0&&ES(t,r,e)||a===0&&ES(n,t,r)||l===0&&ES(n,e,r))}function ES(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function NS(t){return t>0?1:t<0?-1:0}function L$e(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&Joe(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function Bb(t,e){return br(t.prev,t,t.next)<0?br(t,e,t.next)>=0&&br(t,t.prev,e)>=0:br(t,e,t.prev)<0||br(t,t.next,e)<0}function F$e(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function ele(t,e){const n=MD(t.i,t.x,t.y),r=MD(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function aH(t,e,n,r){const i=MD(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function zb(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function MD(t,e,n){return{i:t,x:e,y:n,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function U$e(t,e,n,r){let i=0;for(let s=e,a=n-r;s<n;s+=r)i+=(t[a]-t[s])*(t[s+1]+t[a+1]),a=s;return i}class B$e{static triangulate(e,n,r=2){return S$e(e,n,r)}}class Nl{static area(e){const n=e.length;let r=0;for(let i=n-1,s=0;s<n;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return Nl.area(e)<0}static triangulateShape(e,n){const r=[],i=[],s=[];oH(e),lH(r,e);let a=e.length;n.forEach(oH);for(let c=0;c<n.length;c++)i.push(a),a+=n[c].length,lH(r,n[c]);const l=B$e.triangulate(r,i);for(let c=0;c<l.length;c+=3)s.push(l.slice(c,c+3));return s}}function oH(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function lH(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class Dj extends cn{constructor(e=new ym([new Ge(.5,.5),new Ge(-.5,.5),new Ge(-.5,-.5),new Ge(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let l=0,c=e.length;l<c;l++){const u=e[l];a(u)}this.setAttribute("position",new Rt(i,3)),this.setAttribute("uv",new Rt(s,2)),this.computeVertexNormals();function a(l){const c=[],u=n.curveSegments!==void 0?n.curveSegments:12,d=n.steps!==void 0?n.steps:1,f=n.depth!==void 0?n.depth:1;let h=n.bevelEnabled!==void 0?n.bevelEnabled:!0,m=n.bevelThickness!==void 0?n.bevelThickness:.2,p=n.bevelSize!==void 0?n.bevelSize:m-.1,x=n.bevelOffset!==void 0?n.bevelOffset:0,v=n.bevelSegments!==void 0?n.bevelSegments:3;const g=n.extrudePath,w=n.UVGenerator!==void 0?n.UVGenerator:z$e;let _,E=!1,N,C,j,T;g&&(_=g.getSpacedPoints(d),E=!0,h=!1,N=g.computeFrenetFrames(d,!1),C=new J,j=new J,T=new J),h||(v=0,m=0,p=0,x=0);const A=l.extractPoints(u);let P=A.shape;const R=A.holes;if(!Nl.isClockWise(P)){P=P.reverse();for(let H=0,Te=R.length;H<Te;H++){const Ne=R[H];Nl.isClockWise(Ne)&&(R[H]=Ne.reverse())}}function F(H){const Ne=10000000000000001e-36;let De=H[0];for(let ce=1;ce<=H.length;ce++){const Ue=ce%H.length,Ae=H[Ue],ge=Ae.x-De.x,nt=Ae.y-De.y,X=ge*ge+nt*nt,z=Math.max(Math.abs(Ae.x),Math.abs(Ae.y),Math.abs(De.x),Math.abs(De.y)),ae=Ne*z*z;if(X<=ae){H.splice(Ue,1),ce--;continue}De=Ae}}F(P),R.forEach(F);const I=R.length,G=P;for(let H=0;H<I;H++){const Te=R[H];P=P.concat(Te)}function q(H,Te,Ne){return Te||console.error("THREE.ExtrudeGeometry: vec does not exist"),H.clone().addScaledVector(Te,Ne)}const $=P.length;function L(H,Te,Ne){let De,ce,Ue;const Ae=H.x-Te.x,ge=H.y-Te.y,nt=Ne.x-H.x,X=Ne.y-H.y,z=Ae*Ae+ge*ge,ae=Ae*X-ge*nt;if(Math.abs(ae)>Number.EPSILON){const Me=Math.sqrt(z),Se=Math.sqrt(nt*nt+X*X),ye=Te.x-ge/Me,Ye=Te.y+Ae/Me,$e=Ne.x-X/Se,rt=Ne.y+nt/Se,st=(($e-ye)*X-(rt-Ye)*nt)/(Ae*X-ge*nt);De=ye+Ae*st-H.x,ce=Ye+ge*st-H.y;const ke=De*De+ce*ce;if(ke<=2)return new Ge(De,ce);Ue=Math.sqrt(ke/2)}else{let Me=!1;Ae>Number.EPSILON?nt>Number.EPSILON&&(Me=!0):Ae<-Number.EPSILON?nt<-Number.EPSILON&&(Me=!0):Math.sign(ge)===Math.sign(X)&&(Me=!0),Me?(De=-ge,ce=Ae,Ue=Math.sqrt(z)):(De=Ae,ce=ge,Ue=Math.sqrt(z/2))}return new Ge(De/Ue,ce/Ue)}const V=[];for(let H=0,Te=G.length,Ne=Te-1,De=H+1;H<Te;H++,Ne++,De++)Ne===Te&&(Ne=0),De===Te&&(De=0),V[H]=L(G[H],G[Ne],G[De]);const K=[];let W,B=V.concat();for(let H=0,Te=I;H<Te;H++){const Ne=R[H];W=[];for(let De=0,ce=Ne.length,Ue=ce-1,Ae=De+1;De<ce;De++,Ue++,Ae++)Ue===ce&&(Ue=0),Ae===ce&&(Ae=0),W[De]=L(Ne[De],Ne[Ue],Ne[Ae]);K.push(W),B=B.concat(W)}let ee;if(v===0)ee=Nl.triangulateShape(G,R);else{const H=[],Te=[];for(let Ne=0;Ne<v;Ne++){const De=Ne/v,ce=m*Math.cos(De*Math.PI/2),Ue=p*Math.sin(De*Math.PI/2)+x;for(let Ae=0,ge=G.length;Ae<ge;Ae++){const nt=q(G[Ae],V[Ae],Ue);oe(nt.x,nt.y,-ce),De===0&&H.push(nt)}for(let Ae=0,ge=I;Ae<ge;Ae++){const nt=R[Ae];W=K[Ae];const X=[];for(let z=0,ae=nt.length;z<ae;z++){const Me=q(nt[z],W[z],Ue);oe(Me.x,Me.y,-ce),De===0&&X.push(Me)}De===0&&Te.push(X)}}ee=Nl.triangulateShape(H,Te)}const Y=ee.length,Q=p+x;for(let H=0;H<$;H++){const Te=h?q(P[H],B[H],Q):P[H];E?(j.copy(N.normals[0]).multiplyScalar(Te.x),C.copy(N.binormals[0]).multiplyScalar(Te.y),T.copy(_[0]).add(j).add(C),oe(T.x,T.y,T.z)):oe(Te.x,Te.y,0)}for(let H=1;H<=d;H++)for(let Te=0;Te<$;Te++){const Ne=h?q(P[Te],B[Te],Q):P[Te];E?(j.copy(N.normals[H]).multiplyScalar(Ne.x),C.copy(N.binormals[H]).multiplyScalar(Ne.y),T.copy(_[H]).add(j).add(C),oe(T.x,T.y,T.z)):oe(Ne.x,Ne.y,f/d*H)}for(let H=v-1;H>=0;H--){const Te=H/v,Ne=m*Math.cos(Te*Math.PI/2),De=p*Math.sin(Te*Math.PI/2)+x;for(let ce=0,Ue=G.length;ce<Ue;ce++){const Ae=q(G[ce],V[ce],De);oe(Ae.x,Ae.y,f+Ne)}for(let ce=0,Ue=R.length;ce<Ue;ce++){const Ae=R[ce];W=K[ce];for(let ge=0,nt=Ae.length;ge<nt;ge++){const X=q(Ae[ge],W[ge],De);E?oe(X.x,X.y+_[d-1].y,_[d-1].x+Ne):oe(X.x,X.y,f+Ne)}}}de(),te();function de(){const H=i.length/3;if(h){let Te=0,Ne=$*Te;for(let De=0;De<Y;De++){const ce=ee[De];fe(ce[2]+Ne,ce[1]+Ne,ce[0]+Ne)}Te=d+v*2,Ne=$*Te;for(let De=0;De<Y;De++){const ce=ee[De];fe(ce[0]+Ne,ce[1]+Ne,ce[2]+Ne)}}else{for(let Te=0;Te<Y;Te++){const Ne=ee[Te];fe(Ne[2],Ne[1],Ne[0])}for(let Te=0;Te<Y;Te++){const Ne=ee[Te];fe(Ne[0]+$*d,Ne[1]+$*d,Ne[2]+$*d)}}r.addGroup(H,i.length/3-H,0)}function te(){const H=i.length/3;let Te=0;he(G,Te),Te+=G.length;for(let Ne=0,De=R.length;Ne<De;Ne++){const ce=R[Ne];he(ce,Te),Te+=ce.length}r.addGroup(H,i.length/3-H,1)}function he(H,Te){let Ne=H.length;for(;--Ne>=0;){const De=Ne;let ce=Ne-1;ce<0&&(ce=H.length-1);for(let Ue=0,Ae=d+v*2;Ue<Ae;Ue++){const ge=$*Ue,nt=$*(Ue+1),X=Te+De+ge,z=Te+ce+ge,ae=Te+ce+nt,Me=Te+De+nt;ve(X,z,ae,Me)}}}function oe(H,Te,Ne){c.push(H),c.push(Te),c.push(Ne)}function fe(H,Te,Ne){ne(H),ne(Te),ne(Ne);const De=i.length/3,ce=w.generateTopUV(r,i,De-3,De-2,De-1);Be(ce[0]),Be(ce[1]),Be(ce[2])}function ve(H,Te,Ne,De){ne(H),ne(Te),ne(De),ne(Te),ne(Ne),ne(De);const ce=i.length/3,Ue=w.generateSideWallUV(r,i,ce-6,ce-3,ce-2,ce-1);Be(Ue[0]),Be(Ue[1]),Be(Ue[3]),Be(Ue[1]),Be(Ue[2]),Be(Ue[3])}function ne(H){i.push(c[H*3+0]),i.push(c[H*3+1]),i.push(c[H*3+2])}function Be(H){s.push(H.x),s.push(H.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return V$e(n,r,e)}static fromJSON(e,n){const r=[];for(let s=0,a=e.shapes.length;s<a;s++){const l=n[e.shapes[s]];r.push(l)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new FM[i.type]().fromJSON(i)),new Dj(r,e.options)}}const z$e={generateTopUV:function(t,e,n,r,i){const s=e[n*3],a=e[n*3+1],l=e[r*3],c=e[r*3+1],u=e[i*3],d=e[i*3+1];return[new Ge(s,a),new Ge(l,c),new Ge(u,d)]},generateSideWallUV:function(t,e,n,r,i,s){const a=e[n*3],l=e[n*3+1],c=e[n*3+2],u=e[r*3],d=e[r*3+1],f=e[r*3+2],h=e[i*3],m=e[i*3+1],p=e[i*3+2],x=e[s*3],v=e[s*3+1],g=e[s*3+2];return Math.abs(l-d)<Math.abs(a-u)?[new Ge(a,1-c),new Ge(u,1-f),new Ge(h,1-p),new Ge(x,1-g)]:[new Ge(l,1-c),new Ge(d,1-f),new Ge(m,1-p),new Ge(v,1-g)]}};function V$e(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const s=t[r];n.shapes.push(s.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class Ij extends Vf{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Ij(e.radius,e.detail)}}class Lj extends cn{constructor(e=[new Ge(0,-.5),new Ge(.5,0),new Ge(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=Zt(i,0,Math.PI*2);const s=[],a=[],l=[],c=[],u=[],d=1/n,f=new J,h=new Ge,m=new J,p=new J,x=new J;let v=0,g=0;for(let w=0;w<=e.length-1;w++)switch(w){case 0:v=e[w+1].x-e[w].x,g=e[w+1].y-e[w].y,m.x=g*1,m.y=-v,m.z=g*0,x.copy(m),m.normalize(),c.push(m.x,m.y,m.z);break;case e.length-1:c.push(x.x,x.y,x.z);break;default:v=e[w+1].x-e[w].x,g=e[w+1].y-e[w].y,m.x=g*1,m.y=-v,m.z=g*0,p.copy(m),m.x+=x.x,m.y+=x.y,m.z+=x.z,m.normalize(),c.push(m.x,m.y,m.z),x.copy(p)}for(let w=0;w<=n;w++){const _=r+w*d*i,E=Math.sin(_),N=Math.cos(_);for(let C=0;C<=e.length-1;C++){f.x=e[C].x*E,f.y=e[C].y,f.z=e[C].x*N,a.push(f.x,f.y,f.z),h.x=w/n,h.y=C/(e.length-1),l.push(h.x,h.y);const j=c[3*C+0]*E,T=c[3*C+1],A=c[3*C+0]*N;u.push(j,T,A)}}for(let w=0;w<n;w++)for(let _=0;_<e.length-1;_++){const E=_+w*e.length,N=E,C=E+e.length,j=E+e.length+1,T=E+1;s.push(N,C,T),s.push(j,T,C)}this.setIndex(s),this.setAttribute("position",new Rt(a,3)),this.setAttribute("uv",new Rt(l,2)),this.setAttribute("normal",new Rt(u,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Lj(e.points,e.segments,e.phiStart,e.phiLength)}}class e1 extends Vf{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new e1(e.radius,e.detail)}}class Ju extends cn{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const s=e/2,a=n/2,l=Math.floor(r),c=Math.floor(i),u=l+1,d=c+1,f=e/l,h=n/c,m=[],p=[],x=[],v=[];for(let g=0;g<d;g++){const w=g*h-a;for(let _=0;_<u;_++){const E=_*f-s;p.push(E,-w,0),x.push(0,0,1),v.push(_/l),v.push(1-g/c)}}for(let g=0;g<c;g++)for(let w=0;w<l;w++){const _=w+u*g,E=w+u*(g+1),N=w+1+u*(g+1),C=w+1+u*g;m.push(_,E,C),m.push(E,N,C)}this.setIndex(m),this.setAttribute("position",new Rt(p,3)),this.setAttribute("normal",new Rt(x,3)),this.setAttribute("uv",new Rt(v,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ju(e.width,e.height,e.widthSegments,e.heightSegments)}}class Fj extends cn{constructor(e=.5,n=1,r=32,i=1,s=0,a=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:a},r=Math.max(3,r),i=Math.max(1,i);const l=[],c=[],u=[],d=[];let f=e;const h=(n-e)/i,m=new J,p=new Ge;for(let x=0;x<=i;x++){for(let v=0;v<=r;v++){const g=s+v/r*a;m.x=f*Math.cos(g),m.y=f*Math.sin(g),c.push(m.x,m.y,m.z),u.push(0,0,1),p.x=(m.x/n+1)/2,p.y=(m.y/n+1)/2,d.push(p.x,p.y)}f+=h}for(let x=0;x<i;x++){const v=x*(r+1);for(let g=0;g<r;g++){const w=g+v,_=w,E=w+r+1,N=w+r+2,C=w+1;l.push(_,E,C),l.push(E,N,C)}}this.setIndex(l),this.setAttribute("position",new Rt(c,3)),this.setAttribute("normal",new Rt(u,3)),this.setAttribute("uv",new Rt(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Fj(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Uj extends cn{constructor(e=new ym([new Ge(0,.5),new Ge(-.5,-.5),new Ge(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],s=[],a=[];let l=0,c=0;if(Array.isArray(e)===!1)u(e);else for(let d=0;d<e.length;d++)u(e[d]),this.addGroup(l,c,d),l+=c,c=0;this.setIndex(r),this.setAttribute("position",new Rt(i,3)),this.setAttribute("normal",new Rt(s,3)),this.setAttribute("uv",new Rt(a,2));function u(d){const f=i.length/3,h=d.extractPoints(n);let m=h.shape;const p=h.holes;Nl.isClockWise(m)===!1&&(m=m.reverse());for(let v=0,g=p.length;v<g;v++){const w=p[v];Nl.isClockWise(w)===!0&&(p[v]=w.reverse())}const x=Nl.triangulateShape(m,p);for(let v=0,g=p.length;v<g;v++){const w=p[v];m=m.concat(w)}for(let v=0,g=m.length;v<g;v++){const w=m[v];i.push(w.x,w.y,0),s.push(0,0,1),a.push(w.x,w.y)}for(let v=0,g=x.length;v<g;v++){const w=x[v],_=w[0]+f,E=w[1]+f,N=w[2]+f;r.push(_,E,N),c+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return W$e(n,e)}static fromJSON(e,n){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const a=n[e.shapes[i]];r.push(a)}return new Uj(r,e.curveSegments)}}function W$e(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class t1 extends cn{constructor(e=1,n=32,r=16,i=0,s=Math.PI*2,a=0,l=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:s,thetaStart:a,thetaLength:l},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const c=Math.min(a+l,Math.PI);let u=0;const d=[],f=new J,h=new J,m=[],p=[],x=[],v=[];for(let g=0;g<=r;g++){const w=[],_=g/r;let E=0;g===0&&a===0?E=.5/n:g===r&&c===Math.PI&&(E=-.5/n);for(let N=0;N<=n;N++){const C=N/n;f.x=-e*Math.cos(i+C*s)*Math.sin(a+_*l),f.y=e*Math.cos(a+_*l),f.z=e*Math.sin(i+C*s)*Math.sin(a+_*l),p.push(f.x,f.y,f.z),h.copy(f).normalize(),x.push(h.x,h.y,h.z),v.push(C+E,1-_),w.push(u++)}d.push(w)}for(let g=0;g<r;g++)for(let w=0;w<n;w++){const _=d[g][w+1],E=d[g][w],N=d[g+1][w],C=d[g+1][w+1];(g!==0||a>0)&&m.push(_,E,C),(g!==r-1||c<Math.PI)&&m.push(E,N,C)}this.setIndex(m),this.setAttribute("position",new Rt(p,3)),this.setAttribute("normal",new Rt(x,3)),this.setAttribute("uv",new Rt(v,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new t1(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Bj extends Vf{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Bj(e.radius,e.detail)}}class zj extends cn{constructor(e=1,n=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],c=[],u=[],d=new J,f=new J,h=new J;for(let m=0;m<=r;m++)for(let p=0;p<=i;p++){const x=p/i*s,v=m/r*Math.PI*2;f.x=(e+n*Math.cos(v))*Math.cos(x),f.y=(e+n*Math.cos(v))*Math.sin(x),f.z=n*Math.sin(v),l.push(f.x,f.y,f.z),d.x=e*Math.cos(x),d.y=e*Math.sin(x),h.subVectors(f,d).normalize(),c.push(h.x,h.y,h.z),u.push(p/i),u.push(m/r)}for(let m=1;m<=r;m++)for(let p=1;p<=i;p++){const x=(i+1)*m+p-1,v=(i+1)*(m-1)+p-1,g=(i+1)*(m-1)+p,w=(i+1)*m+p;a.push(x,v,w),a.push(v,g,w)}this.setIndex(a),this.setAttribute("position",new Rt(l,3)),this.setAttribute("normal",new Rt(c,3)),this.setAttribute("uv",new Rt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new zj(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Vj extends cn{constructor(e=1,n=.4,r=64,i=8,s=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:s,q:a},r=Math.floor(r),i=Math.floor(i);const l=[],c=[],u=[],d=[],f=new J,h=new J,m=new J,p=new J,x=new J,v=new J,g=new J;for(let _=0;_<=r;++_){const E=_/r*s*Math.PI*2;w(E,s,a,e,m),w(E+.01,s,a,e,p),v.subVectors(p,m),g.addVectors(p,m),x.crossVectors(v,g),g.crossVectors(x,v),x.normalize(),g.normalize();for(let N=0;N<=i;++N){const C=N/i*Math.PI*2,j=-n*Math.cos(C),T=n*Math.sin(C);f.x=m.x+(j*g.x+T*x.x),f.y=m.y+(j*g.y+T*x.y),f.z=m.z+(j*g.z+T*x.z),c.push(f.x,f.y,f.z),h.subVectors(f,m).normalize(),u.push(h.x,h.y,h.z),d.push(_/r),d.push(N/i)}}for(let _=1;_<=r;_++)for(let E=1;E<=i;E++){const N=(i+1)*(_-1)+(E-1),C=(i+1)*_+(E-1),j=(i+1)*_+E,T=(i+1)*(_-1)+E;l.push(N,C,T),l.push(C,j,T)}this.setIndex(l),this.setAttribute("position",new Rt(c,3)),this.setAttribute("normal",new Rt(u,3)),this.setAttribute("uv",new Rt(d,2));function w(_,E,N,C,j){const T=Math.cos(_),A=Math.sin(_),P=N/E*_,R=Math.cos(P);j.x=C*(2+R)*.5*T,j.y=C*(2+R)*A*.5,j.z=C*Math.sin(P)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Vj(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Wj extends cn{constructor(e=new iU(new J(-1,-1,0),new J(-1,1,0),new J(1,1,0)),n=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:s};const a=e.computeFrenetFrames(n,s);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const l=new J,c=new J,u=new Ge;let d=new J;const f=[],h=[],m=[],p=[];x(),this.setIndex(p),this.setAttribute("position",new Rt(f,3)),this.setAttribute("normal",new Rt(h,3)),this.setAttribute("uv",new Rt(m,2));function x(){for(let _=0;_<n;_++)v(_);v(s===!1?n:0),w(),g()}function v(_){d=e.getPointAt(_/n,d);const E=a.normals[_],N=a.binormals[_];for(let C=0;C<=i;C++){const j=C/i*Math.PI*2,T=Math.sin(j),A=-Math.cos(j);c.x=A*E.x+T*N.x,c.y=A*E.y+T*N.y,c.z=A*E.z+T*N.z,c.normalize(),h.push(c.x,c.y,c.z),l.x=d.x+r*c.x,l.y=d.y+r*c.y,l.z=d.z+r*c.z,f.push(l.x,l.y,l.z)}}function g(){for(let _=1;_<=n;_++)for(let E=1;E<=i;E++){const N=(i+1)*(_-1)+(E-1),C=(i+1)*_+(E-1),j=(i+1)*_+E,T=(i+1)*(_-1)+E;p.push(N,C,T),p.push(C,j,T)}}function w(){for(let _=0;_<=n;_++)for(let E=0;E<=i;E++)u.x=_/n,u.y=E/i,m.push(u.x,u.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Wj(new FM[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class tle extends cn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new J,s=new J;if(e.index!==null){const a=e.attributes.position,l=e.index;let c=e.groups;c.length===0&&(c=[{start:0,count:l.count,materialIndex:0}]);for(let u=0,d=c.length;u<d;++u){const f=c[u],h=f.start,m=f.count;for(let p=h,x=h+m;p<x;p+=3)for(let v=0;v<3;v++){const g=l.getX(p+v),w=l.getX(p+(v+1)%3);i.fromBufferAttribute(a,g),s.fromBufferAttribute(a,w),cH(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}}else{const a=e.attributes.position;for(let l=0,c=a.count/3;l<c;l++)for(let u=0;u<3;u++){const d=3*l+u,f=3*l+(u+1)%3;i.fromBufferAttribute(a,d),s.fromBufferAttribute(a,f),cH(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}this.setAttribute("position",new Rt(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function cH(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var uH=Object.freeze({__proto__:null,BoxGeometry:cp,CapsuleGeometry:Pj,CircleGeometry:kj,ConeGeometry:Jw,CylinderGeometry:Qw,DodecahedronGeometry:Rj,EdgesGeometry:Hoe,ExtrudeGeometry:Dj,IcosahedronGeometry:Ij,LatheGeometry:Lj,OctahedronGeometry:e1,PlaneGeometry:Ju,PolyhedronGeometry:Vf,RingGeometry:Fj,ShapeGeometry:Uj,SphereGeometry:t1,TetrahedronGeometry:Bj,TorusGeometry:zj,TorusKnotGeometry:Vj,TubeGeometry:Wj,WireframeGeometry:tle});class nle extends As{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new wt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class rle extends Il{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class aU extends As{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new wt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new wt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=zf,this.normalScale=new Ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ho,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class ile extends aU{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ge(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Zt(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new wt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new wt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new wt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class sle extends As{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new wt(16777215),this.specular=new wt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new wt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=zf,this.normalScale=new Ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ho,this.combine=Kw,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class ale extends As{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new wt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new wt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=zf,this.normalScale=new Ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class ole extends As{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=zf,this.normalScale=new Ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class lle extends As{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new wt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new wt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=zf,this.normalScale=new Ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ho,this.combine=Kw,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class $j extends As{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=boe,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class Hj extends As{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class cle extends As{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new wt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=zf,this.normalScale=new Ge(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class ule extends ia{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Qh(t,e){return!t||t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function dle(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function fle(t){function e(i,s){return t[i]-t[s]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function CD(t,e,n){const r=t.length,i=new t.constructor(r);for(let s=0,a=0;a!==r;++s){const l=n[s]*e;for(let c=0;c!==e;++c)i[a++]=t[l+c]}return i}function oU(t,e,n,r){let i=1,s=t[0];for(;s!==void 0&&s[r]===void 0;)s=t[i++];if(s===void 0)return;let a=s[r];if(a!==void 0)if(Array.isArray(a))do a=s[r],a!==void 0&&(e.push(s.time),n.push(...a)),s=t[i++];while(s!==void 0);else if(a.toArray!==void 0)do a=s[r],a!==void 0&&(e.push(s.time),a.toArray(n,n.length)),s=t[i++];while(s!==void 0);else do a=s[r],a!==void 0&&(e.push(s.time),n.push(a)),s=t[i++];while(s!==void 0)}function $$e(t,e,n,r,i=30){const s=t.clone();s.name=e;const a=[];for(let c=0;c<s.tracks.length;++c){const u=s.tracks[c],d=u.getValueSize(),f=[],h=[];for(let m=0;m<u.times.length;++m){const p=u.times[m]*i;if(!(p<n||p>=r)){f.push(u.times[m]);for(let x=0;x<d;++x)h.push(u.values[m*d+x])}}f.length!==0&&(u.times=Qh(f,u.times.constructor),u.values=Qh(h,u.values.constructor),a.push(u))}s.tracks=a;let l=1/0;for(let c=0;c<s.tracks.length;++c)l>s.tracks[c].times[0]&&(l=s.tracks[c].times[0]);for(let c=0;c<s.tracks.length;++c)s.tracks[c].shift(-1*l);return s.resetDuration(),s}function H$e(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,s=e/r;for(let a=0;a<i;++a){const l=n.tracks[a],c=l.ValueTypeName;if(c==="bool"||c==="string")continue;const u=t.tracks.find(function(g){return g.name===l.name&&g.ValueTypeName===c});if(u===void 0)continue;let d=0;const f=l.getValueSize();l.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=f/3);let h=0;const m=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=m/3);const p=l.times.length-1;let x;if(s<=l.times[0]){const g=d,w=f-d;x=l.values.slice(g,w)}else if(s>=l.times[p]){const g=p*f+d,w=g+f-d;x=l.values.slice(g,w)}else{const g=l.createInterpolant(),w=d,_=f-d;g.evaluate(s),x=g.resultBuffer.slice(w,_)}c==="quaternion"&&new Ms().fromArray(x).normalize().conjugate().toArray(x);const v=u.times.length;for(let g=0;g<v;++g){const w=g*m+h;if(c==="quaternion")Ms.multiplyQuaternionsFlat(u.values,w,x,0,u.values,w);else{const _=m-h*2;for(let E=0;E<_;++E)u.values[w+E]-=x[E]}}}return t.blendMode=zF,t}class G$e{static convertArray(e,n){return Qh(e,n)}static isTypedArray(e){return dle(e)}static getKeyframeOrder(e){return fle(e)}static sortedArray(e,n,r){return CD(e,n,r)}static flattenJSON(e,n,r,i){oU(e,n,r,i)}static subclip(e,n,r,i,s=30){return $$e(e,n,r,i,s)}static makeClipAdditive(e,n=0,r=e,i=30){return H$e(e,n,r,i)}}class n1{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],s=n[r-1];e:{t:{let a;n:{r:if(!(e<i)){for(let l=r+2;;){if(i===void 0){if(e<s)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===l)break;if(s=i,i=n[++r],e<i)break t}a=n.length;break n}if(!(e>=s)){const l=n[1];e<l&&(r=2,s=l);for(let c=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===c)break;if(i=s,s=n[--r-1],e>=s)break t}a=r,r=0;break n}break e}for(;r<a;){const l=r+a>>>1;e<n[l]?a=l:r=l+1}if(i=n[r],s=n[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let a=0;a!==i;++a)n[a]=r[s+a];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class hle extends n1{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Yh,endingEnd:Yh}}intervalChanged_(e,n,r){const i=this.parameterPositions;let s=e-2,a=e+1,l=i[s],c=i[a];if(l===void 0)switch(this.getSettings_().endingStart){case Zh:s=e,l=2*n-r;break;case Ob:s=i.length-2,l=n+i[s]-i[s+1];break;default:s=e,l=r}if(c===void 0)switch(this.getSettings_().endingEnd){case Zh:a=e,c=2*r-n;break;case Ob:a=1,c=r+i[1]-i[0];break;default:a=e-1,c=n}const u=(r-n)*.5,d=this.valueSize;this._weightPrev=u/(n-l),this._weightNext=u/(c-r),this._offsetPrev=s*d,this._offsetNext=a*d}interpolate_(e,n,r,i){const s=this.resultBuffer,a=this.sampleValues,l=this.valueSize,c=e*l,u=c-l,d=this._offsetPrev,f=this._offsetNext,h=this._weightPrev,m=this._weightNext,p=(r-n)/(i-n),x=p*p,v=x*p,g=-h*v+2*h*x-h*p,w=(1+h)*v+(-1.5-2*h)*x+(-.5+h)*p+1,_=(-1-m)*v+(1.5+m)*x+.5*p,E=m*v-m*x;for(let N=0;N!==l;++N)s[N]=g*a[d+N]+w*a[u+N]+_*a[c+N]+E*a[f+N];return s}}class lU extends n1{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,a=this.sampleValues,l=this.valueSize,c=e*l,u=c-l,d=(r-n)/(i-n),f=1-d;for(let h=0;h!==l;++h)s[h]=a[u+h]*f+a[c+h]*d;return s}}class mle extends n1{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Jo{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Qh(n,this.TimeBufferType),this.values=Qh(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:Qh(e.times,Array),values:Qh(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new mle(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new lU(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new hle(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case Rb:n=this.InterpolantFactoryMethodDiscrete;break;case DM:n=this.InterpolantFactoryMethodLinear;break;case fE:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Rb;case this.InterpolantFactoryMethodLinear:return DM;case this.InterpolantFactoryMethodSmooth:return fE}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let s=0,a=i-1;for(;s!==i&&r[s]<e;)++s;for(;a!==-1&&r[a]>n;)--a;if(++a,s!==0||a!==i){s>=a&&(a=Math.max(a,1),s=a-1);const l=this.getValueSize();this.times=r.slice(s,a),this.values=this.values.slice(s*l,a*l)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let l=0;l!==s;l++){const c=r[l];if(typeof c=="number"&&isNaN(c)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,l,c),e=!1;break}if(a!==null&&a>c){console.error("THREE.KeyframeTrack: Out of order keys.",this,l,c,a),e=!1;break}a=c}if(i!==void 0&&dle(i))for(let l=0,c=i.length;l!==c;++l){const u=i[l];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,l,u),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===fE,s=e.length-1;let a=1;for(let l=1;l<s;++l){let c=!1;const u=e[l],d=e[l+1];if(u!==d&&(l!==1||u!==e[0]))if(i)c=!0;else{const f=l*r,h=f-r,m=f+r;for(let p=0;p!==r;++p){const x=n[f+p];if(x!==n[h+p]||x!==n[m+p]){c=!0;break}}}if(c){if(l!==a){e[a]=e[l];const f=l*r,h=a*r;for(let m=0;m!==r;++m)n[h+m]=n[f+m]}++a}}if(s>0){e[a]=e[s];for(let l=s*r,c=a*r,u=0;u!==r;++u)n[c+u]=n[l+u];++a}return a!==e.length?(this.times=e.slice(0,a),this.values=n.slice(0,a*r)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}Jo.prototype.ValueTypeName="";Jo.prototype.TimeBufferType=Float32Array;Jo.prototype.ValueBufferType=Float32Array;Jo.prototype.DefaultInterpolation=DM;class up extends Jo{constructor(e,n,r){super(e,n,r)}}up.prototype.ValueTypeName="bool";up.prototype.ValueBufferType=Array;up.prototype.DefaultInterpolation=Rb;up.prototype.InterpolantFactoryMethodLinear=void 0;up.prototype.InterpolantFactoryMethodSmooth=void 0;class cU extends Jo{constructor(e,n,r,i){super(e,n,r,i)}}cU.prototype.ValueTypeName="color";class Vb extends Jo{constructor(e,n,r,i){super(e,n,r,i)}}Vb.prototype.ValueTypeName="number";class ple extends n1{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,a=this.sampleValues,l=this.valueSize,c=(r-n)/(i-n);let u=e*l;for(let d=u+l;u!==d;u+=4)Ms.slerpFlat(s,0,a,u-l,a,u,c);return s}}class r1 extends Jo{constructor(e,n,r,i){super(e,n,r,i)}InterpolantFactoryMethodLinear(e){return new ple(this.times,this.values,this.getValueSize(),e)}}r1.prototype.ValueTypeName="quaternion";r1.prototype.InterpolantFactoryMethodSmooth=void 0;class dp extends Jo{constructor(e,n,r){super(e,n,r)}}dp.prototype.ValueTypeName="string";dp.prototype.ValueBufferType=Array;dp.prototype.DefaultInterpolation=Rb;dp.prototype.InterpolantFactoryMethodLinear=void 0;dp.prototype.InterpolantFactoryMethodSmooth=void 0;class Wb extends Jo{constructor(e,n,r,i){super(e,n,r,i)}}Wb.prototype.ValueTypeName="vector";class $b{constructor(e="",n=-1,r=[],i=_j){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=io(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let a=0,l=r.length;a!==l;++a)n.push(K$e(r[a]).scale(i));const s=new this(e.name,e.duration,n,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,a=r.length;s!==a;++s)n.push(Jo.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const s=n.length,a=[];for(let l=0;l<s;l++){let c=[],u=[];c.push((l+s-1)%s,l,(l+1)%s),u.push(0,1,0);const d=fle(c);c=CD(c,1,d),u=CD(u,1,d),!i&&c[0]===0&&(c.push(s),u.push(u[0])),a.push(new Vb(".morphTargetInfluences["+n[l].name+"]",c,u).scale(1/r))}return new this(e,-1,a)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let l=0,c=e.length;l<c;l++){const u=e[l],d=u.name.match(s);if(d&&d.length>1){const f=d[1];let h=i[f];h||(i[f]=h=[]),h.push(u)}}const a=[];for(const l in i)a.push(this.CreateFromMorphTargetSequence(l,i[l],n,r));return a}static parseAnimation(e,n){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(f,h,m,p,x){if(m.length!==0){const v=[],g=[];oU(m,v,g,p),v.length!==0&&x.push(new f(h,v,g))}},i=[],s=e.name||"default",a=e.fps||30,l=e.blendMode;let c=e.length||-1;const u=e.hierarchy||[];for(let f=0;f<u.length;f++){const h=u[f].keys;if(!(!h||h.length===0))if(h[0].morphTargets){const m={};let p;for(p=0;p<h.length;p++)if(h[p].morphTargets)for(let x=0;x<h[p].morphTargets.length;x++)m[h[p].morphTargets[x]]=-1;for(const x in m){const v=[],g=[];for(let w=0;w!==h[p].morphTargets.length;++w){const _=h[p];v.push(_.time),g.push(_.morphTarget===x?1:0)}i.push(new Vb(".morphTargetInfluence["+x+"]",v,g))}c=m.length*a}else{const m=".bones["+n[f].name+"]";r(Wb,m+".position",h,"pos",i),r(r1,m+".quaternion",h,"rot",i),r(Wb,m+".scale",h,"scl",i)}}return i.length===0?null:new this(s,c,i,l)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];n=Math.max(n,s.times[s.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function q$e(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Vb;case"vector":case"vector2":case"vector3":case"vector4":return Wb;case"color":return cU;case"quaternion":return r1;case"bool":case"boolean":return up;case"string":return dp}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function K$e(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=q$e(t.type);if(t.times===void 0){const n=[],r=[];oU(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const pc={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class uU{constructor(e,n,r){const i=this;let s=!1,a=0,l=0,c;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(d){l++,s===!1&&i.onStart!==void 0&&i.onStart(d,a,l),s=!0},this.itemEnd=function(d){a++,i.onProgress!==void 0&&i.onProgress(d,a,l),a===l&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(d){i.onError!==void 0&&i.onError(d)},this.resolveURL=function(d){return c?c(d):d},this.setURLModifier=function(d){return c=d,this},this.addHandler=function(d,f){return u.push(d,f),this},this.removeHandler=function(d){const f=u.indexOf(d);return f!==-1&&u.splice(f,2),this},this.getHandler=function(d){for(let f=0,h=u.length;f<h;f+=2){const m=u[f],p=u[f+1];if(m.global&&(m.lastIndex=0),m.test(d))return p}return null}}}const gle=new uU;class Ra{constructor(e){this.manager=e!==void 0?e:gle,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,s){r.load(e,i,n,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Ra.DEFAULT_MATERIAL_NAME="__DEFAULT";const Jc={};class X$e extends Error{constructor(e,n){super(e),this.response=n}}class Fu extends Ra{constructor(e){super(e),this.mimeType="",this.responseType=""}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=pc.get(`file:${e}`);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(s),this.manager.itemEnd(e)},0),s;if(Jc[e]!==void 0){Jc[e].push({onLoad:n,onProgress:r,onError:i});return}Jc[e]=[],Jc[e].push({onLoad:n,onProgress:r,onError:i});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),l=this.mimeType,c=this.responseType;fetch(a).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const d=Jc[e],f=u.body.getReader(),h=u.headers.get("X-File-Size")||u.headers.get("Content-Length"),m=h?parseInt(h):0,p=m!==0;let x=0;const v=new ReadableStream({start(g){w();function w(){f.read().then(({done:_,value:E})=>{if(_)g.close();else{x+=E.byteLength;const N=new ProgressEvent("progress",{lengthComputable:p,loaded:x,total:m});for(let C=0,j=d.length;C<j;C++){const T=d[C];T.onProgress&&T.onProgress(N)}g.enqueue(E),w()}},_=>{g.error(_)})}}});return new Response(v)}else throw new X$e(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(c){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(d=>new DOMParser().parseFromString(d,l));case"json":return u.json();default:if(l==="")return u.text();{const f=/charset="?([^;"\s]*)"?/i.exec(l),h=f&&f[1]?f[1].toLowerCase():void 0,m=new TextDecoder(h);return u.arrayBuffer().then(p=>m.decode(p))}}}).then(u=>{pc.add(`file:${e}`,u);const d=Jc[e];delete Jc[e];for(let f=0,h=d.length;f<h;f++){const m=d[f];m.onLoad&&m.onLoad(u)}}).catch(u=>{const d=Jc[e];if(d===void 0)throw this.manager.itemError(e),u;delete Jc[e];for(let f=0,h=d.length;f<h;f++){const m=d[f];m.onError&&m.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Y$e extends Ra{constructor(e){super(e)}load(e,n,r,i){const s=this,a=new Fu(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){try{n(s.parse(JSON.parse(l)))}catch(c){i?i(c):console.error(c),s.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=$b.parse(e[r]);n.push(i)}return n}}class Z$e extends Ra{constructor(e){super(e)}load(e,n,r,i){const s=this,a=[],l=new Tj,c=new Fu(this.manager);c.setPath(this.path),c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setWithCredentials(s.withCredentials);let u=0;function d(f){c.load(e[f],function(h){const m=s.parse(h,!0);a[f]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},u+=1,u===6&&(m.mipmapCount===1&&(l.minFilter=$r),l.image=a,l.format=m.format,l.needsUpdate=!0,n&&n(l))},r,i)}if(Array.isArray(e))for(let f=0,h=e.length;f<h;++f)d(f);else c.load(e,function(f){const h=s.parse(f,!0);if(h.isCubemap){const m=h.mipmaps.length/h.mipmapCount;for(let p=0;p<m;p++){a[p]={mipmaps:[]};for(let x=0;x<h.mipmapCount;x++)a[p].mipmaps.push(h.mipmaps[p*h.mipmapCount+x]),a[p].format=h.format,a[p].width=h.width,a[p].height=h.height}l.image=a}else l.image.width=h.width,l.image.height=h.height,l.mipmaps=h.mipmaps;h.mipmapCount===1&&(l.minFilter=$r),l.format=h.format,l.needsUpdate=!0,n&&n(l)},r,i);return l}}const ig=new WeakMap;class Hb extends Ra{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=pc.get(`image:${e}`);if(a!==void 0){if(a.complete===!0)s.manager.itemStart(e),setTimeout(function(){n&&n(a),s.manager.itemEnd(e)},0);else{let f=ig.get(a);f===void 0&&(f=[],ig.set(a,f)),f.push({onLoad:n,onError:i})}return a}const l=Fb("img");function c(){d(),n&&n(this);const f=ig.get(this)||[];for(let h=0;h<f.length;h++){const m=f[h];m.onLoad&&m.onLoad(this)}ig.delete(this),s.manager.itemEnd(e)}function u(f){d(),i&&i(f),pc.remove(`image:${e}`);const h=ig.get(this)||[];for(let m=0;m<h.length;m++){const p=h[m];p.onError&&p.onError(f)}ig.delete(this),s.manager.itemError(e),s.manager.itemEnd(e)}function d(){l.removeEventListener("load",c,!1),l.removeEventListener("error",u,!1)}return l.addEventListener("load",c,!1),l.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(l.crossOrigin=this.crossOrigin),pc.add(`image:${e}`,l),s.manager.itemStart(e),l.src=e,l}}class Q$e extends Ra{constructor(e){super(e)}load(e,n,r,i){const s=new Zw;s.colorSpace=ga;const a=new Hb(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let l=0;function c(u){a.load(e[u],function(d){s.images[u]=d,l++,l===6&&(s.needsUpdate=!0,n&&n(s))},void 0,i)}for(let u=0;u<e.length;++u)c(u);return s}}class J$e extends Ra{constructor(e){super(e)}load(e,n,r,i){const s=this,a=new Sc,l=new Fu(this.manager);return l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setPath(this.path),l.setWithCredentials(s.withCredentials),l.load(e,function(c){let u;try{u=s.parse(c)}catch(d){if(i!==void 0)i(d);else{console.error(d);return}}u.image!==void 0?a.image=u.image:u.data!==void 0&&(a.image.width=u.width,a.image.height=u.height,a.image.data=u.data),a.wrapS=u.wrapS!==void 0?u.wrapS:Fo,a.wrapT=u.wrapT!==void 0?u.wrapT:Fo,a.magFilter=u.magFilter!==void 0?u.magFilter:$r,a.minFilter=u.minFilter!==void 0?u.minFilter:$r,a.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.colorSpace!==void 0&&(a.colorSpace=u.colorSpace),u.flipY!==void 0&&(a.flipY=u.flipY),u.format!==void 0&&(a.format=u.format),u.type!==void 0&&(a.type=u.type),u.mipmaps!==void 0&&(a.mipmaps=u.mipmaps,a.minFilter=mc),u.mipmapCount===1&&(a.minFilter=$r),u.generateMipmaps!==void 0&&(a.generateMipmaps=u.generateMipmaps),a.needsUpdate=!0,n&&n(a,u)},r,i),a}}class eHe extends Ra{constructor(e){super(e)}load(e,n,r,i){const s=new Er,a=new Hb(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(l){s.image=l,s.needsUpdate=!0,n!==void 0&&n(s)},r,i),s}}class Wf extends Mn{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new wt(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(n.object.target=this.target.uuid),n}}class vle extends Wf{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Mn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new wt(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const QP=new Vt,dH=new J,fH=new J;class dU{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ge(512,512),this.mapType=Xo,this.map=null,this.mapPass=null,this.matrix=new Vt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new _x,this._frameExtents=new Ge(1,1),this._viewportCount=1,this._viewports=[new wn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;dH.setFromMatrixPosition(e.matrixWorld),n.position.copy(dH),fH.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(fH),n.updateMatrixWorld(),QP.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(QP),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(QP)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class tHe extends dU{constructor(){super(new zr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const n=this.camera,r=zv*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height*this.aspect,s=e.distance||n.far;(r!==n.fov||i!==n.aspect||s!==n.far)&&(n.fov=r,n.aspect=i,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class xle extends Wf{constructor(e,n,r=0,i=Math.PI/3,s=0,a=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Mn.DEFAULT_UP),this.updateMatrix(),this.target=new Mn,this.distance=r,this.angle=i,this.penumbra=s,this.decay=a,this.map=null,this.shadow=new tHe}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const hH=new Vt,Py=new J,JP=new J;class nHe extends dU{constructor(){super(new zr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Ge(4,2),this._viewportCount=6,this._viewports=[new wn(2,1,1,1),new wn(0,1,1,1),new wn(3,1,1,1),new wn(1,1,1,1),new wn(3,0,1,1),new wn(1,0,1,1)],this._cubeDirections=[new J(1,0,0),new J(-1,0,0),new J(0,0,1),new J(0,0,-1),new J(0,1,0),new J(0,-1,0)],this._cubeUps=[new J(0,1,0),new J(0,1,0),new J(0,1,0),new J(0,1,0),new J(0,0,1),new J(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),Py.setFromMatrixPosition(e.matrixWorld),r.position.copy(Py),JP.copy(r.position),JP.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(JP),r.updateMatrixWorld(),i.makeTranslation(-Py.x,-Py.y,-Py.z),hH.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(hH)}}class yle extends Wf{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new nHe}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class cf extends Yw{constructor(e=-1,n=1,r=1,i=-1,s=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=s,this.far=a,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,s,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,a=r+e,l=i+n,c=i-n;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,a=s+u*this.view.width,l-=d*this.view.offsetY,c=l-d*this.view.height}this.projectionMatrix.makeOrthographic(s,a,l,c,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}class rHe extends dU{constructor(){super(new cf(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class ble extends Wf{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Mn.DEFAULT_UP),this.updateMatrix(),this.target=new Mn,this.shadow=new rHe}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class wle extends Wf{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class _le extends Wf{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class Sle{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new J)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,s=e.z,a=this.coefficients;return n.copy(a[0]).multiplyScalar(.282095),n.addScaledVector(a[1],.488603*i),n.addScaledVector(a[2],.488603*s),n.addScaledVector(a[3],.488603*r),n.addScaledVector(a[4],1.092548*(r*i)),n.addScaledVector(a[5],1.092548*(i*s)),n.addScaledVector(a[6],.315392*(3*s*s-1)),n.addScaledVector(a[7],1.092548*(r*s)),n.addScaledVector(a[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,s=e.z,a=this.coefficients;return n.copy(a[0]).multiplyScalar(.886227),n.addScaledVector(a[1],2*.511664*i),n.addScaledVector(a[2],2*.511664*s),n.addScaledVector(a[3],2*.511664*r),n.addScaledVector(a[4],2*.429043*r*i),n.addScaledVector(a[5],2*.429043*i*s),n.addScaledVector(a[6],.743125*s*s-.247708),n.addScaledVector(a[7],2*.429043*r*s),n.addScaledVector(a[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,s=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*s,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*s,n[6]=.315392*(3*s*s-1),n[7]=1.092548*r*s,n[8]=.546274*(r*r-i*i)}}class Ele extends Wf{constructor(e=new Sle,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class Gj extends Ra{constructor(e){super(e),this.textures={}}load(e,n,r,i){const s=this,a=new Fu(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(l){try{n(s.parse(JSON.parse(l)))}catch(c){i?i(c):console.error(c),s.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(s){return n[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),n[s]}const i=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new wt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(i.dispersion=e.dispersion),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const a=e.uniforms[s];switch(i.uniforms[s]={},a.type){case"t":i.uniforms[s].value=r(a.value);break;case"c":i.uniforms[s].value=new wt().setHex(a.value);break;case"v2":i.uniforms[s].value=new Ge().fromArray(a.value);break;case"v3":i.uniforms[s].value=new J().fromArray(a.value);break;case"v4":i.uniforms[s].value=new wn().fromArray(a.value);break;case"m3":i.uniforms[s].value=new Yt().fromArray(a.value);break;case"m4":i.uniforms[s].value=new Vt().fromArray(a.value);break;default:i.uniforms[s].value=a.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new Ge().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapRotation!==void 0&&i.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Ge().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return Gj.createMaterialFromType(e)}static createMaterialFromType(e){const n={ShadowMaterial:nle,SpriteMaterial:YF,RawShaderMaterial:rle,ShaderMaterial:Il,PointsMaterial:QF,MeshPhysicalMaterial:ile,MeshStandardMaterial:aU,MeshPhongMaterial:sle,MeshToonMaterial:ale,MeshNormalMaterial:ole,MeshLambertMaterial:lle,MeshDepthMaterial:$j,MeshDistanceMaterial:Hj,MeshBasicMaterial:Qu,MeshMatcapMaterial:cle,LineDashedMaterial:ule,LineBasicMaterial:ia,Material:As};return new n[e]}}class jD{static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class fU extends cn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class Nle extends Ra{constructor(e){super(e)}load(e,n,r,i){const s=this,a=new Fu(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(l){try{n(s.parse(JSON.parse(l)))}catch(c){i?i(c):console.error(c),s.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(m,p){if(n[p]!==void 0)return n[p];const v=m.interleavedBuffers[p],g=s(m,v.buffer),w=Pg(v.type,g),_=new Cj(w,v.stride);return _.uuid=v.uuid,n[p]=_,_}function s(m,p){if(r[p]!==void 0)return r[p];const v=m.arrayBuffers[p],g=new Uint32Array(v).buffer;return r[p]=g,g}const a=e.isInstancedBufferGeometry?new fU:new cn,l=e.data.index;if(l!==void 0){const m=Pg(l.type,l.array);a.setIndex(new Gn(m,1))}const c=e.data.attributes;for(const m in c){const p=c[m];let x;if(p.isInterleavedBufferAttribute){const v=i(e.data,p.data);x=new Wm(v,p.itemSize,p.offset,p.normalized)}else{const v=Pg(p.type,p.array),g=p.isInstancedBufferAttribute?$m:Gn;x=new g(v,p.itemSize,p.normalized)}p.name!==void 0&&(x.name=p.name),p.usage!==void 0&&x.setUsage(p.usage),a.setAttribute(m,x)}const u=e.data.morphAttributes;if(u)for(const m in u){const p=u[m],x=[];for(let v=0,g=p.length;v<g;v++){const w=p[v];let _;if(w.isInterleavedBufferAttribute){const E=i(e.data,w.data);_=new Wm(E,w.itemSize,w.offset,w.normalized)}else{const E=Pg(w.type,w.array);_=new Gn(E,w.itemSize,w.normalized)}w.name!==void 0&&(_.name=w.name),x.push(_)}a.morphAttributes[m]=x}e.data.morphTargetsRelative&&(a.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let m=0,p=f.length;m!==p;++m){const x=f[m];a.addGroup(x.start,x.count,x.materialIndex)}const h=e.data.boundingSphere;return h!==void 0&&(a.boundingSphere=new Fi().fromJSON(h)),e.name&&(a.name=e.name),e.userData&&(a.userData=e.userData),a}}class iHe extends Ra{constructor(e){super(e)}load(e,n,r,i){const s=this,a=this.path===""?jD.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const l=new Fu(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){let u=null;try{u=JSON.parse(c)}catch(f){i!==void 0&&i(f),console.error("THREE:ObjectLoader: Can't parse "+e+".",f.message);return}const d=u.metadata;if(d===void 0||d.type===void 0||d.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(u,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?jD.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new Fu(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const a=await s.loadAsync(e,n),l=JSON.parse(a),c=l.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(l)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),a=this.parseImages(e.images,function(){n!==void 0&&n(u)}),l=this.parseTextures(e.textures,a),c=this.parseMaterials(e.materials,l),u=this.parseObject(e.object,s,c,l,r),d=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,d),this.bindLightTargets(u),n!==void 0){let f=!1;for(const h in a)if(a[h].data instanceof HTMLImageElement){f=!0;break}f===!1&&n(u)}return u}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,s),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,i,l,a,n),u=this.parseSkeletons(e.skeletons,c);return this.bindSkeletons(c,u),this.bindLightTargets(c),c}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new ym().fromJSON(e[r]);n[s.uuid]=s}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,a=e.length;s<a;s++){const l=new jj().fromJSON(e[s],i);r[l.uuid]=l}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new Nle;for(let s=0,a=e.length;s<a;s++){let l;const c=e[s];switch(c.type){case"BufferGeometry":case"InstancedBufferGeometry":l=i.parse(c);break;default:c.type in uH?l=uH[c.type].fromJSON(c,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${c.type}"`)}l.uuid=c.uuid,c.name!==void 0&&(l.name=c.name),c.userData!==void 0&&(l.userData=c.userData),r[c.uuid]=l}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const s=new Gj;s.setTextures(n);for(let a=0,l=e.length;a<l;a++){const c=e[a];r[c.uuid]===void 0&&(r[c.uuid]=s.parse(c)),i[c.uuid]=r[c.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=$b.parse(i);n[s.uuid]=s}return n}parseImages(e,n){const r=this,i={};let s;function a(c){return r.manager.itemStart(c),s.load(c,function(){r.manager.itemEnd(c)},void 0,function(){r.manager.itemError(c),r.manager.itemEnd(c)})}function l(c){if(typeof c=="string"){const u=c,d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:r.resourcePath+u;return a(d)}else return c.data?{data:Pg(c.type,c.data),width:c.width,height:c.height}:null}if(e!==void 0&&e.length>0){const c=new uU(n);s=new Hb(c),s.setCrossOrigin(this.crossOrigin);for(let u=0,d=e.length;u<d;u++){const f=e[u],h=f.url;if(Array.isArray(h)){const m=[];for(let p=0,x=h.length;p<x;p++){const v=h[p],g=l(v);g!==null&&(g instanceof HTMLImageElement?m.push(g):m.push(new Sc(g.data,g.width,g.height)))}i[f.uuid]=new Xd(m)}else{const m=l(f.url);i[f.uuid]=new Xd(m)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function s(a){if(typeof a=="string"){const l=a,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l)?l:n.resourcePath+l;return await i.loadAsync(c)}else return a.data?{data:Pg(a.type,a.data),width:a.width,height:a.height}:null}if(e!==void 0&&e.length>0){i=new Hb(this.manager),i.setCrossOrigin(this.crossOrigin);for(let a=0,l=e.length;a<l;a++){const c=e[a],u=c.url;if(Array.isArray(u)){const d=[];for(let f=0,h=u.length;f<h;f++){const m=u[f],p=await s(m);p!==null&&(p instanceof HTMLImageElement?d.push(p):d.push(new Sc(p.data,p.width,p.height)))}r[c.uuid]=new Xd(d)}else{const d=await s(c.url);r[c.uuid]=new Xd(d)}}}return r}parseTextures(e,n){function r(s,a){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),a[s])}const i={};if(e!==void 0)for(let s=0,a=e.length;s<a;s++){const l=e[s];l.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',l.uuid),n[l.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",l.image);const c=n[l.image],u=c.data;let d;Array.isArray(u)?(d=new Zw,u.length===6&&(d.needsUpdate=!0)):(u&&u.data?d=new Sc:d=new Er,u&&(d.needsUpdate=!0)),d.source=c,d.uuid=l.uuid,l.name!==void 0&&(d.name=l.name),l.mapping!==void 0&&(d.mapping=r(l.mapping,sHe)),l.channel!==void 0&&(d.channel=l.channel),l.offset!==void 0&&d.offset.fromArray(l.offset),l.repeat!==void 0&&d.repeat.fromArray(l.repeat),l.center!==void 0&&d.center.fromArray(l.center),l.rotation!==void 0&&(d.rotation=l.rotation),l.wrap!==void 0&&(d.wrapS=r(l.wrap[0],mH),d.wrapT=r(l.wrap[1],mH)),l.format!==void 0&&(d.format=l.format),l.internalFormat!==void 0&&(d.internalFormat=l.internalFormat),l.type!==void 0&&(d.type=l.type),l.colorSpace!==void 0&&(d.colorSpace=l.colorSpace),l.minFilter!==void 0&&(d.minFilter=r(l.minFilter,pH)),l.magFilter!==void 0&&(d.magFilter=r(l.magFilter,pH)),l.anisotropy!==void 0&&(d.anisotropy=l.anisotropy),l.flipY!==void 0&&(d.flipY=l.flipY),l.generateMipmaps!==void 0&&(d.generateMipmaps=l.generateMipmaps),l.premultiplyAlpha!==void 0&&(d.premultiplyAlpha=l.premultiplyAlpha),l.unpackAlignment!==void 0&&(d.unpackAlignment=l.unpackAlignment),l.compareFunction!==void 0&&(d.compareFunction=l.compareFunction),l.userData!==void 0&&(d.userData=l.userData),i[l.uuid]=d}return i}parseObject(e,n,r,i,s){let a;function l(h){return n[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",h),n[h]}function c(h){if(h!==void 0){if(Array.isArray(h)){const m=[];for(let p=0,x=h.length;p<x;p++){const v=h[p];r[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",v),m.push(r[v])}return m}return r[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",h),r[h]}}function u(h){return i[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",h),i[h]}let d,f;switch(e.type){case"Scene":a=new XF,e.background!==void 0&&(Number.isInteger(e.background)?a.background=new wt(e.background):a.background=u(e.background)),e.environment!==void 0&&(a.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?a.fog=new Mj(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(a.fog=new Nj(e.fog.color,e.fog.density)),e.fog.name!==""&&(a.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(a.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(a.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&a.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(a.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&a.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":a=new zr(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(a.focus=e.focus),e.zoom!==void 0&&(a.zoom=e.zoom),e.filmGauge!==void 0&&(a.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(a.filmOffset=e.filmOffset),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new cf(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(a.zoom=e.zoom),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new wle(e.color,e.intensity);break;case"DirectionalLight":a=new ble(e.color,e.intensity),a.target=e.target||"";break;case"PointLight":a=new yle(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new _le(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new xle(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),a.target=e.target||"";break;case"HemisphereLight":a=new vle(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=new Ele().fromJSON(e);break;case"SkinnedMesh":d=l(e.geometry),f=c(e.material),a=new Uoe(d,f),e.bindMode!==void 0&&(a.bindMode=e.bindMode),e.bindMatrix!==void 0&&a.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(a.skeleton=e.skeleton);break;case"Mesh":d=l(e.geometry),f=c(e.material),a=new _r(d,f);break;case"InstancedMesh":d=l(e.geometry),f=c(e.material);const h=e.count,m=e.instanceMatrix,p=e.instanceColor;a=new Boe(d,f,h),a.instanceMatrix=new $m(new Float32Array(m.array),16),p!==void 0&&(a.instanceColor=new $m(new Float32Array(p.array),p.itemSize));break;case"BatchedMesh":d=l(e.geometry),f=c(e.material),a=new zoe(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,f),a.geometry=d,a.perObjectFrustumCulled=e.perObjectFrustumCulled,a.sortObjects=e.sortObjects,a._drawRanges=e.drawRanges,a._reservedRanges=e.reservedRanges,a._geometryInfo=e.geometryInfo.map(x=>{let v=null,g=null;return x.boundingBox!==void 0&&(v=new Li().fromJSON(x.boundingBox)),x.boundingSphere!==void 0&&(g=new Fi().fromJSON(x.boundingSphere)),{...x,boundingBox:v,boundingSphere:g}}),a._instanceInfo=e.instanceInfo,a._availableInstanceIds=e._availableInstanceIds,a._availableGeometryIds=e._availableGeometryIds,a._nextIndexStart=e.nextIndexStart,a._nextVertexStart=e.nextVertexStart,a._geometryCount=e.geometryCount,a._maxInstanceCount=e.maxInstanceCount,a._maxVertexCount=e.maxVertexCount,a._maxIndexCount=e.maxIndexCount,a._geometryInitialized=e.geometryInitialized,a._matricesTexture=u(e.matricesTexture.uuid),a._indirectTexture=u(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(a._colorsTexture=u(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(a.boundingSphere=new Fi().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(a.boundingBox=new Li().fromJSON(e.boundingBox));break;case"LOD":a=new Foe;break;case"Line":a=new _f(l(e.geometry),c(e.material));break;case"LineLoop":a=new Voe(l(e.geometry),c(e.material));break;case"LineSegments":a=new Lc(l(e.geometry),c(e.material));break;case"PointCloud":case"Points":a=new Woe(l(e.geometry),c(e.material));break;case"Sprite":a=new Loe(c(e.material));break;case"Group":a=new kg;break;case"Bone":a=new ZF;break;default:a=new Mn}if(a.uuid=e.uuid,e.name!==void 0&&(a.name=e.name),e.matrix!==void 0?(a.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(e.position!==void 0&&a.position.fromArray(e.position),e.rotation!==void 0&&a.rotation.fromArray(e.rotation),e.quaternion!==void 0&&a.quaternion.fromArray(e.quaternion),e.scale!==void 0&&a.scale.fromArray(e.scale)),e.up!==void 0&&a.up.fromArray(e.up),e.castShadow!==void 0&&(a.castShadow=e.castShadow),e.receiveShadow!==void 0&&(a.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(a.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(a.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(a.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(a.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&a.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(a.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(a.visible=e.visible),e.frustumCulled!==void 0&&(a.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(a.renderOrder=e.renderOrder),e.userData!==void 0&&(a.userData=e.userData),e.layers!==void 0&&(a.layers.mask=e.layers),e.children!==void 0){const h=e.children;for(let m=0;m<h.length;m++)a.add(this.parseObject(h[m],n,r,i,s))}if(e.animations!==void 0){const h=e.animations;for(let m=0;m<h.length;m++){const p=h[m];a.animations.push(s[p])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(a.autoUpdate=e.autoUpdate);const h=e.levels;for(let m=0;m<h.length;m++){const p=h[m],x=a.getObjectByProperty("uuid",p.object);x!==void 0&&a.addLevel(x,p.distance,p.hysteresis)}}return a}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}bindLightTargets(e){e.traverse(function(n){if(n.isDirectionalLight||n.isSpotLight){const r=n.target,i=e.getObjectByProperty("uuid",r);i!==void 0?n.target=i:n.target=new Mn}})}}const sHe={UVMapping:pj,CubeReflectionMapping:Iu,CubeRefractionMapping:wf,EquirectangularReflectionMapping:Ab,EquirectangularRefractionMapping:Tb,CubeUVReflectionMapping:bx},mH={RepeatWrapping:Pb,ClampToEdgeWrapping:Fo,MirroredRepeatWrapping:kb},pH={NearestFilter:es,NearestMipmapNearestFilter:RF,NearestMipmapLinearFilter:Tg,LinearFilter:$r,LinearMipmapNearestFilter:b0,LinearMipmapLinearFilter:mc},ek=new WeakMap;class aHe extends Ra{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=pc.get(`image-bitmap:${e}`);if(a!==void 0){if(s.manager.itemStart(e),a.then){a.then(u=>{if(ek.has(a)===!0)i&&i(ek.get(a)),s.manager.itemError(e),s.manager.itemEnd(e);else return n&&n(u),s.manager.itemEnd(e),u});return}return setTimeout(function(){n&&n(a),s.manager.itemEnd(e)},0),a}const l={};l.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",l.headers=this.requestHeader;const c=fetch(e,l).then(function(u){return u.blob()}).then(function(u){return createImageBitmap(u,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(u){return pc.add(`image-bitmap:${e}`,u),n&&n(u),s.manager.itemEnd(e),u}).catch(function(u){i&&i(u),ek.set(c,u),pc.remove(`image-bitmap:${e}`),s.manager.itemError(e),s.manager.itemEnd(e)});pc.add(`image-bitmap:${e}`,c),s.manager.itemStart(e)}}let MS;class hU{static getContext(){return MS===void 0&&(MS=new(window.AudioContext||window.webkitAudioContext)),MS}static setContext(e){MS=e}}class oHe extends Ra{constructor(e){super(e)}load(e,n,r,i){const s=this,a=new Fu(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(c){try{const u=c.slice(0);hU.getContext().decodeAudioData(u,function(f){n(f)}).catch(l)}catch(u){l(u)}},r,i);function l(c){i?i(c):console.error(c),s.manager.itemError(e)}}}const gH=new Vt,vH=new Vt,gh=new Vt;class lHe{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new zr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new zr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,gh.copy(e.projectionMatrix);const i=n.eyeSep/2,s=i*n.near/n.focus,a=n.near*Math.tan(vm*n.fov*.5)/n.zoom;let l,c;vH.elements[12]=-i,gH.elements[12]=i,l=-a*n.aspect+s,c=a*n.aspect+s,gh.elements[0]=2*n.near/(c-l),gh.elements[8]=(c+l)/(c-l),this.cameraL.projectionMatrix.copy(gh),l=-a*n.aspect-s,c=a*n.aspect-s,gh.elements[0]=2*n.near/(c-l),gh.elements[8]=(c+l)/(c-l),this.cameraR.projectionMatrix.copy(gh)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(vH),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(gH)}}class Mle extends zr{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class mU{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=performance.now();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}const vh=new J,tk=new Ms,cHe=new J,xh=new J,yh=new J;class uHe extends Mn{constructor(){super(),this.type="AudioListener",this.context=hU.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new mU}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(vh,tk,cHe),xh.set(0,0,-1).applyQuaternion(tk),yh.set(0,1,0).applyQuaternion(tk),n.positionX){const r=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(vh.x,r),n.positionY.linearRampToValueAtTime(vh.y,r),n.positionZ.linearRampToValueAtTime(vh.z,r),n.forwardX.linearRampToValueAtTime(xh.x,r),n.forwardY.linearRampToValueAtTime(xh.y,r),n.forwardZ.linearRampToValueAtTime(xh.z,r),n.upX.linearRampToValueAtTime(yh.x,r),n.upY.linearRampToValueAtTime(yh.y,r),n.upZ.linearRampToValueAtTime(yh.z,r)}else n.setPosition(vh.x,vh.y,vh.z),n.setOrientation(xh.x,xh.y,xh.z,yh.x,yh.y,yh.z)}}class Cle extends Mn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,n){return super.copy(e,n),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const bh=new J,xH=new Ms,dHe=new J,wh=new J;class fHe extends Cle{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(bh,xH,dHe),wh.set(0,0,1).applyQuaternion(xH);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(bh.x,r),n.positionY.linearRampToValueAtTime(bh.y,r),n.positionZ.linearRampToValueAtTime(bh.z,r),n.orientationX.linearRampToValueAtTime(wh.x,r),n.orientationY.linearRampToValueAtTime(wh.y,r),n.orientationZ.linearRampToValueAtTime(wh.z,r)}else n.setPosition(bh.x,bh.y,bh.z),n.setOrientation(wh.x,wh.y,wh.z)}}class hHe{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class jle{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,s,a;switch(n){case"quaternion":i=this._slerp,s=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,s=e*i+i;let a=this.cumulativeWeight;if(a===0){for(let l=0;l!==i;++l)r[s+l]=r[l];a=n}else{a+=n;const l=n/a;this._mixBufferRegion(r,s,0,l,i)}this.cumulativeWeight=a}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,s=this.cumulativeWeight,a=this.cumulativeWeightAdditive,l=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const c=n*this._origIndex;this._mixBufferRegion(r,i,c,1-s,n)}a>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let c=n,u=n+n;c!==u;++c)if(r[c]!==r[c+n]){l.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let s=r,a=i;s!==a;++s)n[s]=n[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,s){if(i>=.5)for(let a=0;a!==s;++a)e[n+a]=e[r+a]}_slerp(e,n,r,i){Ms.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,s){const a=this._workIndex*s;Ms.multiplyQuaternionsFlat(e,a,e,n,e,r),Ms.slerpFlat(e,n,e,n,e,a,i)}_lerp(e,n,r,i,s){const a=1-i;for(let l=0;l!==s;++l){const c=n+l;e[c]=e[c]*a+e[r+l]*i}}_lerpAdditive(e,n,r,i,s){for(let a=0;a!==s;++a){const l=n+a;e[l]=e[l]+e[r+a]*i}}}const pU="\\[\\]\\.:\\/",mHe=new RegExp("["+pU+"]","g"),gU="[^"+pU+"]",pHe="[^"+pU.replace("\\.","")+"]",gHe=/((?:WC+[\/:])*)/.source.replace("WC",gU),vHe=/(WCOD+)?/.source.replace("WCOD",pHe),xHe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",gU),yHe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",gU),bHe=new RegExp("^"+gHe+vHe+xHe+yHe+"$"),wHe=["material","materials","bones","map"];class _He{constructor(e,n,r){const i=r||Sn.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class Sn{constructor(e,n,r){this.path=n,this.parsedPath=r||Sn.parseTrackName(n),this.node=Sn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new Sn.Composite(e,n,r):new Sn(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(mHe,"")}static parseTrackName(e){const n=bHe.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);wHe.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(s){for(let a=0;a<s.length;a++){const l=s[a];if(l.name===n||l.uuid===n)return l;const c=r(l.children);if(c)return c}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let s=n.propertyIndex;if(e||(e=Sn.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let u=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let d=0;d<e.length;d++)if(e[d].name===u){u=d;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const a=e[i];if(a===void 0){const u=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e);return}let l=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?l=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(l=this.Versioning.MatrixWorldNeedsUpdate);let c=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}c=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=s}else a.fromArray!==void 0&&a.toArray!==void 0?(c=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(c=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=i;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Sn.Composite=_He;Sn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Sn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Sn.prototype.GetterByBindingType=[Sn.prototype._getValue_direct,Sn.prototype._getValue_array,Sn.prototype._getValue_arrayElement,Sn.prototype._getValue_toArray];Sn.prototype.SetterByBindingTypeAndVersioning=[[Sn.prototype._setValue_direct,Sn.prototype._setValue_direct_setNeedsUpdate,Sn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Sn.prototype._setValue_array,Sn.prototype._setValue_array_setNeedsUpdate,Sn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Sn.prototype._setValue_arrayElement,Sn.prototype._setValue_arrayElement_setNeedsUpdate,Sn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Sn.prototype._setValue_fromArray,Sn.prototype._setValue_fromArray_setNeedsUpdate,Sn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class SHe{constructor(){this.isAnimationObjectGroup=!0,this.uuid=io(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,a=s.length;let l,c=e.length,u=this.nCachedObjects_;for(let d=0,f=arguments.length;d!==f;++d){const h=arguments[d],m=h.uuid;let p=n[m];if(p===void 0){p=c++,n[m]=p,e.push(h);for(let x=0,v=a;x!==v;++x)s[x].push(new Sn(h,r[x],i[x]))}else if(p<u){l=e[p];const x=--u,v=e[x];n[v.uuid]=p,e[p]=v,n[m]=x,e[x]=h;for(let g=0,w=a;g!==w;++g){const _=s[g],E=_[x];let N=_[p];_[p]=E,N===void 0&&(N=new Sn(h,r[g],i[g])),_[x]=N}}else e[p]!==l&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],u=c.uuid,d=n[u];if(d!==void 0&&d>=s){const f=s++,h=e[f];n[h.uuid]=d,e[d]=h,n[u]=f,e[f]=c;for(let m=0,p=i;m!==p;++m){const x=r[m],v=x[f],g=x[d];x[d]=v,x[f]=g}}}this.nCachedObjects_=s}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,a=e.length;for(let l=0,c=arguments.length;l!==c;++l){const u=arguments[l],d=u.uuid,f=n[d];if(f!==void 0)if(delete n[d],f<s){const h=--s,m=e[h],p=--a,x=e[p];n[m.uuid]=f,e[f]=m,n[x.uuid]=h,e[h]=x,e.pop();for(let v=0,g=i;v!==g;++v){const w=r[v],_=w[h],E=w[p];w[f]=_,w[h]=E,w.pop()}}else{const h=--a,m=e[h];h>0&&(n[m.uuid]=f),e[f]=m,e.pop();for(let p=0,x=i;p!==x;++p){const v=r[p];v[f]=v[h],v.pop()}}}this.nCachedObjects_=s}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const a=this._paths,l=this._parsedPaths,c=this._objects,u=c.length,d=this.nCachedObjects_,f=new Array(u);i=s.length,r[e]=i,a.push(e),l.push(n),s.push(f);for(let h=d,m=c.length;h!==m;++h){const p=c[h];f[h]=new Sn(p,e,n)}return f}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,a=this._bindings,l=a.length-1,c=a[l],u=e[l];n[u]=r,a[r]=c,a.pop(),s[r]=s[l],s.pop(),i[r]=i[l],i.pop()}}}class Ale{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const s=n.tracks,a=s.length,l=new Array(a),c={endingStart:Yh,endingEnd:Yh};for(let u=0;u!==a;++u){const d=s[u].createInterpolant(null);l[u]=d,d.settings=c}this._interpolantSettings=c,this._interpolants=l,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=xoe,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r=!1){if(e.fadeOut(n),this.fadeIn(n),r===!0){const i=this._clip.duration,s=e._clip.duration,a=s/i,l=i/s;e.warp(1,a,n),this.warp(l,1,n)}return this}crossFadeTo(e,n,r=!1){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,s=i.time,a=this.timeScale;let l=this._timeScaleInterpolant;l===null&&(l=i._lendControlInterpolant(),this._timeScaleInterpolant=l);const c=l.parameterPositions,u=l.sampleValues;return c[0]=s,c[1]=s+r,u[0]=e/a,u[1]=n/a,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const c=(e-s)*r;c<0||r===0?n=0:(this._startTime=null,n=r*c)}n*=this._updateTimeScale(e);const a=this._updateTime(n),l=this._updateWeight(e);if(l>0){const c=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case zF:for(let d=0,f=c.length;d!==f;++d)c[d].evaluate(a),u[d].accumulateAdditive(l);break;case _j:default:for(let d=0,f=c.length;d!==f;++d)c[d].evaluate(a),u[d].accumulate(i,l)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const a=r===yoe;if(e===0)return s===-1?i:a&&(s&1)===1?n-i:i;if(r===voe){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),i>=n||i<0){const l=Math.floor(i/n);i-=n*l,s+=Math.abs(l);const c=this.repetitions-s;if(c<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(c===1){const u=e<0;this._setEndings(u,!u,a)}else this._setEndings(!1,!1,a);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:l})}}else this.time=i;if(a&&(s&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=Zh,i.endingEnd=Zh):(e?i.endingStart=this.zeroSlopeAtStart?Zh:Yh:i.endingStart=Ob,n?i.endingEnd=this.zeroSlopeAtEnd?Zh:Yh:i.endingEnd=Ob)}_scheduleFading(e,n,r){const i=this._mixer,s=i.time;let a=this._weightInterpolant;a===null&&(a=i._lendControlInterpolant(),this._weightInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,c[0]=n,l[1]=s+e,c[1]=r,this}}const EHe=new Float32Array(1);class NHe extends Ic{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,a=e._propertyBindings,l=e._interpolants,c=r.uuid,u=this._bindingsByRootAndName;let d=u[c];d===void 0&&(d={},u[c]=d);for(let f=0;f!==s;++f){const h=i[f],m=h.name;let p=d[m];if(p!==void 0)++p.referenceCount,a[f]=p;else{if(p=a[f],p!==void 0){p._cacheIndex===null&&(++p.referenceCount,this._addInactiveBinding(p,c,m));continue}const x=n&&n._propertyBindings[f].binding.parsedPath;p=new jle(Sn.create(r,m,x),h.ValueTypeName,h.getValueSize()),++p.referenceCount,this._addInactiveBinding(p,c,m),a[f]=p}l[f].resultBuffer=p.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,s=this._actionsByClip;let a=s[n];if(a===void 0)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[n]=a;else{const l=a.knownActions;e._byClipCacheIndex=l.length,l.push(e)}e._cacheIndex=i.length,i.push(e),a.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const s=e._clip.uuid,a=this._actionsByClip,l=a[s],c=l.knownActions,u=c[c.length-1],d=e._byClipCacheIndex;u._byClipCacheIndex=d,c[d]=u,c.pop(),e._byClipCacheIndex=null;const f=l.actionByRoot,h=(e._localRoot||this._root).uuid;delete f[h],c.length===0&&delete a[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,s=this._bindings;let a=i[n];a===void 0&&(a={},i[n]=a),a[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,a=this._bindingsByRootAndName,l=a[i],c=n[n.length-1],u=e._cacheIndex;c._cacheIndex=u,n[u]=c,n.pop(),delete l[s],Object.keys(l).length===0&&delete a[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new lU(new Float32Array(2),new Float32Array(2),1,EHe),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=n[i];e.__cacheIndex=i,n[i]=e,s.__cacheIndex=r,n[r]=s}clipAction(e,n,r){const i=n||this._root,s=i.uuid;let a=typeof e=="string"?$b.findByName(i,e):e;const l=a!==null?a.uuid:e,c=this._actionsByClip[l];let u=null;if(r===void 0&&(a!==null?r=a.blendMode:r=_j),c!==void 0){const f=c.actionByRoot[s];if(f!==void 0&&f.blendMode===r)return f;u=c.knownActions[0],a===null&&(a=u._clip)}if(a===null)return null;const d=new Ale(this,a,n,r);return this._bindAction(d,u),this._addInactiveAction(d,l,s),d}existingAction(e,n){const r=n||this._root,i=r.uuid,s=typeof e=="string"?$b.findByName(r,e):e,a=s?s.uuid:e,l=this._actionsByClip[a];return l!==void 0&&l.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),a=this._accuIndex^=1;for(let u=0;u!==r;++u)n[u]._update(i,e,s,a);const l=this._bindings,c=this._nActiveBindings;for(let u=0;u!==c;++u)l[u].apply(a);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const a=s.knownActions;for(let l=0,c=a.length;l!==c;++l){const u=a[l];this._deactivateAction(u);const d=u._cacheIndex,f=n[n.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,f._cacheIndex=d,n[d]=f,n.pop(),this._removeInactiveBindingsForAction(u)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const a in r){const l=r[a].actionByRoot,c=l[n];c!==void 0&&(this._deactivateAction(c),this._removeInactiveAction(c))}const i=this._bindingsByRootAndName,s=i[n];if(s!==void 0)for(const a in s){const l=s[a];l.restoreOriginalState(),this._removeInactiveBinding(l)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class MHe extends HF{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isRenderTarget3D=!0,this.depth=r,this.texture=new Ej(null,e,n,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class vU{constructor(e){this.value=e}clone(){return new vU(this.value.clone===void 0?this.value:this.value.clone())}}let CHe=0;class jHe extends Ic{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:CHe++}),this.name="",this.usage=Ib,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++){const s=Array.isArray(n[r])?n[r]:[n[r]];for(let a=0;a<s.length;a++)this.uniforms.push(s[a].clone())}return this}clone(){return new this.constructor().copy(this)}}class AHe extends Cj{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class THe{constructor(e,n,r,i,s,a=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=s,this.normalized=a,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const yH=new Vt;class Tle{constructor(e,n,r=0,i=1/0){this.ray=new lp(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new xm,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}setFromXRController(e){return yH.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(yH),this}intersectObject(e,n=!0,r=[]){return AD(e,this,r,n),r.sort(bH),r}intersectObjects(e,n=!0,r=[]){for(let i=0,s=e.length;i<s;i++)AD(e[i],this,r,n);return r.sort(bH),r}}function bH(t,e){return t.distance-e.distance}function AD(t,e,n,r){let i=!0;if(t.layers.test(e.layers)&&t.raycast(e,n)===!1&&(i=!1),i===!0&&r===!0){const s=t.children;for(let a=0,l=s.length;a<l;a++)AD(s[a],e,n,!0)}}class TD{constructor(e=1,n=0,r=0){this.radius=e,this.phi=n,this.theta=r}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Zt(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Zt(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class PHe{constructor(e=1,n=0,r=0){this.radius=e,this.theta=n,this.y=r}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}class xU{constructor(e,n,r,i){xU.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,n,r,i)}identity(){return this.set(1,0,0,1),this}fromArray(e,n=0){for(let r=0;r<4;r++)this.elements[r]=e[r+n];return this}set(e,n,r,i){const s=this.elements;return s[0]=e,s[2]=n,s[1]=r,s[3]=i,this}}const wH=new Ge;class kHe{constructor(e=new Ge(1/0,1/0),n=new Ge(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=wH.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,wH).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const _H=new J,CS=new J;class RHe{constructor(e=new J,n=new J){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){_H.subVectors(e,this.start),CS.subVectors(this.end,this.start);const r=CS.dot(CS);let s=CS.dot(_H)/r;return n&&(s=Zt(s,0,1)),s}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const SH=new J;class OHe extends Mn{constructor(e,n){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new cn,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,l=1,c=32;a<c;a++,l++){const u=a/c*Math.PI*2,d=l/c*Math.PI*2;i.push(Math.cos(u),Math.sin(u),1,Math.cos(d),Math.sin(d),1)}r.setAttribute("position",new Rt(i,3));const s=new ia({fog:!1,toneMapped:!1});this.cone=new Lc(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),SH.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(SH),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Nd=new J,jS=new Vt,nk=new Vt;class DHe extends Lc{constructor(e){const n=Ple(e),r=new cn,i=[],s=[],a=new wt(0,0,1),l=new wt(0,1,0);for(let u=0;u<n.length;u++){const d=n[u];d.parent&&d.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(a.r,a.g,a.b),s.push(l.r,l.g,l.b))}r.setAttribute("position",new Rt(i,3)),r.setAttribute("color",new Rt(s,3));const c=new ia({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,c),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");nk.copy(this.root.matrixWorld).invert();for(let s=0,a=0;s<n.length;s++){const l=n[s];l.parent&&l.parent.isBone&&(jS.multiplyMatrices(nk,l.matrixWorld),Nd.setFromMatrixPosition(jS),i.setXYZ(a,Nd.x,Nd.y,Nd.z),jS.multiplyMatrices(nk,l.parent.matrixWorld),Nd.setFromMatrixPosition(jS),i.setXYZ(a+1,Nd.x,Nd.y,Nd.z),a+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function Ple(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push(...Ple(t.children[n]));return e}class IHe extends _r{constructor(e,n,r){const i=new t1(n,4,2),s=new Qu({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const LHe=new J,EH=new wt,NH=new wt;class FHe extends Mn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new e1(n);i.rotateY(Math.PI*.5),this.material=new Qu({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),a=new Float32Array(s.count*3);i.setAttribute("color",new Gn(a,3)),this.add(new _r(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");EH.copy(this.light.color),NH.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const s=r<i/2?EH:NH;n.setXYZ(r,s.r,s.g,s.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(LHe.setFromMatrixPosition(this.light.matrixWorld).negate())}}class UHe extends Lc{constructor(e=10,n=10,r=4473924,i=8947848){r=new wt(r),i=new wt(i);const s=n/2,a=e/n,l=e/2,c=[],u=[];for(let h=0,m=0,p=-l;h<=n;h++,p+=a){c.push(-l,0,p,l,0,p),c.push(p,0,-l,p,0,l);const x=h===s?r:i;x.toArray(u,m),m+=3,x.toArray(u,m),m+=3,x.toArray(u,m),m+=3,x.toArray(u,m),m+=3}const d=new cn;d.setAttribute("position",new Rt(c,3)),d.setAttribute("color",new Rt(u,3));const f=new ia({vertexColors:!0,toneMapped:!1});super(d,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class BHe extends Lc{constructor(e=10,n=16,r=8,i=64,s=4473924,a=8947848){s=new wt(s),a=new wt(a);const l=[],c=[];if(n>1)for(let f=0;f<n;f++){const h=f/n*(Math.PI*2),m=Math.sin(h)*e,p=Math.cos(h)*e;l.push(0,0,0),l.push(m,0,p);const x=f&1?s:a;c.push(x.r,x.g,x.b),c.push(x.r,x.g,x.b)}for(let f=0;f<r;f++){const h=f&1?s:a,m=e-e/r*f;for(let p=0;p<i;p++){let x=p/i*(Math.PI*2),v=Math.sin(x)*m,g=Math.cos(x)*m;l.push(v,0,g),c.push(h.r,h.g,h.b),x=(p+1)/i*(Math.PI*2),v=Math.sin(x)*m,g=Math.cos(x)*m,l.push(v,0,g),c.push(h.r,h.g,h.b)}}const u=new cn;u.setAttribute("position",new Rt(l,3)),u.setAttribute("color",new Rt(c,3));const d=new ia({vertexColors:!0,toneMapped:!1});super(u,d),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const MH=new J,AS=new J,CH=new J;class zHe extends Mn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new cn;i.setAttribute("position",new Rt([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const s=new ia({fog:!1,toneMapped:!1});this.lightPlane=new _f(i,s),this.add(this.lightPlane),i=new cn,i.setAttribute("position",new Rt([0,0,0,0,0,1],3)),this.targetLine=new _f(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),MH.setFromMatrixPosition(this.light.matrixWorld),AS.setFromMatrixPosition(this.light.target.matrixWorld),CH.subVectors(AS,MH),this.lightPlane.lookAt(AS),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(AS),this.targetLine.scale.z=CH.length()}}const TS=new J,jr=new Yw;class VHe extends Lc{constructor(e){const n=new cn,r=new ia({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],a={};l("n1","n2"),l("n2","n4"),l("n4","n3"),l("n3","n1"),l("f1","f2"),l("f2","f4"),l("f4","f3"),l("f3","f1"),l("n1","f1"),l("n2","f2"),l("n3","f3"),l("n4","f4"),l("p","n1"),l("p","n2"),l("p","n3"),l("p","n4"),l("u1","u2"),l("u2","u3"),l("u3","u1"),l("c","t"),l("p","c"),l("cn1","cn2"),l("cn3","cn4"),l("cf1","cf2"),l("cf3","cf4");function l(p,x){c(p),c(x)}function c(p){i.push(0,0,0),s.push(0,0,0),a[p]===void 0&&(a[p]=[]),a[p].push(i.length/3-1)}n.setAttribute("position",new Rt(i,3)),n.setAttribute("color",new Rt(s,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();const u=new wt(16755200),d=new wt(16711680),f=new wt(43775),h=new wt(16777215),m=new wt(3355443);this.setColors(u,d,f,h,m)}setColors(e,n,r,i,s){const l=this.geometry.getAttribute("color");l.setXYZ(0,e.r,e.g,e.b),l.setXYZ(1,e.r,e.g,e.b),l.setXYZ(2,e.r,e.g,e.b),l.setXYZ(3,e.r,e.g,e.b),l.setXYZ(4,e.r,e.g,e.b),l.setXYZ(5,e.r,e.g,e.b),l.setXYZ(6,e.r,e.g,e.b),l.setXYZ(7,e.r,e.g,e.b),l.setXYZ(8,e.r,e.g,e.b),l.setXYZ(9,e.r,e.g,e.b),l.setXYZ(10,e.r,e.g,e.b),l.setXYZ(11,e.r,e.g,e.b),l.setXYZ(12,e.r,e.g,e.b),l.setXYZ(13,e.r,e.g,e.b),l.setXYZ(14,e.r,e.g,e.b),l.setXYZ(15,e.r,e.g,e.b),l.setXYZ(16,e.r,e.g,e.b),l.setXYZ(17,e.r,e.g,e.b),l.setXYZ(18,e.r,e.g,e.b),l.setXYZ(19,e.r,e.g,e.b),l.setXYZ(20,e.r,e.g,e.b),l.setXYZ(21,e.r,e.g,e.b),l.setXYZ(22,e.r,e.g,e.b),l.setXYZ(23,e.r,e.g,e.b),l.setXYZ(24,n.r,n.g,n.b),l.setXYZ(25,n.r,n.g,n.b),l.setXYZ(26,n.r,n.g,n.b),l.setXYZ(27,n.r,n.g,n.b),l.setXYZ(28,n.r,n.g,n.b),l.setXYZ(29,n.r,n.g,n.b),l.setXYZ(30,n.r,n.g,n.b),l.setXYZ(31,n.r,n.g,n.b),l.setXYZ(32,r.r,r.g,r.b),l.setXYZ(33,r.r,r.g,r.b),l.setXYZ(34,r.r,r.g,r.b),l.setXYZ(35,r.r,r.g,r.b),l.setXYZ(36,r.r,r.g,r.b),l.setXYZ(37,r.r,r.g,r.b),l.setXYZ(38,i.r,i.g,i.b),l.setXYZ(39,i.r,i.g,i.b),l.setXYZ(40,s.r,s.g,s.b),l.setXYZ(41,s.r,s.g,s.b),l.setXYZ(42,s.r,s.g,s.b),l.setXYZ(43,s.r,s.g,s.b),l.setXYZ(44,s.r,s.g,s.b),l.setXYZ(45,s.r,s.g,s.b),l.setXYZ(46,s.r,s.g,s.b),l.setXYZ(47,s.r,s.g,s.b),l.setXYZ(48,s.r,s.g,s.b),l.setXYZ(49,s.r,s.g,s.b),l.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;jr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const s=this.camera.coordinateSystem===Uo?-1:0;Fr("c",n,e,jr,0,0,s),Fr("t",n,e,jr,0,0,1),Fr("n1",n,e,jr,-r,-i,s),Fr("n2",n,e,jr,r,-i,s),Fr("n3",n,e,jr,-r,i,s),Fr("n4",n,e,jr,r,i,s),Fr("f1",n,e,jr,-r,-i,1),Fr("f2",n,e,jr,r,-i,1),Fr("f3",n,e,jr,-r,i,1),Fr("f4",n,e,jr,r,i,1),Fr("u1",n,e,jr,r*.7,i*1.1,s),Fr("u2",n,e,jr,-r*.7,i*1.1,s),Fr("u3",n,e,jr,0,i*2,s),Fr("cf1",n,e,jr,-r,0,1),Fr("cf2",n,e,jr,r,0,1),Fr("cf3",n,e,jr,0,-i,1),Fr("cf4",n,e,jr,0,i,1),Fr("cn1",n,e,jr,-r,0,s),Fr("cn2",n,e,jr,r,0,s),Fr("cn3",n,e,jr,0,-i,s),Fr("cn4",n,e,jr,0,i,s),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Fr(t,e,n,r,i,s,a){TS.set(i,s,a).unproject(r);const l=e[t];if(l!==void 0){const c=n.getAttribute("position");for(let u=0,d=l.length;u<d;u++)c.setXYZ(l[u],TS.x,TS.y,TS.z)}}const PS=new Li;class WHe extends Lc{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new cn;s.setIndex(new Gn(r,1)),s.setAttribute("position",new Gn(i,3)),super(s,new ia({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&PS.setFromObject(this.object),PS.isEmpty())return;const e=PS.min,n=PS.max,r=this.geometry.attributes.position,i=r.array;i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=e.x,i[4]=n.y,i[5]=n.z,i[6]=e.x,i[7]=e.y,i[8]=n.z,i[9]=n.x,i[10]=e.y,i[11]=n.z,i[12]=n.x,i[13]=n.y,i[14]=e.z,i[15]=e.x,i[16]=n.y,i[17]=e.z,i[18]=e.x,i[19]=e.y,i[20]=e.z,i[21]=n.x,i[22]=e.y,i[23]=e.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class $He extends Lc{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new cn;s.setIndex(new Gn(r,1)),s.setAttribute("position",new Rt(i,3)),super(s,new ia({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class HHe extends _f{constructor(e,n=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],a=new cn;a.setAttribute("position",new Rt(s,3)),a.computeBoundingSphere(),super(a,new ia({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const l=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],c=new cn;c.setAttribute("position",new Rt(l,3)),c.computeBoundingSphere(),this.add(new _r(c,new Qu({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const jH=new J;let kS,rk;class GHe extends Mn{constructor(e=new J(0,0,1),n=new J(0,0,0),r=1,i=16776960,s=r*.2,a=s*.2){super(),this.type="ArrowHelper",kS===void 0&&(kS=new cn,kS.setAttribute("position",new Rt([0,0,0,0,1,0],3)),rk=new Jw(.5,1,5,1),rk.translate(0,-.5,0)),this.position.copy(n),this.line=new _f(kS,new ia({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new _r(rk,new Qu({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,a)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{jH.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(jH,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class qHe extends Lc{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new cn;i.setAttribute("position",new Rt(n,3)),i.setAttribute("color",new Rt(r,3));const s=new ia({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,n,r){const i=new wt,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(n),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class KHe{constructor(){this.type="ShapePath",this.color=new wt,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new UM,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,s,a){return this.currentPath.bezierCurveTo(e,n,r,i,s,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(g){const w=[];for(let _=0,E=g.length;_<E;_++){const N=g[_],C=new ym;C.curves=N.curves,w.push(C)}return w}function r(g,w){const _=w.length;let E=!1;for(let N=_-1,C=0;C<_;N=C++){let j=w[N],T=w[C],A=T.x-j.x,P=T.y-j.y;if(Math.abs(P)>Number.EPSILON){if(P<0&&(j=w[C],A=-A,T=w[N],P=-P),g.y<j.y||g.y>T.y)continue;if(g.y===j.y){if(g.x===j.x)return!0}else{const R=P*(g.x-j.x)-A*(g.y-j.y);if(R===0)return!0;if(R<0)continue;E=!E}}else{if(g.y!==j.y)continue;if(T.x<=g.x&&g.x<=j.x||j.x<=g.x&&g.x<=T.x)return!0}}return E}const i=Nl.isClockWise,s=this.subPaths;if(s.length===0)return[];let a,l,c;const u=[];if(s.length===1)return l=s[0],c=new ym,c.curves=l.curves,u.push(c),u;let d=!i(s[0].getPoints());d=e?!d:d;const f=[],h=[];let m=[],p=0,x;h[p]=void 0,m[p]=[];for(let g=0,w=s.length;g<w;g++)l=s[g],x=l.getPoints(),a=i(x),a=e?!a:a,a?(!d&&h[p]&&p++,h[p]={s:new ym,p:x},h[p].s.curves=l.curves,d&&p++,m[p]=[]):m[p].push({h:l,p:x[0]});if(!h[0])return n(s);if(h.length>1){let g=!1,w=0;for(let _=0,E=h.length;_<E;_++)f[_]=[];for(let _=0,E=h.length;_<E;_++){const N=m[_];for(let C=0;C<N.length;C++){const j=N[C];let T=!0;for(let A=0;A<h.length;A++)r(j.p,h[A].p)&&(_!==A&&w++,T?(T=!1,f[A].push(j)):g=!0);T&&f[_].push(j)}}w>0&&g===!1&&(m=f)}let v;for(let g=0,w=h.length;g<w;g++){c=h[g].s,u.push(c),v=m[g];for(let _=0,E=v.length;_<E;_++)c.holes.push(v[_].h)}return u}}class XHe extends Ic{constructor(e,n=null){super(),this.object=e,this.domElement=n,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){console.warn("THREE.Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function YHe(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2):(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0),t}function ZHe(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0):(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2),t}function QHe(t){return t.repeat.x=1,t.repeat.y=1,t.offset.x=0,t.offset.y=0,t}function PD(t,e,n,r){const i=JHe(r);switch(n){case LF:return t*e;case yj:return t*e/i.components*i.byteLength;case Xw:return t*e/i.components*i.byteLength;case UF:return t*e*2/i.components*i.byteLength;case bj:return t*e*2/i.components*i.byteLength;case FF:return t*e*3/i.components*i.byteLength;case _s:return t*e*4/i.components*i.byteLength;case wj:return t*e*4/i.components*i.byteLength;case w0:case _0:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case S0:case E0:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case uM:case fM:return Math.max(t,16)*Math.max(e,8)/4;case cM:case dM:return Math.max(t,8)*Math.max(e,8)/2;case hM:case mM:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case pM:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case gM:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case vM:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case xM:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case yM:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case bM:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case wM:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case _M:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case SM:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case EM:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case NM:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case MM:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case CM:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case jM:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case AM:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case N0:case TM:case PM:return Math.ceil(t/4)*Math.ceil(e/4)*16;case BF:case kM:return Math.ceil(t/4)*Math.ceil(e/4)*8;case RM:case OM:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function JHe(t){switch(t){case Xo:case OF:return{byteLength:1,components:1};case Lv:case DF:case wx:return{byteLength:2,components:1};case vj:case xj:return{byteLength:2,components:4};case Lu:case gj:case Na:return{byteLength:4,components:1};case IF:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}class eGe{static contain(e,n){return YHe(e,n)}static cover(e,n){return ZHe(e,n)}static fill(e){return QHe(e)}static getByteLength(e,n,r,i){return PD(e,n,r,i)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:hj}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=hj);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function kle(){let t=null,e=!1,n=null,r=null;function i(s,a){n(s,a),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function tGe(t){const e=new WeakMap;function n(l,c){const u=l.array,d=l.usage,f=u.byteLength,h=t.createBuffer();t.bindBuffer(c,h),t.bufferData(c,u,d),l.onUploadCallback();let m;if(u instanceof Float32Array)m=t.FLOAT;else if(typeof Float16Array<"u"&&u instanceof Float16Array)m=t.HALF_FLOAT;else if(u instanceof Uint16Array)l.isFloat16BufferAttribute?m=t.HALF_FLOAT:m=t.UNSIGNED_SHORT;else if(u instanceof Int16Array)m=t.SHORT;else if(u instanceof Uint32Array)m=t.UNSIGNED_INT;else if(u instanceof Int32Array)m=t.INT;else if(u instanceof Int8Array)m=t.BYTE;else if(u instanceof Uint8Array)m=t.UNSIGNED_BYTE;else if(u instanceof Uint8ClampedArray)m=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+u);return{buffer:h,type:m,bytesPerElement:u.BYTES_PER_ELEMENT,version:l.version,size:f}}function r(l,c,u){const d=c.array,f=c.updateRanges;if(t.bindBuffer(u,l),f.length===0)t.bufferSubData(u,0,d);else{f.sort((m,p)=>m.start-p.start);let h=0;for(let m=1;m<f.length;m++){const p=f[h],x=f[m];x.start<=p.start+p.count+1?p.count=Math.max(p.count,x.start+x.count-p.start):(++h,f[h]=x)}f.length=h+1;for(let m=0,p=f.length;m<p;m++){const x=f[m];t.bufferSubData(u,x.start*d.BYTES_PER_ELEMENT,d,x.start,x.count)}c.clearUpdateRanges()}c.onUploadCallback()}function i(l){return l.isInterleavedBufferAttribute&&(l=l.data),e.get(l)}function s(l){l.isInterleavedBufferAttribute&&(l=l.data);const c=e.get(l);c&&(t.deleteBuffer(c.buffer),e.delete(l))}function a(l,c){if(l.isInterleavedBufferAttribute&&(l=l.data),l.isGLBufferAttribute){const d=e.get(l);(!d||d.version<l.version)&&e.set(l,{buffer:l.buffer,type:l.type,bytesPerElement:l.elementSize,version:l.version});return}const u=e.get(l);if(u===void 0)e.set(l,n(l,c));else if(u.version<l.version){if(u.size!==l.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(u.buffer,l,c),u.version=l.version}}return{get:i,remove:s,update:a}}var nGe=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,rGe=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,iGe=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,sGe=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,aGe=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,oGe=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,lGe=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,cGe=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,uGe=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,dGe=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,fGe=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,hGe=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,mGe=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,pGe=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,gGe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,vGe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,xGe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,yGe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,bGe=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,wGe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,_Ge=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,SGe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,EGe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,NGe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,MGe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,CGe=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,jGe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,AGe=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,TGe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,PGe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,kGe="gl_FragColor = linearToOutputTexel( gl_FragColor );",RGe=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,OGe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,DGe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,IGe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,LGe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,FGe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,UGe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,BGe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,zGe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,VGe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,WGe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,$Ge=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,HGe=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,GGe=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,qGe=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,KGe=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,XGe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,YGe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,ZGe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,QGe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,JGe=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,e9e=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,t9e=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,n9e=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,r9e=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,i9e=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,s9e=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,a9e=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,o9e=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,l9e=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,c9e=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,u9e=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,d9e=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,f9e=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,h9e=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,m9e=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,p9e=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,g9e=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,v9e=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,x9e=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,y9e=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,b9e=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,w9e=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,_9e=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,S9e=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,E9e=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,N9e=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,M9e=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,C9e=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,j9e=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,A9e=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,T9e=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,P9e=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,k9e=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,R9e=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,O9e=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,D9e=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,I9e=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,L9e=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,F9e=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,U9e=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,B9e=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,z9e=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,V9e=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,W9e=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,$9e=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,H9e=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,G9e=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,q9e=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,K9e=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,X9e=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Y9e=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Z9e=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Q9e=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,J9e=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,e7e=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const t7e=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,n7e=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,r7e=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,i7e=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,s7e=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,a7e=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,o7e=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,l7e=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,c7e=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,u7e=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,d7e=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,f7e=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,h7e=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,m7e=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,p7e=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,g7e=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,v7e=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,x7e=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,y7e=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,b7e=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,w7e=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,_7e=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,S7e=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,E7e=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,N7e=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,M7e=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,C7e=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,j7e=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,A7e=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,T7e=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,P7e=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,k7e=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,R7e=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,O7e=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,an={alphahash_fragment:nGe,alphahash_pars_fragment:rGe,alphamap_fragment:iGe,alphamap_pars_fragment:sGe,alphatest_fragment:aGe,alphatest_pars_fragment:oGe,aomap_fragment:lGe,aomap_pars_fragment:cGe,batching_pars_vertex:uGe,batching_vertex:dGe,begin_vertex:fGe,beginnormal_vertex:hGe,bsdfs:mGe,iridescence_fragment:pGe,bumpmap_pars_fragment:gGe,clipping_planes_fragment:vGe,clipping_planes_pars_fragment:xGe,clipping_planes_pars_vertex:yGe,clipping_planes_vertex:bGe,color_fragment:wGe,color_pars_fragment:_Ge,color_pars_vertex:SGe,color_vertex:EGe,common:NGe,cube_uv_reflection_fragment:MGe,defaultnormal_vertex:CGe,displacementmap_pars_vertex:jGe,displacementmap_vertex:AGe,emissivemap_fragment:TGe,emissivemap_pars_fragment:PGe,colorspace_fragment:kGe,colorspace_pars_fragment:RGe,envmap_fragment:OGe,envmap_common_pars_fragment:DGe,envmap_pars_fragment:IGe,envmap_pars_vertex:LGe,envmap_physical_pars_fragment:KGe,envmap_vertex:FGe,fog_vertex:UGe,fog_pars_vertex:BGe,fog_fragment:zGe,fog_pars_fragment:VGe,gradientmap_pars_fragment:WGe,lightmap_pars_fragment:$Ge,lights_lambert_fragment:HGe,lights_lambert_pars_fragment:GGe,lights_pars_begin:qGe,lights_toon_fragment:XGe,lights_toon_pars_fragment:YGe,lights_phong_fragment:ZGe,lights_phong_pars_fragment:QGe,lights_physical_fragment:JGe,lights_physical_pars_fragment:e9e,lights_fragment_begin:t9e,lights_fragment_maps:n9e,lights_fragment_end:r9e,logdepthbuf_fragment:i9e,logdepthbuf_pars_fragment:s9e,logdepthbuf_pars_vertex:a9e,logdepthbuf_vertex:o9e,map_fragment:l9e,map_pars_fragment:c9e,map_particle_fragment:u9e,map_particle_pars_fragment:d9e,metalnessmap_fragment:f9e,metalnessmap_pars_fragment:h9e,morphinstance_vertex:m9e,morphcolor_vertex:p9e,morphnormal_vertex:g9e,morphtarget_pars_vertex:v9e,morphtarget_vertex:x9e,normal_fragment_begin:y9e,normal_fragment_maps:b9e,normal_pars_fragment:w9e,normal_pars_vertex:_9e,normal_vertex:S9e,normalmap_pars_fragment:E9e,clearcoat_normal_fragment_begin:N9e,clearcoat_normal_fragment_maps:M9e,clearcoat_pars_fragment:C9e,iridescence_pars_fragment:j9e,opaque_fragment:A9e,packing:T9e,premultiplied_alpha_fragment:P9e,project_vertex:k9e,dithering_fragment:R9e,dithering_pars_fragment:O9e,roughnessmap_fragment:D9e,roughnessmap_pars_fragment:I9e,shadowmap_pars_fragment:L9e,shadowmap_pars_vertex:F9e,shadowmap_vertex:U9e,shadowmask_pars_fragment:B9e,skinbase_vertex:z9e,skinning_pars_vertex:V9e,skinning_vertex:W9e,skinnormal_vertex:$9e,specularmap_fragment:H9e,specularmap_pars_fragment:G9e,tonemapping_fragment:q9e,tonemapping_pars_fragment:K9e,transmission_fragment:X9e,transmission_pars_fragment:Y9e,uv_pars_fragment:Z9e,uv_pars_vertex:Q9e,uv_vertex:J9e,worldpos_vertex:e7e,background_vert:t7e,background_frag:n7e,backgroundCube_vert:r7e,backgroundCube_frag:i7e,cube_vert:s7e,cube_frag:a7e,depth_vert:o7e,depth_frag:l7e,distanceRGBA_vert:c7e,distanceRGBA_frag:u7e,equirect_vert:d7e,equirect_frag:f7e,linedashed_vert:h7e,linedashed_frag:m7e,meshbasic_vert:p7e,meshbasic_frag:g7e,meshlambert_vert:v7e,meshlambert_frag:x7e,meshmatcap_vert:y7e,meshmatcap_frag:b7e,meshnormal_vert:w7e,meshnormal_frag:_7e,meshphong_vert:S7e,meshphong_frag:E7e,meshphysical_vert:N7e,meshphysical_frag:M7e,meshtoon_vert:C7e,meshtoon_frag:j7e,points_vert:A7e,points_frag:T7e,shadow_vert:P7e,shadow_frag:k7e,sprite_vert:R7e,sprite_frag:O7e},vt={common:{diffuse:{value:new wt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Yt},alphaMap:{value:null},alphaMapTransform:{value:new Yt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Yt}},envmap:{envMap:{value:null},envMapRotation:{value:new Yt},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Yt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Yt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Yt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Yt},normalScale:{value:new Ge(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Yt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Yt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Yt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Yt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new wt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new wt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Yt},alphaTest:{value:0},uvTransform:{value:new Yt}},sprite:{diffuse:{value:new wt(16777215)},opacity:{value:1},center:{value:new Ge(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Yt},alphaMap:{value:null},alphaMapTransform:{value:new Yt},alphaTest:{value:0}}},bl={basic:{uniforms:Fs([vt.common,vt.specularmap,vt.envmap,vt.aomap,vt.lightmap,vt.fog]),vertexShader:an.meshbasic_vert,fragmentShader:an.meshbasic_frag},lambert:{uniforms:Fs([vt.common,vt.specularmap,vt.envmap,vt.aomap,vt.lightmap,vt.emissivemap,vt.bumpmap,vt.normalmap,vt.displacementmap,vt.fog,vt.lights,{emissive:{value:new wt(0)}}]),vertexShader:an.meshlambert_vert,fragmentShader:an.meshlambert_frag},phong:{uniforms:Fs([vt.common,vt.specularmap,vt.envmap,vt.aomap,vt.lightmap,vt.emissivemap,vt.bumpmap,vt.normalmap,vt.displacementmap,vt.fog,vt.lights,{emissive:{value:new wt(0)},specular:{value:new wt(1118481)},shininess:{value:30}}]),vertexShader:an.meshphong_vert,fragmentShader:an.meshphong_frag},standard:{uniforms:Fs([vt.common,vt.envmap,vt.aomap,vt.lightmap,vt.emissivemap,vt.bumpmap,vt.normalmap,vt.displacementmap,vt.roughnessmap,vt.metalnessmap,vt.fog,vt.lights,{emissive:{value:new wt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:an.meshphysical_vert,fragmentShader:an.meshphysical_frag},toon:{uniforms:Fs([vt.common,vt.aomap,vt.lightmap,vt.emissivemap,vt.bumpmap,vt.normalmap,vt.displacementmap,vt.gradientmap,vt.fog,vt.lights,{emissive:{value:new wt(0)}}]),vertexShader:an.meshtoon_vert,fragmentShader:an.meshtoon_frag},matcap:{uniforms:Fs([vt.common,vt.bumpmap,vt.normalmap,vt.displacementmap,vt.fog,{matcap:{value:null}}]),vertexShader:an.meshmatcap_vert,fragmentShader:an.meshmatcap_frag},points:{uniforms:Fs([vt.points,vt.fog]),vertexShader:an.points_vert,fragmentShader:an.points_frag},dashed:{uniforms:Fs([vt.common,vt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:an.linedashed_vert,fragmentShader:an.linedashed_frag},depth:{uniforms:Fs([vt.common,vt.displacementmap]),vertexShader:an.depth_vert,fragmentShader:an.depth_frag},normal:{uniforms:Fs([vt.common,vt.bumpmap,vt.normalmap,vt.displacementmap,{opacity:{value:1}}]),vertexShader:an.meshnormal_vert,fragmentShader:an.meshnormal_frag},sprite:{uniforms:Fs([vt.sprite,vt.fog]),vertexShader:an.sprite_vert,fragmentShader:an.sprite_frag},background:{uniforms:{uvTransform:{value:new Yt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:an.background_vert,fragmentShader:an.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Yt}},vertexShader:an.backgroundCube_vert,fragmentShader:an.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:an.cube_vert,fragmentShader:an.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:an.equirect_vert,fragmentShader:an.equirect_frag},distanceRGBA:{uniforms:Fs([vt.common,vt.displacementmap,{referencePosition:{value:new J},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:an.distanceRGBA_vert,fragmentShader:an.distanceRGBA_frag},shadow:{uniforms:Fs([vt.lights,vt.fog,{color:{value:new wt(0)},opacity:{value:1}}]),vertexShader:an.shadow_vert,fragmentShader:an.shadow_frag}};bl.physical={uniforms:Fs([bl.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Yt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Yt},clearcoatNormalScale:{value:new Ge(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Yt},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Yt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Yt},sheen:{value:0},sheenColor:{value:new wt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Yt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Yt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Yt},transmissionSamplerSize:{value:new Ge},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Yt},attenuationDistance:{value:0},attenuationColor:{value:new wt(0)},specularColor:{value:new wt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Yt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Yt},anisotropyVector:{value:new Ge},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Yt}}]),vertexShader:an.meshphysical_vert,fragmentShader:an.meshphysical_frag};const RS={r:0,b:0,g:0},_h=new ho,D7e=new Vt;function I7e(t,e,n,r,i,s,a){const l=new wt(0);let c=s===!0?0:1,u,d,f=null,h=0,m=null;function p(_){let E=_.isScene===!0?_.background:null;return E&&E.isTexture&&(E=(_.backgroundBlurriness>0?n:e).get(E)),E}function x(_){let E=!1;const N=p(_);N===null?g(l,c):N&&N.isColor&&(g(N,1),E=!0);const C=t.xr.getEnvironmentBlendMode();C==="additive"?r.buffers.color.setClear(0,0,0,1,a):C==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,a),(t.autoClear||E)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function v(_,E){const N=p(E);N&&(N.isCubeTexture||N.mapping===bx)?(d===void 0&&(d=new _r(new cp(1,1,1),new Il({name:"BackgroundCubeMaterial",uniforms:Vv(bl.backgroundCube.uniforms),vertexShader:bl.backgroundCube.vertexShader,fragmentShader:bl.backgroundCube.fragmentShader,side:Zs,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),d.geometry.deleteAttribute("normal"),d.geometry.deleteAttribute("uv"),d.onBeforeRender=function(C,j,T){this.matrixWorld.copyPosition(T.matrixWorld)},Object.defineProperty(d.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(d)),_h.copy(E.backgroundRotation),_h.x*=-1,_h.y*=-1,_h.z*=-1,N.isCubeTexture&&N.isRenderTargetTexture===!1&&(_h.y*=-1,_h.z*=-1),d.material.uniforms.envMap.value=N,d.material.uniforms.flipEnvMap.value=N.isCubeTexture&&N.isRenderTargetTexture===!1?-1:1,d.material.uniforms.backgroundBlurriness.value=E.backgroundBlurriness,d.material.uniforms.backgroundIntensity.value=E.backgroundIntensity,d.material.uniforms.backgroundRotation.value.setFromMatrix4(D7e.makeRotationFromEuler(_h)),d.material.toneMapped=_n.getTransfer(N.colorSpace)!==Un,(f!==N||h!==N.version||m!==t.toneMapping)&&(d.material.needsUpdate=!0,f=N,h=N.version,m=t.toneMapping),d.layers.enableAll(),_.unshift(d,d.geometry,d.material,0,0,null)):N&&N.isTexture&&(u===void 0&&(u=new _r(new Ju(2,2),new Il({name:"BackgroundMaterial",uniforms:Vv(bl.background.uniforms),vertexShader:bl.background.vertexShader,fragmentShader:bl.background.fragmentShader,side:Du,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(u)),u.material.uniforms.t2D.value=N,u.material.uniforms.backgroundIntensity.value=E.backgroundIntensity,u.material.toneMapped=_n.getTransfer(N.colorSpace)!==Un,N.matrixAutoUpdate===!0&&N.updateMatrix(),u.material.uniforms.uvTransform.value.copy(N.matrix),(f!==N||h!==N.version||m!==t.toneMapping)&&(u.material.needsUpdate=!0,f=N,h=N.version,m=t.toneMapping),u.layers.enableAll(),_.unshift(u,u.geometry,u.material,0,0,null))}function g(_,E){_.getRGB(RS,Roe(t)),r.buffers.color.setClear(RS.r,RS.g,RS.b,E,a)}function w(){d!==void 0&&(d.geometry.dispose(),d.material.dispose(),d=void 0),u!==void 0&&(u.geometry.dispose(),u.material.dispose(),u=void 0)}return{getClearColor:function(){return l},setClearColor:function(_,E=1){l.set(_),c=E,g(l,c)},getClearAlpha:function(){return c},setClearAlpha:function(_){c=_,g(l,c)},render:x,addToRenderList:v,dispose:w}}function L7e(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),r={},i=h(null);let s=i,a=!1;function l(P,R,D,F,I){let G=!1;const q=f(F,D,R);s!==q&&(s=q,u(s.object)),G=m(P,F,D,I),G&&p(P,F,D,I),I!==null&&e.update(I,t.ELEMENT_ARRAY_BUFFER),(G||a)&&(a=!1,E(P,R,D,F),I!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(I).buffer))}function c(){return t.createVertexArray()}function u(P){return t.bindVertexArray(P)}function d(P){return t.deleteVertexArray(P)}function f(P,R,D){const F=D.wireframe===!0;let I=r[P.id];I===void 0&&(I={},r[P.id]=I);let G=I[R.id];G===void 0&&(G={},I[R.id]=G);let q=G[F];return q===void 0&&(q=h(c()),G[F]=q),q}function h(P){const R=[],D=[],F=[];for(let I=0;I<n;I++)R[I]=0,D[I]=0,F[I]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:R,enabledAttributes:D,attributeDivisors:F,object:P,attributes:{},index:null}}function m(P,R,D,F){const I=s.attributes,G=R.attributes;let q=0;const $=D.getAttributes();for(const L in $)if($[L].location>=0){const K=I[L];let W=G[L];if(W===void 0&&(L==="instanceMatrix"&&P.instanceMatrix&&(W=P.instanceMatrix),L==="instanceColor"&&P.instanceColor&&(W=P.instanceColor)),K===void 0||K.attribute!==W||W&&K.data!==W.data)return!0;q++}return s.attributesNum!==q||s.index!==F}function p(P,R,D,F){const I={},G=R.attributes;let q=0;const $=D.getAttributes();for(const L in $)if($[L].location>=0){let K=G[L];K===void 0&&(L==="instanceMatrix"&&P.instanceMatrix&&(K=P.instanceMatrix),L==="instanceColor"&&P.instanceColor&&(K=P.instanceColor));const W={};W.attribute=K,K&&K.data&&(W.data=K.data),I[L]=W,q++}s.attributes=I,s.attributesNum=q,s.index=F}function x(){const P=s.newAttributes;for(let R=0,D=P.length;R<D;R++)P[R]=0}function v(P){g(P,0)}function g(P,R){const D=s.newAttributes,F=s.enabledAttributes,I=s.attributeDivisors;D[P]=1,F[P]===0&&(t.enableVertexAttribArray(P),F[P]=1),I[P]!==R&&(t.vertexAttribDivisor(P,R),I[P]=R)}function w(){const P=s.newAttributes,R=s.enabledAttributes;for(let D=0,F=R.length;D<F;D++)R[D]!==P[D]&&(t.disableVertexAttribArray(D),R[D]=0)}function _(P,R,D,F,I,G,q){q===!0?t.vertexAttribIPointer(P,R,D,I,G):t.vertexAttribPointer(P,R,D,F,I,G)}function E(P,R,D,F){x();const I=F.attributes,G=D.getAttributes(),q=R.defaultAttributeValues;for(const $ in G){const L=G[$];if(L.location>=0){let V=I[$];if(V===void 0&&($==="instanceMatrix"&&P.instanceMatrix&&(V=P.instanceMatrix),$==="instanceColor"&&P.instanceColor&&(V=P.instanceColor)),V!==void 0){const K=V.normalized,W=V.itemSize,B=e.get(V);if(B===void 0)continue;const ee=B.buffer,Y=B.type,Q=B.bytesPerElement,de=Y===t.INT||Y===t.UNSIGNED_INT||V.gpuType===gj;if(V.isInterleavedBufferAttribute){const te=V.data,he=te.stride,oe=V.offset;if(te.isInstancedInterleavedBuffer){for(let fe=0;fe<L.locationSize;fe++)g(L.location+fe,te.meshPerAttribute);P.isInstancedMesh!==!0&&F._maxInstanceCount===void 0&&(F._maxInstanceCount=te.meshPerAttribute*te.count)}else for(let fe=0;fe<L.locationSize;fe++)v(L.location+fe);t.bindBuffer(t.ARRAY_BUFFER,ee);for(let fe=0;fe<L.locationSize;fe++)_(L.location+fe,W/L.locationSize,Y,K,he*Q,(oe+W/L.locationSize*fe)*Q,de)}else{if(V.isInstancedBufferAttribute){for(let te=0;te<L.locationSize;te++)g(L.location+te,V.meshPerAttribute);P.isInstancedMesh!==!0&&F._maxInstanceCount===void 0&&(F._maxInstanceCount=V.meshPerAttribute*V.count)}else for(let te=0;te<L.locationSize;te++)v(L.location+te);t.bindBuffer(t.ARRAY_BUFFER,ee);for(let te=0;te<L.locationSize;te++)_(L.location+te,W/L.locationSize,Y,K,W*Q,W/L.locationSize*te*Q,de)}}else if(q!==void 0){const K=q[$];if(K!==void 0)switch(K.length){case 2:t.vertexAttrib2fv(L.location,K);break;case 3:t.vertexAttrib3fv(L.location,K);break;case 4:t.vertexAttrib4fv(L.location,K);break;default:t.vertexAttrib1fv(L.location,K)}}}}w()}function N(){T();for(const P in r){const R=r[P];for(const D in R){const F=R[D];for(const I in F)d(F[I].object),delete F[I];delete R[D]}delete r[P]}}function C(P){if(r[P.id]===void 0)return;const R=r[P.id];for(const D in R){const F=R[D];for(const I in F)d(F[I].object),delete F[I];delete R[D]}delete r[P.id]}function j(P){for(const R in r){const D=r[R];if(D[P.id]===void 0)continue;const F=D[P.id];for(const I in F)d(F[I].object),delete F[I];delete D[P.id]}}function T(){A(),a=!0,s!==i&&(s=i,u(s.object))}function A(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:l,reset:T,resetDefaultState:A,dispose:N,releaseStatesOfGeometry:C,releaseStatesOfProgram:j,initAttributes:x,enableAttribute:v,disableUnusedAttributes:w}}function F7e(t,e,n){let r;function i(u){r=u}function s(u,d){t.drawArrays(r,u,d),n.update(d,r,1)}function a(u,d,f){f!==0&&(t.drawArraysInstanced(r,u,d,f),n.update(d,r,f))}function l(u,d,f){if(f===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,u,0,d,0,f);let m=0;for(let p=0;p<f;p++)m+=d[p];n.update(m,r,1)}function c(u,d,f,h){if(f===0)return;const m=e.get("WEBGL_multi_draw");if(m===null)for(let p=0;p<u.length;p++)a(u[p],d[p],h[p]);else{m.multiDrawArraysInstancedWEBGL(r,u,0,d,0,h,0,f);let p=0;for(let x=0;x<f;x++)p+=d[x]*h[x];n.update(p,r,1)}}this.setMode=i,this.render=s,this.renderInstances=a,this.renderMultiDraw=l,this.renderMultiDrawInstances=c}function U7e(t,e,n,r){let i;function s(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const j=e.get("EXT_texture_filter_anisotropic");i=t.getParameter(j.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function a(j){return!(j!==_s&&r.convert(j)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function l(j){const T=j===wx&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(j!==Xo&&r.convert(j)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&j!==Na&&!T)}function c(j){if(j==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";j="mediump"}return j==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let u=n.precision!==void 0?n.precision:"highp";const d=c(u);d!==u&&(console.warn("THREE.WebGLRenderer:",u,"not supported, using",d,"instead."),u=d);const f=n.logarithmicDepthBuffer===!0,h=n.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),m=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),p=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),x=t.getParameter(t.MAX_TEXTURE_SIZE),v=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),g=t.getParameter(t.MAX_VERTEX_ATTRIBS),w=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),_=t.getParameter(t.MAX_VARYING_VECTORS),E=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),N=p>0,C=t.getParameter(t.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:c,textureFormatReadable:a,textureTypeReadable:l,precision:u,logarithmicDepthBuffer:f,reverseDepthBuffer:h,maxTextures:m,maxVertexTextures:p,maxTextureSize:x,maxCubemapSize:v,maxAttributes:g,maxVertexUniforms:w,maxVaryings:_,maxFragmentUniforms:E,vertexTextures:N,maxSamples:C}}function B7e(t){const e=this;let n=null,r=0,i=!1,s=!1;const a=new au,l=new Yt,c={value:null,needsUpdate:!1};this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(f,h){const m=f.length!==0||h||r!==0||i;return i=h,r=f.length,m},this.beginShadows=function(){s=!0,d(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(f,h){n=d(f,h,0)},this.setState=function(f,h,m){const p=f.clippingPlanes,x=f.clipIntersection,v=f.clipShadows,g=t.get(f);if(!i||p===null||p.length===0||s&&!v)s?d(null):u();else{const w=s?0:r,_=w*4;let E=g.clippingState||null;c.value=E,E=d(p,h,_,m);for(let N=0;N!==_;++N)E[N]=n[N];g.clippingState=E,this.numIntersection=x?this.numPlanes:0,this.numPlanes+=w}};function u(){c.value!==n&&(c.value=n,c.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function d(f,h,m,p){const x=f!==null?f.length:0;let v=null;if(x!==0){if(v=c.value,p!==!0||v===null){const g=m+x*4,w=h.matrixWorldInverse;l.getNormalMatrix(w),(v===null||v.length<g)&&(v=new Float32Array(g));for(let _=0,E=m;_!==x;++_,E+=4)a.copy(f[_]).applyMatrix4(w,l),a.normal.toArray(v,E),v[E+3]=a.constant}c.value=v,c.needsUpdate=!0}return e.numPlanes=x,e.numIntersection=0,v}}function z7e(t){let e=new WeakMap;function n(a,l){return l===Ab?a.mapping=Iu:l===Tb&&(a.mapping=wf),a}function r(a){if(a&&a.isTexture){const l=a.mapping;if(l===Ab||l===Tb)if(e.has(a)){const c=e.get(a).texture;return n(c,a.mapping)}else{const c=a.image;if(c&&c.height>0){const u=new Doe(c.height);return u.fromEquirectangularTexture(t,a),e.set(a,u),a.addEventListener("dispose",i),n(u.texture,a.mapping)}else return null}}return a}function i(a){const l=a.target;l.removeEventListener("dispose",i);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}const Rg=4,AH=[.125,.215,.35,.446,.526,.582],Uh=20,ik=new cf,TH=new wt;let sk=null,ak=0,ok=0,lk=!1;const Ih=(1+Math.sqrt(5))/2,sg=1/Ih,PH=[new J(-Ih,sg,0),new J(Ih,sg,0),new J(-sg,0,Ih),new J(sg,0,Ih),new J(0,Ih,-sg),new J(0,Ih,sg),new J(-1,1,-1),new J(1,1,-1),new J(-1,1,1),new J(1,1,1)],V7e=new J;class kD{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100,s={}){const{size:a=256,position:l=V7e}=s;sk=this._renderer.getRenderTarget(),ak=this._renderer.getActiveCubeFace(),ok=this._renderer.getActiveMipmapLevel(),lk=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(a);const c=this._allocateTargets();return c.depthBuffer=!0,this._sceneToCubeUV(e,r,i,c,l),n>0&&this._blur(c,0,0,n),this._applyPMREM(c),this._cleanup(c),c}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=OH(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=RH(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(sk,ak,ok),this._renderer.xr.enabled=lk,e.scissorTest=!1,OS(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Iu||e.mapping===wf?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),sk=this._renderer.getRenderTarget(),ak=this._renderer.getActiveCubeFace(),ok=this._renderer.getActiveMipmapLevel(),lk=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:$r,minFilter:$r,generateMipmaps:!1,type:wx,format:_s,colorSpace:Vm,depthBuffer:!1},i=kH(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=kH(e,n,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=W7e(s)),this._blurMaterial=$7e(s,e,n)}return i}_compileMaterial(e){const n=new _r(this._lodPlanes[0],e);this._renderer.compile(n,ik)}_sceneToCubeUV(e,n,r,i,s){const c=new zr(90,1,n,r),u=[1,-1,1,1,1,1],d=[1,1,1,-1,-1,-1],f=this._renderer,h=f.autoClear,m=f.toneMapping;f.getClearColor(TH),f.toneMapping=_c,f.autoClear=!1;const p=new Qu({name:"PMREM.Background",side:Zs,depthWrite:!1,depthTest:!1}),x=new _r(new cp,p);let v=!1;const g=e.background;g?g.isColor&&(p.color.copy(g),e.background=null,v=!0):(p.color.copy(TH),v=!0);for(let w=0;w<6;w++){const _=w%3;_===0?(c.up.set(0,u[w],0),c.position.set(s.x,s.y,s.z),c.lookAt(s.x+d[w],s.y,s.z)):_===1?(c.up.set(0,0,u[w]),c.position.set(s.x,s.y,s.z),c.lookAt(s.x,s.y+d[w],s.z)):(c.up.set(0,u[w],0),c.position.set(s.x,s.y,s.z),c.lookAt(s.x,s.y,s.z+d[w]));const E=this._cubeSize;OS(i,_*E,w>2?E:0,E,E),f.setRenderTarget(i),v&&f.render(x,c),f.render(e,c)}x.geometry.dispose(),x.material.dispose(),f.toneMapping=m,f.autoClear=h,e.background=g}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===Iu||e.mapping===wf;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=OH()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=RH());const s=i?this._cubemapMaterial:this._equirectMaterial,a=new _r(this._lodPlanes[0],s),l=s.uniforms;l.envMap.value=e;const c=this._cubeSize;OS(n,0,0,3*c,2*c),r.setRenderTarget(n),r.render(a,ik)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;const i=this._lodPlanes.length;for(let s=1;s<i;s++){const a=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]),l=PH[(i-s-1)%PH.length];this._blur(e,s-1,s,a,l)}n.autoClear=r}_blur(e,n,r,i,s){const a=this._pingPongRenderTarget;this._halfBlur(e,a,n,r,i,"latitudinal",s),this._halfBlur(a,e,r,r,i,"longitudinal",s)}_halfBlur(e,n,r,i,s,a,l){const c=this._renderer,u=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const d=3,f=new _r(this._lodPlanes[i],u),h=u.uniforms,m=this._sizeLods[r]-1,p=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*Uh-1),x=s/p,v=isFinite(s)?1+Math.floor(d*x):Uh;v>Uh&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${v} samples when the maximum is set to ${Uh}`);const g=[];let w=0;for(let j=0;j<Uh;++j){const T=j/x,A=Math.exp(-T*T/2);g.push(A),j===0?w+=A:j<v&&(w+=2*A)}for(let j=0;j<g.length;j++)g[j]=g[j]/w;h.envMap.value=e.texture,h.samples.value=v,h.weights.value=g,h.latitudinal.value=a==="latitudinal",l&&(h.poleAxis.value=l);const{_lodMax:_}=this;h.dTheta.value=p,h.mipInt.value=_-r;const E=this._sizeLods[i],N=3*E*(i>_-Rg?i-_+Rg:0),C=4*(this._cubeSize-E);OS(n,N,C,3*E,2*E),c.setRenderTarget(n),c.render(f,ik)}}function W7e(t){const e=[],n=[],r=[];let i=t;const s=t-Rg+1+AH.length;for(let a=0;a<s;a++){const l=Math.pow(2,i);n.push(l);let c=1/l;a>t-Rg?c=AH[a-t+Rg-1]:a===0&&(c=0),r.push(c);const u=1/(l-2),d=-u,f=1+u,h=[d,d,f,d,f,f,d,d,f,f,d,f],m=6,p=6,x=3,v=2,g=1,w=new Float32Array(x*p*m),_=new Float32Array(v*p*m),E=new Float32Array(g*p*m);for(let C=0;C<m;C++){const j=C%3*2/3-1,T=C>2?0:-1,A=[j,T,0,j+2/3,T,0,j+2/3,T+1,0,j,T,0,j+2/3,T+1,0,j,T+1,0];w.set(A,x*p*C),_.set(h,v*p*C);const P=[C,C,C,C,C,C];E.set(P,g*p*C)}const N=new cn;N.setAttribute("position",new Gn(w,x)),N.setAttribute("uv",new Gn(_,v)),N.setAttribute("faceIndex",new Gn(E,g)),e.push(N),i>Rg&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function kH(t,e,n){const r=new Pc(t,e,n);return r.texture.mapping=bx,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function OS(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function $7e(t,e,n){const r=new Float32Array(Uh),i=new J(0,1,0);return new Il({name:"SphericalGaussianBlur",defines:{n:Uh,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:yU(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:yu,depthTest:!1,depthWrite:!1})}function RH(){return new Il({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:yU(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:yu,depthTest:!1,depthWrite:!1})}function OH(){return new Il({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:yU(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:yu,depthTest:!1,depthWrite:!1})}function yU(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function H7e(t){let e=new WeakMap,n=null;function r(l){if(l&&l.isTexture){const c=l.mapping,u=c===Ab||c===Tb,d=c===Iu||c===wf;if(u||d){let f=e.get(l);const h=f!==void 0?f.texture.pmremVersion:0;if(l.isRenderTargetTexture&&l.pmremVersion!==h)return n===null&&(n=new kD(t)),f=u?n.fromEquirectangular(l,f):n.fromCubemap(l,f),f.texture.pmremVersion=l.pmremVersion,e.set(l,f),f.texture;if(f!==void 0)return f.texture;{const m=l.image;return u&&m&&m.height>0||d&&m&&i(m)?(n===null&&(n=new kD(t)),f=u?n.fromEquirectangular(l):n.fromCubemap(l),f.texture.pmremVersion=l.pmremVersion,e.set(l,f),l.addEventListener("dispose",s),f.texture):null}}}return l}function i(l){let c=0;const u=6;for(let d=0;d<u;d++)l[d]!==void 0&&c++;return c===u}function s(l){const c=l.target;c.removeEventListener("dispose",s);const u=e.get(c);u!==void 0&&(e.delete(c),u.dispose())}function a(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:a}}function G7e(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(r){const i=n(r);return i===null&&Jg("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function q7e(t,e,n,r){const i={},s=new WeakMap;function a(f){const h=f.target;h.index!==null&&e.remove(h.index);for(const p in h.attributes)e.remove(h.attributes[p]);h.removeEventListener("dispose",a),delete i[h.id];const m=s.get(h);m&&(e.remove(m),s.delete(h)),r.releaseStatesOfGeometry(h),h.isInstancedBufferGeometry===!0&&delete h._maxInstanceCount,n.memory.geometries--}function l(f,h){return i[h.id]===!0||(h.addEventListener("dispose",a),i[h.id]=!0,n.memory.geometries++),h}function c(f){const h=f.attributes;for(const m in h)e.update(h[m],t.ARRAY_BUFFER)}function u(f){const h=[],m=f.index,p=f.attributes.position;let x=0;if(m!==null){const w=m.array;x=m.version;for(let _=0,E=w.length;_<E;_+=3){const N=w[_+0],C=w[_+1],j=w[_+2];h.push(N,C,C,j,j,N)}}else if(p!==void 0){const w=p.array;x=p.version;for(let _=0,E=w.length/3-1;_<E;_+=3){const N=_+0,C=_+1,j=_+2;h.push(N,C,C,j,j,N)}}else return;const v=new(Aoe(h)?qF:GF)(h,1);v.version=x;const g=s.get(f);g&&e.remove(g),s.set(f,v)}function d(f){const h=s.get(f);if(h){const m=f.index;m!==null&&h.version<m.version&&u(f)}else u(f);return s.get(f)}return{get:l,update:c,getWireframeAttribute:d}}function K7e(t,e,n){let r;function i(h){r=h}let s,a;function l(h){s=h.type,a=h.bytesPerElement}function c(h,m){t.drawElements(r,m,s,h*a),n.update(m,r,1)}function u(h,m,p){p!==0&&(t.drawElementsInstanced(r,m,s,h*a,p),n.update(m,r,p))}function d(h,m,p){if(p===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,m,0,s,h,0,p);let v=0;for(let g=0;g<p;g++)v+=m[g];n.update(v,r,1)}function f(h,m,p,x){if(p===0)return;const v=e.get("WEBGL_multi_draw");if(v===null)for(let g=0;g<h.length;g++)u(h[g]/a,m[g],x[g]);else{v.multiDrawElementsInstancedWEBGL(r,m,0,s,h,0,x,0,p);let g=0;for(let w=0;w<p;w++)g+=m[w]*x[w];n.update(g,r,1)}}this.setMode=i,this.setIndex=l,this.render=c,this.renderInstances=u,this.renderMultiDraw=d,this.renderMultiDrawInstances=f}function X7e(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,a,l){switch(n.calls++,a){case t.TRIANGLES:n.triangles+=l*(s/3);break;case t.LINES:n.lines+=l*(s/2);break;case t.LINE_STRIP:n.lines+=l*(s-1);break;case t.LINE_LOOP:n.lines+=l*s;break;case t.POINTS:n.points+=l*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function Y7e(t,e,n){const r=new WeakMap,i=new wn;function s(a,l,c){const u=a.morphTargetInfluences,d=l.morphAttributes.position||l.morphAttributes.normal||l.morphAttributes.color,f=d!==void 0?d.length:0;let h=r.get(l);if(h===void 0||h.count!==f){let P=function(){T.dispose(),r.delete(l),l.removeEventListener("dispose",P)};var m=P;h!==void 0&&h.texture.dispose();const p=l.morphAttributes.position!==void 0,x=l.morphAttributes.normal!==void 0,v=l.morphAttributes.color!==void 0,g=l.morphAttributes.position||[],w=l.morphAttributes.normal||[],_=l.morphAttributes.color||[];let E=0;p===!0&&(E=1),x===!0&&(E=2),v===!0&&(E=3);let N=l.attributes.position.count*E,C=1;N>e.maxTextureSize&&(C=Math.ceil(N/e.maxTextureSize),N=e.maxTextureSize);const j=new Float32Array(N*C*4*f),T=new Sj(j,N,C,f);T.type=Na,T.needsUpdate=!0;const A=E*4;for(let R=0;R<f;R++){const D=g[R],F=w[R],I=_[R],G=N*C*4*R;for(let q=0;q<D.count;q++){const $=q*A;p===!0&&(i.fromBufferAttribute(D,q),j[G+$+0]=i.x,j[G+$+1]=i.y,j[G+$+2]=i.z,j[G+$+3]=0),x===!0&&(i.fromBufferAttribute(F,q),j[G+$+4]=i.x,j[G+$+5]=i.y,j[G+$+6]=i.z,j[G+$+7]=0),v===!0&&(i.fromBufferAttribute(I,q),j[G+$+8]=i.x,j[G+$+9]=i.y,j[G+$+10]=i.z,j[G+$+11]=I.itemSize===4?i.w:1)}}h={count:f,texture:T,size:new Ge(N,C)},r.set(l,h),l.addEventListener("dispose",P)}if(a.isInstancedMesh===!0&&a.morphTexture!==null)c.getUniforms().setValue(t,"morphTexture",a.morphTexture,n);else{let p=0;for(let v=0;v<u.length;v++)p+=u[v];const x=l.morphTargetsRelative?1:1-p;c.getUniforms().setValue(t,"morphTargetBaseInfluence",x),c.getUniforms().setValue(t,"morphTargetInfluences",u)}c.getUniforms().setValue(t,"morphTargetsTexture",h.texture,n),c.getUniforms().setValue(t,"morphTargetsTextureSize",h.size)}return{update:s}}function Z7e(t,e,n,r){let i=new WeakMap;function s(c){const u=r.render.frame,d=c.geometry,f=e.get(c,d);if(i.get(f)!==u&&(e.update(f),i.set(f,u)),c.isInstancedMesh&&(c.hasEventListener("dispose",l)===!1&&c.addEventListener("dispose",l),i.get(c)!==u&&(n.update(c.instanceMatrix,t.ARRAY_BUFFER),c.instanceColor!==null&&n.update(c.instanceColor,t.ARRAY_BUFFER),i.set(c,u))),c.isSkinnedMesh){const h=c.skeleton;i.get(h)!==u&&(h.update(),i.set(h,u))}return f}function a(){i=new WeakMap}function l(c){const u=c.target;u.removeEventListener("dispose",l),n.remove(u.instanceMatrix),u.instanceColor!==null&&n.remove(u.instanceColor)}return{update:s,dispose:a}}const Rle=new Er,DH=new JF(1,1),Ole=new Sj,Dle=new Ej,Ile=new Zw,IH=[],LH=[],FH=new Float32Array(16),UH=new Float32Array(9),BH=new Float32Array(4);function Sx(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let s=IH[i];if(s===void 0&&(s=new Float32Array(i),IH[i]=s),e!==0){r.toArray(s,0);for(let a=1,l=0;a!==e;++a)l+=n,t[a].toArray(s,l)}return s}function _i(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Si(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function qj(t,e){let n=LH[e];n===void 0&&(n=new Int32Array(e),LH[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function Q7e(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function J7e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(_i(n,e))return;t.uniform2fv(this.addr,e),Si(n,e)}}function eqe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(_i(n,e))return;t.uniform3fv(this.addr,e),Si(n,e)}}function tqe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(_i(n,e))return;t.uniform4fv(this.addr,e),Si(n,e)}}function nqe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(_i(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Si(n,e)}else{if(_i(n,r))return;BH.set(r),t.uniformMatrix2fv(this.addr,!1,BH),Si(n,r)}}function rqe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(_i(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Si(n,e)}else{if(_i(n,r))return;UH.set(r),t.uniformMatrix3fv(this.addr,!1,UH),Si(n,r)}}function iqe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(_i(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Si(n,e)}else{if(_i(n,r))return;FH.set(r),t.uniformMatrix4fv(this.addr,!1,FH),Si(n,r)}}function sqe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function aqe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(_i(n,e))return;t.uniform2iv(this.addr,e),Si(n,e)}}function oqe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(_i(n,e))return;t.uniform3iv(this.addr,e),Si(n,e)}}function lqe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(_i(n,e))return;t.uniform4iv(this.addr,e),Si(n,e)}}function cqe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function uqe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(_i(n,e))return;t.uniform2uiv(this.addr,e),Si(n,e)}}function dqe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(_i(n,e))return;t.uniform3uiv(this.addr,e),Si(n,e)}}function fqe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(_i(n,e))return;t.uniform4uiv(this.addr,e),Si(n,e)}}function hqe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i);let s;this.type===t.SAMPLER_2D_SHADOW?(DH.compareFunction=WF,s=DH):s=Rle,n.setTexture2D(e||s,i)}function mqe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||Dle,i)}function pqe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||Ile,i)}function gqe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||Ole,i)}function vqe(t){switch(t){case 5126:return Q7e;case 35664:return J7e;case 35665:return eqe;case 35666:return tqe;case 35674:return nqe;case 35675:return rqe;case 35676:return iqe;case 5124:case 35670:return sqe;case 35667:case 35671:return aqe;case 35668:case 35672:return oqe;case 35669:case 35673:return lqe;case 5125:return cqe;case 36294:return uqe;case 36295:return dqe;case 36296:return fqe;case 35678:case 36198:case 36298:case 36306:case 35682:return hqe;case 35679:case 36299:case 36307:return mqe;case 35680:case 36300:case 36308:case 36293:return pqe;case 36289:case 36303:case 36311:case 36292:return gqe}}function xqe(t,e){t.uniform1fv(this.addr,e)}function yqe(t,e){const n=Sx(e,this.size,2);t.uniform2fv(this.addr,n)}function bqe(t,e){const n=Sx(e,this.size,3);t.uniform3fv(this.addr,n)}function wqe(t,e){const n=Sx(e,this.size,4);t.uniform4fv(this.addr,n)}function _qe(t,e){const n=Sx(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function Sqe(t,e){const n=Sx(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function Eqe(t,e){const n=Sx(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function Nqe(t,e){t.uniform1iv(this.addr,e)}function Mqe(t,e){t.uniform2iv(this.addr,e)}function Cqe(t,e){t.uniform3iv(this.addr,e)}function jqe(t,e){t.uniform4iv(this.addr,e)}function Aqe(t,e){t.uniform1uiv(this.addr,e)}function Tqe(t,e){t.uniform2uiv(this.addr,e)}function Pqe(t,e){t.uniform3uiv(this.addr,e)}function kqe(t,e){t.uniform4uiv(this.addr,e)}function Rqe(t,e,n){const r=this.cache,i=e.length,s=qj(n,i);_i(r,s)||(t.uniform1iv(this.addr,s),Si(r,s));for(let a=0;a!==i;++a)n.setTexture2D(e[a]||Rle,s[a])}function Oqe(t,e,n){const r=this.cache,i=e.length,s=qj(n,i);_i(r,s)||(t.uniform1iv(this.addr,s),Si(r,s));for(let a=0;a!==i;++a)n.setTexture3D(e[a]||Dle,s[a])}function Dqe(t,e,n){const r=this.cache,i=e.length,s=qj(n,i);_i(r,s)||(t.uniform1iv(this.addr,s),Si(r,s));for(let a=0;a!==i;++a)n.setTextureCube(e[a]||Ile,s[a])}function Iqe(t,e,n){const r=this.cache,i=e.length,s=qj(n,i);_i(r,s)||(t.uniform1iv(this.addr,s),Si(r,s));for(let a=0;a!==i;++a)n.setTexture2DArray(e[a]||Ole,s[a])}function Lqe(t){switch(t){case 5126:return xqe;case 35664:return yqe;case 35665:return bqe;case 35666:return wqe;case 35674:return _qe;case 35675:return Sqe;case 35676:return Eqe;case 5124:case 35670:return Nqe;case 35667:case 35671:return Mqe;case 35668:case 35672:return Cqe;case 35669:case 35673:return jqe;case 5125:return Aqe;case 36294:return Tqe;case 36295:return Pqe;case 36296:return kqe;case 35678:case 36198:case 36298:case 36306:case 35682:return Rqe;case 35679:case 36299:case 36307:return Oqe;case 35680:case 36300:case 36308:case 36293:return Dqe;case 36289:case 36303:case 36311:case 36292:return Iqe}}class Fqe{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=vqe(n.type)}}class Uqe{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=Lqe(n.type)}}class Bqe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let s=0,a=i.length;s!==a;++s){const l=i[s];l.setValue(e,n[l.id],r)}}}const ck=/(\w+)(\])?(\[|\.)?/g;function zH(t,e){t.seq.push(e),t.map[e.id]=e}function zqe(t,e,n){const r=t.name,i=r.length;for(ck.lastIndex=0;;){const s=ck.exec(r),a=ck.lastIndex;let l=s[1];const c=s[2]==="]",u=s[3];if(c&&(l=l|0),u===void 0||u==="["&&a+2===i){zH(n,u===void 0?new Fqe(l,t,e):new Uqe(l,t,e));break}else{let f=n.map[l];f===void 0&&(f=new Bqe(l),zH(n,f)),n=f}}}class mE{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const s=e.getActiveUniform(n,i),a=e.getUniformLocation(n,s.name);zqe(s,a,this)}}setValue(e,n,r,i){const s=this.map[n];s!==void 0&&s.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let s=0,a=n.length;s!==a;++s){const l=n[s],c=r[l.id];c.needsUpdate!==!1&&l.setValue(e,c.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,s=e.length;i!==s;++i){const a=e[i];a.id in n&&r.push(a)}return r}}function VH(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const Vqe=37297;let Wqe=0;function $qe(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let a=i;a<s;a++){const l=a+1;r.push(`${l===e?">":" "} ${l}: ${n[a]}`)}return r.join(`
`)}const WH=new Yt;function Hqe(t){_n._getMatrix(WH,_n.workingColorSpace,t);const e=`mat3( ${WH.elements.map(n=>n.toFixed(4))} )`;switch(_n.getTransfer(t)){case Db:return[e,"LinearTransferOETF"];case Un:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",t),[e,"LinearTransferOETF"]}}function $H(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const a=parseInt(s[1]);return n.toUpperCase()+`

`+i+`

`+$qe(t.getShaderSource(e),a)}else return i}function Gqe(t,e){const n=Hqe(e);return[`vec4 ${t}( vec4 value ) {`,`	return ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,"}"].join(`
`)}function qqe(t,e){let n;switch(e){case uoe:n="Linear";break;case doe:n="Reinhard";break;case foe:n="Cineon";break;case kF:n="ACESFilmic";break;case moe:n="AgX";break;case poe:n="Neutral";break;case hoe:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const DS=new J;function Kqe(){_n.getLuminanceCoefficients(DS);const t=DS.x.toFixed(4),e=DS.y.toFixed(4),n=DS.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function Xqe(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Xy).join(`
`)}function Yqe(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function Zqe(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=t.getActiveAttrib(e,i),a=s.name;let l=1;s.type===t.FLOAT_MAT2&&(l=2),s.type===t.FLOAT_MAT3&&(l=3),s.type===t.FLOAT_MAT4&&(l=4),n[a]={type:s.type,location:t.getAttribLocation(e,a),locationSize:l}}return n}function Xy(t){return t!==""}function HH(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function GH(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Qqe=/^[ \t]*#include +<([\w\d./]+)>/gm;function RD(t){return t.replace(Qqe,eKe)}const Jqe=new Map;function eKe(t,e){let n=an[e];if(n===void 0){const r=Jqe.get(e);if(r!==void 0)n=an[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return RD(n)}const tKe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function qH(t){return t.replace(tKe,nKe)}function nKe(t,e,n,r){let i="";for(let s=parseInt(e);s<parseInt(n);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function KH(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function rKe(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===mj?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===y0?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===hl&&(e="SHADOWMAP_TYPE_VSM"),e}function iKe(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Iu:case wf:e="ENVMAP_TYPE_CUBE";break;case bx:e="ENVMAP_TYPE_CUBE_UV";break}return e}function sKe(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case wf:e="ENVMAP_MODE_REFRACTION";break}return e}function aKe(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case Kw:e="ENVMAP_BLENDING_MULTIPLY";break;case loe:e="ENVMAP_BLENDING_MIX";break;case coe:e="ENVMAP_BLENDING_ADD";break}return e}function oKe(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function lKe(t,e,n,r){const i=t.getContext(),s=n.defines;let a=n.vertexShader,l=n.fragmentShader;const c=rKe(n),u=iKe(n),d=sKe(n),f=aKe(n),h=oKe(n),m=Xqe(n),p=Yqe(s),x=i.createProgram();let v,g,w=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(v=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p].filter(Xy).join(`
`),v.length>0&&(v+=`
`),g=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p].filter(Xy).join(`
`),g.length>0&&(g+=`
`)):(v=[KH(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+d:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Xy).join(`
`),g=[KH(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.envMap?"#define "+d:"",n.envMap?"#define "+f:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==_c?"#define TONE_MAPPING":"",n.toneMapping!==_c?an.tonemapping_pars_fragment:"",n.toneMapping!==_c?qqe("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",an.colorspace_pars_fragment,Gqe("linearToOutputTexel",n.outputColorSpace),Kqe(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(Xy).join(`
`)),a=RD(a),a=HH(a,n),a=GH(a,n),l=RD(l),l=HH(l,n),l=GH(l,n),a=qH(a),l=qH(l),n.isRawShaderMaterial!==!0&&(w=`#version 300 es
`,v=[m,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+v,g=["#define varying in",n.glslVersion===SD?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===SD?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+g);const _=w+v+a,E=w+g+l,N=VH(i,i.VERTEX_SHADER,_),C=VH(i,i.FRAGMENT_SHADER,E);i.attachShader(x,N),i.attachShader(x,C),n.index0AttributeName!==void 0?i.bindAttribLocation(x,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(x,0,"position"),i.linkProgram(x);function j(R){if(t.debug.checkShaderErrors){const D=i.getProgramInfoLog(x).trim(),F=i.getShaderInfoLog(N).trim(),I=i.getShaderInfoLog(C).trim();let G=!0,q=!0;if(i.getProgramParameter(x,i.LINK_STATUS)===!1)if(G=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,x,N,C);else{const $=$H(i,N,"vertex"),L=$H(i,C,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(x,i.VALIDATE_STATUS)+`

Material Name: `+R.name+`
Material Type: `+R.type+`

Program Info Log: `+D+`
`+$+`
`+L)}else D!==""?console.warn("THREE.WebGLProgram: Program Info Log:",D):(F===""||I==="")&&(q=!1);q&&(R.diagnostics={runnable:G,programLog:D,vertexShader:{log:F,prefix:v},fragmentShader:{log:I,prefix:g}})}i.deleteShader(N),i.deleteShader(C),T=new mE(i,x),A=Zqe(i,x)}let T;this.getUniforms=function(){return T===void 0&&j(this),T};let A;this.getAttributes=function(){return A===void 0&&j(this),A};let P=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return P===!1&&(P=i.getProgramParameter(x,Vqe)),P},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(x),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=Wqe++,this.cacheKey=e,this.usedTimes=1,this.program=x,this.vertexShader=N,this.fragmentShader=C,this}let cKe=0;class uKe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),s=this._getShaderStage(r),a=this._getShaderCacheForMaterial(e);return a.has(i)===!1&&(a.add(i),i.usedTimes++),a.has(s)===!1&&(a.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new dKe(e),n.set(e,r)),r}}class dKe{constructor(e){this.id=cKe++,this.code=e,this.usedTimes=0}}function fKe(t,e,n,r,i,s,a){const l=new xm,c=new uKe,u=new Set,d=[],f=i.logarithmicDepthBuffer,h=i.vertexTextures;let m=i.precision;const p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function x(A){return u.add(A),A===0?"uv":`uv${A}`}function v(A,P,R,D,F){const I=D.fog,G=F.geometry,q=A.isMeshStandardMaterial?D.environment:null,$=(A.isMeshStandardMaterial?n:e).get(A.envMap||q),L=$&&$.mapping===bx?$.image.height:null,V=p[A.type];A.precision!==null&&(m=i.getMaxPrecision(A.precision),m!==A.precision&&console.warn("THREE.WebGLProgram.getParameters:",A.precision,"not supported, using",m,"instead."));const K=G.morphAttributes.position||G.morphAttributes.normal||G.morphAttributes.color,W=K!==void 0?K.length:0;let B=0;G.morphAttributes.position!==void 0&&(B=1),G.morphAttributes.normal!==void 0&&(B=2),G.morphAttributes.color!==void 0&&(B=3);let ee,Y,Q,de;if(V){const yt=bl[V];ee=yt.vertexShader,Y=yt.fragmentShader}else ee=A.vertexShader,Y=A.fragmentShader,c.update(A),Q=c.getVertexShaderID(A),de=c.getFragmentShaderID(A);const te=t.getRenderTarget(),he=t.state.buffers.depth.getReversed(),oe=F.isInstancedMesh===!0,fe=F.isBatchedMesh===!0,ve=!!A.map,ne=!!A.matcap,Be=!!$,H=!!A.aoMap,Te=!!A.lightMap,Ne=!!A.bumpMap,De=!!A.normalMap,ce=!!A.displacementMap,Ue=!!A.emissiveMap,Ae=!!A.metalnessMap,ge=!!A.roughnessMap,nt=A.anisotropy>0,X=A.clearcoat>0,z=A.dispersion>0,ae=A.iridescence>0,Me=A.sheen>0,Se=A.transmission>0,ye=nt&&!!A.anisotropyMap,Ye=X&&!!A.clearcoatMap,$e=X&&!!A.clearcoatNormalMap,rt=X&&!!A.clearcoatRoughnessMap,st=ae&&!!A.iridescenceMap,ke=ae&&!!A.iridescenceThicknessMap,qe=Me&&!!A.sheenColorMap,Ke=Me&&!!A.sheenRoughnessMap,ie=!!A.specularMap,be=!!A.specularColorMap,Je=!!A.specularIntensityMap,se=Se&&!!A.transmissionMap,Ie=Se&&!!A.thicknessMap,Le=!!A.gradientMap,ft=!!A.alphaMap,Ve=A.alphaTest>0,Pe=!!A.alphaHash,Fe=!!A.extensions;let tt=_c;A.toneMapped&&(te===null||te.isXRRenderTarget===!0)&&(tt=t.toneMapping);const it={shaderID:V,shaderType:A.type,shaderName:A.name,vertexShader:ee,fragmentShader:Y,defines:A.defines,customVertexShaderID:Q,customFragmentShaderID:de,isRawShaderMaterial:A.isRawShaderMaterial===!0,glslVersion:A.glslVersion,precision:m,batching:fe,batchingColor:fe&&F._colorsTexture!==null,instancing:oe,instancingColor:oe&&F.instanceColor!==null,instancingMorph:oe&&F.morphTexture!==null,supportsVertexTextures:h,outputColorSpace:te===null?t.outputColorSpace:te.isXRRenderTarget===!0?te.texture.colorSpace:Vm,alphaToCoverage:!!A.alphaToCoverage,map:ve,matcap:ne,envMap:Be,envMapMode:Be&&$.mapping,envMapCubeUVHeight:L,aoMap:H,lightMap:Te,bumpMap:Ne,normalMap:De,displacementMap:h&&ce,emissiveMap:Ue,normalMapObjectSpace:De&&A.normalMapType===woe,normalMapTangentSpace:De&&A.normalMapType===zf,metalnessMap:Ae,roughnessMap:ge,anisotropy:nt,anisotropyMap:ye,clearcoat:X,clearcoatMap:Ye,clearcoatNormalMap:$e,clearcoatRoughnessMap:rt,dispersion:z,iridescence:ae,iridescenceMap:st,iridescenceThicknessMap:ke,sheen:Me,sheenColorMap:qe,sheenRoughnessMap:Ke,specularMap:ie,specularColorMap:be,specularIntensityMap:Je,transmission:Se,transmissionMap:se,thicknessMap:Ie,gradientMap:Le,opaque:A.transparent===!1&&A.blending===gm&&A.alphaToCoverage===!1,alphaMap:ft,alphaTest:Ve,alphaHash:Pe,combine:A.combine,mapUv:ve&&x(A.map.channel),aoMapUv:H&&x(A.aoMap.channel),lightMapUv:Te&&x(A.lightMap.channel),bumpMapUv:Ne&&x(A.bumpMap.channel),normalMapUv:De&&x(A.normalMap.channel),displacementMapUv:ce&&x(A.displacementMap.channel),emissiveMapUv:Ue&&x(A.emissiveMap.channel),metalnessMapUv:Ae&&x(A.metalnessMap.channel),roughnessMapUv:ge&&x(A.roughnessMap.channel),anisotropyMapUv:ye&&x(A.anisotropyMap.channel),clearcoatMapUv:Ye&&x(A.clearcoatMap.channel),clearcoatNormalMapUv:$e&&x(A.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:rt&&x(A.clearcoatRoughnessMap.channel),iridescenceMapUv:st&&x(A.iridescenceMap.channel),iridescenceThicknessMapUv:ke&&x(A.iridescenceThicknessMap.channel),sheenColorMapUv:qe&&x(A.sheenColorMap.channel),sheenRoughnessMapUv:Ke&&x(A.sheenRoughnessMap.channel),specularMapUv:ie&&x(A.specularMap.channel),specularColorMapUv:be&&x(A.specularColorMap.channel),specularIntensityMapUv:Je&&x(A.specularIntensityMap.channel),transmissionMapUv:se&&x(A.transmissionMap.channel),thicknessMapUv:Ie&&x(A.thicknessMap.channel),alphaMapUv:ft&&x(A.alphaMap.channel),vertexTangents:!!G.attributes.tangent&&(De||nt),vertexColors:A.vertexColors,vertexAlphas:A.vertexColors===!0&&!!G.attributes.color&&G.attributes.color.itemSize===4,pointsUvs:F.isPoints===!0&&!!G.attributes.uv&&(ve||ft),fog:!!I,useFog:A.fog===!0,fogExp2:!!I&&I.isFogExp2,flatShading:A.flatShading===!0&&A.wireframe===!1,sizeAttenuation:A.sizeAttenuation===!0,logarithmicDepthBuffer:f,reverseDepthBuffer:he,skinning:F.isSkinnedMesh===!0,morphTargets:G.morphAttributes.position!==void 0,morphNormals:G.morphAttributes.normal!==void 0,morphColors:G.morphAttributes.color!==void 0,morphTargetsCount:W,morphTextureStride:B,numDirLights:P.directional.length,numPointLights:P.point.length,numSpotLights:P.spot.length,numSpotLightMaps:P.spotLightMap.length,numRectAreaLights:P.rectArea.length,numHemiLights:P.hemi.length,numDirLightShadows:P.directionalShadowMap.length,numPointLightShadows:P.pointShadowMap.length,numSpotLightShadows:P.spotShadowMap.length,numSpotLightShadowsWithMaps:P.numSpotLightShadowsWithMaps,numLightProbes:P.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:A.dithering,shadowMapEnabled:t.shadowMap.enabled&&R.length>0,shadowMapType:t.shadowMap.type,toneMapping:tt,decodeVideoTexture:ve&&A.map.isVideoTexture===!0&&_n.getTransfer(A.map.colorSpace)===Un,decodeVideoTextureEmissive:Ue&&A.emissiveMap.isVideoTexture===!0&&_n.getTransfer(A.emissiveMap.colorSpace)===Un,premultipliedAlpha:A.premultipliedAlpha,doubleSided:A.side===El,flipSided:A.side===Zs,useDepthPacking:A.depthPacking>=0,depthPacking:A.depthPacking||0,index0AttributeName:A.index0AttributeName,extensionClipCullDistance:Fe&&A.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Fe&&A.extensions.multiDraw===!0||fe)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:A.customProgramCacheKey()};return it.vertexUv1s=u.has(1),it.vertexUv2s=u.has(2),it.vertexUv3s=u.has(3),u.clear(),it}function g(A){const P=[];if(A.shaderID?P.push(A.shaderID):(P.push(A.customVertexShaderID),P.push(A.customFragmentShaderID)),A.defines!==void 0)for(const R in A.defines)P.push(R),P.push(A.defines[R]);return A.isRawShaderMaterial===!1&&(w(P,A),_(P,A),P.push(t.outputColorSpace)),P.push(A.customProgramCacheKey),P.join()}function w(A,P){A.push(P.precision),A.push(P.outputColorSpace),A.push(P.envMapMode),A.push(P.envMapCubeUVHeight),A.push(P.mapUv),A.push(P.alphaMapUv),A.push(P.lightMapUv),A.push(P.aoMapUv),A.push(P.bumpMapUv),A.push(P.normalMapUv),A.push(P.displacementMapUv),A.push(P.emissiveMapUv),A.push(P.metalnessMapUv),A.push(P.roughnessMapUv),A.push(P.anisotropyMapUv),A.push(P.clearcoatMapUv),A.push(P.clearcoatNormalMapUv),A.push(P.clearcoatRoughnessMapUv),A.push(P.iridescenceMapUv),A.push(P.iridescenceThicknessMapUv),A.push(P.sheenColorMapUv),A.push(P.sheenRoughnessMapUv),A.push(P.specularMapUv),A.push(P.specularColorMapUv),A.push(P.specularIntensityMapUv),A.push(P.transmissionMapUv),A.push(P.thicknessMapUv),A.push(P.combine),A.push(P.fogExp2),A.push(P.sizeAttenuation),A.push(P.morphTargetsCount),A.push(P.morphAttributeCount),A.push(P.numDirLights),A.push(P.numPointLights),A.push(P.numSpotLights),A.push(P.numSpotLightMaps),A.push(P.numHemiLights),A.push(P.numRectAreaLights),A.push(P.numDirLightShadows),A.push(P.numPointLightShadows),A.push(P.numSpotLightShadows),A.push(P.numSpotLightShadowsWithMaps),A.push(P.numLightProbes),A.push(P.shadowMapType),A.push(P.toneMapping),A.push(P.numClippingPlanes),A.push(P.numClipIntersection),A.push(P.depthPacking)}function _(A,P){l.disableAll(),P.supportsVertexTextures&&l.enable(0),P.instancing&&l.enable(1),P.instancingColor&&l.enable(2),P.instancingMorph&&l.enable(3),P.matcap&&l.enable(4),P.envMap&&l.enable(5),P.normalMapObjectSpace&&l.enable(6),P.normalMapTangentSpace&&l.enable(7),P.clearcoat&&l.enable(8),P.iridescence&&l.enable(9),P.alphaTest&&l.enable(10),P.vertexColors&&l.enable(11),P.vertexAlphas&&l.enable(12),P.vertexUv1s&&l.enable(13),P.vertexUv2s&&l.enable(14),P.vertexUv3s&&l.enable(15),P.vertexTangents&&l.enable(16),P.anisotropy&&l.enable(17),P.alphaHash&&l.enable(18),P.batching&&l.enable(19),P.dispersion&&l.enable(20),P.batchingColor&&l.enable(21),P.gradientMap&&l.enable(22),A.push(l.mask),l.disableAll(),P.fog&&l.enable(0),P.useFog&&l.enable(1),P.flatShading&&l.enable(2),P.logarithmicDepthBuffer&&l.enable(3),P.reverseDepthBuffer&&l.enable(4),P.skinning&&l.enable(5),P.morphTargets&&l.enable(6),P.morphNormals&&l.enable(7),P.morphColors&&l.enable(8),P.premultipliedAlpha&&l.enable(9),P.shadowMapEnabled&&l.enable(10),P.doubleSided&&l.enable(11),P.flipSided&&l.enable(12),P.useDepthPacking&&l.enable(13),P.dithering&&l.enable(14),P.transmission&&l.enable(15),P.sheen&&l.enable(16),P.opaque&&l.enable(17),P.pointsUvs&&l.enable(18),P.decodeVideoTexture&&l.enable(19),P.decodeVideoTextureEmissive&&l.enable(20),P.alphaToCoverage&&l.enable(21),A.push(l.mask)}function E(A){const P=p[A.type];let R;if(P){const D=bl[P];R=KF.clone(D.uniforms)}else R=A.uniforms;return R}function N(A,P){let R;for(let D=0,F=d.length;D<F;D++){const I=d[D];if(I.cacheKey===P){R=I,++R.usedTimes;break}}return R===void 0&&(R=new lKe(t,P,A,s),d.push(R)),R}function C(A){if(--A.usedTimes===0){const P=d.indexOf(A);d[P]=d[d.length-1],d.pop(),A.destroy()}}function j(A){c.remove(A)}function T(){c.dispose()}return{getParameters:v,getProgramCacheKey:g,getUniforms:E,acquireProgram:N,releaseProgram:C,releaseShaderCache:j,programs:d,dispose:T}}function hKe(){let t=new WeakMap;function e(a){return t.has(a)}function n(a){let l=t.get(a);return l===void 0&&(l={},t.set(a,l)),l}function r(a){t.delete(a)}function i(a,l,c){t.get(a)[l]=c}function s(){t=new WeakMap}return{has:e,get:n,remove:r,update:i,dispose:s}}function mKe(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function XH(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function YH(){const t=[];let e=0;const n=[],r=[],i=[];function s(){e=0,n.length=0,r.length=0,i.length=0}function a(f,h,m,p,x,v){let g=t[e];return g===void 0?(g={id:f.id,object:f,geometry:h,material:m,groupOrder:p,renderOrder:f.renderOrder,z:x,group:v},t[e]=g):(g.id=f.id,g.object=f,g.geometry=h,g.material=m,g.groupOrder=p,g.renderOrder=f.renderOrder,g.z=x,g.group=v),e++,g}function l(f,h,m,p,x,v){const g=a(f,h,m,p,x,v);m.transmission>0?r.push(g):m.transparent===!0?i.push(g):n.push(g)}function c(f,h,m,p,x,v){const g=a(f,h,m,p,x,v);m.transmission>0?r.unshift(g):m.transparent===!0?i.unshift(g):n.unshift(g)}function u(f,h){n.length>1&&n.sort(f||mKe),r.length>1&&r.sort(h||XH),i.length>1&&i.sort(h||XH)}function d(){for(let f=e,h=t.length;f<h;f++){const m=t[f];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:n,transmissive:r,transparent:i,init:s,push:l,unshift:c,finish:d,sort:u}}function pKe(){let t=new WeakMap;function e(r,i){const s=t.get(r);let a;return s===void 0?(a=new YH,t.set(r,[a])):i>=s.length?(a=new YH,s.push(a)):a=s[i],a}function n(){t=new WeakMap}return{get:e,dispose:n}}function gKe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new J,color:new wt};break;case"SpotLight":n={position:new J,direction:new J,color:new wt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new J,color:new wt,distance:0,decay:0};break;case"HemisphereLight":n={direction:new J,skyColor:new wt,groundColor:new wt};break;case"RectAreaLight":n={color:new wt,position:new J,halfWidth:new J,halfHeight:new J};break}return t[e.id]=n,n}}}function vKe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ge};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ge};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ge,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let xKe=0;function yKe(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function bKe(t){const e=new gKe,n=vKe(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let u=0;u<9;u++)r.probe.push(new J);const i=new J,s=new Vt,a=new Vt;function l(u){let d=0,f=0,h=0;for(let A=0;A<9;A++)r.probe[A].set(0,0,0);let m=0,p=0,x=0,v=0,g=0,w=0,_=0,E=0,N=0,C=0,j=0;u.sort(yKe);for(let A=0,P=u.length;A<P;A++){const R=u[A],D=R.color,F=R.intensity,I=R.distance,G=R.shadow&&R.shadow.map?R.shadow.map.texture:null;if(R.isAmbientLight)d+=D.r*F,f+=D.g*F,h+=D.b*F;else if(R.isLightProbe){for(let q=0;q<9;q++)r.probe[q].addScaledVector(R.sh.coefficients[q],F);j++}else if(R.isDirectionalLight){const q=e.get(R);if(q.color.copy(R.color).multiplyScalar(R.intensity),R.castShadow){const $=R.shadow,L=n.get(R);L.shadowIntensity=$.intensity,L.shadowBias=$.bias,L.shadowNormalBias=$.normalBias,L.shadowRadius=$.radius,L.shadowMapSize=$.mapSize,r.directionalShadow[m]=L,r.directionalShadowMap[m]=G,r.directionalShadowMatrix[m]=R.shadow.matrix,w++}r.directional[m]=q,m++}else if(R.isSpotLight){const q=e.get(R);q.position.setFromMatrixPosition(R.matrixWorld),q.color.copy(D).multiplyScalar(F),q.distance=I,q.coneCos=Math.cos(R.angle),q.penumbraCos=Math.cos(R.angle*(1-R.penumbra)),q.decay=R.decay,r.spot[x]=q;const $=R.shadow;if(R.map&&(r.spotLightMap[N]=R.map,N++,$.updateMatrices(R),R.castShadow&&C++),r.spotLightMatrix[x]=$.matrix,R.castShadow){const L=n.get(R);L.shadowIntensity=$.intensity,L.shadowBias=$.bias,L.shadowNormalBias=$.normalBias,L.shadowRadius=$.radius,L.shadowMapSize=$.mapSize,r.spotShadow[x]=L,r.spotShadowMap[x]=G,E++}x++}else if(R.isRectAreaLight){const q=e.get(R);q.color.copy(D).multiplyScalar(F),q.halfWidth.set(R.width*.5,0,0),q.halfHeight.set(0,R.height*.5,0),r.rectArea[v]=q,v++}else if(R.isPointLight){const q=e.get(R);if(q.color.copy(R.color).multiplyScalar(R.intensity),q.distance=R.distance,q.decay=R.decay,R.castShadow){const $=R.shadow,L=n.get(R);L.shadowIntensity=$.intensity,L.shadowBias=$.bias,L.shadowNormalBias=$.normalBias,L.shadowRadius=$.radius,L.shadowMapSize=$.mapSize,L.shadowCameraNear=$.camera.near,L.shadowCameraFar=$.camera.far,r.pointShadow[p]=L,r.pointShadowMap[p]=G,r.pointShadowMatrix[p]=R.shadow.matrix,_++}r.point[p]=q,p++}else if(R.isHemisphereLight){const q=e.get(R);q.skyColor.copy(R.color).multiplyScalar(F),q.groundColor.copy(R.groundColor).multiplyScalar(F),r.hemi[g]=q,g++}}v>0&&(t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=vt.LTC_FLOAT_1,r.rectAreaLTC2=vt.LTC_FLOAT_2):(r.rectAreaLTC1=vt.LTC_HALF_1,r.rectAreaLTC2=vt.LTC_HALF_2)),r.ambient[0]=d,r.ambient[1]=f,r.ambient[2]=h;const T=r.hash;(T.directionalLength!==m||T.pointLength!==p||T.spotLength!==x||T.rectAreaLength!==v||T.hemiLength!==g||T.numDirectionalShadows!==w||T.numPointShadows!==_||T.numSpotShadows!==E||T.numSpotMaps!==N||T.numLightProbes!==j)&&(r.directional.length=m,r.spot.length=x,r.rectArea.length=v,r.point.length=p,r.hemi.length=g,r.directionalShadow.length=w,r.directionalShadowMap.length=w,r.pointShadow.length=_,r.pointShadowMap.length=_,r.spotShadow.length=E,r.spotShadowMap.length=E,r.directionalShadowMatrix.length=w,r.pointShadowMatrix.length=_,r.spotLightMatrix.length=E+N-C,r.spotLightMap.length=N,r.numSpotLightShadowsWithMaps=C,r.numLightProbes=j,T.directionalLength=m,T.pointLength=p,T.spotLength=x,T.rectAreaLength=v,T.hemiLength=g,T.numDirectionalShadows=w,T.numPointShadows=_,T.numSpotShadows=E,T.numSpotMaps=N,T.numLightProbes=j,r.version=xKe++)}function c(u,d){let f=0,h=0,m=0,p=0,x=0;const v=d.matrixWorldInverse;for(let g=0,w=u.length;g<w;g++){const _=u[g];if(_.isDirectionalLight){const E=r.directional[f];E.direction.setFromMatrixPosition(_.matrixWorld),i.setFromMatrixPosition(_.target.matrixWorld),E.direction.sub(i),E.direction.transformDirection(v),f++}else if(_.isSpotLight){const E=r.spot[m];E.position.setFromMatrixPosition(_.matrixWorld),E.position.applyMatrix4(v),E.direction.setFromMatrixPosition(_.matrixWorld),i.setFromMatrixPosition(_.target.matrixWorld),E.direction.sub(i),E.direction.transformDirection(v),m++}else if(_.isRectAreaLight){const E=r.rectArea[p];E.position.setFromMatrixPosition(_.matrixWorld),E.position.applyMatrix4(v),a.identity(),s.copy(_.matrixWorld),s.premultiply(v),a.extractRotation(s),E.halfWidth.set(_.width*.5,0,0),E.halfHeight.set(0,_.height*.5,0),E.halfWidth.applyMatrix4(a),E.halfHeight.applyMatrix4(a),p++}else if(_.isPointLight){const E=r.point[h];E.position.setFromMatrixPosition(_.matrixWorld),E.position.applyMatrix4(v),h++}else if(_.isHemisphereLight){const E=r.hemi[x];E.direction.setFromMatrixPosition(_.matrixWorld),E.direction.transformDirection(v),x++}}}return{setup:l,setupView:c,state:r}}function ZH(t){const e=new bKe(t),n=[],r=[];function i(d){u.camera=d,n.length=0,r.length=0}function s(d){n.push(d)}function a(d){r.push(d)}function l(){e.setup(n)}function c(d){e.setupView(n,d)}const u={lightsArray:n,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:u,setupLights:l,setupLightsView:c,pushLight:s,pushShadow:a}}function wKe(t){let e=new WeakMap;function n(i,s=0){const a=e.get(i);let l;return a===void 0?(l=new ZH(t),e.set(i,[l])):s>=a.length?(l=new ZH(t),a.push(l)):l=a[s],l}function r(){e=new WeakMap}return{get:n,dispose:r}}const _Ke=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,SKe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function EKe(t,e,n){let r=new _x;const i=new Ge,s=new Ge,a=new wn,l=new $j({depthPacking:VF}),c=new Hj,u={},d=n.maxTextureSize,f={[Du]:Zs,[Zs]:Du,[El]:El},h=new Il({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ge},radius:{value:4}},vertexShader:_Ke,fragmentShader:SKe}),m=h.clone();m.defines.HORIZONTAL_PASS=1;const p=new cn;p.setAttribute("position",new Gn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const x=new _r(p,h),v=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=mj;let g=this.type;this.render=function(C,j,T){if(v.enabled===!1||v.autoUpdate===!1&&v.needsUpdate===!1||C.length===0)return;const A=t.getRenderTarget(),P=t.getActiveCubeFace(),R=t.getActiveMipmapLevel(),D=t.state;D.setBlending(yu),D.buffers.color.setClear(1,1,1,1),D.buffers.depth.setTest(!0),D.setScissorTest(!1);const F=g!==hl&&this.type===hl,I=g===hl&&this.type!==hl;for(let G=0,q=C.length;G<q;G++){const $=C[G],L=$.shadow;if(L===void 0){console.warn("THREE.WebGLShadowMap:",$,"has no shadow.");continue}if(L.autoUpdate===!1&&L.needsUpdate===!1)continue;i.copy(L.mapSize);const V=L.getFrameExtents();if(i.multiply(V),s.copy(L.mapSize),(i.x>d||i.y>d)&&(i.x>d&&(s.x=Math.floor(d/V.x),i.x=s.x*V.x,L.mapSize.x=s.x),i.y>d&&(s.y=Math.floor(d/V.y),i.y=s.y*V.y,L.mapSize.y=s.y)),L.map===null||F===!0||I===!0){const W=this.type!==hl?{minFilter:es,magFilter:es}:{};L.map!==null&&L.map.dispose(),L.map=new Pc(i.x,i.y,W),L.map.texture.name=$.name+".shadowMap",L.camera.updateProjectionMatrix()}t.setRenderTarget(L.map),t.clear();const K=L.getViewportCount();for(let W=0;W<K;W++){const B=L.getViewport(W);a.set(s.x*B.x,s.y*B.y,s.x*B.z,s.y*B.w),D.viewport(a),L.updateMatrices($,W),r=L.getFrustum(),E(j,T,L.camera,$,this.type)}L.isPointLightShadow!==!0&&this.type===hl&&w(L,T),L.needsUpdate=!1}g=this.type,v.needsUpdate=!1,t.setRenderTarget(A,P,R)};function w(C,j){const T=e.update(x);h.defines.VSM_SAMPLES!==C.blurSamples&&(h.defines.VSM_SAMPLES=C.blurSamples,m.defines.VSM_SAMPLES=C.blurSamples,h.needsUpdate=!0,m.needsUpdate=!0),C.mapPass===null&&(C.mapPass=new Pc(i.x,i.y)),h.uniforms.shadow_pass.value=C.map.texture,h.uniforms.resolution.value=C.mapSize,h.uniforms.radius.value=C.radius,t.setRenderTarget(C.mapPass),t.clear(),t.renderBufferDirect(j,null,T,h,x,null),m.uniforms.shadow_pass.value=C.mapPass.texture,m.uniforms.resolution.value=C.mapSize,m.uniforms.radius.value=C.radius,t.setRenderTarget(C.map),t.clear(),t.renderBufferDirect(j,null,T,m,x,null)}function _(C,j,T,A){let P=null;const R=T.isPointLight===!0?C.customDistanceMaterial:C.customDepthMaterial;if(R!==void 0)P=R;else if(P=T.isPointLight===!0?c:l,t.localClippingEnabled&&j.clipShadows===!0&&Array.isArray(j.clippingPlanes)&&j.clippingPlanes.length!==0||j.displacementMap&&j.displacementScale!==0||j.alphaMap&&j.alphaTest>0||j.map&&j.alphaTest>0||j.alphaToCoverage===!0){const D=P.uuid,F=j.uuid;let I=u[D];I===void 0&&(I={},u[D]=I);let G=I[F];G===void 0&&(G=P.clone(),I[F]=G,j.addEventListener("dispose",N)),P=G}if(P.visible=j.visible,P.wireframe=j.wireframe,A===hl?P.side=j.shadowSide!==null?j.shadowSide:j.side:P.side=j.shadowSide!==null?j.shadowSide:f[j.side],P.alphaMap=j.alphaMap,P.alphaTest=j.alphaToCoverage===!0?.5:j.alphaTest,P.map=j.map,P.clipShadows=j.clipShadows,P.clippingPlanes=j.clippingPlanes,P.clipIntersection=j.clipIntersection,P.displacementMap=j.displacementMap,P.displacementScale=j.displacementScale,P.displacementBias=j.displacementBias,P.wireframeLinewidth=j.wireframeLinewidth,P.linewidth=j.linewidth,T.isPointLight===!0&&P.isMeshDistanceMaterial===!0){const D=t.properties.get(P);D.light=T}return P}function E(C,j,T,A,P){if(C.visible===!1)return;if(C.layers.test(j.layers)&&(C.isMesh||C.isLine||C.isPoints)&&(C.castShadow||C.receiveShadow&&P===hl)&&(!C.frustumCulled||r.intersectsObject(C))){C.modelViewMatrix.multiplyMatrices(T.matrixWorldInverse,C.matrixWorld);const F=e.update(C),I=C.material;if(Array.isArray(I)){const G=F.groups;for(let q=0,$=G.length;q<$;q++){const L=G[q],V=I[L.materialIndex];if(V&&V.visible){const K=_(C,V,A,P);C.onBeforeShadow(t,C,j,T,F,K,L),t.renderBufferDirect(T,null,F,K,C,L),C.onAfterShadow(t,C,j,T,F,K,L)}}}else if(I.visible){const G=_(C,I,A,P);C.onBeforeShadow(t,C,j,T,F,G,null),t.renderBufferDirect(T,null,F,G,C,null),C.onAfterShadow(t,C,j,T,F,G,null)}}const D=C.children;for(let F=0,I=D.length;F<I;F++)E(D[F],j,T,A,P)}function N(C){C.target.removeEventListener("dispose",N);for(const T in u){const A=u[T],P=C.target.uuid;P in A&&(A[P].dispose(),delete A[P])}}}const NKe={[nM]:rM,[iM]:oM,[sM]:lM,[zm]:aM,[rM]:nM,[oM]:iM,[lM]:sM,[aM]:zm};function MKe(t,e){function n(){let se=!1;const Ie=new wn;let Le=null;const ft=new wn(0,0,0,0);return{setMask:function(Ve){Le!==Ve&&!se&&(t.colorMask(Ve,Ve,Ve,Ve),Le=Ve)},setLocked:function(Ve){se=Ve},setClear:function(Ve,Pe,Fe,tt,it){it===!0&&(Ve*=tt,Pe*=tt,Fe*=tt),Ie.set(Ve,Pe,Fe,tt),ft.equals(Ie)===!1&&(t.clearColor(Ve,Pe,Fe,tt),ft.copy(Ie))},reset:function(){se=!1,Le=null,ft.set(-1,0,0,0)}}}function r(){let se=!1,Ie=!1,Le=null,ft=null,Ve=null;return{setReversed:function(Pe){if(Ie!==Pe){const Fe=e.get("EXT_clip_control");Pe?Fe.clipControlEXT(Fe.LOWER_LEFT_EXT,Fe.ZERO_TO_ONE_EXT):Fe.clipControlEXT(Fe.LOWER_LEFT_EXT,Fe.NEGATIVE_ONE_TO_ONE_EXT),Ie=Pe;const tt=Ve;Ve=null,this.setClear(tt)}},getReversed:function(){return Ie},setTest:function(Pe){Pe?te(t.DEPTH_TEST):he(t.DEPTH_TEST)},setMask:function(Pe){Le!==Pe&&!se&&(t.depthMask(Pe),Le=Pe)},setFunc:function(Pe){if(Ie&&(Pe=NKe[Pe]),ft!==Pe){switch(Pe){case nM:t.depthFunc(t.NEVER);break;case rM:t.depthFunc(t.ALWAYS);break;case iM:t.depthFunc(t.LESS);break;case zm:t.depthFunc(t.LEQUAL);break;case sM:t.depthFunc(t.EQUAL);break;case aM:t.depthFunc(t.GEQUAL);break;case oM:t.depthFunc(t.GREATER);break;case lM:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}ft=Pe}},setLocked:function(Pe){se=Pe},setClear:function(Pe){Ve!==Pe&&(Ie&&(Pe=1-Pe),t.clearDepth(Pe),Ve=Pe)},reset:function(){se=!1,Le=null,ft=null,Ve=null,Ie=!1}}}function i(){let se=!1,Ie=null,Le=null,ft=null,Ve=null,Pe=null,Fe=null,tt=null,it=null;return{setTest:function(yt){se||(yt?te(t.STENCIL_TEST):he(t.STENCIL_TEST))},setMask:function(yt){Ie!==yt&&!se&&(t.stencilMask(yt),Ie=yt)},setFunc:function(yt,$t,tn){(Le!==yt||ft!==$t||Ve!==tn)&&(t.stencilFunc(yt,$t,tn),Le=yt,ft=$t,Ve=tn)},setOp:function(yt,$t,tn){(Pe!==yt||Fe!==$t||tt!==tn)&&(t.stencilOp(yt,$t,tn),Pe=yt,Fe=$t,tt=tn)},setLocked:function(yt){se=yt},setClear:function(yt){it!==yt&&(t.clearStencil(yt),it=yt)},reset:function(){se=!1,Ie=null,Le=null,ft=null,Ve=null,Pe=null,Fe=null,tt=null,it=null}}}const s=new n,a=new r,l=new i,c=new WeakMap,u=new WeakMap;let d={},f={},h=new WeakMap,m=[],p=null,x=!1,v=null,g=null,w=null,_=null,E=null,N=null,C=null,j=new wt(0,0,0),T=0,A=!1,P=null,R=null,D=null,F=null,I=null;const G=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let q=!1,$=0;const L=t.getParameter(t.VERSION);L.indexOf("WebGL")!==-1?($=parseFloat(/^WebGL (\d)/.exec(L)[1]),q=$>=1):L.indexOf("OpenGL ES")!==-1&&($=parseFloat(/^OpenGL ES (\d)/.exec(L)[1]),q=$>=2);let V=null,K={};const W=t.getParameter(t.SCISSOR_BOX),B=t.getParameter(t.VIEWPORT),ee=new wn().fromArray(W),Y=new wn().fromArray(B);function Q(se,Ie,Le,ft){const Ve=new Uint8Array(4),Pe=t.createTexture();t.bindTexture(se,Pe),t.texParameteri(se,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(se,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let Fe=0;Fe<Le;Fe++)se===t.TEXTURE_3D||se===t.TEXTURE_2D_ARRAY?t.texImage3D(Ie,0,t.RGBA,1,1,ft,0,t.RGBA,t.UNSIGNED_BYTE,Ve):t.texImage2D(Ie+Fe,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,Ve);return Pe}const de={};de[t.TEXTURE_2D]=Q(t.TEXTURE_2D,t.TEXTURE_2D,1),de[t.TEXTURE_CUBE_MAP]=Q(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),de[t.TEXTURE_2D_ARRAY]=Q(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),de[t.TEXTURE_3D]=Q(t.TEXTURE_3D,t.TEXTURE_3D,1,1),s.setClear(0,0,0,1),a.setClear(1),l.setClear(0),te(t.DEPTH_TEST),a.setFunc(zm),Ne(!1),De(vD),te(t.CULL_FACE),H(yu);function te(se){d[se]!==!0&&(t.enable(se),d[se]=!0)}function he(se){d[se]!==!1&&(t.disable(se),d[se]=!1)}function oe(se,Ie){return f[se]!==Ie?(t.bindFramebuffer(se,Ie),f[se]=Ie,se===t.DRAW_FRAMEBUFFER&&(f[t.FRAMEBUFFER]=Ie),se===t.FRAMEBUFFER&&(f[t.DRAW_FRAMEBUFFER]=Ie),!0):!1}function fe(se,Ie){let Le=m,ft=!1;if(se){Le=h.get(Ie),Le===void 0&&(Le=[],h.set(Ie,Le));const Ve=se.textures;if(Le.length!==Ve.length||Le[0]!==t.COLOR_ATTACHMENT0){for(let Pe=0,Fe=Ve.length;Pe<Fe;Pe++)Le[Pe]=t.COLOR_ATTACHMENT0+Pe;Le.length=Ve.length,ft=!0}}else Le[0]!==t.BACK&&(Le[0]=t.BACK,ft=!0);ft&&t.drawBuffers(Le)}function ve(se){return p!==se?(t.useProgram(se),p=se,!0):!1}const ne={[Ud]:t.FUNC_ADD,[Hae]:t.FUNC_SUBTRACT,[Gae]:t.FUNC_REVERSE_SUBTRACT};ne[qae]=t.MIN,ne[Kae]=t.MAX;const Be={[Xae]:t.ZERO,[Yae]:t.ONE,[Zae]:t.SRC_COLOR,[eM]:t.SRC_ALPHA,[roe]:t.SRC_ALPHA_SATURATE,[toe]:t.DST_COLOR,[Jae]:t.DST_ALPHA,[Qae]:t.ONE_MINUS_SRC_COLOR,[tM]:t.ONE_MINUS_SRC_ALPHA,[noe]:t.ONE_MINUS_DST_COLOR,[eoe]:t.ONE_MINUS_DST_ALPHA,[ioe]:t.CONSTANT_COLOR,[soe]:t.ONE_MINUS_CONSTANT_COLOR,[aoe]:t.CONSTANT_ALPHA,[ooe]:t.ONE_MINUS_CONSTANT_ALPHA};function H(se,Ie,Le,ft,Ve,Pe,Fe,tt,it,yt){if(se===yu){x===!0&&(he(t.BLEND),x=!1);return}if(x===!1&&(te(t.BLEND),x=!0),se!==$ae){if(se!==v||yt!==A){if((g!==Ud||E!==Ud)&&(t.blendEquation(t.FUNC_ADD),g=Ud,E=Ud),yt)switch(se){case gm:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case xD:t.blendFunc(t.ONE,t.ONE);break;case yD:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case bD:t.blendFuncSeparate(t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ZERO,t.ONE);break;default:console.error("THREE.WebGLState: Invalid blending: ",se);break}else switch(se){case gm:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case xD:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE,t.ONE,t.ONE);break;case yD:console.error("THREE.WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case bD:console.error("THREE.WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:console.error("THREE.WebGLState: Invalid blending: ",se);break}w=null,_=null,N=null,C=null,j.set(0,0,0),T=0,v=se,A=yt}return}Ve=Ve||Ie,Pe=Pe||Le,Fe=Fe||ft,(Ie!==g||Ve!==E)&&(t.blendEquationSeparate(ne[Ie],ne[Ve]),g=Ie,E=Ve),(Le!==w||ft!==_||Pe!==N||Fe!==C)&&(t.blendFuncSeparate(Be[Le],Be[ft],Be[Pe],Be[Fe]),w=Le,_=ft,N=Pe,C=Fe),(tt.equals(j)===!1||it!==T)&&(t.blendColor(tt.r,tt.g,tt.b,it),j.copy(tt),T=it),v=se,A=!1}function Te(se,Ie){se.side===El?he(t.CULL_FACE):te(t.CULL_FACE);let Le=se.side===Zs;Ie&&(Le=!Le),Ne(Le),se.blending===gm&&se.transparent===!1?H(yu):H(se.blending,se.blendEquation,se.blendSrc,se.blendDst,se.blendEquationAlpha,se.blendSrcAlpha,se.blendDstAlpha,se.blendColor,se.blendAlpha,se.premultipliedAlpha),a.setFunc(se.depthFunc),a.setTest(se.depthTest),a.setMask(se.depthWrite),s.setMask(se.colorWrite);const ft=se.stencilWrite;l.setTest(ft),ft&&(l.setMask(se.stencilWriteMask),l.setFunc(se.stencilFunc,se.stencilRef,se.stencilFuncMask),l.setOp(se.stencilFail,se.stencilZFail,se.stencilZPass)),Ue(se.polygonOffset,se.polygonOffsetFactor,se.polygonOffsetUnits),se.alphaToCoverage===!0?te(t.SAMPLE_ALPHA_TO_COVERAGE):he(t.SAMPLE_ALPHA_TO_COVERAGE)}function Ne(se){P!==se&&(se?t.frontFace(t.CW):t.frontFace(t.CCW),P=se)}function De(se){se!==zae?(te(t.CULL_FACE),se!==R&&(se===vD?t.cullFace(t.BACK):se===Vae?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):he(t.CULL_FACE),R=se}function ce(se){se!==D&&(q&&t.lineWidth(se),D=se)}function Ue(se,Ie,Le){se?(te(t.POLYGON_OFFSET_FILL),(F!==Ie||I!==Le)&&(t.polygonOffset(Ie,Le),F=Ie,I=Le)):he(t.POLYGON_OFFSET_FILL)}function Ae(se){se?te(t.SCISSOR_TEST):he(t.SCISSOR_TEST)}function ge(se){se===void 0&&(se=t.TEXTURE0+G-1),V!==se&&(t.activeTexture(se),V=se)}function nt(se,Ie,Le){Le===void 0&&(V===null?Le=t.TEXTURE0+G-1:Le=V);let ft=K[Le];ft===void 0&&(ft={type:void 0,texture:void 0},K[Le]=ft),(ft.type!==se||ft.texture!==Ie)&&(V!==Le&&(t.activeTexture(Le),V=Le),t.bindTexture(se,Ie||de[se]),ft.type=se,ft.texture=Ie)}function X(){const se=K[V];se!==void 0&&se.type!==void 0&&(t.bindTexture(se.type,null),se.type=void 0,se.texture=void 0)}function z(){try{t.compressedTexImage2D(...arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function ae(){try{t.compressedTexImage3D(...arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function Me(){try{t.texSubImage2D(...arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function Se(){try{t.texSubImage3D(...arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function ye(){try{t.compressedTexSubImage2D(...arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function Ye(){try{t.compressedTexSubImage3D(...arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function $e(){try{t.texStorage2D(...arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function rt(){try{t.texStorage3D(...arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function st(){try{t.texImage2D(...arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function ke(){try{t.texImage3D(...arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function qe(se){ee.equals(se)===!1&&(t.scissor(se.x,se.y,se.z,se.w),ee.copy(se))}function Ke(se){Y.equals(se)===!1&&(t.viewport(se.x,se.y,se.z,se.w),Y.copy(se))}function ie(se,Ie){let Le=u.get(Ie);Le===void 0&&(Le=new WeakMap,u.set(Ie,Le));let ft=Le.get(se);ft===void 0&&(ft=t.getUniformBlockIndex(Ie,se.name),Le.set(se,ft))}function be(se,Ie){const ft=u.get(Ie).get(se);c.get(Ie)!==ft&&(t.uniformBlockBinding(Ie,ft,se.__bindingPointIndex),c.set(Ie,ft))}function Je(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),a.setReversed(!1),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),d={},V=null,K={},f={},h=new WeakMap,m=[],p=null,x=!1,v=null,g=null,w=null,_=null,E=null,N=null,C=null,j=new wt(0,0,0),T=0,A=!1,P=null,R=null,D=null,F=null,I=null,ee.set(0,0,t.canvas.width,t.canvas.height),Y.set(0,0,t.canvas.width,t.canvas.height),s.reset(),a.reset(),l.reset()}return{buffers:{color:s,depth:a,stencil:l},enable:te,disable:he,bindFramebuffer:oe,drawBuffers:fe,useProgram:ve,setBlending:H,setMaterial:Te,setFlipSided:Ne,setCullFace:De,setLineWidth:ce,setPolygonOffset:Ue,setScissorTest:Ae,activeTexture:ge,bindTexture:nt,unbindTexture:X,compressedTexImage2D:z,compressedTexImage3D:ae,texImage2D:st,texImage3D:ke,updateUBOMapping:ie,uniformBlockBinding:be,texStorage2D:$e,texStorage3D:rt,texSubImage2D:Me,texSubImage3D:Se,compressedTexSubImage2D:ye,compressedTexSubImage3D:Ye,scissor:qe,viewport:Ke,reset:Je}}function CKe(t,e,n,r,i,s,a){const l=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,c=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),u=new Ge,d=new WeakMap;let f;const h=new WeakMap;let m=!1;try{m=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function p(X,z){return m?new OffscreenCanvas(X,z):Fb("canvas")}function x(X,z,ae){let Me=1;const Se=nt(X);if((Se.width>ae||Se.height>ae)&&(Me=ae/Math.max(Se.width,Se.height)),Me<1)if(typeof HTMLImageElement<"u"&&X instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&X instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&X instanceof ImageBitmap||typeof VideoFrame<"u"&&X instanceof VideoFrame){const ye=Math.floor(Me*Se.width),Ye=Math.floor(Me*Se.height);f===void 0&&(f=p(ye,Ye));const $e=z?p(ye,Ye):f;return $e.width=ye,$e.height=Ye,$e.getContext("2d").drawImage(X,0,0,ye,Ye),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Se.width+"x"+Se.height+") to ("+ye+"x"+Ye+")."),$e}else return"data"in X&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Se.width+"x"+Se.height+")."),X;return X}function v(X){return X.generateMipmaps}function g(X){t.generateMipmap(X)}function w(X){return X.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:X.isWebGL3DRenderTarget?t.TEXTURE_3D:X.isWebGLArrayRenderTarget||X.isCompressedArrayTexture?t.TEXTURE_2D_ARRAY:t.TEXTURE_2D}function _(X,z,ae,Me,Se=!1){if(X!==null){if(t[X]!==void 0)return t[X];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+X+"'")}let ye=z;if(z===t.RED&&(ae===t.FLOAT&&(ye=t.R32F),ae===t.HALF_FLOAT&&(ye=t.R16F),ae===t.UNSIGNED_BYTE&&(ye=t.R8)),z===t.RED_INTEGER&&(ae===t.UNSIGNED_BYTE&&(ye=t.R8UI),ae===t.UNSIGNED_SHORT&&(ye=t.R16UI),ae===t.UNSIGNED_INT&&(ye=t.R32UI),ae===t.BYTE&&(ye=t.R8I),ae===t.SHORT&&(ye=t.R16I),ae===t.INT&&(ye=t.R32I)),z===t.RG&&(ae===t.FLOAT&&(ye=t.RG32F),ae===t.HALF_FLOAT&&(ye=t.RG16F),ae===t.UNSIGNED_BYTE&&(ye=t.RG8)),z===t.RG_INTEGER&&(ae===t.UNSIGNED_BYTE&&(ye=t.RG8UI),ae===t.UNSIGNED_SHORT&&(ye=t.RG16UI),ae===t.UNSIGNED_INT&&(ye=t.RG32UI),ae===t.BYTE&&(ye=t.RG8I),ae===t.SHORT&&(ye=t.RG16I),ae===t.INT&&(ye=t.RG32I)),z===t.RGB_INTEGER&&(ae===t.UNSIGNED_BYTE&&(ye=t.RGB8UI),ae===t.UNSIGNED_SHORT&&(ye=t.RGB16UI),ae===t.UNSIGNED_INT&&(ye=t.RGB32UI),ae===t.BYTE&&(ye=t.RGB8I),ae===t.SHORT&&(ye=t.RGB16I),ae===t.INT&&(ye=t.RGB32I)),z===t.RGBA_INTEGER&&(ae===t.UNSIGNED_BYTE&&(ye=t.RGBA8UI),ae===t.UNSIGNED_SHORT&&(ye=t.RGBA16UI),ae===t.UNSIGNED_INT&&(ye=t.RGBA32UI),ae===t.BYTE&&(ye=t.RGBA8I),ae===t.SHORT&&(ye=t.RGBA16I),ae===t.INT&&(ye=t.RGBA32I)),z===t.RGB&&ae===t.UNSIGNED_INT_5_9_9_9_REV&&(ye=t.RGB9_E5),z===t.RGBA){const Ye=Se?Db:_n.getTransfer(Me);ae===t.FLOAT&&(ye=t.RGBA32F),ae===t.HALF_FLOAT&&(ye=t.RGBA16F),ae===t.UNSIGNED_BYTE&&(ye=Ye===Un?t.SRGB8_ALPHA8:t.RGBA8),ae===t.UNSIGNED_SHORT_4_4_4_4&&(ye=t.RGBA4),ae===t.UNSIGNED_SHORT_5_5_5_1&&(ye=t.RGB5_A1)}return(ye===t.R16F||ye===t.R32F||ye===t.RG16F||ye===t.RG32F||ye===t.RGBA16F||ye===t.RGBA32F)&&e.get("EXT_color_buffer_float"),ye}function E(X,z){let ae;return X?z===null||z===Lu||z===Fv?ae=t.DEPTH24_STENCIL8:z===Na?ae=t.DEPTH32F_STENCIL8:z===Lv&&(ae=t.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):z===null||z===Lu||z===Fv?ae=t.DEPTH_COMPONENT24:z===Na?ae=t.DEPTH_COMPONENT32F:z===Lv&&(ae=t.DEPTH_COMPONENT16),ae}function N(X,z){return v(X)===!0||X.isFramebufferTexture&&X.minFilter!==es&&X.minFilter!==$r?Math.log2(Math.max(z.width,z.height))+1:X.mipmaps!==void 0&&X.mipmaps.length>0?X.mipmaps.length:X.isCompressedTexture&&Array.isArray(X.image)?z.mipmaps.length:1}function C(X){const z=X.target;z.removeEventListener("dispose",C),T(z),z.isVideoTexture&&d.delete(z)}function j(X){const z=X.target;z.removeEventListener("dispose",j),P(z)}function T(X){const z=r.get(X);if(z.__webglInit===void 0)return;const ae=X.source,Me=h.get(ae);if(Me){const Se=Me[z.__cacheKey];Se.usedTimes--,Se.usedTimes===0&&A(X),Object.keys(Me).length===0&&h.delete(ae)}r.remove(X)}function A(X){const z=r.get(X);t.deleteTexture(z.__webglTexture);const ae=X.source,Me=h.get(ae);delete Me[z.__cacheKey],a.memory.textures--}function P(X){const z=r.get(X);if(X.depthTexture&&(X.depthTexture.dispose(),r.remove(X.depthTexture)),X.isWebGLCubeRenderTarget)for(let Me=0;Me<6;Me++){if(Array.isArray(z.__webglFramebuffer[Me]))for(let Se=0;Se<z.__webglFramebuffer[Me].length;Se++)t.deleteFramebuffer(z.__webglFramebuffer[Me][Se]);else t.deleteFramebuffer(z.__webglFramebuffer[Me]);z.__webglDepthbuffer&&t.deleteRenderbuffer(z.__webglDepthbuffer[Me])}else{if(Array.isArray(z.__webglFramebuffer))for(let Me=0;Me<z.__webglFramebuffer.length;Me++)t.deleteFramebuffer(z.__webglFramebuffer[Me]);else t.deleteFramebuffer(z.__webglFramebuffer);if(z.__webglDepthbuffer&&t.deleteRenderbuffer(z.__webglDepthbuffer),z.__webglMultisampledFramebuffer&&t.deleteFramebuffer(z.__webglMultisampledFramebuffer),z.__webglColorRenderbuffer)for(let Me=0;Me<z.__webglColorRenderbuffer.length;Me++)z.__webglColorRenderbuffer[Me]&&t.deleteRenderbuffer(z.__webglColorRenderbuffer[Me]);z.__webglDepthRenderbuffer&&t.deleteRenderbuffer(z.__webglDepthRenderbuffer)}const ae=X.textures;for(let Me=0,Se=ae.length;Me<Se;Me++){const ye=r.get(ae[Me]);ye.__webglTexture&&(t.deleteTexture(ye.__webglTexture),a.memory.textures--),r.remove(ae[Me])}r.remove(X)}let R=0;function D(){R=0}function F(){const X=R;return X>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+X+" texture units while this GPU supports only "+i.maxTextures),R+=1,X}function I(X){const z=[];return z.push(X.wrapS),z.push(X.wrapT),z.push(X.wrapR||0),z.push(X.magFilter),z.push(X.minFilter),z.push(X.anisotropy),z.push(X.internalFormat),z.push(X.format),z.push(X.type),z.push(X.generateMipmaps),z.push(X.premultiplyAlpha),z.push(X.flipY),z.push(X.unpackAlignment),z.push(X.colorSpace),z.join()}function G(X,z){const ae=r.get(X);if(X.isVideoTexture&&Ae(X),X.isRenderTargetTexture===!1&&X.version>0&&ae.__version!==X.version){const Me=X.image;if(Me===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Me.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{de(ae,X,z);return}}n.bindTexture(t.TEXTURE_2D,ae.__webglTexture,t.TEXTURE0+z)}function q(X,z){const ae=r.get(X);if(X.version>0&&ae.__version!==X.version){de(ae,X,z);return}n.bindTexture(t.TEXTURE_2D_ARRAY,ae.__webglTexture,t.TEXTURE0+z)}function $(X,z){const ae=r.get(X);if(X.version>0&&ae.__version!==X.version){de(ae,X,z);return}n.bindTexture(t.TEXTURE_3D,ae.__webglTexture,t.TEXTURE0+z)}function L(X,z){const ae=r.get(X);if(X.version>0&&ae.__version!==X.version){te(ae,X,z);return}n.bindTexture(t.TEXTURE_CUBE_MAP,ae.__webglTexture,t.TEXTURE0+z)}const V={[Pb]:t.REPEAT,[Fo]:t.CLAMP_TO_EDGE,[kb]:t.MIRRORED_REPEAT},K={[es]:t.NEAREST,[RF]:t.NEAREST_MIPMAP_NEAREST,[Tg]:t.NEAREST_MIPMAP_LINEAR,[$r]:t.LINEAR,[b0]:t.LINEAR_MIPMAP_NEAREST,[mc]:t.LINEAR_MIPMAP_LINEAR},W={[_oe]:t.NEVER,[joe]:t.ALWAYS,[Soe]:t.LESS,[WF]:t.LEQUAL,[Eoe]:t.EQUAL,[Coe]:t.GEQUAL,[Noe]:t.GREATER,[Moe]:t.NOTEQUAL};function B(X,z){if(z.type===Na&&e.has("OES_texture_float_linear")===!1&&(z.magFilter===$r||z.magFilter===b0||z.magFilter===Tg||z.magFilter===mc||z.minFilter===$r||z.minFilter===b0||z.minFilter===Tg||z.minFilter===mc)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(X,t.TEXTURE_WRAP_S,V[z.wrapS]),t.texParameteri(X,t.TEXTURE_WRAP_T,V[z.wrapT]),(X===t.TEXTURE_3D||X===t.TEXTURE_2D_ARRAY)&&t.texParameteri(X,t.TEXTURE_WRAP_R,V[z.wrapR]),t.texParameteri(X,t.TEXTURE_MAG_FILTER,K[z.magFilter]),t.texParameteri(X,t.TEXTURE_MIN_FILTER,K[z.minFilter]),z.compareFunction&&(t.texParameteri(X,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(X,t.TEXTURE_COMPARE_FUNC,W[z.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(z.magFilter===es||z.minFilter!==Tg&&z.minFilter!==mc||z.type===Na&&e.has("OES_texture_float_linear")===!1)return;if(z.anisotropy>1||r.get(z).__currentAnisotropy){const ae=e.get("EXT_texture_filter_anisotropic");t.texParameterf(X,ae.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(z.anisotropy,i.getMaxAnisotropy())),r.get(z).__currentAnisotropy=z.anisotropy}}}function ee(X,z){let ae=!1;X.__webglInit===void 0&&(X.__webglInit=!0,z.addEventListener("dispose",C));const Me=z.source;let Se=h.get(Me);Se===void 0&&(Se={},h.set(Me,Se));const ye=I(z);if(ye!==X.__cacheKey){Se[ye]===void 0&&(Se[ye]={texture:t.createTexture(),usedTimes:0},a.memory.textures++,ae=!0),Se[ye].usedTimes++;const Ye=Se[X.__cacheKey];Ye!==void 0&&(Se[X.__cacheKey].usedTimes--,Ye.usedTimes===0&&A(z)),X.__cacheKey=ye,X.__webglTexture=Se[ye].texture}return ae}function Y(X,z,ae){return Math.floor(Math.floor(X/ae)/z)}function Q(X,z,ae,Me){const ye=X.updateRanges;if(ye.length===0)n.texSubImage2D(t.TEXTURE_2D,0,0,0,z.width,z.height,ae,Me,z.data);else{ye.sort((ke,qe)=>ke.start-qe.start);let Ye=0;for(let ke=1;ke<ye.length;ke++){const qe=ye[Ye],Ke=ye[ke],ie=qe.start+qe.count,be=Y(Ke.start,z.width,4),Je=Y(qe.start,z.width,4);Ke.start<=ie+1&&be===Je&&Y(Ke.start+Ke.count-1,z.width,4)===be?qe.count=Math.max(qe.count,Ke.start+Ke.count-qe.start):(++Ye,ye[Ye]=Ke)}ye.length=Ye+1;const $e=t.getParameter(t.UNPACK_ROW_LENGTH),rt=t.getParameter(t.UNPACK_SKIP_PIXELS),st=t.getParameter(t.UNPACK_SKIP_ROWS);t.pixelStorei(t.UNPACK_ROW_LENGTH,z.width);for(let ke=0,qe=ye.length;ke<qe;ke++){const Ke=ye[ke],ie=Math.floor(Ke.start/4),be=Math.ceil(Ke.count/4),Je=ie%z.width,se=Math.floor(ie/z.width),Ie=be,Le=1;t.pixelStorei(t.UNPACK_SKIP_PIXELS,Je),t.pixelStorei(t.UNPACK_SKIP_ROWS,se),n.texSubImage2D(t.TEXTURE_2D,0,Je,se,Ie,Le,ae,Me,z.data)}X.clearUpdateRanges(),t.pixelStorei(t.UNPACK_ROW_LENGTH,$e),t.pixelStorei(t.UNPACK_SKIP_PIXELS,rt),t.pixelStorei(t.UNPACK_SKIP_ROWS,st)}}function de(X,z,ae){let Me=t.TEXTURE_2D;(z.isDataArrayTexture||z.isCompressedArrayTexture)&&(Me=t.TEXTURE_2D_ARRAY),z.isData3DTexture&&(Me=t.TEXTURE_3D);const Se=ee(X,z),ye=z.source;n.bindTexture(Me,X.__webglTexture,t.TEXTURE0+ae);const Ye=r.get(ye);if(ye.version!==Ye.__version||Se===!0){n.activeTexture(t.TEXTURE0+ae);const $e=_n.getPrimaries(_n.workingColorSpace),rt=z.colorSpace===cu?null:_n.getPrimaries(z.colorSpace),st=z.colorSpace===cu||$e===rt?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,z.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,z.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,z.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,st);let ke=x(z.image,!1,i.maxTextureSize);ke=ge(z,ke);const qe=s.convert(z.format,z.colorSpace),Ke=s.convert(z.type);let ie=_(z.internalFormat,qe,Ke,z.colorSpace,z.isVideoTexture);B(Me,z);let be;const Je=z.mipmaps,se=z.isVideoTexture!==!0,Ie=Ye.__version===void 0||Se===!0,Le=ye.dataReady,ft=N(z,ke);if(z.isDepthTexture)ie=E(z.format===Bv,z.type),Ie&&(se?n.texStorage2D(t.TEXTURE_2D,1,ie,ke.width,ke.height):n.texImage2D(t.TEXTURE_2D,0,ie,ke.width,ke.height,0,qe,Ke,null));else if(z.isDataTexture)if(Je.length>0){se&&Ie&&n.texStorage2D(t.TEXTURE_2D,ft,ie,Je[0].width,Je[0].height);for(let Ve=0,Pe=Je.length;Ve<Pe;Ve++)be=Je[Ve],se?Le&&n.texSubImage2D(t.TEXTURE_2D,Ve,0,0,be.width,be.height,qe,Ke,be.data):n.texImage2D(t.TEXTURE_2D,Ve,ie,be.width,be.height,0,qe,Ke,be.data);z.generateMipmaps=!1}else se?(Ie&&n.texStorage2D(t.TEXTURE_2D,ft,ie,ke.width,ke.height),Le&&Q(z,ke,qe,Ke)):n.texImage2D(t.TEXTURE_2D,0,ie,ke.width,ke.height,0,qe,Ke,ke.data);else if(z.isCompressedTexture)if(z.isCompressedArrayTexture){se&&Ie&&n.texStorage3D(t.TEXTURE_2D_ARRAY,ft,ie,Je[0].width,Je[0].height,ke.depth);for(let Ve=0,Pe=Je.length;Ve<Pe;Ve++)if(be=Je[Ve],z.format!==_s)if(qe!==null)if(se){if(Le)if(z.layerUpdates.size>0){const Fe=PD(be.width,be.height,z.format,z.type);for(const tt of z.layerUpdates){const it=be.data.subarray(tt*Fe/be.data.BYTES_PER_ELEMENT,(tt+1)*Fe/be.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Ve,0,0,tt,be.width,be.height,1,qe,it)}z.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Ve,0,0,0,be.width,be.height,ke.depth,qe,be.data)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,Ve,ie,be.width,be.height,ke.depth,0,be.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else se?Le&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,Ve,0,0,0,be.width,be.height,ke.depth,qe,Ke,be.data):n.texImage3D(t.TEXTURE_2D_ARRAY,Ve,ie,be.width,be.height,ke.depth,0,qe,Ke,be.data)}else{se&&Ie&&n.texStorage2D(t.TEXTURE_2D,ft,ie,Je[0].width,Je[0].height);for(let Ve=0,Pe=Je.length;Ve<Pe;Ve++)be=Je[Ve],z.format!==_s?qe!==null?se?Le&&n.compressedTexSubImage2D(t.TEXTURE_2D,Ve,0,0,be.width,be.height,qe,be.data):n.compressedTexImage2D(t.TEXTURE_2D,Ve,ie,be.width,be.height,0,be.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):se?Le&&n.texSubImage2D(t.TEXTURE_2D,Ve,0,0,be.width,be.height,qe,Ke,be.data):n.texImage2D(t.TEXTURE_2D,Ve,ie,be.width,be.height,0,qe,Ke,be.data)}else if(z.isDataArrayTexture)if(se){if(Ie&&n.texStorage3D(t.TEXTURE_2D_ARRAY,ft,ie,ke.width,ke.height,ke.depth),Le)if(z.layerUpdates.size>0){const Ve=PD(ke.width,ke.height,z.format,z.type);for(const Pe of z.layerUpdates){const Fe=ke.data.subarray(Pe*Ve/ke.data.BYTES_PER_ELEMENT,(Pe+1)*Ve/ke.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,Pe,ke.width,ke.height,1,qe,Ke,Fe)}z.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,ke.width,ke.height,ke.depth,qe,Ke,ke.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,ie,ke.width,ke.height,ke.depth,0,qe,Ke,ke.data);else if(z.isData3DTexture)se?(Ie&&n.texStorage3D(t.TEXTURE_3D,ft,ie,ke.width,ke.height,ke.depth),Le&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,ke.width,ke.height,ke.depth,qe,Ke,ke.data)):n.texImage3D(t.TEXTURE_3D,0,ie,ke.width,ke.height,ke.depth,0,qe,Ke,ke.data);else if(z.isFramebufferTexture){if(Ie)if(se)n.texStorage2D(t.TEXTURE_2D,ft,ie,ke.width,ke.height);else{let Ve=ke.width,Pe=ke.height;for(let Fe=0;Fe<ft;Fe++)n.texImage2D(t.TEXTURE_2D,Fe,ie,Ve,Pe,0,qe,Ke,null),Ve>>=1,Pe>>=1}}else if(Je.length>0){if(se&&Ie){const Ve=nt(Je[0]);n.texStorage2D(t.TEXTURE_2D,ft,ie,Ve.width,Ve.height)}for(let Ve=0,Pe=Je.length;Ve<Pe;Ve++)be=Je[Ve],se?Le&&n.texSubImage2D(t.TEXTURE_2D,Ve,0,0,qe,Ke,be):n.texImage2D(t.TEXTURE_2D,Ve,ie,qe,Ke,be);z.generateMipmaps=!1}else if(se){if(Ie){const Ve=nt(ke);n.texStorage2D(t.TEXTURE_2D,ft,ie,Ve.width,Ve.height)}Le&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,qe,Ke,ke)}else n.texImage2D(t.TEXTURE_2D,0,ie,qe,Ke,ke);v(z)&&g(Me),Ye.__version=ye.version,z.onUpdate&&z.onUpdate(z)}X.__version=z.version}function te(X,z,ae){if(z.image.length!==6)return;const Me=ee(X,z),Se=z.source;n.bindTexture(t.TEXTURE_CUBE_MAP,X.__webglTexture,t.TEXTURE0+ae);const ye=r.get(Se);if(Se.version!==ye.__version||Me===!0){n.activeTexture(t.TEXTURE0+ae);const Ye=_n.getPrimaries(_n.workingColorSpace),$e=z.colorSpace===cu?null:_n.getPrimaries(z.colorSpace),rt=z.colorSpace===cu||Ye===$e?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,z.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,z.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,z.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,rt);const st=z.isCompressedTexture||z.image[0].isCompressedTexture,ke=z.image[0]&&z.image[0].isDataTexture,qe=[];for(let Pe=0;Pe<6;Pe++)!st&&!ke?qe[Pe]=x(z.image[Pe],!0,i.maxCubemapSize):qe[Pe]=ke?z.image[Pe].image:z.image[Pe],qe[Pe]=ge(z,qe[Pe]);const Ke=qe[0],ie=s.convert(z.format,z.colorSpace),be=s.convert(z.type),Je=_(z.internalFormat,ie,be,z.colorSpace),se=z.isVideoTexture!==!0,Ie=ye.__version===void 0||Me===!0,Le=Se.dataReady;let ft=N(z,Ke);B(t.TEXTURE_CUBE_MAP,z);let Ve;if(st){se&&Ie&&n.texStorage2D(t.TEXTURE_CUBE_MAP,ft,Je,Ke.width,Ke.height);for(let Pe=0;Pe<6;Pe++){Ve=qe[Pe].mipmaps;for(let Fe=0;Fe<Ve.length;Fe++){const tt=Ve[Fe];z.format!==_s?ie!==null?se?Le&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,Fe,0,0,tt.width,tt.height,ie,tt.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,Fe,Je,tt.width,tt.height,0,tt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):se?Le&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,Fe,0,0,tt.width,tt.height,ie,be,tt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,Fe,Je,tt.width,tt.height,0,ie,be,tt.data)}}}else{if(Ve=z.mipmaps,se&&Ie){Ve.length>0&&ft++;const Pe=nt(qe[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,ft,Je,Pe.width,Pe.height)}for(let Pe=0;Pe<6;Pe++)if(ke){se?Le&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,0,0,0,qe[Pe].width,qe[Pe].height,ie,be,qe[Pe].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,0,Je,qe[Pe].width,qe[Pe].height,0,ie,be,qe[Pe].data);for(let Fe=0;Fe<Ve.length;Fe++){const it=Ve[Fe].image[Pe].image;se?Le&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,Fe+1,0,0,it.width,it.height,ie,be,it.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,Fe+1,Je,it.width,it.height,0,ie,be,it.data)}}else{se?Le&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,0,0,0,ie,be,qe[Pe]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,0,Je,ie,be,qe[Pe]);for(let Fe=0;Fe<Ve.length;Fe++){const tt=Ve[Fe];se?Le&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,Fe+1,0,0,ie,be,tt.image[Pe]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,Fe+1,Je,ie,be,tt.image[Pe])}}}v(z)&&g(t.TEXTURE_CUBE_MAP),ye.__version=Se.version,z.onUpdate&&z.onUpdate(z)}X.__version=z.version}function he(X,z,ae,Me,Se,ye){const Ye=s.convert(ae.format,ae.colorSpace),$e=s.convert(ae.type),rt=_(ae.internalFormat,Ye,$e,ae.colorSpace),st=r.get(z),ke=r.get(ae);if(ke.__renderTarget=z,!st.__hasExternalTextures){const qe=Math.max(1,z.width>>ye),Ke=Math.max(1,z.height>>ye);Se===t.TEXTURE_3D||Se===t.TEXTURE_2D_ARRAY?n.texImage3D(Se,ye,rt,qe,Ke,z.depth,0,Ye,$e,null):n.texImage2D(Se,ye,rt,qe,Ke,0,Ye,$e,null)}n.bindFramebuffer(t.FRAMEBUFFER,X),Ue(z)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,Me,Se,ke.__webglTexture,0,ce(z)):(Se===t.TEXTURE_2D||Se>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Se<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,Me,Se,ke.__webglTexture,ye),n.bindFramebuffer(t.FRAMEBUFFER,null)}function oe(X,z,ae){if(t.bindRenderbuffer(t.RENDERBUFFER,X),z.depthBuffer){const Me=z.depthTexture,Se=Me&&Me.isDepthTexture?Me.type:null,ye=E(z.stencilBuffer,Se),Ye=z.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,$e=ce(z);Ue(z)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,$e,ye,z.width,z.height):ae?t.renderbufferStorageMultisample(t.RENDERBUFFER,$e,ye,z.width,z.height):t.renderbufferStorage(t.RENDERBUFFER,ye,z.width,z.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,Ye,t.RENDERBUFFER,X)}else{const Me=z.textures;for(let Se=0;Se<Me.length;Se++){const ye=Me[Se],Ye=s.convert(ye.format,ye.colorSpace),$e=s.convert(ye.type),rt=_(ye.internalFormat,Ye,$e,ye.colorSpace),st=ce(z);ae&&Ue(z)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,st,rt,z.width,z.height):Ue(z)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,st,rt,z.width,z.height):t.renderbufferStorage(t.RENDERBUFFER,rt,z.width,z.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function fe(X,z){if(z&&z.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,X),!(z.depthTexture&&z.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Me=r.get(z.depthTexture);Me.__renderTarget=z,(!Me.__webglTexture||z.depthTexture.image.width!==z.width||z.depthTexture.image.height!==z.height)&&(z.depthTexture.image.width=z.width,z.depthTexture.image.height=z.height,z.depthTexture.needsUpdate=!0),G(z.depthTexture,0);const Se=Me.__webglTexture,ye=ce(z);if(z.depthTexture.format===Uv)Ue(z)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Se,0,ye):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Se,0);else if(z.depthTexture.format===Bv)Ue(z)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Se,0,ye):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Se,0);else throw new Error("Unknown depthTexture format")}function ve(X){const z=r.get(X),ae=X.isWebGLCubeRenderTarget===!0;if(z.__boundDepthTexture!==X.depthTexture){const Me=X.depthTexture;if(z.__depthDisposeCallback&&z.__depthDisposeCallback(),Me){const Se=()=>{delete z.__boundDepthTexture,delete z.__depthDisposeCallback,Me.removeEventListener("dispose",Se)};Me.addEventListener("dispose",Se),z.__depthDisposeCallback=Se}z.__boundDepthTexture=Me}if(X.depthTexture&&!z.__autoAllocateDepthBuffer){if(ae)throw new Error("target.depthTexture not supported in Cube render targets");const Me=X.texture.mipmaps;Me&&Me.length>0?fe(z.__webglFramebuffer[0],X):fe(z.__webglFramebuffer,X)}else if(ae){z.__webglDepthbuffer=[];for(let Me=0;Me<6;Me++)if(n.bindFramebuffer(t.FRAMEBUFFER,z.__webglFramebuffer[Me]),z.__webglDepthbuffer[Me]===void 0)z.__webglDepthbuffer[Me]=t.createRenderbuffer(),oe(z.__webglDepthbuffer[Me],X,!1);else{const Se=X.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,ye=z.__webglDepthbuffer[Me];t.bindRenderbuffer(t.RENDERBUFFER,ye),t.framebufferRenderbuffer(t.FRAMEBUFFER,Se,t.RENDERBUFFER,ye)}}else{const Me=X.texture.mipmaps;if(Me&&Me.length>0?n.bindFramebuffer(t.FRAMEBUFFER,z.__webglFramebuffer[0]):n.bindFramebuffer(t.FRAMEBUFFER,z.__webglFramebuffer),z.__webglDepthbuffer===void 0)z.__webglDepthbuffer=t.createRenderbuffer(),oe(z.__webglDepthbuffer,X,!1);else{const Se=X.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,ye=z.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,ye),t.framebufferRenderbuffer(t.FRAMEBUFFER,Se,t.RENDERBUFFER,ye)}}n.bindFramebuffer(t.FRAMEBUFFER,null)}function ne(X,z,ae){const Me=r.get(X);z!==void 0&&he(Me.__webglFramebuffer,X,X.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),ae!==void 0&&ve(X)}function Be(X){const z=X.texture,ae=r.get(X),Me=r.get(z);X.addEventListener("dispose",j);const Se=X.textures,ye=X.isWebGLCubeRenderTarget===!0,Ye=Se.length>1;if(Ye||(Me.__webglTexture===void 0&&(Me.__webglTexture=t.createTexture()),Me.__version=z.version,a.memory.textures++),ye){ae.__webglFramebuffer=[];for(let $e=0;$e<6;$e++)if(z.mipmaps&&z.mipmaps.length>0){ae.__webglFramebuffer[$e]=[];for(let rt=0;rt<z.mipmaps.length;rt++)ae.__webglFramebuffer[$e][rt]=t.createFramebuffer()}else ae.__webglFramebuffer[$e]=t.createFramebuffer()}else{if(z.mipmaps&&z.mipmaps.length>0){ae.__webglFramebuffer=[];for(let $e=0;$e<z.mipmaps.length;$e++)ae.__webglFramebuffer[$e]=t.createFramebuffer()}else ae.__webglFramebuffer=t.createFramebuffer();if(Ye)for(let $e=0,rt=Se.length;$e<rt;$e++){const st=r.get(Se[$e]);st.__webglTexture===void 0&&(st.__webglTexture=t.createTexture(),a.memory.textures++)}if(X.samples>0&&Ue(X)===!1){ae.__webglMultisampledFramebuffer=t.createFramebuffer(),ae.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,ae.__webglMultisampledFramebuffer);for(let $e=0;$e<Se.length;$e++){const rt=Se[$e];ae.__webglColorRenderbuffer[$e]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,ae.__webglColorRenderbuffer[$e]);const st=s.convert(rt.format,rt.colorSpace),ke=s.convert(rt.type),qe=_(rt.internalFormat,st,ke,rt.colorSpace,X.isXRRenderTarget===!0),Ke=ce(X);t.renderbufferStorageMultisample(t.RENDERBUFFER,Ke,qe,X.width,X.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+$e,t.RENDERBUFFER,ae.__webglColorRenderbuffer[$e])}t.bindRenderbuffer(t.RENDERBUFFER,null),X.depthBuffer&&(ae.__webglDepthRenderbuffer=t.createRenderbuffer(),oe(ae.__webglDepthRenderbuffer,X,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(ye){n.bindTexture(t.TEXTURE_CUBE_MAP,Me.__webglTexture),B(t.TEXTURE_CUBE_MAP,z);for(let $e=0;$e<6;$e++)if(z.mipmaps&&z.mipmaps.length>0)for(let rt=0;rt<z.mipmaps.length;rt++)he(ae.__webglFramebuffer[$e][rt],X,z,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+$e,rt);else he(ae.__webglFramebuffer[$e],X,z,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+$e,0);v(z)&&g(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(Ye){for(let $e=0,rt=Se.length;$e<rt;$e++){const st=Se[$e],ke=r.get(st);n.bindTexture(t.TEXTURE_2D,ke.__webglTexture),B(t.TEXTURE_2D,st),he(ae.__webglFramebuffer,X,st,t.COLOR_ATTACHMENT0+$e,t.TEXTURE_2D,0),v(st)&&g(t.TEXTURE_2D)}n.unbindTexture()}else{let $e=t.TEXTURE_2D;if((X.isWebGL3DRenderTarget||X.isWebGLArrayRenderTarget)&&($e=X.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture($e,Me.__webglTexture),B($e,z),z.mipmaps&&z.mipmaps.length>0)for(let rt=0;rt<z.mipmaps.length;rt++)he(ae.__webglFramebuffer[rt],X,z,t.COLOR_ATTACHMENT0,$e,rt);else he(ae.__webglFramebuffer,X,z,t.COLOR_ATTACHMENT0,$e,0);v(z)&&g($e),n.unbindTexture()}X.depthBuffer&&ve(X)}function H(X){const z=X.textures;for(let ae=0,Me=z.length;ae<Me;ae++){const Se=z[ae];if(v(Se)){const ye=w(X),Ye=r.get(Se).__webglTexture;n.bindTexture(ye,Ye),g(ye),n.unbindTexture()}}}const Te=[],Ne=[];function De(X){if(X.samples>0){if(Ue(X)===!1){const z=X.textures,ae=X.width,Me=X.height;let Se=t.COLOR_BUFFER_BIT;const ye=X.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Ye=r.get(X),$e=z.length>1;if($e)for(let st=0;st<z.length;st++)n.bindFramebuffer(t.FRAMEBUFFER,Ye.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+st,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,Ye.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+st,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,Ye.__webglMultisampledFramebuffer);const rt=X.texture.mipmaps;rt&&rt.length>0?n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Ye.__webglFramebuffer[0]):n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Ye.__webglFramebuffer);for(let st=0;st<z.length;st++){if(X.resolveDepthBuffer&&(X.depthBuffer&&(Se|=t.DEPTH_BUFFER_BIT),X.stencilBuffer&&X.resolveStencilBuffer&&(Se|=t.STENCIL_BUFFER_BIT)),$e){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,Ye.__webglColorRenderbuffer[st]);const ke=r.get(z[st]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,ke,0)}t.blitFramebuffer(0,0,ae,Me,0,0,ae,Me,Se,t.NEAREST),c===!0&&(Te.length=0,Ne.length=0,Te.push(t.COLOR_ATTACHMENT0+st),X.depthBuffer&&X.resolveDepthBuffer===!1&&(Te.push(ye),Ne.push(ye),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,Ne)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,Te))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),$e)for(let st=0;st<z.length;st++){n.bindFramebuffer(t.FRAMEBUFFER,Ye.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+st,t.RENDERBUFFER,Ye.__webglColorRenderbuffer[st]);const ke=r.get(z[st]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,Ye.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+st,t.TEXTURE_2D,ke,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Ye.__webglMultisampledFramebuffer)}else if(X.depthBuffer&&X.resolveDepthBuffer===!1&&c){const z=X.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[z])}}}function ce(X){return Math.min(i.maxSamples,X.samples)}function Ue(X){const z=r.get(X);return X.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&z.__useRenderToTexture!==!1}function Ae(X){const z=a.render.frame;d.get(X)!==z&&(d.set(X,z),X.update())}function ge(X,z){const ae=X.colorSpace,Me=X.format,Se=X.type;return X.isCompressedTexture===!0||X.isVideoTexture===!0||ae!==Vm&&ae!==cu&&(_n.getTransfer(ae)===Un?(Me!==_s||Se!==Xo)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ae)),z}function nt(X){return typeof HTMLImageElement<"u"&&X instanceof HTMLImageElement?(u.width=X.naturalWidth||X.width,u.height=X.naturalHeight||X.height):typeof VideoFrame<"u"&&X instanceof VideoFrame?(u.width=X.displayWidth,u.height=X.displayHeight):(u.width=X.width,u.height=X.height),u}this.allocateTextureUnit=F,this.resetTextureUnits=D,this.setTexture2D=G,this.setTexture2DArray=q,this.setTexture3D=$,this.setTextureCube=L,this.rebindTextures=ne,this.setupRenderTarget=Be,this.updateRenderTargetMipmap=H,this.updateMultisampleRenderTarget=De,this.setupDepthRenderbuffer=ve,this.setupFrameBufferTexture=he,this.useMultisampledRTT=Ue}function Lle(t,e){function n(r,i=cu){let s;const a=_n.getTransfer(i);if(r===Xo)return t.UNSIGNED_BYTE;if(r===vj)return t.UNSIGNED_SHORT_4_4_4_4;if(r===xj)return t.UNSIGNED_SHORT_5_5_5_1;if(r===IF)return t.UNSIGNED_INT_5_9_9_9_REV;if(r===OF)return t.BYTE;if(r===DF)return t.SHORT;if(r===Lv)return t.UNSIGNED_SHORT;if(r===gj)return t.INT;if(r===Lu)return t.UNSIGNED_INT;if(r===Na)return t.FLOAT;if(r===wx)return t.HALF_FLOAT;if(r===LF)return t.ALPHA;if(r===FF)return t.RGB;if(r===_s)return t.RGBA;if(r===Uv)return t.DEPTH_COMPONENT;if(r===Bv)return t.DEPTH_STENCIL;if(r===yj)return t.RED;if(r===Xw)return t.RED_INTEGER;if(r===UF)return t.RG;if(r===bj)return t.RG_INTEGER;if(r===wj)return t.RGBA_INTEGER;if(r===w0||r===_0||r===S0||r===E0)if(a===Un)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(r===w0)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===_0)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===S0)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===E0)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(r===w0)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===_0)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===S0)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===E0)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===cM||r===uM||r===dM||r===fM)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(r===cM)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===uM)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===dM)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===fM)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===hM||r===mM||r===pM)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(r===hM||r===mM)return a===Un?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(r===pM)return a===Un?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===gM||r===vM||r===xM||r===yM||r===bM||r===wM||r===_M||r===SM||r===EM||r===NM||r===MM||r===CM||r===jM||r===AM)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(r===gM)return a===Un?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===vM)return a===Un?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===xM)return a===Un?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===yM)return a===Un?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===bM)return a===Un?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===wM)return a===Un?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===_M)return a===Un?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===SM)return a===Un?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===EM)return a===Un?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===NM)return a===Un?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===MM)return a===Un?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===CM)return a===Un?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===jM)return a===Un?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===AM)return a===Un?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===N0||r===TM||r===PM)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(r===N0)return a===Un?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===TM)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===PM)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===BF||r===kM||r===RM||r===OM)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(r===N0)return s.COMPRESSED_RED_RGTC1_EXT;if(r===kM)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===RM)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===OM)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===Fv?t.UNSIGNED_INT_24_8:t[r]!==void 0?t[r]:null}return{convert:n}}const jKe=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,AKe=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class TKe{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n,r){if(this.texture===null){const i=new Er,s=e.properties.get(i);s.__webglTexture=n.texture,(n.depthNear!==r.depthNear||n.depthFar!==r.depthFar)&&(this.depthNear=n.depthNear,this.depthFar=n.depthFar),this.texture=i}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,r=new Il({vertexShader:jKe,fragmentShader:AKe,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new _r(new Ju(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class PKe extends Ic{constructor(e,n){super();const r=this;let i=null,s=1,a=null,l="local-floor",c=1,u=null,d=null,f=null,h=null,m=null,p=null;const x=new TKe,v=n.getContextAttributes();let g=null,w=null;const _=[],E=[],N=new Ge;let C=null;const j=new zr;j.viewport=new wn;const T=new zr;T.viewport=new wn;const A=[j,T],P=new Mle;let R=null,D=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Y){let Q=_[Y];return Q===void 0&&(Q=new hE,_[Y]=Q),Q.getTargetRaySpace()},this.getControllerGrip=function(Y){let Q=_[Y];return Q===void 0&&(Q=new hE,_[Y]=Q),Q.getGripSpace()},this.getHand=function(Y){let Q=_[Y];return Q===void 0&&(Q=new hE,_[Y]=Q),Q.getHandSpace()};function F(Y){const Q=E.indexOf(Y.inputSource);if(Q===-1)return;const de=_[Q];de!==void 0&&(de.update(Y.inputSource,Y.frame,u||a),de.dispatchEvent({type:Y.type,data:Y.inputSource}))}function I(){i.removeEventListener("select",F),i.removeEventListener("selectstart",F),i.removeEventListener("selectend",F),i.removeEventListener("squeeze",F),i.removeEventListener("squeezestart",F),i.removeEventListener("squeezeend",F),i.removeEventListener("end",I),i.removeEventListener("inputsourceschange",G);for(let Y=0;Y<_.length;Y++){const Q=E[Y];Q!==null&&(E[Y]=null,_[Y].disconnect(Q))}R=null,D=null,x.reset(),e.setRenderTarget(g),m=null,h=null,f=null,i=null,w=null,ee.stop(),r.isPresenting=!1,e.setPixelRatio(C),e.setSize(N.width,N.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(Y){s=Y,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Y){l=Y,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||a},this.setReferenceSpace=function(Y){u=Y},this.getBaseLayer=function(){return h!==null?h:m},this.getBinding=function(){return f},this.getFrame=function(){return p},this.getSession=function(){return i},this.setSession=async function(Y){if(i=Y,i!==null){if(g=e.getRenderTarget(),i.addEventListener("select",F),i.addEventListener("selectstart",F),i.addEventListener("selectend",F),i.addEventListener("squeeze",F),i.addEventListener("squeezestart",F),i.addEventListener("squeezeend",F),i.addEventListener("end",I),i.addEventListener("inputsourceschange",G),v.xrCompatible!==!0&&await n.makeXRCompatible(),C=e.getPixelRatio(),e.getSize(N),typeof XRWebGLBinding<"u"&&"createProjectionLayer"in XRWebGLBinding.prototype){let de=null,te=null,he=null;v.depth&&(he=v.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,de=v.stencil?Bv:Uv,te=v.stencil?Fv:Lu);const oe={colorFormat:n.RGBA8,depthFormat:he,scaleFactor:s};f=new XRWebGLBinding(i,n),h=f.createProjectionLayer(oe),i.updateRenderState({layers:[h]}),e.setPixelRatio(1),e.setSize(h.textureWidth,h.textureHeight,!1),w=new Pc(h.textureWidth,h.textureHeight,{format:_s,type:Xo,depthTexture:new JF(h.textureWidth,h.textureHeight,te,void 0,void 0,void 0,void 0,void 0,void 0,de),stencilBuffer:v.stencil,colorSpace:e.outputColorSpace,samples:v.antialias?4:0,resolveDepthBuffer:h.ignoreDepthValues===!1,resolveStencilBuffer:h.ignoreDepthValues===!1})}else{const de={antialias:v.antialias,alpha:!0,depth:v.depth,stencil:v.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(i,n,de),i.updateRenderState({baseLayer:m}),e.setPixelRatio(1),e.setSize(m.framebufferWidth,m.framebufferHeight,!1),w=new Pc(m.framebufferWidth,m.framebufferHeight,{format:_s,type:Xo,colorSpace:e.outputColorSpace,stencilBuffer:v.stencil,resolveDepthBuffer:m.ignoreDepthValues===!1,resolveStencilBuffer:m.ignoreDepthValues===!1})}w.isXRRenderTarget=!0,this.setFoveation(c),u=null,a=await i.requestReferenceSpace(l),ee.setContext(i),ee.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode},this.getDepthTexture=function(){return x.getDepthTexture()};function G(Y){for(let Q=0;Q<Y.removed.length;Q++){const de=Y.removed[Q],te=E.indexOf(de);te>=0&&(E[te]=null,_[te].disconnect(de))}for(let Q=0;Q<Y.added.length;Q++){const de=Y.added[Q];let te=E.indexOf(de);if(te===-1){for(let oe=0;oe<_.length;oe++)if(oe>=E.length){E.push(de),te=oe;break}else if(E[oe]===null){E[oe]=de,te=oe;break}if(te===-1)break}const he=_[te];he&&he.connect(de)}}const q=new J,$=new J;function L(Y,Q,de){q.setFromMatrixPosition(Q.matrixWorld),$.setFromMatrixPosition(de.matrixWorld);const te=q.distanceTo($),he=Q.projectionMatrix.elements,oe=de.projectionMatrix.elements,fe=he[14]/(he[10]-1),ve=he[14]/(he[10]+1),ne=(he[9]+1)/he[5],Be=(he[9]-1)/he[5],H=(he[8]-1)/he[0],Te=(oe[8]+1)/oe[0],Ne=fe*H,De=fe*Te,ce=te/(-H+Te),Ue=ce*-H;if(Q.matrixWorld.decompose(Y.position,Y.quaternion,Y.scale),Y.translateX(Ue),Y.translateZ(ce),Y.matrixWorld.compose(Y.position,Y.quaternion,Y.scale),Y.matrixWorldInverse.copy(Y.matrixWorld).invert(),he[10]===-1)Y.projectionMatrix.copy(Q.projectionMatrix),Y.projectionMatrixInverse.copy(Q.projectionMatrixInverse);else{const Ae=fe+ce,ge=ve+ce,nt=Ne-Ue,X=De+(te-Ue),z=ne*ve/ge*Ae,ae=Be*ve/ge*Ae;Y.projectionMatrix.makePerspective(nt,X,z,ae,Ae,ge),Y.projectionMatrixInverse.copy(Y.projectionMatrix).invert()}}function V(Y,Q){Q===null?Y.matrixWorld.copy(Y.matrix):Y.matrixWorld.multiplyMatrices(Q.matrixWorld,Y.matrix),Y.matrixWorldInverse.copy(Y.matrixWorld).invert()}this.updateCamera=function(Y){if(i===null)return;let Q=Y.near,de=Y.far;x.texture!==null&&(x.depthNear>0&&(Q=x.depthNear),x.depthFar>0&&(de=x.depthFar)),P.near=T.near=j.near=Q,P.far=T.far=j.far=de,(R!==P.near||D!==P.far)&&(i.updateRenderState({depthNear:P.near,depthFar:P.far}),R=P.near,D=P.far),j.layers.mask=Y.layers.mask|2,T.layers.mask=Y.layers.mask|4,P.layers.mask=j.layers.mask|T.layers.mask;const te=Y.parent,he=P.cameras;V(P,te);for(let oe=0;oe<he.length;oe++)V(he[oe],te);he.length===2?L(P,j,T):P.projectionMatrix.copy(j.projectionMatrix),K(Y,P,te)};function K(Y,Q,de){de===null?Y.matrix.copy(Q.matrixWorld):(Y.matrix.copy(de.matrixWorld),Y.matrix.invert(),Y.matrix.multiply(Q.matrixWorld)),Y.matrix.decompose(Y.position,Y.quaternion,Y.scale),Y.updateMatrixWorld(!0),Y.projectionMatrix.copy(Q.projectionMatrix),Y.projectionMatrixInverse.copy(Q.projectionMatrixInverse),Y.isPerspectiveCamera&&(Y.fov=zv*2*Math.atan(1/Y.projectionMatrix.elements[5]),Y.zoom=1)}this.getCamera=function(){return P},this.getFoveation=function(){if(!(h===null&&m===null))return c},this.setFoveation=function(Y){c=Y,h!==null&&(h.fixedFoveation=Y),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=Y)},this.hasDepthSensing=function(){return x.texture!==null},this.getDepthSensingMesh=function(){return x.getMesh(P)};let W=null;function B(Y,Q){if(d=Q.getViewerPose(u||a),p=Q,d!==null){const de=d.views;m!==null&&(e.setRenderTargetFramebuffer(w,m.framebuffer),e.setRenderTarget(w));let te=!1;de.length!==P.cameras.length&&(P.cameras.length=0,te=!0);for(let fe=0;fe<de.length;fe++){const ve=de[fe];let ne=null;if(m!==null)ne=m.getViewport(ve);else{const H=f.getViewSubImage(h,ve);ne=H.viewport,fe===0&&(e.setRenderTargetTextures(w,H.colorTexture,H.depthStencilTexture),e.setRenderTarget(w))}let Be=A[fe];Be===void 0&&(Be=new zr,Be.layers.enable(fe),Be.viewport=new wn,A[fe]=Be),Be.matrix.fromArray(ve.transform.matrix),Be.matrix.decompose(Be.position,Be.quaternion,Be.scale),Be.projectionMatrix.fromArray(ve.projectionMatrix),Be.projectionMatrixInverse.copy(Be.projectionMatrix).invert(),Be.viewport.set(ne.x,ne.y,ne.width,ne.height),fe===0&&(P.matrix.copy(Be.matrix),P.matrix.decompose(P.position,P.quaternion,P.scale)),te===!0&&P.cameras.push(Be)}const he=i.enabledFeatures;if(he&&he.includes("depth-sensing")&&i.depthUsage=="gpu-optimized"&&f){const fe=f.getDepthInformation(de[0]);fe&&fe.isValid&&fe.texture&&x.init(e,fe,i.renderState)}}for(let de=0;de<_.length;de++){const te=E[de],he=_[de];te!==null&&he!==void 0&&he.update(te,Q,u||a)}W&&W(Y,Q),Q.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:Q}),p=null}const ee=new kle;ee.setAnimationLoop(B),this.setAnimationLoop=function(Y){W=Y},this.dispose=function(){}}}const Sh=new ho,kKe=new Vt;function RKe(t,e){function n(v,g){v.matrixAutoUpdate===!0&&v.updateMatrix(),g.value.copy(v.matrix)}function r(v,g){g.color.getRGB(v.fogColor.value,Roe(t)),g.isFog?(v.fogNear.value=g.near,v.fogFar.value=g.far):g.isFogExp2&&(v.fogDensity.value=g.density)}function i(v,g,w,_,E){g.isMeshBasicMaterial||g.isMeshLambertMaterial?s(v,g):g.isMeshToonMaterial?(s(v,g),f(v,g)):g.isMeshPhongMaterial?(s(v,g),d(v,g)):g.isMeshStandardMaterial?(s(v,g),h(v,g),g.isMeshPhysicalMaterial&&m(v,g,E)):g.isMeshMatcapMaterial?(s(v,g),p(v,g)):g.isMeshDepthMaterial?s(v,g):g.isMeshDistanceMaterial?(s(v,g),x(v,g)):g.isMeshNormalMaterial?s(v,g):g.isLineBasicMaterial?(a(v,g),g.isLineDashedMaterial&&l(v,g)):g.isPointsMaterial?c(v,g,w,_):g.isSpriteMaterial?u(v,g):g.isShadowMaterial?(v.color.value.copy(g.color),v.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function s(v,g){v.opacity.value=g.opacity,g.color&&v.diffuse.value.copy(g.color),g.emissive&&v.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(v.map.value=g.map,n(g.map,v.mapTransform)),g.alphaMap&&(v.alphaMap.value=g.alphaMap,n(g.alphaMap,v.alphaMapTransform)),g.bumpMap&&(v.bumpMap.value=g.bumpMap,n(g.bumpMap,v.bumpMapTransform),v.bumpScale.value=g.bumpScale,g.side===Zs&&(v.bumpScale.value*=-1)),g.normalMap&&(v.normalMap.value=g.normalMap,n(g.normalMap,v.normalMapTransform),v.normalScale.value.copy(g.normalScale),g.side===Zs&&v.normalScale.value.negate()),g.displacementMap&&(v.displacementMap.value=g.displacementMap,n(g.displacementMap,v.displacementMapTransform),v.displacementScale.value=g.displacementScale,v.displacementBias.value=g.displacementBias),g.emissiveMap&&(v.emissiveMap.value=g.emissiveMap,n(g.emissiveMap,v.emissiveMapTransform)),g.specularMap&&(v.specularMap.value=g.specularMap,n(g.specularMap,v.specularMapTransform)),g.alphaTest>0&&(v.alphaTest.value=g.alphaTest);const w=e.get(g),_=w.envMap,E=w.envMapRotation;_&&(v.envMap.value=_,Sh.copy(E),Sh.x*=-1,Sh.y*=-1,Sh.z*=-1,_.isCubeTexture&&_.isRenderTargetTexture===!1&&(Sh.y*=-1,Sh.z*=-1),v.envMapRotation.value.setFromMatrix4(kKe.makeRotationFromEuler(Sh)),v.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,v.reflectivity.value=g.reflectivity,v.ior.value=g.ior,v.refractionRatio.value=g.refractionRatio),g.lightMap&&(v.lightMap.value=g.lightMap,v.lightMapIntensity.value=g.lightMapIntensity,n(g.lightMap,v.lightMapTransform)),g.aoMap&&(v.aoMap.value=g.aoMap,v.aoMapIntensity.value=g.aoMapIntensity,n(g.aoMap,v.aoMapTransform))}function a(v,g){v.diffuse.value.copy(g.color),v.opacity.value=g.opacity,g.map&&(v.map.value=g.map,n(g.map,v.mapTransform))}function l(v,g){v.dashSize.value=g.dashSize,v.totalSize.value=g.dashSize+g.gapSize,v.scale.value=g.scale}function c(v,g,w,_){v.diffuse.value.copy(g.color),v.opacity.value=g.opacity,v.size.value=g.size*w,v.scale.value=_*.5,g.map&&(v.map.value=g.map,n(g.map,v.uvTransform)),g.alphaMap&&(v.alphaMap.value=g.alphaMap,n(g.alphaMap,v.alphaMapTransform)),g.alphaTest>0&&(v.alphaTest.value=g.alphaTest)}function u(v,g){v.diffuse.value.copy(g.color),v.opacity.value=g.opacity,v.rotation.value=g.rotation,g.map&&(v.map.value=g.map,n(g.map,v.mapTransform)),g.alphaMap&&(v.alphaMap.value=g.alphaMap,n(g.alphaMap,v.alphaMapTransform)),g.alphaTest>0&&(v.alphaTest.value=g.alphaTest)}function d(v,g){v.specular.value.copy(g.specular),v.shininess.value=Math.max(g.shininess,1e-4)}function f(v,g){g.gradientMap&&(v.gradientMap.value=g.gradientMap)}function h(v,g){v.metalness.value=g.metalness,g.metalnessMap&&(v.metalnessMap.value=g.metalnessMap,n(g.metalnessMap,v.metalnessMapTransform)),v.roughness.value=g.roughness,g.roughnessMap&&(v.roughnessMap.value=g.roughnessMap,n(g.roughnessMap,v.roughnessMapTransform)),g.envMap&&(v.envMapIntensity.value=g.envMapIntensity)}function m(v,g,w){v.ior.value=g.ior,g.sheen>0&&(v.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),v.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(v.sheenColorMap.value=g.sheenColorMap,n(g.sheenColorMap,v.sheenColorMapTransform)),g.sheenRoughnessMap&&(v.sheenRoughnessMap.value=g.sheenRoughnessMap,n(g.sheenRoughnessMap,v.sheenRoughnessMapTransform))),g.clearcoat>0&&(v.clearcoat.value=g.clearcoat,v.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(v.clearcoatMap.value=g.clearcoatMap,n(g.clearcoatMap,v.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(v.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,n(g.clearcoatRoughnessMap,v.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(v.clearcoatNormalMap.value=g.clearcoatNormalMap,n(g.clearcoatNormalMap,v.clearcoatNormalMapTransform),v.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),g.side===Zs&&v.clearcoatNormalScale.value.negate())),g.dispersion>0&&(v.dispersion.value=g.dispersion),g.iridescence>0&&(v.iridescence.value=g.iridescence,v.iridescenceIOR.value=g.iridescenceIOR,v.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],v.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(v.iridescenceMap.value=g.iridescenceMap,n(g.iridescenceMap,v.iridescenceMapTransform)),g.iridescenceThicknessMap&&(v.iridescenceThicknessMap.value=g.iridescenceThicknessMap,n(g.iridescenceThicknessMap,v.iridescenceThicknessMapTransform))),g.transmission>0&&(v.transmission.value=g.transmission,v.transmissionSamplerMap.value=w.texture,v.transmissionSamplerSize.value.set(w.width,w.height),g.transmissionMap&&(v.transmissionMap.value=g.transmissionMap,n(g.transmissionMap,v.transmissionMapTransform)),v.thickness.value=g.thickness,g.thicknessMap&&(v.thicknessMap.value=g.thicknessMap,n(g.thicknessMap,v.thicknessMapTransform)),v.attenuationDistance.value=g.attenuationDistance,v.attenuationColor.value.copy(g.attenuationColor)),g.anisotropy>0&&(v.anisotropyVector.value.set(g.anisotropy*Math.cos(g.anisotropyRotation),g.anisotropy*Math.sin(g.anisotropyRotation)),g.anisotropyMap&&(v.anisotropyMap.value=g.anisotropyMap,n(g.anisotropyMap,v.anisotropyMapTransform))),v.specularIntensity.value=g.specularIntensity,v.specularColor.value.copy(g.specularColor),g.specularColorMap&&(v.specularColorMap.value=g.specularColorMap,n(g.specularColorMap,v.specularColorMapTransform)),g.specularIntensityMap&&(v.specularIntensityMap.value=g.specularIntensityMap,n(g.specularIntensityMap,v.specularIntensityMapTransform))}function p(v,g){g.matcap&&(v.matcap.value=g.matcap)}function x(v,g){const w=e.get(g).light;v.referencePosition.value.setFromMatrixPosition(w.matrixWorld),v.nearDistance.value=w.shadow.camera.near,v.farDistance.value=w.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function OKe(t,e,n,r){let i={},s={},a=[];const l=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function c(w,_){const E=_.program;r.uniformBlockBinding(w,E)}function u(w,_){let E=i[w.id];E===void 0&&(p(w),E=d(w),i[w.id]=E,w.addEventListener("dispose",v));const N=_.program;r.updateUBOMapping(w,N);const C=e.render.frame;s[w.id]!==C&&(h(w),s[w.id]=C)}function d(w){const _=f();w.__bindingPointIndex=_;const E=t.createBuffer(),N=w.__size,C=w.usage;return t.bindBuffer(t.UNIFORM_BUFFER,E),t.bufferData(t.UNIFORM_BUFFER,N,C),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,_,E),E}function f(){for(let w=0;w<l;w++)if(a.indexOf(w)===-1)return a.push(w),w;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function h(w){const _=i[w.id],E=w.uniforms,N=w.__cache;t.bindBuffer(t.UNIFORM_BUFFER,_);for(let C=0,j=E.length;C<j;C++){const T=Array.isArray(E[C])?E[C]:[E[C]];for(let A=0,P=T.length;A<P;A++){const R=T[A];if(m(R,C,A,N)===!0){const D=R.__offset,F=Array.isArray(R.value)?R.value:[R.value];let I=0;for(let G=0;G<F.length;G++){const q=F[G],$=x(q);typeof q=="number"||typeof q=="boolean"?(R.__data[0]=q,t.bufferSubData(t.UNIFORM_BUFFER,D+I,R.__data)):q.isMatrix3?(R.__data[0]=q.elements[0],R.__data[1]=q.elements[1],R.__data[2]=q.elements[2],R.__data[3]=0,R.__data[4]=q.elements[3],R.__data[5]=q.elements[4],R.__data[6]=q.elements[5],R.__data[7]=0,R.__data[8]=q.elements[6],R.__data[9]=q.elements[7],R.__data[10]=q.elements[8],R.__data[11]=0):(q.toArray(R.__data,I),I+=$.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,D,R.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function m(w,_,E,N){const C=w.value,j=_+"_"+E;if(N[j]===void 0)return typeof C=="number"||typeof C=="boolean"?N[j]=C:N[j]=C.clone(),!0;{const T=N[j];if(typeof C=="number"||typeof C=="boolean"){if(T!==C)return N[j]=C,!0}else if(T.equals(C)===!1)return T.copy(C),!0}return!1}function p(w){const _=w.uniforms;let E=0;const N=16;for(let j=0,T=_.length;j<T;j++){const A=Array.isArray(_[j])?_[j]:[_[j]];for(let P=0,R=A.length;P<R;P++){const D=A[P],F=Array.isArray(D.value)?D.value:[D.value];for(let I=0,G=F.length;I<G;I++){const q=F[I],$=x(q),L=E%N,V=L%$.boundary,K=L+V;E+=V,K!==0&&N-K<$.storage&&(E+=N-K),D.__data=new Float32Array($.storage/Float32Array.BYTES_PER_ELEMENT),D.__offset=E,E+=$.storage}}}const C=E%N;return C>0&&(E+=N-C),w.__size=E,w.__cache={},this}function x(w){const _={boundary:0,storage:0};return typeof w=="number"||typeof w=="boolean"?(_.boundary=4,_.storage=4):w.isVector2?(_.boundary=8,_.storage=8):w.isVector3||w.isColor?(_.boundary=16,_.storage=12):w.isVector4?(_.boundary=16,_.storage=16):w.isMatrix3?(_.boundary=48,_.storage=48):w.isMatrix4?(_.boundary=64,_.storage=64):w.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",w),_}function v(w){const _=w.target;_.removeEventListener("dispose",v);const E=a.indexOf(_.__bindingPointIndex);a.splice(E,1),t.deleteBuffer(i[_.id]),delete i[_.id],delete s[_.id]}function g(){for(const w in i)t.deleteBuffer(i[w]);a=[],i={},s={}}return{bind:c,update:u,dispose:g}}class Fle{constructor(e={}){const{canvas:n=Toe(),context:r=null,depth:i=!0,stencil:s=!1,alpha:a=!1,antialias:l=!1,premultipliedAlpha:c=!0,preserveDrawingBuffer:u=!1,powerPreference:d="default",failIfMajorPerformanceCaveat:f=!1,reverseDepthBuffer:h=!1}=e;this.isWebGLRenderer=!0;let m;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");m=r.getContextAttributes().alpha}else m=a;const p=new Uint32Array(4),x=new Int32Array(4);let v=null,g=null;const w=[],_=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=_c,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const E=this;let N=!1;this._outputColorSpace=ga;let C=0,j=0,T=null,A=-1,P=null;const R=new wn,D=new wn;let F=null;const I=new wt(0);let G=0,q=n.width,$=n.height,L=1,V=null,K=null;const W=new wn(0,0,q,$),B=new wn(0,0,q,$);let ee=!1;const Y=new _x;let Q=!1,de=!1;const te=new Vt,he=new Vt,oe=new J,fe=new wn,ve={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let ne=!1;function Be(){return T===null?L:1}let H=r;function Te(Z,_e){return n.getContext(Z,_e)}try{const Z={alpha:!0,depth:i,stencil:s,antialias:l,premultipliedAlpha:c,preserveDrawingBuffer:u,powerPreference:d,failIfMajorPerformanceCaveat:f};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${hj}`),n.addEventListener("webglcontextlost",ft,!1),n.addEventListener("webglcontextrestored",Ve,!1),n.addEventListener("webglcontextcreationerror",Pe,!1),H===null){const _e="webgl2";if(H=Te(_e,Z),H===null)throw Te(_e)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(Z){throw console.error("THREE.WebGLRenderer: "+Z.message),Z}let Ne,De,ce,Ue,Ae,ge,nt,X,z,ae,Me,Se,ye,Ye,$e,rt,st,ke,qe,Ke,ie,be,Je,se;function Ie(){Ne=new G7e(H),Ne.init(),be=new Lle(H,Ne),De=new U7e(H,Ne,e,be),ce=new MKe(H,Ne),De.reverseDepthBuffer&&h&&ce.buffers.depth.setReversed(!0),Ue=new X7e(H),Ae=new hKe,ge=new CKe(H,Ne,ce,Ae,De,be,Ue),nt=new z7e(E),X=new H7e(E),z=new tGe(H),Je=new L7e(H,z),ae=new q7e(H,z,Ue,Je),Me=new Z7e(H,ae,z,Ue),qe=new Y7e(H,De,ge),rt=new B7e(Ae),Se=new fKe(E,nt,X,Ne,De,Je,rt),ye=new RKe(E,Ae),Ye=new pKe,$e=new wKe(Ne),ke=new I7e(E,nt,X,ce,Me,m,c),st=new EKe(E,Me,De),se=new OKe(H,Ue,De,ce),Ke=new F7e(H,Ne,Ue),ie=new K7e(H,Ne,Ue),Ue.programs=Se.programs,E.capabilities=De,E.extensions=Ne,E.properties=Ae,E.renderLists=Ye,E.shadowMap=st,E.state=ce,E.info=Ue}Ie();const Le=new PKe(E,H);this.xr=Le,this.getContext=function(){return H},this.getContextAttributes=function(){return H.getContextAttributes()},this.forceContextLoss=function(){const Z=Ne.get("WEBGL_lose_context");Z&&Z.loseContext()},this.forceContextRestore=function(){const Z=Ne.get("WEBGL_lose_context");Z&&Z.restoreContext()},this.getPixelRatio=function(){return L},this.setPixelRatio=function(Z){Z!==void 0&&(L=Z,this.setSize(q,$,!1))},this.getSize=function(Z){return Z.set(q,$)},this.setSize=function(Z,_e,Oe=!0){if(Le.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}q=Z,$=_e,n.width=Math.floor(Z*L),n.height=Math.floor(_e*L),Oe===!0&&(n.style.width=Z+"px",n.style.height=_e+"px"),this.setViewport(0,0,Z,_e)},this.getDrawingBufferSize=function(Z){return Z.set(q*L,$*L).floor()},this.setDrawingBufferSize=function(Z,_e,Oe){q=Z,$=_e,L=Oe,n.width=Math.floor(Z*Oe),n.height=Math.floor(_e*Oe),this.setViewport(0,0,Z,_e)},this.getCurrentViewport=function(Z){return Z.copy(R)},this.getViewport=function(Z){return Z.copy(W)},this.setViewport=function(Z,_e,Oe,me){Z.isVector4?W.set(Z.x,Z.y,Z.z,Z.w):W.set(Z,_e,Oe,me),ce.viewport(R.copy(W).multiplyScalar(L).round())},this.getScissor=function(Z){return Z.copy(B)},this.setScissor=function(Z,_e,Oe,me){Z.isVector4?B.set(Z.x,Z.y,Z.z,Z.w):B.set(Z,_e,Oe,me),ce.scissor(D.copy(B).multiplyScalar(L).round())},this.getScissorTest=function(){return ee},this.setScissorTest=function(Z){ce.setScissorTest(ee=Z)},this.setOpaqueSort=function(Z){V=Z},this.setTransparentSort=function(Z){K=Z},this.getClearColor=function(Z){return Z.copy(ke.getClearColor())},this.setClearColor=function(){ke.setClearColor(...arguments)},this.getClearAlpha=function(){return ke.getClearAlpha()},this.setClearAlpha=function(){ke.setClearAlpha(...arguments)},this.clear=function(Z=!0,_e=!0,Oe=!0){let me=0;if(Z){let we=!1;if(T!==null){const at=T.texture.format;we=at===wj||at===bj||at===Xw}if(we){const at=T.texture.type,pt=at===Xo||at===Lu||at===Lv||at===Fv||at===vj||at===xj,Mt=ke.getClearColor(),St=ke.getClearAlpha(),Lt=Mt.r,Dt=Mt.g,mt=Mt.b;pt?(p[0]=Lt,p[1]=Dt,p[2]=mt,p[3]=St,H.clearBufferuiv(H.COLOR,0,p)):(x[0]=Lt,x[1]=Dt,x[2]=mt,x[3]=St,H.clearBufferiv(H.COLOR,0,x))}else me|=H.COLOR_BUFFER_BIT}_e&&(me|=H.DEPTH_BUFFER_BIT),Oe&&(me|=H.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),H.clear(me)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",ft,!1),n.removeEventListener("webglcontextrestored",Ve,!1),n.removeEventListener("webglcontextcreationerror",Pe,!1),ke.dispose(),Ye.dispose(),$e.dispose(),Ae.dispose(),nt.dispose(),X.dispose(),Me.dispose(),Je.dispose(),se.dispose(),Se.dispose(),Le.dispose(),Le.removeEventListener("sessionstart",jn),Le.removeEventListener("sessionend",Wn),$n.stop()};function ft(Z){Z.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),N=!0}function Ve(){console.log("THREE.WebGLRenderer: Context Restored."),N=!1;const Z=Ue.autoReset,_e=st.enabled,Oe=st.autoUpdate,me=st.needsUpdate,we=st.type;Ie(),Ue.autoReset=Z,st.enabled=_e,st.autoUpdate=Oe,st.needsUpdate=me,st.type=we}function Pe(Z){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",Z.statusMessage)}function Fe(Z){const _e=Z.target;_e.removeEventListener("dispose",Fe),tt(_e)}function tt(Z){it(Z),Ae.remove(Z)}function it(Z){const _e=Ae.get(Z).programs;_e!==void 0&&(_e.forEach(function(Oe){Se.releaseProgram(Oe)}),Z.isShaderMaterial&&Se.releaseShaderCache(Z))}this.renderBufferDirect=function(Z,_e,Oe,me,we,at){_e===null&&(_e=ve);const pt=we.isMesh&&we.matrixWorld.determinant()<0,Mt=jx(Z,_e,Oe,me,we);ce.setMaterial(me,pt);let St=Oe.index,Lt=1;if(me.wireframe===!0){if(St=ae.getWireframeAttribute(Oe),St===void 0)return;Lt=2}const Dt=Oe.drawRange,mt=Oe.attributes.position;let Ct=Dt.start*Lt,nn=(Dt.start+Dt.count)*Lt;at!==null&&(Ct=Math.max(Ct,at.start*Lt),nn=Math.min(nn,(at.start+at.count)*Lt)),St!==null?(Ct=Math.max(Ct,0),nn=Math.min(nn,St.count)):mt!=null&&(Ct=Math.max(Ct,0),nn=Math.min(nn,mt.count));const rn=nn-Ct;if(rn<0||rn===1/0)return;Je.setup(we,me,Mt,Oe,St);let Kt,gn=Ke;if(St!==null&&(Kt=z.get(St),gn=ie,gn.setIndex(Kt)),we.isMesh)me.wireframe===!0?(ce.setLineWidth(me.wireframeLinewidth*Be()),gn.setMode(H.LINES)):gn.setMode(H.TRIANGLES);else if(we.isLine){let kt=me.linewidth;kt===void 0&&(kt=1),ce.setLineWidth(kt*Be()),we.isLineSegments?gn.setMode(H.LINES):we.isLineLoop?gn.setMode(H.LINE_LOOP):gn.setMode(H.LINE_STRIP)}else we.isPoints?gn.setMode(H.POINTS):we.isSprite&&gn.setMode(H.TRIANGLES);if(we.isBatchedMesh)if(we._multiDrawInstances!==null)Jg("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),gn.renderMultiDrawInstances(we._multiDrawStarts,we._multiDrawCounts,we._multiDrawCount,we._multiDrawInstances);else if(Ne.get("WEBGL_multi_draw"))gn.renderMultiDraw(we._multiDrawStarts,we._multiDrawCounts,we._multiDrawCount);else{const kt=we._multiDrawStarts,sn=we._multiDrawCounts,Xt=we._multiDrawCount,Yr=St?z.get(St).bytesPerElement:1,Da=Ae.get(me).currentProgram.getUniforms();for(let Mr=0;Mr<Xt;Mr++)Da.setValue(H,"_gl_DrawID",Mr),gn.render(kt[Mr]/Yr,sn[Mr])}else if(we.isInstancedMesh)gn.renderInstances(Ct,rn,we.count);else if(Oe.isInstancedBufferGeometry){const kt=Oe._maxInstanceCount!==void 0?Oe._maxInstanceCount:1/0,sn=Math.min(Oe.instanceCount,kt);gn.renderInstances(Ct,rn,sn)}else gn.render(Ct,rn)};function yt(Z,_e,Oe){Z.transparent===!0&&Z.side===El&&Z.forceSinglePass===!1?(Z.side=Zs,Z.needsUpdate=!0,sa(Z,_e,Oe),Z.side=Du,Z.needsUpdate=!0,sa(Z,_e,Oe),Z.side=El):sa(Z,_e,Oe)}this.compile=function(Z,_e,Oe=null){Oe===null&&(Oe=Z),g=$e.get(Oe),g.init(_e),_.push(g),Oe.traverseVisible(function(we){we.isLight&&we.layers.test(_e.layers)&&(g.pushLight(we),we.castShadow&&g.pushShadow(we))}),Z!==Oe&&Z.traverseVisible(function(we){we.isLight&&we.layers.test(_e.layers)&&(g.pushLight(we),we.castShadow&&g.pushShadow(we))}),g.setupLights();const me=new Set;return Z.traverse(function(we){if(!(we.isMesh||we.isPoints||we.isLine||we.isSprite))return;const at=we.material;if(at)if(Array.isArray(at))for(let pt=0;pt<at.length;pt++){const Mt=at[pt];yt(Mt,Oe,we),me.add(Mt)}else yt(at,Oe,we),me.add(at)}),g=_.pop(),me},this.compileAsync=function(Z,_e,Oe=null){const me=this.compile(Z,_e,Oe);return new Promise(we=>{function at(){if(me.forEach(function(pt){Ae.get(pt).currentProgram.isReady()&&me.delete(pt)}),me.size===0){we(Z);return}setTimeout(at,10)}Ne.get("KHR_parallel_shader_compile")!==null?at():setTimeout(at,10)})};let $t=null;function tn(Z){$t&&$t(Z)}function jn(){$n.stop()}function Wn(){$n.start()}const $n=new kle;$n.setAnimationLoop(tn),typeof self<"u"&&$n.setContext(self),this.setAnimationLoop=function(Z){$t=Z,Le.setAnimationLoop(Z),Z===null?$n.stop():$n.start()},Le.addEventListener("sessionstart",jn),Le.addEventListener("sessionend",Wn),this.render=function(Z,_e){if(_e!==void 0&&_e.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(N===!0)return;if(Z.matrixWorldAutoUpdate===!0&&Z.updateMatrixWorld(),_e.parent===null&&_e.matrixWorldAutoUpdate===!0&&_e.updateMatrixWorld(),Le.enabled===!0&&Le.isPresenting===!0&&(Le.cameraAutoUpdate===!0&&Le.updateCamera(_e),_e=Le.getCamera()),Z.isScene===!0&&Z.onBeforeRender(E,Z,_e,T),g=$e.get(Z,_.length),g.init(_e),_.push(g),he.multiplyMatrices(_e.projectionMatrix,_e.matrixWorldInverse),Y.setFromProjectionMatrix(he),de=this.localClippingEnabled,Q=rt.init(this.clippingPlanes,de),v=Ye.get(Z,w.length),v.init(),w.push(v),Le.enabled===!0&&Le.isPresenting===!0){const at=E.xr.getDepthSensingMesh();at!==null&&Wi(at,_e,-1/0,E.sortObjects)}Wi(Z,_e,0,E.sortObjects),v.finish(),E.sortObjects===!0&&v.sort(V,K),ne=Le.enabled===!1||Le.isPresenting===!1||Le.hasDepthSensing()===!1,ne&&ke.addToRenderList(v,Z),this.info.render.frame++,Q===!0&&rt.beginShadows();const Oe=g.state.shadowsArray;st.render(Oe,Z,_e),Q===!0&&rt.endShadows(),this.info.autoReset===!0&&this.info.reset();const me=v.opaque,we=v.transmissive;if(g.setupLights(),_e.isArrayCamera){const at=_e.cameras;if(we.length>0)for(let pt=0,Mt=at.length;pt<Mt;pt++){const St=at[pt];rs(me,we,Z,St)}ne&&ke.render(Z);for(let pt=0,Mt=at.length;pt<Mt;pt++){const St=at[pt];Oa(v,Z,St,St.viewport)}}else we.length>0&&rs(me,we,Z,_e),ne&&ke.render(Z),Oa(v,Z,_e);T!==null&&j===0&&(ge.updateMultisampleRenderTarget(T),ge.updateRenderTargetMipmap(T)),Z.isScene===!0&&Z.onAfterRender(E,Z,_e),Je.resetDefaultState(),A=-1,P=null,_.pop(),_.length>0?(g=_[_.length-1],Q===!0&&rt.setGlobalState(E.clippingPlanes,g.state.camera)):g=null,w.pop(),w.length>0?v=w[w.length-1]:v=null};function Wi(Z,_e,Oe,me){if(Z.visible===!1)return;if(Z.layers.test(_e.layers)){if(Z.isGroup)Oe=Z.renderOrder;else if(Z.isLOD)Z.autoUpdate===!0&&Z.update(_e);else if(Z.isLight)g.pushLight(Z),Z.castShadow&&g.pushShadow(Z);else if(Z.isSprite){if(!Z.frustumCulled||Y.intersectsSprite(Z)){me&&fe.setFromMatrixPosition(Z.matrixWorld).applyMatrix4(he);const pt=Me.update(Z),Mt=Z.material;Mt.visible&&v.push(Z,pt,Mt,Oe,fe.z,null)}}else if((Z.isMesh||Z.isLine||Z.isPoints)&&(!Z.frustumCulled||Y.intersectsObject(Z))){const pt=Me.update(Z),Mt=Z.material;if(me&&(Z.boundingSphere!==void 0?(Z.boundingSphere===null&&Z.computeBoundingSphere(),fe.copy(Z.boundingSphere.center)):(pt.boundingSphere===null&&pt.computeBoundingSphere(),fe.copy(pt.boundingSphere.center)),fe.applyMatrix4(Z.matrixWorld).applyMatrix4(he)),Array.isArray(Mt)){const St=pt.groups;for(let Lt=0,Dt=St.length;Lt<Dt;Lt++){const mt=St[Lt],Ct=Mt[mt.materialIndex];Ct&&Ct.visible&&v.push(Z,pt,Ct,Oe,fe.z,mt)}}else Mt.visible&&v.push(Z,pt,Mt,Oe,fe.z,null)}}const at=Z.children;for(let pt=0,Mt=at.length;pt<Mt;pt++)Wi(at[pt],_e,Oe,me)}function Oa(Z,_e,Oe,me){const we=Z.opaque,at=Z.transmissive,pt=Z.transparent;g.setupLightsView(Oe),Q===!0&&rt.setGlobalState(E.clippingPlanes,Oe),me&&ce.viewport(R.copy(me)),we.length>0&&is(we,_e,Oe),at.length>0&&is(at,_e,Oe),pt.length>0&&is(pt,_e,Oe),ce.buffers.depth.setTest(!0),ce.buffers.depth.setMask(!0),ce.buffers.color.setMask(!0),ce.setPolygonOffset(!1)}function rs(Z,_e,Oe,me){if((Oe.isScene===!0?Oe.overrideMaterial:null)!==null)return;g.state.transmissionRenderTarget[me.id]===void 0&&(g.state.transmissionRenderTarget[me.id]=new Pc(1,1,{generateMipmaps:!0,type:Ne.has("EXT_color_buffer_half_float")||Ne.has("EXT_color_buffer_float")?wx:Xo,minFilter:mc,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:_n.workingColorSpace}));const at=g.state.transmissionRenderTarget[me.id],pt=me.viewport||R;at.setSize(pt.z*E.transmissionResolutionScale,pt.w*E.transmissionResolutionScale);const Mt=E.getRenderTarget(),St=E.getActiveCubeFace(),Lt=E.getActiveMipmapLevel();E.setRenderTarget(at),E.getClearColor(I),G=E.getClearAlpha(),G<1&&E.setClearColor(16777215,.5),E.clear(),ne&&ke.render(Oe);const Dt=E.toneMapping;E.toneMapping=_c;const mt=me.viewport;if(me.viewport!==void 0&&(me.viewport=void 0),g.setupLightsView(me),Q===!0&&rt.setGlobalState(E.clippingPlanes,me),is(Z,Oe,me),ge.updateMultisampleRenderTarget(at),ge.updateRenderTargetMipmap(at),Ne.has("WEBGL_multisampled_render_to_texture")===!1){let Ct=!1;for(let nn=0,rn=_e.length;nn<rn;nn++){const Kt=_e[nn],gn=Kt.object,kt=Kt.geometry,sn=Kt.material,Xt=Kt.group;if(sn.side===El&&gn.layers.test(me.layers)){const Yr=sn.side;sn.side=Zs,sn.needsUpdate=!0,Xr(gn,Oe,me,kt,sn,Xt),sn.side=Yr,sn.needsUpdate=!0,Ct=!0}}Ct===!0&&(ge.updateMultisampleRenderTarget(at),ge.updateRenderTargetMipmap(at))}E.setRenderTarget(Mt,St,Lt),E.setClearColor(I,G),mt!==void 0&&(me.viewport=mt),E.toneMapping=Dt}function is(Z,_e,Oe){const me=_e.isScene===!0?_e.overrideMaterial:null;for(let we=0,at=Z.length;we<at;we++){const pt=Z[we],Mt=pt.object,St=pt.geometry,Lt=pt.group;let Dt=pt.material;Dt.allowOverride===!0&&me!==null&&(Dt=me),Mt.layers.test(Oe.layers)&&Xr(Mt,_e,Oe,St,Dt,Lt)}}function Xr(Z,_e,Oe,me,we,at){Z.onBeforeRender(E,_e,Oe,me,we,at),Z.modelViewMatrix.multiplyMatrices(Oe.matrixWorldInverse,Z.matrixWorld),Z.normalMatrix.getNormalMatrix(Z.modelViewMatrix),we.onBeforeRender(E,_e,Oe,me,Z,at),we.transparent===!0&&we.side===El&&we.forceSinglePass===!1?(we.side=Zs,we.needsUpdate=!0,E.renderBufferDirect(Oe,_e,me,we,Z,at),we.side=Du,we.needsUpdate=!0,E.renderBufferDirect(Oe,_e,me,we,Z,at),we.side=El):E.renderBufferDirect(Oe,_e,me,we,Z,at),Z.onAfterRender(E,_e,Oe,me,we,at)}function sa(Z,_e,Oe){_e.isScene!==!0&&(_e=ve);const me=Ae.get(Z),we=g.state.lights,at=g.state.shadowsArray,pt=we.state.version,Mt=Se.getParameters(Z,we.state,at,_e,Oe),St=Se.getProgramCacheKey(Mt);let Lt=me.programs;me.environment=Z.isMeshStandardMaterial?_e.environment:null,me.fog=_e.fog,me.envMap=(Z.isMeshStandardMaterial?X:nt).get(Z.envMap||me.environment),me.envMapRotation=me.environment!==null&&Z.envMap===null?_e.environmentRotation:Z.envMapRotation,Lt===void 0&&(Z.addEventListener("dispose",Fe),Lt=new Map,me.programs=Lt);let Dt=Lt.get(St);if(Dt!==void 0){if(me.currentProgram===Dt&&me.lightsStateVersion===pt)return td(Z,Mt),Dt}else Mt.uniforms=Se.getUniforms(Z),Z.onBeforeCompile(Mt,E),Dt=Se.acquireProgram(Mt,St),Lt.set(St,Dt),me.uniforms=Mt.uniforms;const mt=me.uniforms;return(!Z.isShaderMaterial&&!Z.isRawShaderMaterial||Z.clipping===!0)&&(mt.clippingPlanes=rt.uniform),td(Z,Mt),me.needsLights=Fc(Z),me.lightsStateVersion=pt,me.needsLights&&(mt.ambientLightColor.value=we.state.ambient,mt.lightProbe.value=we.state.probe,mt.directionalLights.value=we.state.directional,mt.directionalLightShadows.value=we.state.directionalShadow,mt.spotLights.value=we.state.spot,mt.spotLightShadows.value=we.state.spotShadow,mt.rectAreaLights.value=we.state.rectArea,mt.ltc_1.value=we.state.rectAreaLTC1,mt.ltc_2.value=we.state.rectAreaLTC2,mt.pointLights.value=we.state.point,mt.pointLightShadows.value=we.state.pointShadow,mt.hemisphereLights.value=we.state.hemi,mt.directionalShadowMap.value=we.state.directionalShadowMap,mt.directionalShadowMatrix.value=we.state.directionalShadowMatrix,mt.spotShadowMap.value=we.state.spotShadowMap,mt.spotLightMatrix.value=we.state.spotLightMatrix,mt.spotLightMap.value=we.state.spotLightMap,mt.pointShadowMap.value=we.state.pointShadowMap,mt.pointShadowMatrix.value=we.state.pointShadowMatrix),me.currentProgram=Dt,me.uniformsList=null,Dt}function Hf(Z){if(Z.uniformsList===null){const _e=Z.currentProgram.getUniforms();Z.uniformsList=mE.seqWithValue(_e.seq,Z.uniforms)}return Z.uniformsList}function td(Z,_e){const Oe=Ae.get(Z);Oe.outputColorSpace=_e.outputColorSpace,Oe.batching=_e.batching,Oe.batchingColor=_e.batchingColor,Oe.instancing=_e.instancing,Oe.instancingColor=_e.instancingColor,Oe.instancingMorph=_e.instancingMorph,Oe.skinning=_e.skinning,Oe.morphTargets=_e.morphTargets,Oe.morphNormals=_e.morphNormals,Oe.morphColors=_e.morphColors,Oe.morphTargetsCount=_e.morphTargetsCount,Oe.numClippingPlanes=_e.numClippingPlanes,Oe.numIntersection=_e.numClipIntersection,Oe.vertexAlphas=_e.vertexAlphas,Oe.vertexTangents=_e.vertexTangents,Oe.toneMapping=_e.toneMapping}function jx(Z,_e,Oe,me,we){_e.isScene!==!0&&(_e=ve),ge.resetTextureUnits();const at=_e.fog,pt=me.isMeshStandardMaterial?_e.environment:null,Mt=T===null?E.outputColorSpace:T.isXRRenderTarget===!0?T.texture.colorSpace:Vm,St=(me.isMeshStandardMaterial?X:nt).get(me.envMap||pt),Lt=me.vertexColors===!0&&!!Oe.attributes.color&&Oe.attributes.color.itemSize===4,Dt=!!Oe.attributes.tangent&&(!!me.normalMap||me.anisotropy>0),mt=!!Oe.morphAttributes.position,Ct=!!Oe.morphAttributes.normal,nn=!!Oe.morphAttributes.color;let rn=_c;me.toneMapped&&(T===null||T.isXRRenderTarget===!0)&&(rn=E.toneMapping);const Kt=Oe.morphAttributes.position||Oe.morphAttributes.normal||Oe.morphAttributes.color,gn=Kt!==void 0?Kt.length:0,kt=Ae.get(me),sn=g.state.lights;if(Q===!0&&(de===!0||Z!==P)){const Qr=Z===P&&me.id===A;rt.setState(me,Z,Qr)}let Xt=!1;me.version===kt.__version?(kt.needsLights&&kt.lightsStateVersion!==sn.state.version||kt.outputColorSpace!==Mt||we.isBatchedMesh&&kt.batching===!1||!we.isBatchedMesh&&kt.batching===!0||we.isBatchedMesh&&kt.batchingColor===!0&&we.colorTexture===null||we.isBatchedMesh&&kt.batchingColor===!1&&we.colorTexture!==null||we.isInstancedMesh&&kt.instancing===!1||!we.isInstancedMesh&&kt.instancing===!0||we.isSkinnedMesh&&kt.skinning===!1||!we.isSkinnedMesh&&kt.skinning===!0||we.isInstancedMesh&&kt.instancingColor===!0&&we.instanceColor===null||we.isInstancedMesh&&kt.instancingColor===!1&&we.instanceColor!==null||we.isInstancedMesh&&kt.instancingMorph===!0&&we.morphTexture===null||we.isInstancedMesh&&kt.instancingMorph===!1&&we.morphTexture!==null||kt.envMap!==St||me.fog===!0&&kt.fog!==at||kt.numClippingPlanes!==void 0&&(kt.numClippingPlanes!==rt.numPlanes||kt.numIntersection!==rt.numIntersection)||kt.vertexAlphas!==Lt||kt.vertexTangents!==Dt||kt.morphTargets!==mt||kt.morphNormals!==Ct||kt.morphColors!==nn||kt.toneMapping!==rn||kt.morphTargetsCount!==gn)&&(Xt=!0):(Xt=!0,kt.__version=me.version);let Yr=kt.currentProgram;Xt===!0&&(Yr=sa(me,_e,we));let Da=!1,Mr=!1,di=!1;const vn=Yr.getUniforms(),fi=kt.uniforms;if(ce.useProgram(Yr.program)&&(Da=!0,Mr=!0,di=!0),me.id!==A&&(A=me.id,Mr=!0),Da||P!==Z){ce.buffers.depth.getReversed()?(te.copy(Z.projectionMatrix),_We(te),SWe(te),vn.setValue(H,"projectionMatrix",te)):vn.setValue(H,"projectionMatrix",Z.projectionMatrix),vn.setValue(H,"viewMatrix",Z.matrixWorldInverse);const dr=vn.map.cameraPosition;dr!==void 0&&dr.setValue(H,oe.setFromMatrixPosition(Z.matrixWorld)),De.logarithmicDepthBuffer&&vn.setValue(H,"logDepthBufFC",2/(Math.log(Z.far+1)/Math.LN2)),(me.isMeshPhongMaterial||me.isMeshToonMaterial||me.isMeshLambertMaterial||me.isMeshBasicMaterial||me.isMeshStandardMaterial||me.isShaderMaterial)&&vn.setValue(H,"isOrthographic",Z.isOrthographicCamera===!0),P!==Z&&(P=Z,Mr=!0,di=!0)}if(we.isSkinnedMesh){vn.setOptional(H,we,"bindMatrix"),vn.setOptional(H,we,"bindMatrixInverse");const Qr=we.skeleton;Qr&&(Qr.boneTexture===null&&Qr.computeBoneTexture(),vn.setValue(H,"boneTexture",Qr.boneTexture,ge))}we.isBatchedMesh&&(vn.setOptional(H,we,"batchingTexture"),vn.setValue(H,"batchingTexture",we._matricesTexture,ge),vn.setOptional(H,we,"batchingIdTexture"),vn.setValue(H,"batchingIdTexture",we._indirectTexture,ge),vn.setOptional(H,we,"batchingColorTexture"),we._colorsTexture!==null&&vn.setValue(H,"batchingColorTexture",we._colorsTexture,ge));const Zr=Oe.morphAttributes;if((Zr.position!==void 0||Zr.normal!==void 0||Zr.color!==void 0)&&qe.update(we,Oe,Yr),(Mr||kt.receiveShadow!==we.receiveShadow)&&(kt.receiveShadow=we.receiveShadow,vn.setValue(H,"receiveShadow",we.receiveShadow)),me.isMeshGouraudMaterial&&me.envMap!==null&&(fi.envMap.value=St,fi.flipEnvMap.value=St.isCubeTexture&&St.isRenderTargetTexture===!1?-1:1),me.isMeshStandardMaterial&&me.envMap===null&&_e.environment!==null&&(fi.envMapIntensity.value=_e.environmentIntensity),Mr&&(vn.setValue(H,"toneMappingExposure",E.toneMappingExposure),kt.needsLights&&hp(fi,di),at&&me.fog===!0&&ye.refreshFogUniforms(fi,at),ye.refreshMaterialUniforms(fi,me,L,$,g.state.transmissionRenderTarget[Z.id]),mE.upload(H,Hf(kt),fi,ge)),me.isShaderMaterial&&me.uniformsNeedUpdate===!0&&(mE.upload(H,Hf(kt),fi,ge),me.uniformsNeedUpdate=!1),me.isSpriteMaterial&&vn.setValue(H,"center",we.center),vn.setValue(H,"modelViewMatrix",we.modelViewMatrix),vn.setValue(H,"normalMatrix",we.normalMatrix),vn.setValue(H,"modelMatrix",we.matrixWorld),me.isShaderMaterial||me.isRawShaderMaterial){const Qr=me.uniformsGroups;for(let dr=0,Ia=Qr.length;dr<Ia;dr++){const $i=Qr[dr];se.update($i,Yr),se.bind($i,Yr)}}return Yr}function hp(Z,_e){Z.ambientLightColor.needsUpdate=_e,Z.lightProbe.needsUpdate=_e,Z.directionalLights.needsUpdate=_e,Z.directionalLightShadows.needsUpdate=_e,Z.pointLights.needsUpdate=_e,Z.pointLightShadows.needsUpdate=_e,Z.spotLights.needsUpdate=_e,Z.spotLightShadows.needsUpdate=_e,Z.rectAreaLights.needsUpdate=_e,Z.hemisphereLights.needsUpdate=_e}function Fc(Z){return Z.isMeshLambertMaterial||Z.isMeshToonMaterial||Z.isMeshPhongMaterial||Z.isMeshStandardMaterial||Z.isShadowMaterial||Z.isShaderMaterial&&Z.lights===!0}this.getActiveCubeFace=function(){return C},this.getActiveMipmapLevel=function(){return j},this.getRenderTarget=function(){return T},this.setRenderTargetTextures=function(Z,_e,Oe){const me=Ae.get(Z);me.__autoAllocateDepthBuffer=Z.resolveDepthBuffer===!1,me.__autoAllocateDepthBuffer===!1&&(me.__useRenderToTexture=!1),Ae.get(Z.texture).__webglTexture=_e,Ae.get(Z.depthTexture).__webglTexture=me.__autoAllocateDepthBuffer?void 0:Oe,me.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(Z,_e){const Oe=Ae.get(Z);Oe.__webglFramebuffer=_e,Oe.__useDefaultFramebuffer=_e===void 0};const Gf=H.createFramebuffer();this.setRenderTarget=function(Z,_e=0,Oe=0){T=Z,C=_e,j=Oe;let me=!0,we=null,at=!1,pt=!1;if(Z){const St=Ae.get(Z);if(St.__useDefaultFramebuffer!==void 0)ce.bindFramebuffer(H.FRAMEBUFFER,null),me=!1;else if(St.__webglFramebuffer===void 0)ge.setupRenderTarget(Z);else if(St.__hasExternalTextures)ge.rebindTextures(Z,Ae.get(Z.texture).__webglTexture,Ae.get(Z.depthTexture).__webglTexture);else if(Z.depthBuffer){const mt=Z.depthTexture;if(St.__boundDepthTexture!==mt){if(mt!==null&&Ae.has(mt)&&(Z.width!==mt.image.width||Z.height!==mt.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");ge.setupDepthRenderbuffer(Z)}}const Lt=Z.texture;(Lt.isData3DTexture||Lt.isDataArrayTexture||Lt.isCompressedArrayTexture)&&(pt=!0);const Dt=Ae.get(Z).__webglFramebuffer;Z.isWebGLCubeRenderTarget?(Array.isArray(Dt[_e])?we=Dt[_e][Oe]:we=Dt[_e],at=!0):Z.samples>0&&ge.useMultisampledRTT(Z)===!1?we=Ae.get(Z).__webglMultisampledFramebuffer:Array.isArray(Dt)?we=Dt[Oe]:we=Dt,R.copy(Z.viewport),D.copy(Z.scissor),F=Z.scissorTest}else R.copy(W).multiplyScalar(L).floor(),D.copy(B).multiplyScalar(L).floor(),F=ee;if(Oe!==0&&(we=Gf),ce.bindFramebuffer(H.FRAMEBUFFER,we)&&me&&ce.drawBuffers(Z,we),ce.viewport(R),ce.scissor(D),ce.setScissorTest(F),at){const St=Ae.get(Z.texture);H.framebufferTexture2D(H.FRAMEBUFFER,H.COLOR_ATTACHMENT0,H.TEXTURE_CUBE_MAP_POSITIVE_X+_e,St.__webglTexture,Oe)}else if(pt){const St=Ae.get(Z.texture),Lt=_e;H.framebufferTextureLayer(H.FRAMEBUFFER,H.COLOR_ATTACHMENT0,St.__webglTexture,Oe,Lt)}else if(Z!==null&&Oe!==0){const St=Ae.get(Z.texture);H.framebufferTexture2D(H.FRAMEBUFFER,H.COLOR_ATTACHMENT0,H.TEXTURE_2D,St.__webglTexture,Oe)}A=-1},this.readRenderTargetPixels=function(Z,_e,Oe,me,we,at,pt,Mt=0){if(!(Z&&Z.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let St=Ae.get(Z).__webglFramebuffer;if(Z.isWebGLCubeRenderTarget&&pt!==void 0&&(St=St[pt]),St){ce.bindFramebuffer(H.FRAMEBUFFER,St);try{const Lt=Z.textures[Mt],Dt=Lt.format,mt=Lt.type;if(!De.textureFormatReadable(Dt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!De.textureTypeReadable(mt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}_e>=0&&_e<=Z.width-me&&Oe>=0&&Oe<=Z.height-we&&(Z.textures.length>1&&H.readBuffer(H.COLOR_ATTACHMENT0+Mt),H.readPixels(_e,Oe,me,we,be.convert(Dt),be.convert(mt),at))}finally{const Lt=T!==null?Ae.get(T).__webglFramebuffer:null;ce.bindFramebuffer(H.FRAMEBUFFER,Lt)}}},this.readRenderTargetPixelsAsync=async function(Z,_e,Oe,me,we,at,pt,Mt=0){if(!(Z&&Z.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let St=Ae.get(Z).__webglFramebuffer;if(Z.isWebGLCubeRenderTarget&&pt!==void 0&&(St=St[pt]),St)if(_e>=0&&_e<=Z.width-me&&Oe>=0&&Oe<=Z.height-we){ce.bindFramebuffer(H.FRAMEBUFFER,St);const Lt=Z.textures[Mt],Dt=Lt.format,mt=Lt.type;if(!De.textureFormatReadable(Dt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!De.textureTypeReadable(mt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const Ct=H.createBuffer();H.bindBuffer(H.PIXEL_PACK_BUFFER,Ct),H.bufferData(H.PIXEL_PACK_BUFFER,at.byteLength,H.STREAM_READ),Z.textures.length>1&&H.readBuffer(H.COLOR_ATTACHMENT0+Mt),H.readPixels(_e,Oe,me,we,be.convert(Dt),be.convert(mt),0);const nn=T!==null?Ae.get(T).__webglFramebuffer:null;ce.bindFramebuffer(H.FRAMEBUFFER,nn);const rn=H.fenceSync(H.SYNC_GPU_COMMANDS_COMPLETE,0);return H.flush(),await wWe(H,rn,4),H.bindBuffer(H.PIXEL_PACK_BUFFER,Ct),H.getBufferSubData(H.PIXEL_PACK_BUFFER,0,at),H.deleteBuffer(Ct),H.deleteSync(rn),at}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(Z,_e=null,Oe=0){const me=Math.pow(2,-Oe),we=Math.floor(Z.image.width*me),at=Math.floor(Z.image.height*me),pt=_e!==null?_e.x:0,Mt=_e!==null?_e.y:0;ge.setTexture2D(Z,0),H.copyTexSubImage2D(H.TEXTURE_2D,Oe,0,0,pt,Mt,we,at),ce.unbindTexture()};const Ax=H.createFramebuffer(),mp=H.createFramebuffer();this.copyTextureToTexture=function(Z,_e,Oe=null,me=null,we=0,at=null){at===null&&(we!==0?(Jg("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),at=we,we=0):at=0);let pt,Mt,St,Lt,Dt,mt,Ct,nn,rn;const Kt=Z.isCompressedTexture?Z.mipmaps[at]:Z.image;if(Oe!==null)pt=Oe.max.x-Oe.min.x,Mt=Oe.max.y-Oe.min.y,St=Oe.isBox3?Oe.max.z-Oe.min.z:1,Lt=Oe.min.x,Dt=Oe.min.y,mt=Oe.isBox3?Oe.min.z:0;else{const Zr=Math.pow(2,-we);pt=Math.floor(Kt.width*Zr),Mt=Math.floor(Kt.height*Zr),Z.isDataArrayTexture?St=Kt.depth:Z.isData3DTexture?St=Math.floor(Kt.depth*Zr):St=1,Lt=0,Dt=0,mt=0}me!==null?(Ct=me.x,nn=me.y,rn=me.z):(Ct=0,nn=0,rn=0);const gn=be.convert(_e.format),kt=be.convert(_e.type);let sn;_e.isData3DTexture?(ge.setTexture3D(_e,0),sn=H.TEXTURE_3D):_e.isDataArrayTexture||_e.isCompressedArrayTexture?(ge.setTexture2DArray(_e,0),sn=H.TEXTURE_2D_ARRAY):(ge.setTexture2D(_e,0),sn=H.TEXTURE_2D),H.pixelStorei(H.UNPACK_FLIP_Y_WEBGL,_e.flipY),H.pixelStorei(H.UNPACK_PREMULTIPLY_ALPHA_WEBGL,_e.premultiplyAlpha),H.pixelStorei(H.UNPACK_ALIGNMENT,_e.unpackAlignment);const Xt=H.getParameter(H.UNPACK_ROW_LENGTH),Yr=H.getParameter(H.UNPACK_IMAGE_HEIGHT),Da=H.getParameter(H.UNPACK_SKIP_PIXELS),Mr=H.getParameter(H.UNPACK_SKIP_ROWS),di=H.getParameter(H.UNPACK_SKIP_IMAGES);H.pixelStorei(H.UNPACK_ROW_LENGTH,Kt.width),H.pixelStorei(H.UNPACK_IMAGE_HEIGHT,Kt.height),H.pixelStorei(H.UNPACK_SKIP_PIXELS,Lt),H.pixelStorei(H.UNPACK_SKIP_ROWS,Dt),H.pixelStorei(H.UNPACK_SKIP_IMAGES,mt);const vn=Z.isDataArrayTexture||Z.isData3DTexture,fi=_e.isDataArrayTexture||_e.isData3DTexture;if(Z.isDepthTexture){const Zr=Ae.get(Z),Qr=Ae.get(_e),dr=Ae.get(Zr.__renderTarget),Ia=Ae.get(Qr.__renderTarget);ce.bindFramebuffer(H.READ_FRAMEBUFFER,dr.__webglFramebuffer),ce.bindFramebuffer(H.DRAW_FRAMEBUFFER,Ia.__webglFramebuffer);for(let $i=0;$i<St;$i++)vn&&(H.framebufferTextureLayer(H.READ_FRAMEBUFFER,H.COLOR_ATTACHMENT0,Ae.get(Z).__webglTexture,we,mt+$i),H.framebufferTextureLayer(H.DRAW_FRAMEBUFFER,H.COLOR_ATTACHMENT0,Ae.get(_e).__webglTexture,at,rn+$i)),H.blitFramebuffer(Lt,Dt,pt,Mt,Ct,nn,pt,Mt,H.DEPTH_BUFFER_BIT,H.NEAREST);ce.bindFramebuffer(H.READ_FRAMEBUFFER,null),ce.bindFramebuffer(H.DRAW_FRAMEBUFFER,null)}else if(we!==0||Z.isRenderTargetTexture||Ae.has(Z)){const Zr=Ae.get(Z),Qr=Ae.get(_e);ce.bindFramebuffer(H.READ_FRAMEBUFFER,Ax),ce.bindFramebuffer(H.DRAW_FRAMEBUFFER,mp);for(let dr=0;dr<St;dr++)vn?H.framebufferTextureLayer(H.READ_FRAMEBUFFER,H.COLOR_ATTACHMENT0,Zr.__webglTexture,we,mt+dr):H.framebufferTexture2D(H.READ_FRAMEBUFFER,H.COLOR_ATTACHMENT0,H.TEXTURE_2D,Zr.__webglTexture,we),fi?H.framebufferTextureLayer(H.DRAW_FRAMEBUFFER,H.COLOR_ATTACHMENT0,Qr.__webglTexture,at,rn+dr):H.framebufferTexture2D(H.DRAW_FRAMEBUFFER,H.COLOR_ATTACHMENT0,H.TEXTURE_2D,Qr.__webglTexture,at),we!==0?H.blitFramebuffer(Lt,Dt,pt,Mt,Ct,nn,pt,Mt,H.COLOR_BUFFER_BIT,H.NEAREST):fi?H.copyTexSubImage3D(sn,at,Ct,nn,rn+dr,Lt,Dt,pt,Mt):H.copyTexSubImage2D(sn,at,Ct,nn,Lt,Dt,pt,Mt);ce.bindFramebuffer(H.READ_FRAMEBUFFER,null),ce.bindFramebuffer(H.DRAW_FRAMEBUFFER,null)}else fi?Z.isDataTexture||Z.isData3DTexture?H.texSubImage3D(sn,at,Ct,nn,rn,pt,Mt,St,gn,kt,Kt.data):_e.isCompressedArrayTexture?H.compressedTexSubImage3D(sn,at,Ct,nn,rn,pt,Mt,St,gn,Kt.data):H.texSubImage3D(sn,at,Ct,nn,rn,pt,Mt,St,gn,kt,Kt):Z.isDataTexture?H.texSubImage2D(H.TEXTURE_2D,at,Ct,nn,pt,Mt,gn,kt,Kt.data):Z.isCompressedTexture?H.compressedTexSubImage2D(H.TEXTURE_2D,at,Ct,nn,Kt.width,Kt.height,gn,Kt.data):H.texSubImage2D(H.TEXTURE_2D,at,Ct,nn,pt,Mt,gn,kt,Kt);H.pixelStorei(H.UNPACK_ROW_LENGTH,Xt),H.pixelStorei(H.UNPACK_IMAGE_HEIGHT,Yr),H.pixelStorei(H.UNPACK_SKIP_PIXELS,Da),H.pixelStorei(H.UNPACK_SKIP_ROWS,Mr),H.pixelStorei(H.UNPACK_SKIP_IMAGES,di),at===0&&_e.generateMipmaps&&H.generateMipmap(sn),ce.unbindTexture()},this.copyTextureToTexture3D=function(Z,_e,Oe=null,me=null,we=0){return Jg('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(Z,_e,Oe,me,we)},this.initRenderTarget=function(Z){Ae.get(Z).__webglFramebuffer===void 0&&ge.setupRenderTarget(Z)},this.initTexture=function(Z){Z.isCubeTexture?ge.setTextureCube(Z,0):Z.isData3DTexture?ge.setTexture3D(Z,0):Z.isDataArrayTexture||Z.isCompressedArrayTexture?ge.setTexture2DArray(Z,0):ge.setTexture2D(Z,0),ce.unbindTexture()},this.resetState=function(){C=0,j=0,T=null,ce.reset(),Je.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Uo}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=_n._getDrawingBufferColorSpace(e),n.unpackColorSpace=_n._getUnpackColorSpace()}}const DKe=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:kF,AddEquation:Ud,AddOperation:coe,AdditiveAnimationBlendMode:zF,AdditiveBlending:xD,AgXToneMapping:moe,AlphaFormat:LF,AlwaysCompare:joe,AlwaysDepth:rM,AlwaysStencilFunc:_D,AmbientLight:wle,AnimationAction:Ale,AnimationClip:$b,AnimationLoader:Y$e,AnimationMixer:NHe,AnimationObjectGroup:SHe,AnimationUtils:G$e,ArcCurve:Goe,ArrayCamera:Mle,ArrowHelper:GHe,AttachedBindMode:wD,Audio:Cle,AudioAnalyser:hHe,AudioContext:hU,AudioListener:uHe,AudioLoader:oHe,AxesHelper:qHe,BackSide:Zs,BasicDepthPacking:boe,BasicShadowMap:Wae,BatchedMesh:zoe,Bone:ZF,BooleanKeyframeTrack:up,Box2:kHe,Box3:Li,Box3Helper:$He,BoxGeometry:cp,BoxHelper:WHe,BufferAttribute:Gn,BufferGeometry:cn,BufferGeometryLoader:Nle,ByteType:OF,Cache:pc,Camera:Yw,CameraHelper:VHe,CanvasTexture:p$e,CapsuleGeometry:Pj,CatmullRomCurve3:qoe,CineonToneMapping:foe,CircleGeometry:kj,ClampToEdgeWrapping:Fo,Clock:mU,Color:wt,ColorKeyframeTrack:cU,ColorManagement:_n,CompressedArrayTexture:h$e,CompressedCubeTexture:m$e,CompressedTexture:Tj,CompressedTextureLoader:Z$e,ConeGeometry:Jw,ConstantAlphaFactor:aoe,ConstantColorFactor:ioe,Controls:XHe,CubeCamera:Ooe,CubeReflectionMapping:Iu,CubeRefractionMapping:wf,CubeTexture:Zw,CubeTextureLoader:Q$e,CubeUVReflectionMapping:bx,CubicBezierCurve:tU,CubicBezierCurve3:Koe,CubicInterpolant:hle,CullFaceBack:vD,CullFaceFront:Vae,CullFaceFrontBack:bVe,CullFaceNone:zae,Curve:Bl,CurvePath:Yoe,CustomBlending:$ae,CustomToneMapping:hoe,CylinderGeometry:Qw,Cylindrical:PHe,Data3DTexture:Ej,DataArrayTexture:Sj,DataTexture:Sc,DataTextureLoader:J$e,DataUtils:FWe,DecrementStencilOp:OVe,DecrementWrapStencilOp:IVe,DefaultLoadingManager:gle,DepthFormat:Uv,DepthStencilFormat:Bv,DepthTexture:JF,DetachedBindMode:goe,DirectionalLight:ble,DirectionalLightHelper:zHe,DiscreteInterpolant:mle,DodecahedronGeometry:Rj,DoubleSide:El,DstAlphaFactor:Jae,DstColorFactor:toe,DynamicCopyUsage:ZVe,DynamicDrawUsage:HVe,DynamicReadUsage:KVe,EdgesGeometry:Hoe,EllipseCurve:Oj,EqualCompare:Eoe,EqualDepth:sM,EqualStencilFunc:BVe,EquirectangularReflectionMapping:Ab,EquirectangularRefractionMapping:Tb,Euler:ho,EventDispatcher:Ic,ExtrudeGeometry:Dj,FileLoader:Fu,Float16BufferAttribute:HWe,Float32BufferAttribute:Rt,FloatType:Na,Fog:Mj,FogExp2:Nj,FramebufferTexture:f$e,FrontSide:Du,Frustum:_x,FrustumArray:Aj,GLBufferAttribute:THe,GLSL1:JVe,GLSL3:SD,GreaterCompare:Noe,GreaterDepth:oM,GreaterEqualCompare:Coe,GreaterEqualDepth:aM,GreaterEqualStencilFunc:$Ve,GreaterStencilFunc:VVe,GridHelper:UHe,Group:kg,HalfFloatType:wx,HemisphereLight:vle,HemisphereLightHelper:FHe,IcosahedronGeometry:Ij,ImageBitmapLoader:aHe,ImageLoader:Hb,ImageUtils:Poe,IncrementStencilOp:RVe,IncrementWrapStencilOp:DVe,InstancedBufferAttribute:$m,InstancedBufferGeometry:fU,InstancedInterleavedBuffer:AHe,InstancedMesh:Boe,Int16BufferAttribute:WWe,Int32BufferAttribute:$We,Int8BufferAttribute:BWe,IntType:gj,InterleavedBuffer:Cj,InterleavedBufferAttribute:Wm,Interpolant:n1,InterpolateDiscrete:Rb,InterpolateLinear:DM,InterpolateSmooth:fE,InterpolationSamplingMode:nWe,InterpolationSamplingType:tWe,InvertStencilOp:LVe,KeepStencilOp:Dh,KeyframeTrack:Jo,LOD:Foe,LatheGeometry:Lj,Layers:xm,LessCompare:Soe,LessDepth:iM,LessEqualCompare:WF,LessEqualDepth:zm,LessEqualStencilFunc:zVe,LessStencilFunc:UVe,Light:Wf,LightProbe:Ele,Line:_f,Line3:RHe,LineBasicMaterial:ia,LineCurve:nU,LineCurve3:Xoe,LineDashedMaterial:ule,LineLoop:Voe,LineSegments:Lc,LinearFilter:$r,LinearInterpolant:lU,LinearMipMapLinearFilter:EVe,LinearMipMapNearestFilter:SVe,LinearMipmapLinearFilter:mc,LinearMipmapNearestFilter:b0,LinearSRGBColorSpace:Vm,LinearToneMapping:uoe,LinearTransfer:Db,Loader:Ra,LoaderUtils:jD,LoadingManager:uU,LoopOnce:voe,LoopPingPong:yoe,LoopRepeat:xoe,MOUSE:Rh,Material:As,MaterialLoader:Gj,MathUtils:yWe,Matrix2:xU,Matrix3:Yt,Matrix4:Vt,MaxEquation:Kae,Mesh:_r,MeshBasicMaterial:Qu,MeshDepthMaterial:$j,MeshDistanceMaterial:Hj,MeshLambertMaterial:lle,MeshMatcapMaterial:cle,MeshNormalMaterial:ole,MeshPhongMaterial:sle,MeshPhysicalMaterial:ile,MeshStandardMaterial:aU,MeshToonMaterial:ale,MinEquation:qae,MirroredRepeatWrapping:kb,MixOperation:loe,MultiplyBlending:bD,MultiplyOperation:Kw,NearestFilter:es,NearestMipMapLinearFilter:_Ve,NearestMipMapNearestFilter:wVe,NearestMipmapLinearFilter:Tg,NearestMipmapNearestFilter:RF,NeutralToneMapping:poe,NeverCompare:_oe,NeverDepth:nM,NeverStencilFunc:FVe,NoBlending:yu,NoColorSpace:cu,NoToneMapping:_c,NormalAnimationBlendMode:_j,NormalBlending:gm,NotEqualCompare:Moe,NotEqualDepth:lM,NotEqualStencilFunc:WVe,NumberKeyframeTrack:Vb,Object3D:Mn,ObjectLoader:iHe,ObjectSpaceNormalMap:woe,OctahedronGeometry:e1,OneFactor:Yae,OneMinusConstantAlphaFactor:ooe,OneMinusConstantColorFactor:soe,OneMinusDstAlphaFactor:eoe,OneMinusDstColorFactor:noe,OneMinusSrcAlphaFactor:tM,OneMinusSrcColorFactor:Qae,OrthographicCamera:cf,PCFShadowMap:mj,PCFSoftShadowMap:y0,PMREMGenerator:kD,Path:UM,PerspectiveCamera:zr,Plane:au,PlaneGeometry:Ju,PlaneHelper:HHe,PointLight:yle,PointLightHelper:IHe,Points:Woe,PointsMaterial:QF,PolarGridHelper:BHe,PolyhedronGeometry:Vf,PositionalAudio:fHe,PropertyBinding:Sn,PropertyMixer:jle,QuadraticBezierCurve:rU,QuadraticBezierCurve3:iU,Quaternion:Ms,QuaternionKeyframeTrack:r1,QuaternionLinearInterpolant:ple,RED_GREEN_RGTC2_Format:RM,RED_RGTC1_Format:BF,REVISION:hj,RGBADepthPacking:VF,RGBAFormat:_s,RGBAIntegerFormat:wj,RGBA_ASTC_10x10_Format:CM,RGBA_ASTC_10x5_Format:EM,RGBA_ASTC_10x6_Format:NM,RGBA_ASTC_10x8_Format:MM,RGBA_ASTC_12x10_Format:jM,RGBA_ASTC_12x12_Format:AM,RGBA_ASTC_4x4_Format:gM,RGBA_ASTC_5x4_Format:vM,RGBA_ASTC_5x5_Format:xM,RGBA_ASTC_6x5_Format:yM,RGBA_ASTC_6x6_Format:bM,RGBA_ASTC_8x5_Format:wM,RGBA_ASTC_8x6_Format:_M,RGBA_ASTC_8x8_Format:SM,RGBA_BPTC_Format:N0,RGBA_ETC2_EAC_Format:pM,RGBA_PVRTC_2BPPV1_Format:fM,RGBA_PVRTC_4BPPV1_Format:dM,RGBA_S3TC_DXT1_Format:_0,RGBA_S3TC_DXT3_Format:S0,RGBA_S3TC_DXT5_Format:E0,RGBDepthPacking:AVe,RGBFormat:FF,RGBIntegerFormat:NVe,RGB_BPTC_SIGNED_Format:TM,RGB_BPTC_UNSIGNED_Format:PM,RGB_ETC1_Format:hM,RGB_ETC2_Format:mM,RGB_PVRTC_2BPPV1_Format:uM,RGB_PVRTC_4BPPV1_Format:cM,RGB_S3TC_DXT1_Format:w0,RGDepthPacking:TVe,RGFormat:UF,RGIntegerFormat:bj,RawShaderMaterial:rle,Ray:lp,Raycaster:Tle,RectAreaLight:_le,RedFormat:yj,RedIntegerFormat:Xw,ReinhardToneMapping:doe,RenderTarget:HF,RenderTarget3D:MHe,RepeatWrapping:Pb,ReplaceStencilOp:kVe,ReverseSubtractEquation:Gae,RingGeometry:Fj,SIGNED_RED_GREEN_RGTC2_Format:OM,SIGNED_RED_RGTC1_Format:kM,SRGBColorSpace:ga,SRGBTransfer:Un,Scene:XF,ShaderChunk:an,ShaderLib:bl,ShaderMaterial:Il,ShadowMaterial:nle,Shape:ym,ShapeGeometry:Uj,ShapePath:KHe,ShapeUtils:Nl,ShortType:DF,Skeleton:jj,SkeletonHelper:DHe,SkinnedMesh:Uoe,Source:Xd,Sphere:Fi,SphereGeometry:t1,Spherical:TD,SphericalHarmonics3:Sle,SplineCurve:sU,SpotLight:xle,SpotLightHelper:OHe,Sprite:Loe,SpriteMaterial:YF,SrcAlphaFactor:eM,SrcAlphaSaturateFactor:roe,SrcColorFactor:Zae,StaticCopyUsage:YVe,StaticDrawUsage:Ib,StaticReadUsage:qVe,StereoCamera:lHe,StreamCopyUsage:QVe,StreamDrawUsage:GVe,StreamReadUsage:XVe,StringKeyframeTrack:dp,SubtractEquation:Hae,SubtractiveBlending:yD,TOUCH:Oh,TangentSpaceNormalMap:zf,TetrahedronGeometry:Bj,Texture:Er,TextureLoader:eHe,TextureUtils:eGe,TimestampQuery:eWe,TorusGeometry:zj,TorusKnotGeometry:Vj,Triangle:ba,TriangleFanDrawMode:jVe,TriangleStripDrawMode:CVe,TrianglesDrawMode:MVe,TubeGeometry:Wj,UVMapping:pj,Uint16BufferAttribute:GF,Uint32BufferAttribute:qF,Uint8BufferAttribute:zWe,Uint8ClampedBufferAttribute:VWe,Uniform:vU,UniformsGroup:jHe,UniformsLib:vt,UniformsUtils:KF,UnsignedByteType:Xo,UnsignedInt248Type:Fv,UnsignedInt5999Type:IF,UnsignedIntType:Lu,UnsignedShort4444Type:vj,UnsignedShort5551Type:xj,UnsignedShortType:Lv,VSMShadowMap:hl,Vector2:Ge,Vector3:J,Vector4:wn,VectorKeyframeTrack:Wb,VideoFrameTexture:d$e,VideoTexture:$oe,WebGL3DRenderTarget:jWe,WebGLArrayRenderTarget:CWe,WebGLCoordinateSystem:Uo,WebGLCubeRenderTarget:Doe,WebGLRenderTarget:Pc,WebGLRenderer:Fle,WebGLUtils:Lle,WebGPUCoordinateSystem:Lb,WebXRController:hE,WireframeGeometry:tle,WrapAroundEnding:Ob,ZeroCurvatureEnding:Yh,ZeroFactor:Xae,ZeroSlopeEnding:Zh,ZeroStencilOp:PVe,createCanvasElement:Toe},Symbol.toStringTag,{value:"Module"}));var Ule={exports:{}},fp={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */fp.ConcurrentRoot=1;fp.ContinuousEventPriority=4;fp.DefaultEventPriority=16;fp.DiscreteEventPriority=1;fp.IdleEventPriority=536870912;fp.LegacyRoot=0;Ule.exports=fp;var Og=Ule.exports;function IKe(t){let e;const n=new Set,r=(u,d)=>{const f=typeof u=="function"?u(e):u;if(f!==e){const h=e;e=d?f:Object.assign({},e,f),n.forEach(m=>m(e,h))}},i=()=>e,s=(u,d=i,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let h=d(e);function m(){const p=d(e);if(!f(h,p)){const x=h;u(h=p,x)}}return n.add(m),()=>n.delete(m)},c={setState:r,getState:i,subscribe:(u,d,f)=>d||f?s(u,d,f):(n.add(u),()=>n.delete(u)),destroy:()=>n.clear()};return e=t(r,i,c),c}const LKe=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),QH=LKe?S.useEffect:S.useLayoutEffect;function FKe(t){const e=typeof t=="function"?IKe(t):t,n=(r=e.getState,i=Object.is)=>{const[,s]=S.useReducer(v=>v+1,0),a=e.getState(),l=S.useRef(a),c=S.useRef(r),u=S.useRef(i),d=S.useRef(!1),f=S.useRef();f.current===void 0&&(f.current=r(a));let h,m=!1;(l.current!==a||c.current!==r||u.current!==i||d.current)&&(h=r(a),m=!i(f.current,h)),QH(()=>{m&&(f.current=h),l.current=a,c.current=r,u.current=i,d.current=!1});const p=S.useRef(a);QH(()=>{const v=()=>{try{const w=e.getState(),_=c.current(w);u.current(f.current,_)||(l.current=w,f.current=_,s())}catch{d.current=!0,s()}},g=e.subscribe(v);return e.getState()!==p.current&&v(),g},[]);const x=m?h:f.current;return S.useDebugValue(x),x};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}const UKe=t=>typeof t=="object"&&typeof t.then=="function",IS=[];function BKe(t,e,n=(r,i)=>r===i){if(t===e)return!0;if(!t||!e)return!1;const r=t.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!n(t[i],e[i]))return!1;return!0}function zKe(t,e=null,n=!1,r={}){e===null&&(e=[t]);for(const s of IS)if(BKe(e,s.keys,s.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return r.lifespan&&r.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,r.lifespan)),s.response;if(!n)throw s.promise}const i={keys:e,equal:r.equal,remove:()=>{const s=IS.indexOf(i);s!==-1&&IS.splice(s,1)},promise:(UKe(t)?t:t(...e)).then(s=>{i.response=s,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(s=>i.error=s)};if(IS.push(i),!n)throw i.promise}const VKe=(t,e,n)=>zKe(t,e,!1,n);var Ble={exports:{}},zle={exports:{}},Vle={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,V){var K=L.length;L.push(V);e:for(;0<K;){var W=K-1>>>1,B=L[W];if(0<i(B,V))L[W]=V,L[K]=B,K=W;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var V=L[0],K=L.pop();if(K!==V){L[0]=K;e:for(var W=0,B=L.length,ee=B>>>1;W<ee;){var Y=2*(W+1)-1,Q=L[Y],de=Y+1,te=L[de];if(0>i(Q,K))de<B&&0>i(te,Q)?(L[W]=te,L[de]=K,W=de):(L[W]=Q,L[Y]=K,W=Y);else if(de<B&&0>i(te,K))L[W]=te,L[de]=K,W=de;else break e}}return V}function i(L,V){var K=L.sortIndex-V.sortIndex;return K!==0?K:L.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,p=!1,x=!1,v=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(L){for(var V=n(u);V!==null;){if(V.callback===null)r(u);else if(V.startTime<=L)r(u),V.sortIndex=V.expirationTime,e(c,V);else break;V=n(u)}}function E(L){if(x=!1,_(L),!p)if(n(c)!==null)p=!0,q(N);else{var V=n(u);V!==null&&$(E,V.startTime-L)}}function N(L,V){p=!1,x&&(x=!1,g(T),T=-1),m=!0;var K=h;try{for(_(V),f=n(c);f!==null&&(!(f.expirationTime>V)||L&&!R());){var W=f.callback;if(typeof W=="function"){f.callback=null,h=f.priorityLevel;var B=W(f.expirationTime<=V);V=t.unstable_now(),typeof B=="function"?f.callback=B:f===n(c)&&r(c),_(V)}else r(c);f=n(c)}if(f!==null)var ee=!0;else{var Y=n(u);Y!==null&&$(E,Y.startTime-V),ee=!1}return ee}finally{f=null,h=K,m=!1}}var C=!1,j=null,T=-1,A=5,P=-1;function R(){return!(t.unstable_now()-P<A)}function D(){if(j!==null){var L=t.unstable_now();P=L;var V=!0;try{V=j(!0,L)}finally{V?F():(C=!1,j=null)}}else C=!1}var F;if(typeof w=="function")F=function(){w(D)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,G=I.port2;I.port1.onmessage=D,F=function(){G.postMessage(null)}}else F=function(){v(D,0)};function q(L){j=L,C||(C=!0,F())}function $(L,V){T=v(function(){L(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){p||m||(p=!0,q(N))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(L){switch(h){case 1:case 2:case 3:var V=3;break;default:V=h}var K=h;h=V;try{return L()}finally{h=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,V){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var K=h;h=L;try{return V()}finally{h=K}},t.unstable_scheduleCallback=function(L,V,K){var W=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?W+K:W):K=W,L){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=K+B,L={id:d++,callback:V,priorityLevel:L,startTime:K,expirationTime:B,sortIndex:-1},K>W?(L.sortIndex=K,e(u,L),n(c)===null&&L===n(u)&&(x?(g(T),T=-1):x=!0,$(E,K-W))):(L.sortIndex=B,e(c,L),p||m||(p=!0,q(N))),L},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(L){var V=h;return function(){var K=h;h=V;try{return L.apply(this,arguments)}finally{h=K}}}})(Vle);zle.exports=Vle;var OD=zle.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WKe=function(e){var n={},r=S,i=OD,s=Object.assign;function a(y){for(var b="https://reactjs.org/docs/error-decoder.html?invariant="+y,M=1;M<arguments.length;M++)b+="&args[]="+encodeURIComponent(arguments[M]);return"Minified React error #"+y+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,c=Symbol.for("react.element"),u=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),p=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.for("react.offscreen"),N=Symbol.iterator;function C(y){return y===null||typeof y!="object"?null:(y=N&&y[N]||y["@@iterator"],typeof y=="function"?y:null)}function j(y){if(y==null)return null;if(typeof y=="function")return y.displayName||y.name||null;if(typeof y=="string")return y;switch(y){case d:return"Fragment";case u:return"Portal";case h:return"Profiler";case f:return"StrictMode";case v:return"Suspense";case g:return"SuspenseList"}if(typeof y=="object")switch(y.$$typeof){case p:return(y.displayName||"Context")+".Consumer";case m:return(y._context.displayName||"Context")+".Provider";case x:var b=y.render;return y=y.displayName,y||(y=b.displayName||b.name||"",y=y!==""?"ForwardRef("+y+")":"ForwardRef"),y;case w:return b=y.displayName||null,b!==null?b:j(y.type)||"Memo";case _:b=y._payload,y=y._init;try{return j(y(b))}catch{}}return null}function T(y){var b=y.type;switch(y.tag){case 24:return"Cache";case 9:return(b.displayName||"Context")+".Consumer";case 10:return(b._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return y=b.render,y=y.displayName||y.name||"",b.displayName||(y!==""?"ForwardRef("+y+")":"ForwardRef");case 7:return"Fragment";case 5:return b;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return j(b);case 8:return b===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof b=="function")return b.displayName||b.name||null;if(typeof b=="string")return b}return null}function A(y){var b=y,M=y;if(y.alternate)for(;b.return;)b=b.return;else{y=b;do b=y,b.flags&4098&&(M=b.return),y=b.return;while(y)}return b.tag===3?M:null}function P(y){if(A(y)!==y)throw Error(a(188))}function R(y){var b=y.alternate;if(!b){if(b=A(y),b===null)throw Error(a(188));return b!==y?null:y}for(var M=y,k=b;;){var O=M.return;if(O===null)break;var U=O.alternate;if(U===null){if(k=O.return,k!==null){M=k;continue}break}if(O.child===U.child){for(U=O.child;U;){if(U===M)return P(O),y;if(U===k)return P(O),b;U=U.sibling}throw Error(a(188))}if(M.return!==k.return)M=O,k=U;else{for(var re=!1,xe=O.child;xe;){if(xe===M){re=!0,M=O,k=U;break}if(xe===k){re=!0,k=O,M=U;break}xe=xe.sibling}if(!re){for(xe=U.child;xe;){if(xe===M){re=!0,M=U,k=O;break}if(xe===k){re=!0,k=U,M=O;break}xe=xe.sibling}if(!re)throw Error(a(189))}}if(M.alternate!==k)throw Error(a(190))}if(M.tag!==3)throw Error(a(188));return M.stateNode.current===M?y:b}function D(y){return y=R(y),y!==null?F(y):null}function F(y){if(y.tag===5||y.tag===6)return y;for(y=y.child;y!==null;){var b=F(y);if(b!==null)return b;y=y.sibling}return null}function I(y){if(y.tag===5||y.tag===6)return y;for(y=y.child;y!==null;){if(y.tag!==4){var b=I(y);if(b!==null)return b}y=y.sibling}return null}var G=Array.isArray,q=e.getPublicInstance,$=e.getRootHostContext,L=e.getChildHostContext,V=e.prepareForCommit,K=e.resetAfterCommit,W=e.createInstance,B=e.appendInitialChild,ee=e.finalizeInitialChildren,Y=e.prepareUpdate,Q=e.shouldSetTextContent,de=e.createTextInstance,te=e.scheduleTimeout,he=e.cancelTimeout,oe=e.noTimeout,fe=e.isPrimaryRenderer,ve=e.supportsMutation,ne=e.supportsPersistence,Be=e.supportsHydration,H=e.getInstanceFromNode,Te=e.preparePortalMount,Ne=e.getCurrentEventPriority,De=e.detachDeletedInstance,ce=e.supportsMicrotasks,Ue=e.scheduleMicrotask,Ae=e.supportsTestSelectors,ge=e.findFiberRoot,nt=e.getBoundingRect,X=e.getTextContent,z=e.isHiddenSubtree,ae=e.matchAccessibilityRole,Me=e.setFocusIfFocusable,Se=e.setupIntersectionObserver,ye=e.appendChild,Ye=e.appendChildToContainer,$e=e.commitTextUpdate,rt=e.commitMount,st=e.commitUpdate,ke=e.insertBefore,qe=e.insertInContainerBefore,Ke=e.removeChild,ie=e.removeChildFromContainer,be=e.resetTextContent,Je=e.hideInstance,se=e.hideTextInstance,Ie=e.unhideInstance,Le=e.unhideTextInstance,ft=e.clearContainer,Ve=e.cloneInstance,Pe=e.createContainerChildSet,Fe=e.appendChildToContainerChildSet,tt=e.finalizeContainerChildren,it=e.replaceContainerChildren,yt=e.cloneHiddenInstance,$t=e.cloneHiddenTextInstance,tn=e.canHydrateInstance,jn=e.canHydrateTextInstance,Wn=e.canHydrateSuspenseInstance,$n=e.isSuspenseInstancePending,Wi=e.isSuspenseInstanceFallback,Oa=e.registerSuspenseInstanceRetry,rs=e.getNextHydratableSibling,is=e.getFirstHydratableChild,Xr=e.getFirstHydratableChildWithinContainer,sa=e.getFirstHydratableChildWithinSuspenseInstance,Hf=e.hydrateInstance,td=e.hydrateTextInstance,jx=e.hydrateSuspenseInstance,hp=e.getNextHydratableInstanceAfterSuspenseInstance,Fc=e.commitHydratedContainer,Gf=e.commitHydratedSuspenseInstance,Ax=e.clearSuspenseBoundary,mp=e.clearSuspenseBoundaryFromContainer,Z=e.shouldDeleteUnhydratedTailInstances,_e=e.didNotMatchHydratedContainerTextInstance,Oe=e.didNotMatchHydratedTextInstance,me;function we(y){if(me===void 0)try{throw Error()}catch(M){var b=M.stack.trim().match(/\n( *(at )?)/);me=b&&b[1]||""}return`
`+me+y}var at=!1;function pt(y,b){if(!y||at)return"";at=!0;var M=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(b)if(b=function(){throw Error()},Object.defineProperty(b.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(b,[])}catch(dt){var k=dt}Reflect.construct(y,[],b)}else{try{b.call()}catch(dt){k=dt}y.call(b.prototype)}else{try{throw Error()}catch(dt){k=dt}y()}}catch(dt){if(dt&&k&&typeof dt.stack=="string"){for(var O=dt.stack.split(`
`),U=k.stack.split(`
`),re=O.length-1,xe=U.length-1;1<=re&&0<=xe&&O[re]!==U[xe];)xe--;for(;1<=re&&0<=xe;re--,xe--)if(O[re]!==U[xe]){if(re!==1||xe!==1)do if(re--,xe--,0>xe||O[re]!==U[xe]){var We=`
`+O[re].replace(" at new "," at ");return y.displayName&&We.includes("<anonymous>")&&(We=We.replace("<anonymous>",y.displayName)),We}while(1<=re&&0<=xe);break}}}finally{at=!1,Error.prepareStackTrace=M}return(y=y?y.displayName||y.name:"")?we(y):""}var Mt=Object.prototype.hasOwnProperty,St=[],Lt=-1;function Dt(y){return{current:y}}function mt(y){0>Lt||(y.current=St[Lt],St[Lt]=null,Lt--)}function Ct(y,b){Lt++,St[Lt]=y.current,y.current=b}var nn={},rn=Dt(nn),Kt=Dt(!1),gn=nn;function kt(y,b){var M=y.type.contextTypes;if(!M)return nn;var k=y.stateNode;if(k&&k.__reactInternalMemoizedUnmaskedChildContext===b)return k.__reactInternalMemoizedMaskedChildContext;var O={},U;for(U in M)O[U]=b[U];return k&&(y=y.stateNode,y.__reactInternalMemoizedUnmaskedChildContext=b,y.__reactInternalMemoizedMaskedChildContext=O),O}function sn(y){return y=y.childContextTypes,y!=null}function Xt(){mt(Kt),mt(rn)}function Yr(y,b,M){if(rn.current!==nn)throw Error(a(168));Ct(rn,b),Ct(Kt,M)}function Da(y,b,M){var k=y.stateNode;if(b=b.childContextTypes,typeof k.getChildContext!="function")return M;k=k.getChildContext();for(var O in k)if(!(O in b))throw Error(a(108,T(y)||"Unknown",O));return s({},M,k)}function Mr(y){return y=(y=y.stateNode)&&y.__reactInternalMemoizedMergedChildContext||nn,gn=rn.current,Ct(rn,y),Ct(Kt,Kt.current),!0}function di(y,b,M){var k=y.stateNode;if(!k)throw Error(a(169));M?(y=Da(y,b,gn),k.__reactInternalMemoizedMergedChildContext=y,mt(Kt),mt(rn),Ct(rn,y)):mt(Kt),Ct(Kt,M)}var vn=Math.clz32?Math.clz32:Qr,fi=Math.log,Zr=Math.LN2;function Qr(y){return y>>>=0,y===0?32:31-(fi(y)/Zr|0)|0}var dr=64,Ia=4194304;function $i(y){switch(y&-y){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return y&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return y&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return y}}function qf(y,b){var M=y.pendingLanes;if(M===0)return 0;var k=0,O=y.suspendedLanes,U=y.pingedLanes,re=M&268435455;if(re!==0){var xe=re&~O;xe!==0?k=$i(xe):(U&=re,U!==0&&(k=$i(U)))}else re=M&~O,re!==0?k=$i(re):U!==0&&(k=$i(U));if(k===0)return 0;if(b!==0&&b!==k&&!(b&O)&&(O=k&-k,U=b&-b,O>=U||O===16&&(U&4194240)!==0))return b;if(k&4&&(k|=M&16),b=y.entangledLanes,b!==0)for(y=y.entanglements,b&=k;0<b;)M=31-vn(b),O=1<<M,k|=y[M],b&=~O;return k}function c1(y,b){switch(y){case 1:case 2:case 4:return b+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return b+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tx(y,b){for(var M=y.suspendedLanes,k=y.pingedLanes,O=y.expirationTimes,U=y.pendingLanes;0<U;){var re=31-vn(U),xe=1<<re,We=O[re];We===-1?(!(xe&M)||xe&k)&&(O[re]=c1(xe,b)):We<=b&&(y.expiredLanes|=xe),U&=~xe}}function Uc(y){return y=y.pendingLanes&-1073741825,y!==0?y:y&1073741824?1073741824:0}function pp(y){for(var b=[],M=0;31>M;M++)b.push(y);return b}function zl(y,b,M){y.pendingLanes|=b,b!==536870912&&(y.suspendedLanes=0,y.pingedLanes=0),y=y.eventTimes,b=31-vn(b),y[b]=M}function nd(y,b){var M=y.pendingLanes&~b;y.pendingLanes=b,y.suspendedLanes=0,y.pingedLanes=0,y.expiredLanes&=b,y.mutableReadLanes&=b,y.entangledLanes&=b,b=y.entanglements;var k=y.eventTimes;for(y=y.expirationTimes;0<M;){var O=31-vn(M),U=1<<O;b[O]=0,k[O]=-1,y[O]=-1,M&=~U}}function Vl(y,b){var M=y.entangledLanes|=b;for(y=y.entanglements;M;){var k=31-vn(M),O=1<<k;O&b|y[k]&b&&(y[k]|=b),M&=~O}}var xn=0;function Px(y){return y&=-y,1<y?4<y?y&268435455?16:536870912:4:1}var Bc=i.unstable_scheduleCallback,gp=i.unstable_cancelCallback,kx=i.unstable_shouldYield,u1=i.unstable_requestPaint,vr=i.unstable_now,Kf=i.unstable_ImmediatePriority,d1=i.unstable_UserBlockingPriority,Ts=i.unstable_NormalPriority,Rx=i.unstable_IdlePriority,Xf=null,La=null;function Ox(y){if(La&&typeof La.onCommitFiberRoot=="function")try{La.onCommitFiberRoot(Xf,y,void 0,(y.current.flags&128)===128)}catch{}}function f1(y,b){return y===b&&(y!==0||1/y===1/b)||y!==y&&b!==b}var Fa=typeof Object.is=="function"?Object.is:f1,Ps=null,Wl=!1,go=!1;function Dx(y){Ps===null?Ps=[y]:Ps.push(y)}function Ix(y){Wl=!0,Dx(y)}function aa(){if(!go&&Ps!==null){go=!0;var y=0,b=xn;try{var M=Ps;for(xn=1;y<M.length;y++){var k=M[y];do k=k(!0);while(k!==null)}Ps=null,Wl=!1}catch(O){throw Ps!==null&&(Ps=Ps.slice(y+1)),Bc(Kf,aa),O}finally{xn=b,go=!1}}return null}var Yf=l.ReactCurrentBatchConfig;function Zf(y,b){if(Fa(y,b))return!0;if(typeof y!="object"||y===null||typeof b!="object"||b===null)return!1;var M=Object.keys(y),k=Object.keys(b);if(M.length!==k.length)return!1;for(k=0;k<M.length;k++){var O=M[k];if(!Mt.call(b,O)||!Fa(y[O],b[O]))return!1}return!0}function Qf(y){switch(y.tag){case 5:return we(y.type);case 16:return we("Lazy");case 13:return we("Suspense");case 19:return we("SuspenseList");case 0:case 2:case 15:return y=pt(y.type,!1),y;case 11:return y=pt(y.type.render,!1),y;case 1:return y=pt(y.type,!0),y;default:return""}}function ks(y,b){if(y&&y.defaultProps){b=s({},b),y=y.defaultProps;for(var M in y)b[M]===void 0&&(b[M]=y[M]);return b}return b}var Mi=Dt(null),vp=null,el=null,rd=null;function xp(){rd=el=vp=null}function h1(y,b,M){fe?(Ct(Mi,b._currentValue),b._currentValue=M):(Ct(Mi,b._currentValue2),b._currentValue2=M)}function Ci(y){var b=Mi.current;mt(Mi),fe?y._currentValue=b:y._currentValue2=b}function Rs(y,b,M){for(;y!==null;){var k=y.alternate;if((y.childLanes&b)!==b?(y.childLanes|=b,k!==null&&(k.childLanes|=b)):k!==null&&(k.childLanes&b)!==b&&(k.childLanes|=b),y===M)break;y=y.return}}function Dr(y,b){vp=y,rd=el=null,y=y.dependencies,y!==null&&y.firstContext!==null&&(y.lanes&b&&(Va=!0),y.firstContext=null)}function Ir(y){var b=fe?y._currentValue:y._currentValue2;if(rd!==y)if(y={context:y,memoizedValue:b,next:null},el===null){if(vp===null)throw Error(a(308));el=y,vp.dependencies={lanes:0,firstContext:y}}else el=el.next=y;return b}var Ua=null,id=!1;function Jj(y){y.updateQueue={baseState:y.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function r5(y,b){y=y.updateQueue,b.updateQueue===y&&(b.updateQueue={baseState:y.baseState,firstBaseUpdate:y.firstBaseUpdate,lastBaseUpdate:y.lastBaseUpdate,shared:y.shared,effects:y.effects})}function zc(y,b){return{eventTime:y,lane:b,tag:0,payload:null,callback:null,next:null}}function sd(y,b){var M=y.updateQueue;M!==null&&(M=M.shared,Jr!==null&&y.mode&1&&!(hn&2)?(y=M.interleaved,y===null?(b.next=b,Ua===null?Ua=[M]:Ua.push(M)):(b.next=y.next,y.next=b),M.interleaved=b):(y=M.pending,y===null?b.next=b:(b.next=y.next,y.next=b),M.pending=b))}function m1(y,b,M){if(b=b.updateQueue,b!==null&&(b=b.shared,(M&4194240)!==0)){var k=b.lanes;k&=y.pendingLanes,M|=k,b.lanes=M,Vl(y,M)}}function i5(y,b){var M=y.updateQueue,k=y.alternate;if(k!==null&&(k=k.updateQueue,M===k)){var O=null,U=null;if(M=M.firstBaseUpdate,M!==null){do{var re={eventTime:M.eventTime,lane:M.lane,tag:M.tag,payload:M.payload,callback:M.callback,next:null};U===null?O=U=re:U=U.next=re,M=M.next}while(M!==null);U===null?O=U=b:U=U.next=b}else O=U=b;M={baseState:k.baseState,firstBaseUpdate:O,lastBaseUpdate:U,shared:k.shared,effects:k.effects},y.updateQueue=M;return}y=M.lastBaseUpdate,y===null?M.firstBaseUpdate=b:y.next=b,M.lastBaseUpdate=b}function p1(y,b,M,k){var O=y.updateQueue;id=!1;var U=O.firstBaseUpdate,re=O.lastBaseUpdate,xe=O.shared.pending;if(xe!==null){O.shared.pending=null;var We=xe,dt=We.next;We.next=null,re===null?U=dt:re.next=dt,re=We;var Pt=y.alternate;Pt!==null&&(Pt=Pt.updateQueue,xe=Pt.lastBaseUpdate,xe!==re&&(xe===null?Pt.firstBaseUpdate=dt:xe.next=dt,Pt.lastBaseUpdate=We))}if(U!==null){var Qt=O.baseState;re=0,Pt=dt=We=null,xe=U;do{var Bt=xe.lane,qn=xe.eventTime;if((k&Bt)===Bt){Pt!==null&&(Pt=Pt.next={eventTime:qn,lane:0,tag:xe.tag,payload:xe.payload,callback:xe.callback,next:null});e:{var Ft=y,ls=xe;switch(Bt=b,qn=M,ls.tag){case 1:if(Ft=ls.payload,typeof Ft=="function"){Qt=Ft.call(qn,Qt,Bt);break e}Qt=Ft;break e;case 3:Ft.flags=Ft.flags&-65537|128;case 0:if(Ft=ls.payload,Bt=typeof Ft=="function"?Ft.call(qn,Qt,Bt):Ft,Bt==null)break e;Qt=s({},Qt,Bt);break e;case 2:id=!0}}xe.callback!==null&&xe.lane!==0&&(y.flags|=64,Bt=O.effects,Bt===null?O.effects=[xe]:Bt.push(xe))}else qn={eventTime:qn,lane:Bt,tag:xe.tag,payload:xe.payload,callback:xe.callback,next:null},Pt===null?(dt=Pt=qn,We=Qt):Pt=Pt.next=qn,re|=Bt;if(xe=xe.next,xe===null){if(xe=O.shared.pending,xe===null)break;Bt=xe,xe=Bt.next,Bt.next=null,O.lastBaseUpdate=Bt,O.shared.pending=null}}while(!0);if(Pt===null&&(We=Qt),O.baseState=We,O.firstBaseUpdate=dt,O.lastBaseUpdate=Pt,b=O.shared.interleaved,b!==null){O=b;do re|=O.lane,O=O.next;while(O!==b)}else U===null&&(O.shared.lanes=0);Cp|=re,y.lanes=re,y.memoizedState=Qt}}function s5(y,b,M){if(y=b.effects,b.effects=null,y!==null)for(b=0;b<y.length;b++){var k=y[b],O=k.callback;if(O!==null){if(k.callback=null,k=M,typeof O!="function")throw Error(a(191,O));O.call(k)}}}var a5=new r.Component().refs;function eA(y,b,M,k){b=y.memoizedState,M=M(k,b),M=M==null?b:s({},b,M),y.memoizedState=M,y.lanes===0&&(y.updateQueue.baseState=M)}var g1={isMounted:function(y){return(y=y._reactInternals)?A(y)===y:!1},enqueueSetState:function(y,b,M){y=y._reactInternals;var k=Ds(),O=ld(y),U=zc(k,O);U.payload=b,M!=null&&(U.callback=M),sd(y,U),b=wo(y,O,k),b!==null&&m1(b,y,O)},enqueueReplaceState:function(y,b,M){y=y._reactInternals;var k=Ds(),O=ld(y),U=zc(k,O);U.tag=1,U.payload=b,M!=null&&(U.callback=M),sd(y,U),b=wo(y,O,k),b!==null&&m1(b,y,O)},enqueueForceUpdate:function(y,b){y=y._reactInternals;var M=Ds(),k=ld(y),O=zc(M,k);O.tag=2,b!=null&&(O.callback=b),sd(y,O),b=wo(y,k,M),b!==null&&m1(b,y,k)}};function o5(y,b,M,k,O,U,re){return y=y.stateNode,typeof y.shouldComponentUpdate=="function"?y.shouldComponentUpdate(k,U,re):b.prototype&&b.prototype.isPureReactComponent?!Zf(M,k)||!Zf(O,U):!0}function l5(y,b,M){var k=!1,O=nn,U=b.contextType;return typeof U=="object"&&U!==null?U=Ir(U):(O=sn(b)?gn:rn.current,k=b.contextTypes,U=(k=k!=null)?kt(y,O):nn),b=new b(M,U),y.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=g1,y.stateNode=b,b._reactInternals=y,k&&(y=y.stateNode,y.__reactInternalMemoizedUnmaskedChildContext=O,y.__reactInternalMemoizedMaskedChildContext=U),b}function c5(y,b,M,k){y=b.state,typeof b.componentWillReceiveProps=="function"&&b.componentWillReceiveProps(M,k),typeof b.UNSAFE_componentWillReceiveProps=="function"&&b.UNSAFE_componentWillReceiveProps(M,k),b.state!==y&&g1.enqueueReplaceState(b,b.state,null)}function tA(y,b,M,k){var O=y.stateNode;O.props=M,O.state=y.memoizedState,O.refs=a5,Jj(y);var U=b.contextType;typeof U=="object"&&U!==null?O.context=Ir(U):(U=sn(b)?gn:rn.current,O.context=kt(y,U)),O.state=y.memoizedState,U=b.getDerivedStateFromProps,typeof U=="function"&&(eA(y,b,U,M),O.state=y.memoizedState),typeof b.getDerivedStateFromProps=="function"||typeof O.getSnapshotBeforeUpdate=="function"||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(b=O.state,typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount(),b!==O.state&&g1.enqueueReplaceState(O,O.state,null),p1(y,M,O,k),O.state=y.memoizedState),typeof O.componentDidMount=="function"&&(y.flags|=4194308)}var yp=[],bp=0,v1=null,x1=0,vo=[],xo=0,Jf=null,Vc=1,Wc="";function eh(y,b){yp[bp++]=x1,yp[bp++]=v1,v1=y,x1=b}function u5(y,b,M){vo[xo++]=Vc,vo[xo++]=Wc,vo[xo++]=Jf,Jf=y;var k=Vc;y=Wc;var O=32-vn(k)-1;k&=~(1<<O),M+=1;var U=32-vn(b)+O;if(30<U){var re=O-O%5;U=(k&(1<<re)-1).toString(32),k>>=re,O-=re,Vc=1<<32-vn(b)+O|M<<O|k,Wc=U+y}else Vc=1<<U|M<<O|k,Wc=y}function nA(y){y.return!==null&&(eh(y,1),u5(y,1,0))}function rA(y){for(;y===v1;)v1=yp[--bp],yp[bp]=null,x1=yp[--bp],yp[bp]=null;for(;y===Jf;)Jf=vo[--xo],vo[xo]=null,Wc=vo[--xo],vo[xo]=null,Vc=vo[--xo],vo[xo]=null}var Ba=null,za=null,fr=!1,Lx=!1,tl=null;function d5(y,b){var M=_o(5,null,null,0);M.elementType="DELETED",M.stateNode=b,M.return=y,b=y.deletions,b===null?(y.deletions=[M],y.flags|=16):b.push(M)}function f5(y,b){switch(y.tag){case 5:return b=tn(b,y.type,y.pendingProps),b!==null?(y.stateNode=b,Ba=y,za=is(b),!0):!1;case 6:return b=jn(b,y.pendingProps),b!==null?(y.stateNode=b,Ba=y,za=null,!0):!1;case 13:if(b=Wn(b),b!==null){var M=Jf!==null?{id:Vc,overflow:Wc}:null;return y.memoizedState={dehydrated:b,treeContext:M,retryLane:1073741824},M=_o(18,null,null,0),M.stateNode=b,M.return=y,y.child=M,Ba=y,za=null,!0}return!1;default:return!1}}function iA(y){return(y.mode&1)!==0&&(y.flags&128)===0}function sA(y){if(fr){var b=za;if(b){var M=b;if(!f5(y,b)){if(iA(y))throw Error(a(418));b=rs(M);var k=Ba;b&&f5(y,b)?d5(k,M):(y.flags=y.flags&-4097|2,fr=!1,Ba=y)}}else{if(iA(y))throw Error(a(418));y.flags=y.flags&-4097|2,fr=!1,Ba=y}}}function h5(y){for(y=y.return;y!==null&&y.tag!==5&&y.tag!==3&&y.tag!==13;)y=y.return;Ba=y}function Fx(y){if(!Be||y!==Ba)return!1;if(!fr)return h5(y),fr=!0,!1;if(y.tag!==3&&(y.tag!==5||Z(y.type)&&!Q(y.type,y.memoizedProps))){var b=za;if(b){if(iA(y)){for(y=za;y;)y=rs(y);throw Error(a(418))}for(;b;)d5(y,b),b=rs(b)}}if(h5(y),y.tag===13){if(!Be)throw Error(a(316));if(y=y.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(a(317));za=hp(y)}else za=Ba?rs(y.stateNode):null;return!0}function wp(){Be&&(za=Ba=null,Lx=fr=!1)}function aA(y){tl===null?tl=[y]:tl.push(y)}function Ux(y,b,M){if(y=M.ref,y!==null&&typeof y!="function"&&typeof y!="object"){if(M._owner){if(M=M._owner,M){if(M.tag!==1)throw Error(a(309));var k=M.stateNode}if(!k)throw Error(a(147,y));var O=k,U=""+y;return b!==null&&b.ref!==null&&typeof b.ref=="function"&&b.ref._stringRef===U?b.ref:(b=function(re){var xe=O.refs;xe===a5&&(xe=O.refs={}),re===null?delete xe[U]:xe[U]=re},b._stringRef=U,b)}if(typeof y!="string")throw Error(a(284));if(!M._owner)throw Error(a(290,y))}return y}function y1(y,b){throw y=Object.prototype.toString.call(b),Error(a(31,y==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":y))}function m5(y){var b=y._init;return b(y._payload)}function p5(y){function b(Re,Ee){if(y){var ze=Re.deletions;ze===null?(Re.deletions=[Ee],Re.flags|=16):ze.push(Ee)}}function M(Re,Ee){if(!y)return null;for(;Ee!==null;)b(Re,Ee),Ee=Ee.sibling;return null}function k(Re,Ee){for(Re=new Map;Ee!==null;)Ee.key!==null?Re.set(Ee.key,Ee):Re.set(Ee.index,Ee),Ee=Ee.sibling;return Re}function O(Re,Ee){return Re=ud(Re,Ee),Re.index=0,Re.sibling=null,Re}function U(Re,Ee,ze){return Re.index=ze,y?(ze=Re.alternate,ze!==null?(ze=ze.index,ze<Ee?(Re.flags|=2,Ee):ze):(Re.flags|=2,Ee)):(Re.flags|=1048576,Ee)}function re(Re){return y&&Re.alternate===null&&(Re.flags|=2),Re}function xe(Re,Ee,ze,Et){return Ee===null||Ee.tag!==6?(Ee=WA(ze,Re.mode,Et),Ee.return=Re,Ee):(Ee=O(Ee,ze),Ee.return=Re,Ee)}function We(Re,Ee,ze,Et){var It=ze.type;return It===d?Pt(Re,Ee,ze.props.children,Et,ze.key):Ee!==null&&(Ee.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===_&&m5(It)===Ee.type)?(Et=O(Ee,ze.props),Et.ref=Ux(Re,Ee,ze),Et.return=Re,Et):(Et=Y1(ze.type,ze.key,ze.props,null,Re.mode,Et),Et.ref=Ux(Re,Ee,ze),Et.return=Re,Et)}function dt(Re,Ee,ze,Et){return Ee===null||Ee.tag!==4||Ee.stateNode.containerInfo!==ze.containerInfo||Ee.stateNode.implementation!==ze.implementation?(Ee=$A(ze,Re.mode,Et),Ee.return=Re,Ee):(Ee=O(Ee,ze.children||[]),Ee.return=Re,Ee)}function Pt(Re,Ee,ze,Et,It){return Ee===null||Ee.tag!==7?(Ee=oh(ze,Re.mode,Et,It),Ee.return=Re,Ee):(Ee=O(Ee,ze),Ee.return=Re,Ee)}function Qt(Re,Ee,ze){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number")return Ee=WA(""+Ee,Re.mode,ze),Ee.return=Re,Ee;if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case c:return ze=Y1(Ee.type,Ee.key,Ee.props,null,Re.mode,ze),ze.ref=Ux(Re,null,Ee),ze.return=Re,ze;case u:return Ee=$A(Ee,Re.mode,ze),Ee.return=Re,Ee;case _:var Et=Ee._init;return Qt(Re,Et(Ee._payload),ze)}if(G(Ee)||C(Ee))return Ee=oh(Ee,Re.mode,ze,null),Ee.return=Re,Ee;y1(Re,Ee)}return null}function Bt(Re,Ee,ze,Et){var It=Ee!==null?Ee.key:null;if(typeof ze=="string"&&ze!==""||typeof ze=="number")return It!==null?null:xe(Re,Ee,""+ze,Et);if(typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case c:return ze.key===It?We(Re,Ee,ze,Et):null;case u:return ze.key===It?dt(Re,Ee,ze,Et):null;case _:return It=ze._init,Bt(Re,Ee,It(ze._payload),Et)}if(G(ze)||C(ze))return It!==null?null:Pt(Re,Ee,ze,Et,null);y1(Re,ze)}return null}function qn(Re,Ee,ze,Et,It){if(typeof Et=="string"&&Et!==""||typeof Et=="number")return Re=Re.get(ze)||null,xe(Ee,Re,""+Et,It);if(typeof Et=="object"&&Et!==null){switch(Et.$$typeof){case c:return Re=Re.get(Et.key===null?ze:Et.key)||null,We(Ee,Re,Et,It);case u:return Re=Re.get(Et.key===null?ze:Et.key)||null,dt(Ee,Re,Et,It);case _:var fn=Et._init;return qn(Re,Ee,ze,fn(Et._payload),It)}if(G(Et)||C(Et))return Re=Re.get(ze)||null,Pt(Ee,Re,Et,It,null);y1(Ee,Et)}return null}function Ft(Re,Ee,ze,Et){for(var It=null,fn=null,Jt=Ee,An=Ee=0,Ai=null;Jt!==null&&An<ze.length;An++){Jt.index>An?(Ai=Jt,Jt=null):Ai=Jt.sibling;var Tn=Bt(Re,Jt,ze[An],Et);if(Tn===null){Jt===null&&(Jt=Ai);break}y&&Jt&&Tn.alternate===null&&b(Re,Jt),Ee=U(Tn,Ee,An),fn===null?It=Tn:fn.sibling=Tn,fn=Tn,Jt=Ai}if(An===ze.length)return M(Re,Jt),fr&&eh(Re,An),It;if(Jt===null){for(;An<ze.length;An++)Jt=Qt(Re,ze[An],Et),Jt!==null&&(Ee=U(Jt,Ee,An),fn===null?It=Jt:fn.sibling=Jt,fn=Jt);return fr&&eh(Re,An),It}for(Jt=k(Re,Jt);An<ze.length;An++)Ai=qn(Jt,Re,An,ze[An],Et),Ai!==null&&(y&&Ai.alternate!==null&&Jt.delete(Ai.key===null?An:Ai.key),Ee=U(Ai,Ee,An),fn===null?It=Ai:fn.sibling=Ai,fn=Ai);return y&&Jt.forEach(function(dd){return b(Re,dd)}),fr&&eh(Re,An),It}function ls(Re,Ee,ze,Et){var It=C(ze);if(typeof It!="function")throw Error(a(150));if(ze=It.call(ze),ze==null)throw Error(a(151));for(var fn=It=null,Jt=Ee,An=Ee=0,Ai=null,Tn=ze.next();Jt!==null&&!Tn.done;An++,Tn=ze.next()){Jt.index>An?(Ai=Jt,Jt=null):Ai=Jt.sibling;var dd=Bt(Re,Jt,Tn.value,Et);if(dd===null){Jt===null&&(Jt=Ai);break}y&&Jt&&dd.alternate===null&&b(Re,Jt),Ee=U(dd,Ee,An),fn===null?It=dd:fn.sibling=dd,fn=dd,Jt=Ai}if(Tn.done)return M(Re,Jt),fr&&eh(Re,An),It;if(Jt===null){for(;!Tn.done;An++,Tn=ze.next())Tn=Qt(Re,Tn.value,Et),Tn!==null&&(Ee=U(Tn,Ee,An),fn===null?It=Tn:fn.sibling=Tn,fn=Tn);return fr&&eh(Re,An),It}for(Jt=k(Re,Jt);!Tn.done;An++,Tn=ze.next())Tn=qn(Jt,Re,An,Tn.value,Et),Tn!==null&&(y&&Tn.alternate!==null&&Jt.delete(Tn.key===null?An:Tn.key),Ee=U(Tn,Ee,An),fn===null?It=Tn:fn.sibling=Tn,fn=Tn);return y&&Jt.forEach(function(rfe){return b(Re,rfe)}),fr&&eh(Re,An),It}function So(Re,Ee,ze,Et){if(typeof ze=="object"&&ze!==null&&ze.type===d&&ze.key===null&&(ze=ze.props.children),typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case c:e:{for(var It=ze.key,fn=Ee;fn!==null;){if(fn.key===It){if(It=ze.type,It===d){if(fn.tag===7){M(Re,fn.sibling),Ee=O(fn,ze.props.children),Ee.return=Re,Re=Ee;break e}}else if(fn.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===_&&m5(It)===fn.type){M(Re,fn.sibling),Ee=O(fn,ze.props),Ee.ref=Ux(Re,fn,ze),Ee.return=Re,Re=Ee;break e}M(Re,fn);break}else b(Re,fn);fn=fn.sibling}ze.type===d?(Ee=oh(ze.props.children,Re.mode,Et,ze.key),Ee.return=Re,Re=Ee):(Et=Y1(ze.type,ze.key,ze.props,null,Re.mode,Et),Et.ref=Ux(Re,Ee,ze),Et.return=Re,Re=Et)}return re(Re);case u:e:{for(fn=ze.key;Ee!==null;){if(Ee.key===fn)if(Ee.tag===4&&Ee.stateNode.containerInfo===ze.containerInfo&&Ee.stateNode.implementation===ze.implementation){M(Re,Ee.sibling),Ee=O(Ee,ze.children||[]),Ee.return=Re,Re=Ee;break e}else{M(Re,Ee);break}else b(Re,Ee);Ee=Ee.sibling}Ee=$A(ze,Re.mode,Et),Ee.return=Re,Re=Ee}return re(Re);case _:return fn=ze._init,So(Re,Ee,fn(ze._payload),Et)}if(G(ze))return Ft(Re,Ee,ze,Et);if(C(ze))return ls(Re,Ee,ze,Et);y1(Re,ze)}return typeof ze=="string"&&ze!==""||typeof ze=="number"?(ze=""+ze,Ee!==null&&Ee.tag===6?(M(Re,Ee.sibling),Ee=O(Ee,ze),Ee.return=Re,Re=Ee):(M(Re,Ee),Ee=WA(ze,Re.mode,Et),Ee.return=Re,Re=Ee),re(Re)):M(Re,Ee)}return So}var _p=p5(!0),g5=p5(!1),Bx={},yo=Dt(Bx),zx=Dt(Bx),Sp=Dt(Bx);function $l(y){if(y===Bx)throw Error(a(174));return y}function oA(y,b){Ct(Sp,b),Ct(zx,y),Ct(yo,Bx),y=$(b),mt(yo),Ct(yo,y)}function Ep(){mt(yo),mt(zx),mt(Sp)}function v5(y){var b=$l(Sp.current),M=$l(yo.current);b=L(M,y.type,b),M!==b&&(Ct(zx,y),Ct(yo,b))}function lA(y){zx.current===y&&(mt(yo),mt(zx))}var xr=Dt(0);function b1(y){for(var b=y;b!==null;){if(b.tag===13){var M=b.memoizedState;if(M!==null&&(M=M.dehydrated,M===null||$n(M)||Wi(M)))return b}else if(b.tag===19&&b.memoizedProps.revealOrder!==void 0){if(b.flags&128)return b}else if(b.child!==null){b.child.return=b,b=b.child;continue}if(b===y)break;for(;b.sibling===null;){if(b.return===null||b.return===y)return null;b=b.return}b.sibling.return=b.return,b=b.sibling}return null}var cA=[];function uA(){for(var y=0;y<cA.length;y++){var b=cA[y];fe?b._workInProgressVersionPrimary=null:b._workInProgressVersionSecondary=null}cA.length=0}var w1=l.ReactCurrentDispatcher,bo=l.ReactCurrentBatchConfig,Np=0,Cr=null,ss=null,ji=null,_1=!1,Vx=!1,Wx=0,jde=0;function as(){throw Error(a(321))}function dA(y,b){if(b===null)return!1;for(var M=0;M<b.length&&M<y.length;M++)if(!Fa(y[M],b[M]))return!1;return!0}function fA(y,b,M,k,O,U){if(Np=U,Cr=b,b.memoizedState=null,b.updateQueue=null,b.lanes=0,w1.current=y===null||y.memoizedState===null?kde:Rde,y=M(k,O),Vx){U=0;do{if(Vx=!1,Wx=0,25<=U)throw Error(a(301));U+=1,ji=ss=null,b.updateQueue=null,w1.current=Ode,y=M(k,O)}while(Vx)}if(w1.current=C1,b=ss!==null&&ss.next!==null,Np=0,ji=ss=Cr=null,_1=!1,b)throw Error(a(300));return y}function hA(){var y=Wx!==0;return Wx=0,y}function $c(){var y={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ji===null?Cr.memoizedState=ji=y:ji=ji.next=y,ji}function Hl(){if(ss===null){var y=Cr.alternate;y=y!==null?y.memoizedState:null}else y=ss.next;var b=ji===null?Cr.memoizedState:ji.next;if(b!==null)ji=b,ss=y;else{if(y===null)throw Error(a(310));ss=y,y={memoizedState:ss.memoizedState,baseState:ss.baseState,baseQueue:ss.baseQueue,queue:ss.queue,next:null},ji===null?Cr.memoizedState=ji=y:ji=ji.next=y}return ji}function th(y,b){return typeof b=="function"?b(y):b}function S1(y){var b=Hl(),M=b.queue;if(M===null)throw Error(a(311));M.lastRenderedReducer=y;var k=ss,O=k.baseQueue,U=M.pending;if(U!==null){if(O!==null){var re=O.next;O.next=U.next,U.next=re}k.baseQueue=O=U,M.pending=null}if(O!==null){U=O.next,k=k.baseState;var xe=re=null,We=null,dt=U;do{var Pt=dt.lane;if((Np&Pt)===Pt)We!==null&&(We=We.next={lane:0,action:dt.action,hasEagerState:dt.hasEagerState,eagerState:dt.eagerState,next:null}),k=dt.hasEagerState?dt.eagerState:y(k,dt.action);else{var Qt={lane:Pt,action:dt.action,hasEagerState:dt.hasEagerState,eagerState:dt.eagerState,next:null};We===null?(xe=We=Qt,re=k):We=We.next=Qt,Cr.lanes|=Pt,Cp|=Pt}dt=dt.next}while(dt!==null&&dt!==U);We===null?re=k:We.next=xe,Fa(k,b.memoizedState)||(Va=!0),b.memoizedState=k,b.baseState=re,b.baseQueue=We,M.lastRenderedState=k}if(y=M.interleaved,y!==null){O=y;do U=O.lane,Cr.lanes|=U,Cp|=U,O=O.next;while(O!==y)}else O===null&&(M.lanes=0);return[b.memoizedState,M.dispatch]}function E1(y){var b=Hl(),M=b.queue;if(M===null)throw Error(a(311));M.lastRenderedReducer=y;var k=M.dispatch,O=M.pending,U=b.memoizedState;if(O!==null){M.pending=null;var re=O=O.next;do U=y(U,re.action),re=re.next;while(re!==O);Fa(U,b.memoizedState)||(Va=!0),b.memoizedState=U,b.baseQueue===null&&(b.baseState=U),M.lastRenderedState=U}return[U,k]}function x5(){}function y5(y,b){var M=Cr,k=Hl(),O=b(),U=!Fa(k.memoizedState,O);if(U&&(k.memoizedState=O,Va=!0),k=k.queue,Hx(_5.bind(null,M,k,y),[y]),k.getSnapshot!==b||U||ji!==null&&ji.memoizedState.tag&1){if(M.flags|=2048,$x(9,w5.bind(null,M,k,O,b),void 0,null),Jr===null)throw Error(a(349));Np&30||b5(M,b,O)}return O}function b5(y,b,M){y.flags|=16384,y={getSnapshot:b,value:M},b=Cr.updateQueue,b===null?(b={lastEffect:null,stores:null},Cr.updateQueue=b,b.stores=[y]):(M=b.stores,M===null?b.stores=[y]:M.push(y))}function w5(y,b,M,k){b.value=M,b.getSnapshot=k,S5(b)&&wo(y,1,-1)}function _5(y,b,M){return M(function(){S5(b)&&wo(y,1,-1)})}function S5(y){var b=y.getSnapshot;y=y.value;try{var M=b();return!Fa(y,M)}catch{return!0}}function mA(y){var b=$c();return typeof y=="function"&&(y=y()),b.memoizedState=b.baseState=y,y={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:th,lastRenderedState:y},b.queue=y,y=y.dispatch=Pde.bind(null,Cr,y),[b.memoizedState,y]}function $x(y,b,M,k){return y={tag:y,create:b,destroy:M,deps:k,next:null},b=Cr.updateQueue,b===null?(b={lastEffect:null,stores:null},Cr.updateQueue=b,b.lastEffect=y.next=y):(M=b.lastEffect,M===null?b.lastEffect=y.next=y:(k=M.next,M.next=y,y.next=k,b.lastEffect=y)),y}function E5(){return Hl().memoizedState}function N1(y,b,M,k){var O=$c();Cr.flags|=y,O.memoizedState=$x(1|b,M,void 0,k===void 0?null:k)}function M1(y,b,M,k){var O=Hl();k=k===void 0?null:k;var U=void 0;if(ss!==null){var re=ss.memoizedState;if(U=re.destroy,k!==null&&dA(k,re.deps)){O.memoizedState=$x(b,M,U,k);return}}Cr.flags|=y,O.memoizedState=$x(1|b,M,U,k)}function pA(y,b){return N1(8390656,8,y,b)}function Hx(y,b){return M1(2048,8,y,b)}function N5(y,b){return M1(4,2,y,b)}function M5(y,b){return M1(4,4,y,b)}function C5(y,b){if(typeof b=="function")return y=y(),b(y),function(){b(null)};if(b!=null)return y=y(),b.current=y,function(){b.current=null}}function j5(y,b,M){return M=M!=null?M.concat([y]):null,M1(4,4,C5.bind(null,b,y),M)}function gA(){}function A5(y,b){var M=Hl();b=b===void 0?null:b;var k=M.memoizedState;return k!==null&&b!==null&&dA(b,k[1])?k[0]:(M.memoizedState=[y,b],y)}function T5(y,b){var M=Hl();b=b===void 0?null:b;var k=M.memoizedState;return k!==null&&b!==null&&dA(b,k[1])?k[0]:(y=y(),M.memoizedState=[y,b],y)}function Ade(y,b){var M=xn;xn=M!==0&&4>M?M:4,y(!0);var k=bo.transition;bo.transition={};try{y(!1),b()}finally{xn=M,bo.transition=k}}function P5(){return Hl().memoizedState}function Tde(y,b,M){var k=ld(y);M={lane:k,action:M,hasEagerState:!1,eagerState:null,next:null},k5(y)?R5(b,M):(O5(y,b,M),M=Ds(),y=wo(y,k,M),y!==null&&D5(y,b,k))}function Pde(y,b,M){var k=ld(y),O={lane:k,action:M,hasEagerState:!1,eagerState:null,next:null};if(k5(y))R5(b,O);else{O5(y,b,O);var U=y.alternate;if(y.lanes===0&&(U===null||U.lanes===0)&&(U=b.lastRenderedReducer,U!==null))try{var re=b.lastRenderedState,xe=U(re,M);if(O.hasEagerState=!0,O.eagerState=xe,Fa(xe,re))return}catch{}finally{}M=Ds(),y=wo(y,k,M),y!==null&&D5(y,b,k)}}function k5(y){var b=y.alternate;return y===Cr||b!==null&&b===Cr}function R5(y,b){Vx=_1=!0;var M=y.pending;M===null?b.next=b:(b.next=M.next,M.next=b),y.pending=b}function O5(y,b,M){Jr!==null&&y.mode&1&&!(hn&2)?(y=b.interleaved,y===null?(M.next=M,Ua===null?Ua=[b]:Ua.push(b)):(M.next=y.next,y.next=M),b.interleaved=M):(y=b.pending,y===null?M.next=M:(M.next=y.next,y.next=M),b.pending=M)}function D5(y,b,M){if(M&4194240){var k=b.lanes;k&=y.pendingLanes,M|=k,b.lanes=M,Vl(y,M)}}var C1={readContext:Ir,useCallback:as,useContext:as,useEffect:as,useImperativeHandle:as,useInsertionEffect:as,useLayoutEffect:as,useMemo:as,useReducer:as,useRef:as,useState:as,useDebugValue:as,useDeferredValue:as,useTransition:as,useMutableSource:as,useSyncExternalStore:as,useId:as,unstable_isNewReconciler:!1},kde={readContext:Ir,useCallback:function(y,b){return $c().memoizedState=[y,b===void 0?null:b],y},useContext:Ir,useEffect:pA,useImperativeHandle:function(y,b,M){return M=M!=null?M.concat([y]):null,N1(4194308,4,C5.bind(null,b,y),M)},useLayoutEffect:function(y,b){return N1(4194308,4,y,b)},useInsertionEffect:function(y,b){return N1(4,2,y,b)},useMemo:function(y,b){var M=$c();return b=b===void 0?null:b,y=y(),M.memoizedState=[y,b],y},useReducer:function(y,b,M){var k=$c();return b=M!==void 0?M(b):b,k.memoizedState=k.baseState=b,y={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:y,lastRenderedState:b},k.queue=y,y=y.dispatch=Tde.bind(null,Cr,y),[k.memoizedState,y]},useRef:function(y){var b=$c();return y={current:y},b.memoizedState=y},useState:mA,useDebugValue:gA,useDeferredValue:function(y){var b=mA(y),M=b[0],k=b[1];return pA(function(){var O=bo.transition;bo.transition={};try{k(y)}finally{bo.transition=O}},[y]),M},useTransition:function(){var y=mA(!1),b=y[0];return y=Ade.bind(null,y[1]),$c().memoizedState=y,[b,y]},useMutableSource:function(){},useSyncExternalStore:function(y,b,M){var k=Cr,O=$c();if(fr){if(M===void 0)throw Error(a(407));M=M()}else{if(M=b(),Jr===null)throw Error(a(349));Np&30||b5(k,b,M)}O.memoizedState=M;var U={value:M,getSnapshot:b};return O.queue=U,pA(_5.bind(null,k,U,y),[y]),k.flags|=2048,$x(9,w5.bind(null,k,U,M,b),void 0,null),M},useId:function(){var y=$c(),b=Jr.identifierPrefix;if(fr){var M=Wc,k=Vc;M=(k&~(1<<32-vn(k)-1)).toString(32)+M,b=":"+b+"R"+M,M=Wx++,0<M&&(b+="H"+M.toString(32)),b+=":"}else M=jde++,b=":"+b+"r"+M.toString(32)+":";return y.memoizedState=b},unstable_isNewReconciler:!1},Rde={readContext:Ir,useCallback:A5,useContext:Ir,useEffect:Hx,useImperativeHandle:j5,useInsertionEffect:N5,useLayoutEffect:M5,useMemo:T5,useReducer:S1,useRef:E5,useState:function(){return S1(th)},useDebugValue:gA,useDeferredValue:function(y){var b=S1(th),M=b[0],k=b[1];return Hx(function(){var O=bo.transition;bo.transition={};try{k(y)}finally{bo.transition=O}},[y]),M},useTransition:function(){var y=S1(th)[0],b=Hl().memoizedState;return[y,b]},useMutableSource:x5,useSyncExternalStore:y5,useId:P5,unstable_isNewReconciler:!1},Ode={readContext:Ir,useCallback:A5,useContext:Ir,useEffect:Hx,useImperativeHandle:j5,useInsertionEffect:N5,useLayoutEffect:M5,useMemo:T5,useReducer:E1,useRef:E5,useState:function(){return E1(th)},useDebugValue:gA,useDeferredValue:function(y){var b=E1(th),M=b[0],k=b[1];return Hx(function(){var O=bo.transition;bo.transition={};try{k(y)}finally{bo.transition=O}},[y]),M},useTransition:function(){var y=E1(th)[0],b=Hl().memoizedState;return[y,b]},useMutableSource:x5,useSyncExternalStore:y5,useId:P5,unstable_isNewReconciler:!1};function vA(y,b){try{var M="",k=b;do M+=Qf(k),k=k.return;while(k);var O=M}catch(U){O=`
Error generating stack: `+U.message+`
`+U.stack}return{value:y,source:b,stack:O}}function xA(y,b){try{console.error(b.value)}catch(M){setTimeout(function(){throw M})}}var Dde=typeof WeakMap=="function"?WeakMap:Map;function I5(y,b,M){M=zc(-1,M),M.tag=3,M.payload={element:null};var k=b.value;return M.callback=function(){W1||(W1=!0,IA=k),xA(y,b)},M}function L5(y,b,M){M=zc(-1,M),M.tag=3;var k=y.type.getDerivedStateFromError;if(typeof k=="function"){var O=b.value;M.payload=function(){return k(O)},M.callback=function(){xA(y,b)}}var U=y.stateNode;return U!==null&&typeof U.componentDidCatch=="function"&&(M.callback=function(){xA(y,b),typeof k!="function"&&(ad===null?ad=new Set([this]):ad.add(this));var re=b.stack;this.componentDidCatch(b.value,{componentStack:re!==null?re:""})}),M}function F5(y,b,M){var k=y.pingCache;if(k===null){k=y.pingCache=new Dde;var O=new Set;k.set(b,O)}else O=k.get(b),O===void 0&&(O=new Set,k.set(b,O));O.has(M)||(O.add(M),y=Xde.bind(null,y,b,M),b.then(y,y))}function U5(y){do{var b;if((b=y.tag===13)&&(b=y.memoizedState,b=b!==null?b.dehydrated!==null:!0),b)return y;y=y.return}while(y!==null);return null}function B5(y,b,M,k,O){return y.mode&1?(y.flags|=65536,y.lanes=O,y):(y===b?y.flags|=65536:(y.flags|=128,M.flags|=131072,M.flags&=-52805,M.tag===1&&(M.alternate===null?M.tag=17:(b=zc(-1,1),b.tag=2,sd(M,b))),M.lanes|=1),y)}function Gl(y){y.flags|=4}function z5(y,b){if(y!==null&&y.child===b.child)return!0;if(b.flags&16)return!1;for(y=b.child;y!==null;){if(y.flags&12854||y.subtreeFlags&12854)return!1;y=y.sibling}return!0}var Gx,qx,j1,A1;if(ve)Gx=function(y,b){for(var M=b.child;M!==null;){if(M.tag===5||M.tag===6)B(y,M.stateNode);else if(M.tag!==4&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===b)break;for(;M.sibling===null;){if(M.return===null||M.return===b)return;M=M.return}M.sibling.return=M.return,M=M.sibling}},qx=function(){},j1=function(y,b,M,k,O){if(y=y.memoizedProps,y!==k){var U=b.stateNode,re=$l(yo.current);M=Y(U,M,y,k,O,re),(b.updateQueue=M)&&Gl(b)}},A1=function(y,b,M,k){M!==k&&Gl(b)};else if(ne){Gx=function(y,b,M,k){for(var O=b.child;O!==null;){if(O.tag===5){var U=O.stateNode;M&&k&&(U=yt(U,O.type,O.memoizedProps,O)),B(y,U)}else if(O.tag===6)U=O.stateNode,M&&k&&(U=$t(U,O.memoizedProps,O)),B(y,U);else if(O.tag!==4){if(O.tag===22&&O.memoizedState!==null)U=O.child,U!==null&&(U.return=O),Gx(y,O,!0,!0);else if(O.child!==null){O.child.return=O,O=O.child;continue}}if(O===b)break;for(;O.sibling===null;){if(O.return===null||O.return===b)return;O=O.return}O.sibling.return=O.return,O=O.sibling}};var V5=function(y,b,M,k){for(var O=b.child;O!==null;){if(O.tag===5){var U=O.stateNode;M&&k&&(U=yt(U,O.type,O.memoizedProps,O)),Fe(y,U)}else if(O.tag===6)U=O.stateNode,M&&k&&(U=$t(U,O.memoizedProps,O)),Fe(y,U);else if(O.tag!==4){if(O.tag===22&&O.memoizedState!==null)U=O.child,U!==null&&(U.return=O),V5(y,O,!0,!0);else if(O.child!==null){O.child.return=O,O=O.child;continue}}if(O===b)break;for(;O.sibling===null;){if(O.return===null||O.return===b)return;O=O.return}O.sibling.return=O.return,O=O.sibling}};qx=function(y,b){var M=b.stateNode;if(!z5(y,b)){y=M.containerInfo;var k=Pe(y);V5(k,b,!1,!1),M.pendingChildren=k,Gl(b),tt(y,k)}},j1=function(y,b,M,k,O){var U=y.stateNode,re=y.memoizedProps;if((y=z5(y,b))&&re===k)b.stateNode=U;else{var xe=b.stateNode,We=$l(yo.current),dt=null;re!==k&&(dt=Y(xe,M,re,k,O,We)),y&&dt===null?b.stateNode=U:(U=Ve(U,dt,M,re,k,b,y,xe),ee(U,M,k,O,We)&&Gl(b),b.stateNode=U,y?Gl(b):Gx(U,b,!1,!1))}},A1=function(y,b,M,k){M!==k?(y=$l(Sp.current),M=$l(yo.current),b.stateNode=de(k,y,M,b),Gl(b)):b.stateNode=y.stateNode}}else qx=function(){},j1=function(){},A1=function(){};function Kx(y,b){if(!fr)switch(y.tailMode){case"hidden":b=y.tail;for(var M=null;b!==null;)b.alternate!==null&&(M=b),b=b.sibling;M===null?y.tail=null:M.sibling=null;break;case"collapsed":M=y.tail;for(var k=null;M!==null;)M.alternate!==null&&(k=M),M=M.sibling;k===null?b||y.tail===null?y.tail=null:y.tail.sibling=null:k.sibling=null}}function os(y){var b=y.alternate!==null&&y.alternate.child===y.child,M=0,k=0;if(b)for(var O=y.child;O!==null;)M|=O.lanes|O.childLanes,k|=O.subtreeFlags&14680064,k|=O.flags&14680064,O.return=y,O=O.sibling;else for(O=y.child;O!==null;)M|=O.lanes|O.childLanes,k|=O.subtreeFlags,k|=O.flags,O.return=y,O=O.sibling;return y.subtreeFlags|=k,y.childLanes=M,b}function Ide(y,b,M){var k=b.pendingProps;switch(rA(b),b.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return os(b),null;case 1:return sn(b.type)&&Xt(),os(b),null;case 3:return k=b.stateNode,Ep(),mt(Kt),mt(rn),uA(),k.pendingContext&&(k.context=k.pendingContext,k.pendingContext=null),(y===null||y.child===null)&&(Fx(b)?Gl(b):y===null||y.memoizedState.isDehydrated&&!(b.flags&256)||(b.flags|=1024,tl!==null&&(UA(tl),tl=null))),qx(y,b),os(b),null;case 5:lA(b),M=$l(Sp.current);var O=b.type;if(y!==null&&b.stateNode!=null)j1(y,b,O,k,M),y.ref!==b.ref&&(b.flags|=512,b.flags|=2097152);else{if(!k){if(b.stateNode===null)throw Error(a(166));return os(b),null}if(y=$l(yo.current),Fx(b)){if(!Be)throw Error(a(175));y=Hf(b.stateNode,b.type,b.memoizedProps,M,y,b,!Lx),b.updateQueue=y,y!==null&&Gl(b)}else{var U=W(O,k,M,y,b);Gx(U,b,!1,!1),b.stateNode=U,ee(U,O,k,M,y)&&Gl(b)}b.ref!==null&&(b.flags|=512,b.flags|=2097152)}return os(b),null;case 6:if(y&&b.stateNode!=null)A1(y,b,y.memoizedProps,k);else{if(typeof k!="string"&&b.stateNode===null)throw Error(a(166));if(y=$l(Sp.current),M=$l(yo.current),Fx(b)){if(!Be)throw Error(a(176));if(y=b.stateNode,k=b.memoizedProps,(M=td(y,k,b,!Lx))&&(O=Ba,O!==null))switch(U=(O.mode&1)!==0,O.tag){case 3:_e(O.stateNode.containerInfo,y,k,U);break;case 5:Oe(O.type,O.memoizedProps,O.stateNode,y,k,U)}M&&Gl(b)}else b.stateNode=de(k,y,M,b)}return os(b),null;case 13:if(mt(xr),k=b.memoizedState,fr&&za!==null&&b.mode&1&&!(b.flags&128)){for(y=za;y;)y=rs(y);return wp(),b.flags|=98560,b}if(k!==null&&k.dehydrated!==null){if(k=Fx(b),y===null){if(!k)throw Error(a(318));if(!Be)throw Error(a(344));if(y=b.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(a(317));jx(y,b)}else wp(),!(b.flags&128)&&(b.memoizedState=null),b.flags|=4;return os(b),null}return tl!==null&&(UA(tl),tl=null),b.flags&128?(b.lanes=M,b):(k=k!==null,M=!1,y===null?Fx(b):M=y.memoizedState!==null,k&&!M&&(b.child.flags|=8192,b.mode&1&&(y===null||xr.current&1?hi===0&&(hi=3):zA())),b.updateQueue!==null&&(b.flags|=4),os(b),null);case 4:return Ep(),qx(y,b),y===null&&Te(b.stateNode.containerInfo),os(b),null;case 10:return Ci(b.type._context),os(b),null;case 17:return sn(b.type)&&Xt(),os(b),null;case 19:if(mt(xr),O=b.memoizedState,O===null)return os(b),null;if(k=(b.flags&128)!==0,U=O.rendering,U===null)if(k)Kx(O,!1);else{if(hi!==0||y!==null&&y.flags&128)for(y=b.child;y!==null;){if(U=b1(y),U!==null){for(b.flags|=128,Kx(O,!1),y=U.updateQueue,y!==null&&(b.updateQueue=y,b.flags|=4),b.subtreeFlags=0,y=M,k=b.child;k!==null;)M=k,O=y,M.flags&=14680066,U=M.alternate,U===null?(M.childLanes=0,M.lanes=O,M.child=null,M.subtreeFlags=0,M.memoizedProps=null,M.memoizedState=null,M.updateQueue=null,M.dependencies=null,M.stateNode=null):(M.childLanes=U.childLanes,M.lanes=U.lanes,M.child=U.child,M.subtreeFlags=0,M.deletions=null,M.memoizedProps=U.memoizedProps,M.memoizedState=U.memoizedState,M.updateQueue=U.updateQueue,M.type=U.type,O=U.dependencies,M.dependencies=O===null?null:{lanes:O.lanes,firstContext:O.firstContext}),k=k.sibling;return Ct(xr,xr.current&1|2),b.child}y=y.sibling}O.tail!==null&&vr()>DA&&(b.flags|=128,k=!0,Kx(O,!1),b.lanes=4194304)}else{if(!k)if(y=b1(U),y!==null){if(b.flags|=128,k=!0,y=y.updateQueue,y!==null&&(b.updateQueue=y,b.flags|=4),Kx(O,!0),O.tail===null&&O.tailMode==="hidden"&&!U.alternate&&!fr)return os(b),null}else 2*vr()-O.renderingStartTime>DA&&M!==1073741824&&(b.flags|=128,k=!0,Kx(O,!1),b.lanes=4194304);O.isBackwards?(U.sibling=b.child,b.child=U):(y=O.last,y!==null?y.sibling=U:b.child=U,O.last=U)}return O.tail!==null?(b=O.tail,O.rendering=b,O.tail=b.sibling,O.renderingStartTime=vr(),b.sibling=null,y=xr.current,Ct(xr,k?y&1|2:y&1),b):(os(b),null);case 22:case 23:return BA(),k=b.memoizedState!==null,y!==null&&y.memoizedState!==null!==k&&(b.flags|=8192),k&&b.mode&1?Wa&1073741824&&(os(b),ve&&b.subtreeFlags&6&&(b.flags|=8192)):os(b),null;case 24:return null;case 25:return null}throw Error(a(156,b.tag))}var Lde=l.ReactCurrentOwner,Va=!1;function Os(y,b,M,k){b.child=y===null?g5(b,null,M,k):_p(b,y.child,M,k)}function W5(y,b,M,k,O){M=M.render;var U=b.ref;return Dr(b,O),k=fA(y,b,M,k,U,O),M=hA(),y!==null&&!Va?(b.updateQueue=y.updateQueue,b.flags&=-2053,y.lanes&=~O,Hc(y,b,O)):(fr&&M&&nA(b),b.flags|=1,Os(y,b,k,O),b.child)}function $5(y,b,M,k,O){if(y===null){var U=M.type;return typeof U=="function"&&!VA(U)&&U.defaultProps===void 0&&M.compare===null&&M.defaultProps===void 0?(b.tag=15,b.type=U,H5(y,b,U,k,O)):(y=Y1(M.type,null,k,b,b.mode,O),y.ref=b.ref,y.return=b,b.child=y)}if(U=y.child,!(y.lanes&O)){var re=U.memoizedProps;if(M=M.compare,M=M!==null?M:Zf,M(re,k)&&y.ref===b.ref)return Hc(y,b,O)}return b.flags|=1,y=ud(U,k),y.ref=b.ref,y.return=b,b.child=y}function H5(y,b,M,k,O){if(y!==null&&Zf(y.memoizedProps,k)&&y.ref===b.ref)if(Va=!1,(y.lanes&O)!==0)y.flags&131072&&(Va=!0);else return b.lanes=y.lanes,Hc(y,b,O);return yA(y,b,M,k,O)}function G5(y,b,M){var k=b.pendingProps,O=k.children,U=y!==null?y.memoizedState:null;if(k.mode==="hidden")if(!(b.mode&1))b.memoizedState={baseLanes:0,cachePool:null},Ct(Mp,Wa),Wa|=M;else if(M&1073741824)b.memoizedState={baseLanes:0,cachePool:null},k=U!==null?U.baseLanes:M,Ct(Mp,Wa),Wa|=k;else return y=U!==null?U.baseLanes|M:M,b.lanes=b.childLanes=1073741824,b.memoizedState={baseLanes:y,cachePool:null},b.updateQueue=null,Ct(Mp,Wa),Wa|=y,null;else U!==null?(k=U.baseLanes|M,b.memoizedState=null):k=M,Ct(Mp,Wa),Wa|=k;return Os(y,b,O,M),b.child}function q5(y,b){var M=b.ref;(y===null&&M!==null||y!==null&&y.ref!==M)&&(b.flags|=512,b.flags|=2097152)}function yA(y,b,M,k,O){var U=sn(M)?gn:rn.current;return U=kt(b,U),Dr(b,O),M=fA(y,b,M,k,U,O),k=hA(),y!==null&&!Va?(b.updateQueue=y.updateQueue,b.flags&=-2053,y.lanes&=~O,Hc(y,b,O)):(fr&&k&&nA(b),b.flags|=1,Os(y,b,M,O),b.child)}function K5(y,b,M,k,O){if(sn(M)){var U=!0;Mr(b)}else U=!1;if(Dr(b,O),b.stateNode===null)y!==null&&(y.alternate=null,b.alternate=null,b.flags|=2),l5(b,M,k),tA(b,M,k,O),k=!0;else if(y===null){var re=b.stateNode,xe=b.memoizedProps;re.props=xe;var We=re.context,dt=M.contextType;typeof dt=="object"&&dt!==null?dt=Ir(dt):(dt=sn(M)?gn:rn.current,dt=kt(b,dt));var Pt=M.getDerivedStateFromProps,Qt=typeof Pt=="function"||typeof re.getSnapshotBeforeUpdate=="function";Qt||typeof re.UNSAFE_componentWillReceiveProps!="function"&&typeof re.componentWillReceiveProps!="function"||(xe!==k||We!==dt)&&c5(b,re,k,dt),id=!1;var Bt=b.memoizedState;re.state=Bt,p1(b,k,re,O),We=b.memoizedState,xe!==k||Bt!==We||Kt.current||id?(typeof Pt=="function"&&(eA(b,M,Pt,k),We=b.memoizedState),(xe=id||o5(b,M,xe,k,Bt,We,dt))?(Qt||typeof re.UNSAFE_componentWillMount!="function"&&typeof re.componentWillMount!="function"||(typeof re.componentWillMount=="function"&&re.componentWillMount(),typeof re.UNSAFE_componentWillMount=="function"&&re.UNSAFE_componentWillMount()),typeof re.componentDidMount=="function"&&(b.flags|=4194308)):(typeof re.componentDidMount=="function"&&(b.flags|=4194308),b.memoizedProps=k,b.memoizedState=We),re.props=k,re.state=We,re.context=dt,k=xe):(typeof re.componentDidMount=="function"&&(b.flags|=4194308),k=!1)}else{re=b.stateNode,r5(y,b),xe=b.memoizedProps,dt=b.type===b.elementType?xe:ks(b.type,xe),re.props=dt,Qt=b.pendingProps,Bt=re.context,We=M.contextType,typeof We=="object"&&We!==null?We=Ir(We):(We=sn(M)?gn:rn.current,We=kt(b,We));var qn=M.getDerivedStateFromProps;(Pt=typeof qn=="function"||typeof re.getSnapshotBeforeUpdate=="function")||typeof re.UNSAFE_componentWillReceiveProps!="function"&&typeof re.componentWillReceiveProps!="function"||(xe!==Qt||Bt!==We)&&c5(b,re,k,We),id=!1,Bt=b.memoizedState,re.state=Bt,p1(b,k,re,O);var Ft=b.memoizedState;xe!==Qt||Bt!==Ft||Kt.current||id?(typeof qn=="function"&&(eA(b,M,qn,k),Ft=b.memoizedState),(dt=id||o5(b,M,dt,k,Bt,Ft,We)||!1)?(Pt||typeof re.UNSAFE_componentWillUpdate!="function"&&typeof re.componentWillUpdate!="function"||(typeof re.componentWillUpdate=="function"&&re.componentWillUpdate(k,Ft,We),typeof re.UNSAFE_componentWillUpdate=="function"&&re.UNSAFE_componentWillUpdate(k,Ft,We)),typeof re.componentDidUpdate=="function"&&(b.flags|=4),typeof re.getSnapshotBeforeUpdate=="function"&&(b.flags|=1024)):(typeof re.componentDidUpdate!="function"||xe===y.memoizedProps&&Bt===y.memoizedState||(b.flags|=4),typeof re.getSnapshotBeforeUpdate!="function"||xe===y.memoizedProps&&Bt===y.memoizedState||(b.flags|=1024),b.memoizedProps=k,b.memoizedState=Ft),re.props=k,re.state=Ft,re.context=We,k=dt):(typeof re.componentDidUpdate!="function"||xe===y.memoizedProps&&Bt===y.memoizedState||(b.flags|=4),typeof re.getSnapshotBeforeUpdate!="function"||xe===y.memoizedProps&&Bt===y.memoizedState||(b.flags|=1024),k=!1)}return bA(y,b,M,k,U,O)}function bA(y,b,M,k,O,U){q5(y,b);var re=(b.flags&128)!==0;if(!k&&!re)return O&&di(b,M,!1),Hc(y,b,U);k=b.stateNode,Lde.current=b;var xe=re&&typeof M.getDerivedStateFromError!="function"?null:k.render();return b.flags|=1,y!==null&&re?(b.child=_p(b,y.child,null,U),b.child=_p(b,null,xe,U)):Os(y,b,xe,U),b.memoizedState=k.state,O&&di(b,M,!0),b.child}function X5(y){var b=y.stateNode;b.pendingContext?Yr(y,b.pendingContext,b.pendingContext!==b.context):b.context&&Yr(y,b.context,!1),oA(y,b.containerInfo)}function Y5(y,b,M,k,O){return wp(),aA(O),b.flags|=256,Os(y,b,M,k),b.child}var T1={dehydrated:null,treeContext:null,retryLane:0};function P1(y){return{baseLanes:y,cachePool:null}}function Z5(y,b,M){var k=b.pendingProps,O=xr.current,U=!1,re=(b.flags&128)!==0,xe;if((xe=re)||(xe=y!==null&&y.memoizedState===null?!1:(O&2)!==0),xe?(U=!0,b.flags&=-129):(y===null||y.memoizedState!==null)&&(O|=1),Ct(xr,O&1),y===null)return sA(b),y=b.memoizedState,y!==null&&(y=y.dehydrated,y!==null)?(b.mode&1?Wi(y)?b.lanes=8:b.lanes=1073741824:b.lanes=1,null):(O=k.children,y=k.fallback,U?(k=b.mode,U=b.child,O={mode:"hidden",children:O},!(k&1)&&U!==null?(U.childLanes=0,U.pendingProps=O):U=Z1(O,k,0,null),y=oh(y,k,M,null),U.return=b,y.return=b,U.sibling=y,b.child=U,b.child.memoizedState=P1(M),b.memoizedState=T1,y):wA(b,O));if(O=y.memoizedState,O!==null){if(xe=O.dehydrated,xe!==null){if(re)return b.flags&256?(b.flags&=-257,k1(y,b,M,Error(a(422)))):b.memoizedState!==null?(b.child=y.child,b.flags|=128,null):(U=k.fallback,O=b.mode,k=Z1({mode:"visible",children:k.children},O,0,null),U=oh(U,O,M,null),U.flags|=2,k.return=b,U.return=b,k.sibling=U,b.child=k,b.mode&1&&_p(b,y.child,null,M),b.child.memoizedState=P1(M),b.memoizedState=T1,U);if(!(b.mode&1))b=k1(y,b,M,null);else if(Wi(xe))b=k1(y,b,M,Error(a(419)));else if(k=(M&y.childLanes)!==0,Va||k){if(k=Jr,k!==null){switch(M&-M){case 4:U=2;break;case 16:U=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:U=32;break;case 536870912:U=268435456;break;default:U=0}k=U&(k.suspendedLanes|M)?0:U,k!==0&&k!==O.retryLane&&(O.retryLane=k,wo(y,k,-1))}zA(),b=k1(y,b,M,Error(a(421)))}else $n(xe)?(b.flags|=128,b.child=y.child,b=Yde.bind(null,y),Oa(xe,b),b=null):(M=O.treeContext,Be&&(za=sa(xe),Ba=b,fr=!0,tl=null,Lx=!1,M!==null&&(vo[xo++]=Vc,vo[xo++]=Wc,vo[xo++]=Jf,Vc=M.id,Wc=M.overflow,Jf=b)),b=wA(b,b.pendingProps.children),b.flags|=4096);return b}return U?(k=J5(y,b,k.children,k.fallback,M),U=b.child,O=y.child.memoizedState,U.memoizedState=O===null?P1(M):{baseLanes:O.baseLanes|M,cachePool:null},U.childLanes=y.childLanes&~M,b.memoizedState=T1,k):(M=Q5(y,b,k.children,M),b.memoizedState=null,M)}return U?(k=J5(y,b,k.children,k.fallback,M),U=b.child,O=y.child.memoizedState,U.memoizedState=O===null?P1(M):{baseLanes:O.baseLanes|M,cachePool:null},U.childLanes=y.childLanes&~M,b.memoizedState=T1,k):(M=Q5(y,b,k.children,M),b.memoizedState=null,M)}function wA(y,b){return b=Z1({mode:"visible",children:b},y.mode,0,null),b.return=y,y.child=b}function Q5(y,b,M,k){var O=y.child;return y=O.sibling,M=ud(O,{mode:"visible",children:M}),!(b.mode&1)&&(M.lanes=k),M.return=b,M.sibling=null,y!==null&&(k=b.deletions,k===null?(b.deletions=[y],b.flags|=16):k.push(y)),b.child=M}function J5(y,b,M,k,O){var U=b.mode;y=y.child;var re=y.sibling,xe={mode:"hidden",children:M};return!(U&1)&&b.child!==y?(M=b.child,M.childLanes=0,M.pendingProps=xe,b.deletions=null):(M=ud(y,xe),M.subtreeFlags=y.subtreeFlags&14680064),re!==null?k=ud(re,k):(k=oh(k,U,O,null),k.flags|=2),k.return=b,M.return=b,M.sibling=k,b.child=M,k}function k1(y,b,M,k){return k!==null&&aA(k),_p(b,y.child,null,M),y=wA(b,b.pendingProps.children),y.flags|=2,b.memoizedState=null,y}function eB(y,b,M){y.lanes|=b;var k=y.alternate;k!==null&&(k.lanes|=b),Rs(y.return,b,M)}function _A(y,b,M,k,O){var U=y.memoizedState;U===null?y.memoizedState={isBackwards:b,rendering:null,renderingStartTime:0,last:k,tail:M,tailMode:O}:(U.isBackwards=b,U.rendering=null,U.renderingStartTime=0,U.last=k,U.tail=M,U.tailMode=O)}function tB(y,b,M){var k=b.pendingProps,O=k.revealOrder,U=k.tail;if(Os(y,b,k.children,M),k=xr.current,k&2)k=k&1|2,b.flags|=128;else{if(y!==null&&y.flags&128)e:for(y=b.child;y!==null;){if(y.tag===13)y.memoizedState!==null&&eB(y,M,b);else if(y.tag===19)eB(y,M,b);else if(y.child!==null){y.child.return=y,y=y.child;continue}if(y===b)break e;for(;y.sibling===null;){if(y.return===null||y.return===b)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}k&=1}if(Ct(xr,k),!(b.mode&1))b.memoizedState=null;else switch(O){case"forwards":for(M=b.child,O=null;M!==null;)y=M.alternate,y!==null&&b1(y)===null&&(O=M),M=M.sibling;M=O,M===null?(O=b.child,b.child=null):(O=M.sibling,M.sibling=null),_A(b,!1,O,M,U);break;case"backwards":for(M=null,O=b.child,b.child=null;O!==null;){if(y=O.alternate,y!==null&&b1(y)===null){b.child=O;break}y=O.sibling,O.sibling=M,M=O,O=y}_A(b,!0,M,null,U);break;case"together":_A(b,!1,null,null,void 0);break;default:b.memoizedState=null}return b.child}function Hc(y,b,M){if(y!==null&&(b.dependencies=y.dependencies),Cp|=b.lanes,!(M&b.childLanes))return null;if(y!==null&&b.child!==y.child)throw Error(a(153));if(b.child!==null){for(y=b.child,M=ud(y,y.pendingProps),b.child=M,M.return=b;y.sibling!==null;)y=y.sibling,M=M.sibling=ud(y,y.pendingProps),M.return=b;M.sibling=null}return b.child}function Fde(y,b,M){switch(b.tag){case 3:X5(b),wp();break;case 5:v5(b);break;case 1:sn(b.type)&&Mr(b);break;case 4:oA(b,b.stateNode.containerInfo);break;case 10:h1(b,b.type._context,b.memoizedProps.value);break;case 13:var k=b.memoizedState;if(k!==null)return k.dehydrated!==null?(Ct(xr,xr.current&1),b.flags|=128,null):M&b.child.childLanes?Z5(y,b,M):(Ct(xr,xr.current&1),y=Hc(y,b,M),y!==null?y.sibling:null);Ct(xr,xr.current&1);break;case 19:if(k=(M&b.childLanes)!==0,y.flags&128){if(k)return tB(y,b,M);b.flags|=128}var O=b.memoizedState;if(O!==null&&(O.rendering=null,O.tail=null,O.lastEffect=null),Ct(xr,xr.current),k)break;return null;case 22:case 23:return b.lanes=0,G5(y,b,M)}return Hc(y,b,M)}function Ude(y,b){switch(rA(b),b.tag){case 1:return sn(b.type)&&Xt(),y=b.flags,y&65536?(b.flags=y&-65537|128,b):null;case 3:return Ep(),mt(Kt),mt(rn),uA(),y=b.flags,y&65536&&!(y&128)?(b.flags=y&-65537|128,b):null;case 5:return lA(b),null;case 13:if(mt(xr),y=b.memoizedState,y!==null&&y.dehydrated!==null){if(b.alternate===null)throw Error(a(340));wp()}return y=b.flags,y&65536?(b.flags=y&-65537|128,b):null;case 19:return mt(xr),null;case 4:return Ep(),null;case 10:return Ci(b.type._context),null;case 22:case 23:return BA(),null;case 24:return null;default:return null}}var R1=!1,nh=!1,Bde=typeof WeakSet=="function"?WeakSet:Set,bt=null;function O1(y,b){var M=y.ref;if(M!==null)if(typeof M=="function")try{M(null)}catch(k){ca(y,b,k)}else M.current=null}function SA(y,b,M){try{M()}catch(k){ca(y,b,k)}}var nB=!1;function zde(y,b){for(V(y.containerInfo),bt=b;bt!==null;)if(y=bt,b=y.child,(y.subtreeFlags&1028)!==0&&b!==null)b.return=y,bt=b;else for(;bt!==null;){y=bt;try{var M=y.alternate;if(y.flags&1024)switch(y.tag){case 0:case 11:case 15:break;case 1:if(M!==null){var k=M.memoizedProps,O=M.memoizedState,U=y.stateNode,re=U.getSnapshotBeforeUpdate(y.elementType===y.type?k:ks(y.type,k),O);U.__reactInternalSnapshotBeforeUpdate=re}break;case 3:ve&&ft(y.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(xe){ca(y,y.return,xe)}if(b=y.sibling,b!==null){b.return=y.return,bt=b;break}bt=y.return}return M=nB,nB=!1,M}function rh(y,b,M){var k=b.updateQueue;if(k=k!==null?k.lastEffect:null,k!==null){var O=k=k.next;do{if((O.tag&y)===y){var U=O.destroy;O.destroy=void 0,U!==void 0&&SA(b,M,U)}O=O.next}while(O!==k)}}function Xx(y,b){if(b=b.updateQueue,b=b!==null?b.lastEffect:null,b!==null){var M=b=b.next;do{if((M.tag&y)===y){var k=M.create;M.destroy=k()}M=M.next}while(M!==b)}}function EA(y){var b=y.ref;if(b!==null){var M=y.stateNode;switch(y.tag){case 5:y=q(M);break;default:y=M}typeof b=="function"?b(y):b.current=y}}function rB(y,b,M){if(La&&typeof La.onCommitFiberUnmount=="function")try{La.onCommitFiberUnmount(Xf,b)}catch{}switch(b.tag){case 0:case 11:case 14:case 15:if(y=b.updateQueue,y!==null&&(y=y.lastEffect,y!==null)){var k=y=y.next;do{var O=k,U=O.destroy;O=O.tag,U!==void 0&&(O&2||O&4)&&SA(b,M,U),k=k.next}while(k!==y)}break;case 1:if(O1(b,M),y=b.stateNode,typeof y.componentWillUnmount=="function")try{y.props=b.memoizedProps,y.state=b.memoizedState,y.componentWillUnmount()}catch(re){ca(b,M,re)}break;case 5:O1(b,M);break;case 4:ve?cB(y,b,M):ne&&ne&&(b=b.stateNode.containerInfo,M=Pe(b),it(b,M))}}function iB(y,b,M){for(var k=b;;)if(rB(y,k,M),k.child===null||ve&&k.tag===4){if(k===b)break;for(;k.sibling===null;){if(k.return===null||k.return===b)return;k=k.return}k.sibling.return=k.return,k=k.sibling}else k.child.return=k,k=k.child}function sB(y){var b=y.alternate;b!==null&&(y.alternate=null,sB(b)),y.child=null,y.deletions=null,y.sibling=null,y.tag===5&&(b=y.stateNode,b!==null&&De(b)),y.stateNode=null,y.return=null,y.dependencies=null,y.memoizedProps=null,y.memoizedState=null,y.pendingProps=null,y.stateNode=null,y.updateQueue=null}function aB(y){return y.tag===5||y.tag===3||y.tag===4}function oB(y){e:for(;;){for(;y.sibling===null;){if(y.return===null||aB(y.return))return null;y=y.return}for(y.sibling.return=y.return,y=y.sibling;y.tag!==5&&y.tag!==6&&y.tag!==18;){if(y.flags&2||y.child===null||y.tag===4)continue e;y.child.return=y,y=y.child}if(!(y.flags&2))return y.stateNode}}function lB(y){if(ve){e:{for(var b=y.return;b!==null;){if(aB(b))break e;b=b.return}throw Error(a(160))}var M=b;switch(M.tag){case 5:b=M.stateNode,M.flags&32&&(be(b),M.flags&=-33),M=oB(y),MA(y,M,b);break;case 3:case 4:b=M.stateNode.containerInfo,M=oB(y),NA(y,M,b);break;default:throw Error(a(161))}}}function NA(y,b,M){var k=y.tag;if(k===5||k===6)y=y.stateNode,b?qe(M,y,b):Ye(M,y);else if(k!==4&&(y=y.child,y!==null))for(NA(y,b,M),y=y.sibling;y!==null;)NA(y,b,M),y=y.sibling}function MA(y,b,M){var k=y.tag;if(k===5||k===6)y=y.stateNode,b?ke(M,y,b):ye(M,y);else if(k!==4&&(y=y.child,y!==null))for(MA(y,b,M),y=y.sibling;y!==null;)MA(y,b,M),y=y.sibling}function cB(y,b,M){for(var k=b,O=!1,U,re;;){if(!O){O=k.return;e:for(;;){if(O===null)throw Error(a(160));switch(U=O.stateNode,O.tag){case 5:re=!1;break e;case 3:U=U.containerInfo,re=!0;break e;case 4:U=U.containerInfo,re=!0;break e}O=O.return}O=!0}if(k.tag===5||k.tag===6)iB(y,k,M),re?ie(U,k.stateNode):Ke(U,k.stateNode);else if(k.tag===18)re?mp(U,k.stateNode):Ax(U,k.stateNode);else if(k.tag===4){if(k.child!==null){U=k.stateNode.containerInfo,re=!0,k.child.return=k,k=k.child;continue}}else if(rB(y,k,M),k.child!==null){k.child.return=k,k=k.child;continue}if(k===b)break;for(;k.sibling===null;){if(k.return===null||k.return===b)return;k=k.return,k.tag===4&&(O=!1)}k.sibling.return=k.return,k=k.sibling}}function CA(y,b){if(ve){switch(b.tag){case 0:case 11:case 14:case 15:rh(3,b,b.return),Xx(3,b),rh(5,b,b.return);return;case 1:return;case 5:var M=b.stateNode;if(M!=null){var k=b.memoizedProps;y=y!==null?y.memoizedProps:k;var O=b.type,U=b.updateQueue;b.updateQueue=null,U!==null&&st(M,U,O,y,k,b)}return;case 6:if(b.stateNode===null)throw Error(a(162));M=b.memoizedProps,$e(b.stateNode,y!==null?y.memoizedProps:M,M);return;case 3:Be&&y!==null&&y.memoizedState.isDehydrated&&Fc(b.stateNode.containerInfo);return;case 12:return;case 13:D1(b);return;case 19:D1(b);return;case 17:return}throw Error(a(163))}switch(b.tag){case 0:case 11:case 14:case 15:rh(3,b,b.return),Xx(3,b),rh(5,b,b.return);return;case 12:return;case 13:D1(b);return;case 19:D1(b);return;case 3:Be&&y!==null&&y.memoizedState.isDehydrated&&Fc(b.stateNode.containerInfo);break;case 22:case 23:return}e:if(ne){switch(b.tag){case 1:case 5:case 6:break e;case 3:case 4:b=b.stateNode,it(b.containerInfo,b.pendingChildren);break e}throw Error(a(163))}}function D1(y){var b=y.updateQueue;if(b!==null){y.updateQueue=null;var M=y.stateNode;M===null&&(M=y.stateNode=new Bde),b.forEach(function(k){var O=Zde.bind(null,y,k);M.has(k)||(M.add(k),k.then(O,O))})}}function Vde(y,b){for(bt=b;bt!==null;){b=bt;var M=b.deletions;if(M!==null)for(var k=0;k<M.length;k++){var O=M[k];try{var U=y;ve?cB(U,O,b):iB(U,O,b);var re=O.alternate;re!==null&&(re.return=null),O.return=null}catch(It){ca(O,b,It)}}if(M=b.child,b.subtreeFlags&12854&&M!==null)M.return=b,bt=M;else for(;bt!==null;){b=bt;try{var xe=b.flags;if(xe&32&&ve&&be(b.stateNode),xe&512){var We=b.alternate;if(We!==null){var dt=We.ref;dt!==null&&(typeof dt=="function"?dt(null):dt.current=null)}}if(xe&8192)switch(b.tag){case 13:if(b.memoizedState!==null){var Pt=b.alternate;(Pt===null||Pt.memoizedState===null)&&(OA=vr())}break;case 22:var Qt=b.memoizedState!==null,Bt=b.alternate,qn=Bt!==null&&Bt.memoizedState!==null;if(M=b,ve){e:if(k=M,O=Qt,U=null,ve)for(var Ft=k;;){if(Ft.tag===5){if(U===null){U=Ft;var ls=Ft.stateNode;O?Je(ls):Ie(Ft.stateNode,Ft.memoizedProps)}}else if(Ft.tag===6){if(U===null){var So=Ft.stateNode;O?se(So):Le(So,Ft.memoizedProps)}}else if((Ft.tag!==22&&Ft.tag!==23||Ft.memoizedState===null||Ft===k)&&Ft.child!==null){Ft.child.return=Ft,Ft=Ft.child;continue}if(Ft===k)break;for(;Ft.sibling===null;){if(Ft.return===null||Ft.return===k)break e;U===Ft&&(U=null),Ft=Ft.return}U===Ft&&(U=null),Ft.sibling.return=Ft.return,Ft=Ft.sibling}}if(Qt&&!qn&&M.mode&1){bt=M;for(var Re=M.child;Re!==null;){for(M=bt=Re;bt!==null;){k=bt;var Ee=k.child;switch(k.tag){case 0:case 11:case 14:case 15:rh(4,k,k.return);break;case 1:O1(k,k.return);var ze=k.stateNode;if(typeof ze.componentWillUnmount=="function"){var Et=k.return;try{ze.props=k.memoizedProps,ze.state=k.memoizedState,ze.componentWillUnmount()}catch(It){ca(k,Et,It)}}break;case 5:O1(k,k.return);break;case 22:if(k.memoizedState!==null){fB(M);continue}}Ee!==null?(Ee.return=k,bt=Ee):fB(M)}Re=Re.sibling}}}switch(xe&4102){case 2:lB(b),b.flags&=-3;break;case 6:lB(b),b.flags&=-3,CA(b.alternate,b);break;case 4096:b.flags&=-4097;break;case 4100:b.flags&=-4097,CA(b.alternate,b);break;case 4:CA(b.alternate,b)}}catch(It){ca(b,b.return,It)}if(M=b.sibling,M!==null){M.return=b.return,bt=M;break}bt=b.return}}}function Wde(y,b,M){bt=y,uB(y)}function uB(y,b,M){for(var k=(y.mode&1)!==0;bt!==null;){var O=bt,U=O.child;if(O.tag===22&&k){var re=O.memoizedState!==null||R1;if(!re){var xe=O.alternate,We=xe!==null&&xe.memoizedState!==null||nh;xe=R1;var dt=nh;if(R1=re,(nh=We)&&!dt)for(bt=O;bt!==null;)re=bt,We=re.child,re.tag===22&&re.memoizedState!==null?hB(O):We!==null?(We.return=re,bt=We):hB(O);for(;U!==null;)bt=U,uB(U),U=U.sibling;bt=O,R1=xe,nh=dt}dB(y)}else O.subtreeFlags&8772&&U!==null?(U.return=O,bt=U):dB(y)}}function dB(y){for(;bt!==null;){var b=bt;if(b.flags&8772){var M=b.alternate;try{if(b.flags&8772)switch(b.tag){case 0:case 11:case 15:nh||Xx(5,b);break;case 1:var k=b.stateNode;if(b.flags&4&&!nh)if(M===null)k.componentDidMount();else{var O=b.elementType===b.type?M.memoizedProps:ks(b.type,M.memoizedProps);k.componentDidUpdate(O,M.memoizedState,k.__reactInternalSnapshotBeforeUpdate)}var U=b.updateQueue;U!==null&&s5(b,U,k);break;case 3:var re=b.updateQueue;if(re!==null){if(M=null,b.child!==null)switch(b.child.tag){case 5:M=q(b.child.stateNode);break;case 1:M=b.child.stateNode}s5(b,re,M)}break;case 5:var xe=b.stateNode;M===null&&b.flags&4&&rt(xe,b.type,b.memoizedProps,b);break;case 6:break;case 4:break;case 12:break;case 13:if(Be&&b.memoizedState===null){var We=b.alternate;if(We!==null){var dt=We.memoizedState;if(dt!==null){var Pt=dt.dehydrated;Pt!==null&&Gf(Pt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(a(163))}nh||b.flags&512&&EA(b)}catch(Qt){ca(b,b.return,Qt)}}if(b===y){bt=null;break}if(M=b.sibling,M!==null){M.return=b.return,bt=M;break}bt=b.return}}function fB(y){for(;bt!==null;){var b=bt;if(b===y){bt=null;break}var M=b.sibling;if(M!==null){M.return=b.return,bt=M;break}bt=b.return}}function hB(y){for(;bt!==null;){var b=bt;try{switch(b.tag){case 0:case 11:case 15:var M=b.return;try{Xx(4,b)}catch(We){ca(b,M,We)}break;case 1:var k=b.stateNode;if(typeof k.componentDidMount=="function"){var O=b.return;try{k.componentDidMount()}catch(We){ca(b,O,We)}}var U=b.return;try{EA(b)}catch(We){ca(b,U,We)}break;case 5:var re=b.return;try{EA(b)}catch(We){ca(b,re,We)}}}catch(We){ca(b,b.return,We)}if(b===y){bt=null;break}var xe=b.sibling;if(xe!==null){xe.return=b.return,bt=xe;break}bt=b.return}}var I1=0,L1=1,F1=2,U1=3,B1=4;if(typeof Symbol=="function"&&Symbol.for){var Yx=Symbol.for;I1=Yx("selector.component"),L1=Yx("selector.has_pseudo_class"),F1=Yx("selector.role"),U1=Yx("selector.test_id"),B1=Yx("selector.text")}function jA(y){var b=H(y);if(b!=null){if(typeof b.memoizedProps["data-testname"]!="string")throw Error(a(364));return b}if(y=ge(y),y===null)throw Error(a(362));return y.stateNode.current}function AA(y,b){switch(b.$$typeof){case I1:if(y.type===b.value)return!0;break;case L1:e:{b=b.value,y=[y,0];for(var M=0;M<y.length;){var k=y[M++],O=y[M++],U=b[O];if(k.tag!==5||!z(k)){for(;U!=null&&AA(k,U);)O++,U=b[O];if(O===b.length){b=!0;break e}else for(k=k.child;k!==null;)y.push(k,O),k=k.sibling}}b=!1}return b;case F1:if(y.tag===5&&ae(y.stateNode,b.value))return!0;break;case B1:if((y.tag===5||y.tag===6)&&(y=X(y),y!==null&&0<=y.indexOf(b.value)))return!0;break;case U1:if(y.tag===5&&(y=y.memoizedProps["data-testname"],typeof y=="string"&&y.toLowerCase()===b.value.toLowerCase()))return!0;break;default:throw Error(a(365))}return!1}function TA(y){switch(y.$$typeof){case I1:return"<"+(j(y.value)||"Unknown")+">";case L1:return":has("+(TA(y)||"")+")";case F1:return'[role="'+y.value+'"]';case B1:return'"'+y.value+'"';case U1:return'[data-testname="'+y.value+'"]';default:throw Error(a(365))}}function mB(y,b){var M=[];y=[y,0];for(var k=0;k<y.length;){var O=y[k++],U=y[k++],re=b[U];if(O.tag!==5||!z(O)){for(;re!=null&&AA(O,re);)U++,re=b[U];if(U===b.length)M.push(O);else for(O=O.child;O!==null;)y.push(O,U),O=O.sibling}}return M}function PA(y,b){if(!Ae)throw Error(a(363));y=jA(y),y=mB(y,b),b=[],y=Array.from(y);for(var M=0;M<y.length;){var k=y[M++];if(k.tag===5)z(k)||b.push(k.stateNode);else for(k=k.child;k!==null;)y.push(k),k=k.sibling}return b}var $de=Math.ceil,z1=l.ReactCurrentDispatcher,kA=l.ReactCurrentOwner,Lr=l.ReactCurrentBatchConfig,hn=0,Jr=null,ei=null,Hi=0,Wa=0,Mp=Dt(0),hi=0,Zx=null,Cp=0,V1=0,RA=0,Qx=null,oa=null,OA=0,DA=1/0;function jp(){DA=vr()+500}var W1=!1,IA=null,ad=null,$1=!1,od=null,H1=0,Jx=0,LA=null,G1=-1,q1=0;function Ds(){return hn&6?vr():G1!==-1?G1:G1=vr()}function ld(y){return y.mode&1?hn&2&&Hi!==0?Hi&-Hi:Yf.transition!==null?(q1===0&&(y=dr,dr<<=1,!(dr&4194240)&&(dr=64),q1=y),q1):(y=xn,y!==0?y:Ne()):1}function wo(y,b,M){if(50<Jx)throw Jx=0,LA=null,Error(a(185));var k=K1(y,b);return k===null?null:(zl(k,b,M),(!(hn&2)||k!==Jr)&&(k===Jr&&(!(hn&2)&&(V1|=b),hi===4&&cd(k,Hi)),la(k,M),b===1&&hn===0&&!(y.mode&1)&&(jp(),Wl&&aa())),k)}function K1(y,b){y.lanes|=b;var M=y.alternate;for(M!==null&&(M.lanes|=b),M=y,y=y.return;y!==null;)y.childLanes|=b,M=y.alternate,M!==null&&(M.childLanes|=b),M=y,y=y.return;return M.tag===3?M.stateNode:null}function la(y,b){var M=y.callbackNode;Tx(y,b);var k=qf(y,y===Jr?Hi:0);if(k===0)M!==null&&gp(M),y.callbackNode=null,y.callbackPriority=0;else if(b=k&-k,y.callbackPriority!==b){if(M!=null&&gp(M),b===1)y.tag===0?Ix(gB.bind(null,y)):Dx(gB.bind(null,y)),ce?Ue(function(){hn===0&&aa()}):Bc(Kf,aa),M=null;else{switch(Px(k)){case 1:M=Kf;break;case 4:M=d1;break;case 16:M=Ts;break;case 536870912:M=Rx;break;default:M=Ts}M=NB(M,pB.bind(null,y))}y.callbackPriority=b,y.callbackNode=M}}function pB(y,b){if(G1=-1,q1=0,hn&6)throw Error(a(327));var M=y.callbackNode;if(ah()&&y.callbackNode!==M)return null;var k=qf(y,y===Jr?Hi:0);if(k===0)return null;if(k&30||k&y.expiredLanes||b)b=X1(y,k);else{b=k;var O=hn;hn|=2;var U=yB();(Jr!==y||Hi!==b)&&(jp(),ih(y,b));do try{qde();break}catch(xe){xB(y,xe)}while(!0);xp(),z1.current=U,hn=O,ei!==null?b=0:(Jr=null,Hi=0,b=hi)}if(b!==0){if(b===2&&(O=Uc(y),O!==0&&(k=O,b=FA(y,O))),b===1)throw M=Zx,ih(y,0),cd(y,k),la(y,vr()),M;if(b===6)cd(y,k);else{if(O=y.current.alternate,!(k&30)&&!Hde(O)&&(b=X1(y,k),b===2&&(U=Uc(y),U!==0&&(k=U,b=FA(y,U))),b===1))throw M=Zx,ih(y,0),cd(y,k),la(y,vr()),M;switch(y.finishedWork=O,y.finishedLanes=k,b){case 0:case 1:throw Error(a(345));case 2:sh(y,oa);break;case 3:if(cd(y,k),(k&130023424)===k&&(b=OA+500-vr(),10<b)){if(qf(y,0)!==0)break;if(O=y.suspendedLanes,(O&k)!==k){Ds(),y.pingedLanes|=y.suspendedLanes&O;break}y.timeoutHandle=te(sh.bind(null,y,oa),b);break}sh(y,oa);break;case 4:if(cd(y,k),(k&4194240)===k)break;for(b=y.eventTimes,O=-1;0<k;){var re=31-vn(k);U=1<<re,re=b[re],re>O&&(O=re),k&=~U}if(k=O,k=vr()-k,k=(120>k?120:480>k?480:1080>k?1080:1920>k?1920:3e3>k?3e3:4320>k?4320:1960*$de(k/1960))-k,10<k){y.timeoutHandle=te(sh.bind(null,y,oa),k);break}sh(y,oa);break;case 5:sh(y,oa);break;default:throw Error(a(329))}}}return la(y,vr()),y.callbackNode===M?pB.bind(null,y):null}function FA(y,b){var M=Qx;return y.current.memoizedState.isDehydrated&&(ih(y,b).flags|=256),y=X1(y,b),y!==2&&(b=oa,oa=M,b!==null&&UA(b)),y}function UA(y){oa===null?oa=y:oa.push.apply(oa,y)}function Hde(y){for(var b=y;;){if(b.flags&16384){var M=b.updateQueue;if(M!==null&&(M=M.stores,M!==null))for(var k=0;k<M.length;k++){var O=M[k],U=O.getSnapshot;O=O.value;try{if(!Fa(U(),O))return!1}catch{return!1}}}if(M=b.child,b.subtreeFlags&16384&&M!==null)M.return=b,b=M;else{if(b===y)break;for(;b.sibling===null;){if(b.return===null||b.return===y)return!0;b=b.return}b.sibling.return=b.return,b=b.sibling}}return!0}function cd(y,b){for(b&=~RA,b&=~V1,y.suspendedLanes|=b,y.pingedLanes&=~b,y=y.expirationTimes;0<b;){var M=31-vn(b),k=1<<M;y[M]=-1,b&=~k}}function gB(y){if(hn&6)throw Error(a(327));ah();var b=qf(y,0);if(!(b&1))return la(y,vr()),null;var M=X1(y,b);if(y.tag!==0&&M===2){var k=Uc(y);k!==0&&(b=k,M=FA(y,k))}if(M===1)throw M=Zx,ih(y,0),cd(y,b),la(y,vr()),M;if(M===6)throw Error(a(345));return y.finishedWork=y.current.alternate,y.finishedLanes=b,sh(y,oa),la(y,vr()),null}function vB(y){od!==null&&od.tag===0&&!(hn&6)&&ah();var b=hn;hn|=1;var M=Lr.transition,k=xn;try{if(Lr.transition=null,xn=1,y)return y()}finally{xn=k,Lr.transition=M,hn=b,!(hn&6)&&aa()}}function BA(){Wa=Mp.current,mt(Mp)}function ih(y,b){y.finishedWork=null,y.finishedLanes=0;var M=y.timeoutHandle;if(M!==oe&&(y.timeoutHandle=oe,he(M)),ei!==null)for(M=ei.return;M!==null;){var k=M;switch(rA(k),k.tag){case 1:k=k.type.childContextTypes,k!=null&&Xt();break;case 3:Ep(),mt(Kt),mt(rn),uA();break;case 5:lA(k);break;case 4:Ep();break;case 13:mt(xr);break;case 19:mt(xr);break;case 10:Ci(k.type._context);break;case 22:case 23:BA()}M=M.return}if(Jr=y,ei=y=ud(y.current,null),Hi=Wa=b,hi=0,Zx=null,RA=V1=Cp=0,oa=Qx=null,Ua!==null){for(b=0;b<Ua.length;b++)if(M=Ua[b],k=M.interleaved,k!==null){M.interleaved=null;var O=k.next,U=M.pending;if(U!==null){var re=U.next;U.next=O,k.next=re}M.pending=k}Ua=null}return y}function xB(y,b){do{var M=ei;try{if(xp(),w1.current=C1,_1){for(var k=Cr.memoizedState;k!==null;){var O=k.queue;O!==null&&(O.pending=null),k=k.next}_1=!1}if(Np=0,ji=ss=Cr=null,Vx=!1,Wx=0,kA.current=null,M===null||M.return===null){hi=1,Zx=b,ei=null;break}e:{var U=y,re=M.return,xe=M,We=b;if(b=Hi,xe.flags|=32768,We!==null&&typeof We=="object"&&typeof We.then=="function"){var dt=We,Pt=xe,Qt=Pt.tag;if(!(Pt.mode&1)&&(Qt===0||Qt===11||Qt===15)){var Bt=Pt.alternate;Bt?(Pt.updateQueue=Bt.updateQueue,Pt.memoizedState=Bt.memoizedState,Pt.lanes=Bt.lanes):(Pt.updateQueue=null,Pt.memoizedState=null)}var qn=U5(re);if(qn!==null){qn.flags&=-257,B5(qn,re,xe,U,b),qn.mode&1&&F5(U,dt,b),b=qn,We=dt;var Ft=b.updateQueue;if(Ft===null){var ls=new Set;ls.add(We),b.updateQueue=ls}else Ft.add(We);break e}else{if(!(b&1)){F5(U,dt,b),zA();break e}We=Error(a(426))}}else if(fr&&xe.mode&1){var So=U5(re);if(So!==null){!(So.flags&65536)&&(So.flags|=256),B5(So,re,xe,U,b),aA(We);break e}}U=We,hi!==4&&(hi=2),Qx===null?Qx=[U]:Qx.push(U),We=vA(We,xe),xe=re;do{switch(xe.tag){case 3:xe.flags|=65536,b&=-b,xe.lanes|=b;var Re=I5(xe,We,b);i5(xe,Re);break e;case 1:U=We;var Ee=xe.type,ze=xe.stateNode;if(!(xe.flags&128)&&(typeof Ee.getDerivedStateFromError=="function"||ze!==null&&typeof ze.componentDidCatch=="function"&&(ad===null||!ad.has(ze)))){xe.flags|=65536,b&=-b,xe.lanes|=b;var Et=L5(xe,U,b);i5(xe,Et);break e}}xe=xe.return}while(xe!==null)}wB(M)}catch(It){b=It,ei===M&&M!==null&&(ei=M=M.return);continue}break}while(!0)}function yB(){var y=z1.current;return z1.current=C1,y===null?C1:y}function zA(){(hi===0||hi===3||hi===2)&&(hi=4),Jr===null||!(Cp&268435455)&&!(V1&268435455)||cd(Jr,Hi)}function X1(y,b){var M=hn;hn|=2;var k=yB();Jr===y&&Hi===b||ih(y,b);do try{Gde();break}catch(O){xB(y,O)}while(!0);if(xp(),hn=M,z1.current=k,ei!==null)throw Error(a(261));return Jr=null,Hi=0,hi}function Gde(){for(;ei!==null;)bB(ei)}function qde(){for(;ei!==null&&!kx();)bB(ei)}function bB(y){var b=EB(y.alternate,y,Wa);y.memoizedProps=y.pendingProps,b===null?wB(y):ei=b,kA.current=null}function wB(y){var b=y;do{var M=b.alternate;if(y=b.return,b.flags&32768){if(M=Ude(M,b),M!==null){M.flags&=32767,ei=M;return}if(y!==null)y.flags|=32768,y.subtreeFlags=0,y.deletions=null;else{hi=6,ei=null;return}}else if(M=Ide(M,b,Wa),M!==null){ei=M;return}if(b=b.sibling,b!==null){ei=b;return}ei=b=y}while(b!==null);hi===0&&(hi=5)}function sh(y,b){var M=xn,k=Lr.transition;try{Lr.transition=null,xn=1,Kde(y,b,M)}finally{Lr.transition=k,xn=M}return null}function Kde(y,b,M){do ah();while(od!==null);if(hn&6)throw Error(a(327));var k=y.finishedWork,O=y.finishedLanes;if(k===null)return null;if(y.finishedWork=null,y.finishedLanes=0,k===y.current)throw Error(a(177));y.callbackNode=null,y.callbackPriority=0;var U=k.lanes|k.childLanes;if(nd(y,U),y===Jr&&(ei=Jr=null,Hi=0),!(k.subtreeFlags&2064)&&!(k.flags&2064)||$1||($1=!0,NB(Ts,function(){return ah(),null})),U=(k.flags&15990)!==0,k.subtreeFlags&15990||U){U=Lr.transition,Lr.transition=null;var re=xn;xn=1;var xe=hn;hn|=4,kA.current=null,zde(y,k),Vde(y,k),K(y.containerInfo),y.current=k,Wde(k),u1(),hn=xe,xn=re,Lr.transition=U}else y.current=k;if($1&&($1=!1,od=y,H1=O),U=y.pendingLanes,U===0&&(ad=null),Ox(k.stateNode),la(y,vr()),b!==null)for(M=y.onRecoverableError,k=0;k<b.length;k++)M(b[k]);if(W1)throw W1=!1,y=IA,IA=null,y;return H1&1&&y.tag!==0&&ah(),U=y.pendingLanes,U&1?y===LA?Jx++:(Jx=0,LA=y):Jx=0,aa(),null}function ah(){if(od!==null){var y=Px(H1),b=Lr.transition,M=xn;try{if(Lr.transition=null,xn=16>y?16:y,od===null)var k=!1;else{if(y=od,od=null,H1=0,hn&6)throw Error(a(331));var O=hn;for(hn|=4,bt=y.current;bt!==null;){var U=bt,re=U.child;if(bt.flags&16){var xe=U.deletions;if(xe!==null){for(var We=0;We<xe.length;We++){var dt=xe[We];for(bt=dt;bt!==null;){var Pt=bt;switch(Pt.tag){case 0:case 11:case 15:rh(8,Pt,U)}var Qt=Pt.child;if(Qt!==null)Qt.return=Pt,bt=Qt;else for(;bt!==null;){Pt=bt;var Bt=Pt.sibling,qn=Pt.return;if(sB(Pt),Pt===dt){bt=null;break}if(Bt!==null){Bt.return=qn,bt=Bt;break}bt=qn}}}var Ft=U.alternate;if(Ft!==null){var ls=Ft.child;if(ls!==null){Ft.child=null;do{var So=ls.sibling;ls.sibling=null,ls=So}while(ls!==null)}}bt=U}}if(U.subtreeFlags&2064&&re!==null)re.return=U,bt=re;else e:for(;bt!==null;){if(U=bt,U.flags&2048)switch(U.tag){case 0:case 11:case 15:rh(9,U,U.return)}var Re=U.sibling;if(Re!==null){Re.return=U.return,bt=Re;break e}bt=U.return}}var Ee=y.current;for(bt=Ee;bt!==null;){re=bt;var ze=re.child;if(re.subtreeFlags&2064&&ze!==null)ze.return=re,bt=ze;else e:for(re=Ee;bt!==null;){if(xe=bt,xe.flags&2048)try{switch(xe.tag){case 0:case 11:case 15:Xx(9,xe)}}catch(It){ca(xe,xe.return,It)}if(xe===re){bt=null;break e}var Et=xe.sibling;if(Et!==null){Et.return=xe.return,bt=Et;break e}bt=xe.return}}if(hn=O,aa(),La&&typeof La.onPostCommitFiberRoot=="function")try{La.onPostCommitFiberRoot(Xf,y)}catch{}k=!0}return k}finally{xn=M,Lr.transition=b}}return!1}function _B(y,b,M){b=vA(M,b),b=I5(y,b,1),sd(y,b),b=Ds(),y=K1(y,1),y!==null&&(zl(y,1,b),la(y,b))}function ca(y,b,M){if(y.tag===3)_B(y,y,M);else for(;b!==null;){if(b.tag===3){_B(b,y,M);break}else if(b.tag===1){var k=b.stateNode;if(typeof b.type.getDerivedStateFromError=="function"||typeof k.componentDidCatch=="function"&&(ad===null||!ad.has(k))){y=vA(M,y),y=L5(b,y,1),sd(b,y),y=Ds(),b=K1(b,1),b!==null&&(zl(b,1,y),la(b,y));break}}b=b.return}}function Xde(y,b,M){var k=y.pingCache;k!==null&&k.delete(b),b=Ds(),y.pingedLanes|=y.suspendedLanes&M,Jr===y&&(Hi&M)===M&&(hi===4||hi===3&&(Hi&130023424)===Hi&&500>vr()-OA?ih(y,0):RA|=M),la(y,b)}function SB(y,b){b===0&&(y.mode&1?(b=Ia,Ia<<=1,!(Ia&130023424)&&(Ia=4194304)):b=1);var M=Ds();y=K1(y,b),y!==null&&(zl(y,b,M),la(y,M))}function Yde(y){var b=y.memoizedState,M=0;b!==null&&(M=b.retryLane),SB(y,M)}function Zde(y,b){var M=0;switch(y.tag){case 13:var k=y.stateNode,O=y.memoizedState;O!==null&&(M=O.retryLane);break;case 19:k=y.stateNode;break;default:throw Error(a(314))}k!==null&&k.delete(b),SB(y,M)}var EB;EB=function(y,b,M){if(y!==null)if(y.memoizedProps!==b.pendingProps||Kt.current)Va=!0;else{if(!(y.lanes&M)&&!(b.flags&128))return Va=!1,Fde(y,b,M);Va=!!(y.flags&131072)}else Va=!1,fr&&b.flags&1048576&&u5(b,x1,b.index);switch(b.lanes=0,b.tag){case 2:var k=b.type;y!==null&&(y.alternate=null,b.alternate=null,b.flags|=2),y=b.pendingProps;var O=kt(b,rn.current);Dr(b,M),O=fA(null,b,k,y,O,M);var U=hA();return b.flags|=1,typeof O=="object"&&O!==null&&typeof O.render=="function"&&O.$$typeof===void 0?(b.tag=1,b.memoizedState=null,b.updateQueue=null,sn(k)?(U=!0,Mr(b)):U=!1,b.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,Jj(b),O.updater=g1,b.stateNode=O,O._reactInternals=b,tA(b,k,y,M),b=bA(null,b,k,!0,U,M)):(b.tag=0,fr&&U&&nA(b),Os(null,b,O,M),b=b.child),b;case 16:k=b.elementType;e:{switch(y!==null&&(y.alternate=null,b.alternate=null,b.flags|=2),y=b.pendingProps,O=k._init,k=O(k._payload),b.type=k,O=b.tag=Jde(k),y=ks(k,y),O){case 0:b=yA(null,b,k,y,M);break e;case 1:b=K5(null,b,k,y,M);break e;case 11:b=W5(null,b,k,y,M);break e;case 14:b=$5(null,b,k,ks(k.type,y),M);break e}throw Error(a(306,k,""))}return b;case 0:return k=b.type,O=b.pendingProps,O=b.elementType===k?O:ks(k,O),yA(y,b,k,O,M);case 1:return k=b.type,O=b.pendingProps,O=b.elementType===k?O:ks(k,O),K5(y,b,k,O,M);case 3:e:{if(X5(b),y===null)throw Error(a(387));k=b.pendingProps,U=b.memoizedState,O=U.element,r5(y,b),p1(b,k,null,M);var re=b.memoizedState;if(k=re.element,Be&&U.isDehydrated)if(U={element:k,isDehydrated:!1,cache:re.cache,transitions:re.transitions},b.updateQueue.baseState=U,b.memoizedState=U,b.flags&256){O=Error(a(423)),b=Y5(y,b,k,M,O);break e}else if(k!==O){O=Error(a(424)),b=Y5(y,b,k,M,O);break e}else for(Be&&(za=Xr(b.stateNode.containerInfo),Ba=b,fr=!0,tl=null,Lx=!1),M=g5(b,null,k,M),b.child=M;M;)M.flags=M.flags&-3|4096,M=M.sibling;else{if(wp(),k===O){b=Hc(y,b,M);break e}Os(y,b,k,M)}b=b.child}return b;case 5:return v5(b),y===null&&sA(b),k=b.type,O=b.pendingProps,U=y!==null?y.memoizedProps:null,re=O.children,Q(k,O)?re=null:U!==null&&Q(k,U)&&(b.flags|=32),q5(y,b),Os(y,b,re,M),b.child;case 6:return y===null&&sA(b),null;case 13:return Z5(y,b,M);case 4:return oA(b,b.stateNode.containerInfo),k=b.pendingProps,y===null?b.child=_p(b,null,k,M):Os(y,b,k,M),b.child;case 11:return k=b.type,O=b.pendingProps,O=b.elementType===k?O:ks(k,O),W5(y,b,k,O,M);case 7:return Os(y,b,b.pendingProps,M),b.child;case 8:return Os(y,b,b.pendingProps.children,M),b.child;case 12:return Os(y,b,b.pendingProps.children,M),b.child;case 10:e:{if(k=b.type._context,O=b.pendingProps,U=b.memoizedProps,re=O.value,h1(b,k,re),U!==null)if(Fa(U.value,re)){if(U.children===O.children&&!Kt.current){b=Hc(y,b,M);break e}}else for(U=b.child,U!==null&&(U.return=b);U!==null;){var xe=U.dependencies;if(xe!==null){re=U.child;for(var We=xe.firstContext;We!==null;){if(We.context===k){if(U.tag===1){We=zc(-1,M&-M),We.tag=2;var dt=U.updateQueue;if(dt!==null){dt=dt.shared;var Pt=dt.pending;Pt===null?We.next=We:(We.next=Pt.next,Pt.next=We),dt.pending=We}}U.lanes|=M,We=U.alternate,We!==null&&(We.lanes|=M),Rs(U.return,M,b),xe.lanes|=M;break}We=We.next}}else if(U.tag===10)re=U.type===b.type?null:U.child;else if(U.tag===18){if(re=U.return,re===null)throw Error(a(341));re.lanes|=M,xe=re.alternate,xe!==null&&(xe.lanes|=M),Rs(re,M,b),re=U.sibling}else re=U.child;if(re!==null)re.return=U;else for(re=U;re!==null;){if(re===b){re=null;break}if(U=re.sibling,U!==null){U.return=re.return,re=U;break}re=re.return}U=re}Os(y,b,O.children,M),b=b.child}return b;case 9:return O=b.type,k=b.pendingProps.children,Dr(b,M),O=Ir(O),k=k(O),b.flags|=1,Os(y,b,k,M),b.child;case 14:return k=b.type,O=ks(k,b.pendingProps),O=ks(k.type,O),$5(y,b,k,O,M);case 15:return H5(y,b,b.type,b.pendingProps,M);case 17:return k=b.type,O=b.pendingProps,O=b.elementType===k?O:ks(k,O),y!==null&&(y.alternate=null,b.alternate=null,b.flags|=2),b.tag=1,sn(k)?(y=!0,Mr(b)):y=!1,Dr(b,M),l5(b,k,O),tA(b,k,O,M),bA(null,b,k,!0,y,M);case 19:return tB(y,b,M);case 22:return G5(y,b,M)}throw Error(a(156,b.tag))};function NB(y,b){return Bc(y,b)}function Qde(y,b,M,k){this.tag=y,this.key=M,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=b,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=k,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _o(y,b,M,k){return new Qde(y,b,M,k)}function VA(y){return y=y.prototype,!(!y||!y.isReactComponent)}function Jde(y){if(typeof y=="function")return VA(y)?1:0;if(y!=null){if(y=y.$$typeof,y===x)return 11;if(y===w)return 14}return 2}function ud(y,b){var M=y.alternate;return M===null?(M=_o(y.tag,b,y.key,y.mode),M.elementType=y.elementType,M.type=y.type,M.stateNode=y.stateNode,M.alternate=y,y.alternate=M):(M.pendingProps=b,M.type=y.type,M.flags=0,M.subtreeFlags=0,M.deletions=null),M.flags=y.flags&14680064,M.childLanes=y.childLanes,M.lanes=y.lanes,M.child=y.child,M.memoizedProps=y.memoizedProps,M.memoizedState=y.memoizedState,M.updateQueue=y.updateQueue,b=y.dependencies,M.dependencies=b===null?null:{lanes:b.lanes,firstContext:b.firstContext},M.sibling=y.sibling,M.index=y.index,M.ref=y.ref,M}function Y1(y,b,M,k,O,U){var re=2;if(k=y,typeof y=="function")VA(y)&&(re=1);else if(typeof y=="string")re=5;else e:switch(y){case d:return oh(M.children,O,U,b);case f:re=8,O|=8;break;case h:return y=_o(12,M,b,O|2),y.elementType=h,y.lanes=U,y;case v:return y=_o(13,M,b,O),y.elementType=v,y.lanes=U,y;case g:return y=_o(19,M,b,O),y.elementType=g,y.lanes=U,y;case E:return Z1(M,O,U,b);default:if(typeof y=="object"&&y!==null)switch(y.$$typeof){case m:re=10;break e;case p:re=9;break e;case x:re=11;break e;case w:re=14;break e;case _:re=16,k=null;break e}throw Error(a(130,y==null?y:typeof y,""))}return b=_o(re,M,b,O),b.elementType=y,b.type=k,b.lanes=U,b}function oh(y,b,M,k){return y=_o(7,y,k,b),y.lanes=M,y}function Z1(y,b,M,k){return y=_o(22,y,k,b),y.elementType=E,y.lanes=M,y.stateNode={},y}function WA(y,b,M){return y=_o(6,y,null,b),y.lanes=M,y}function $A(y,b,M){return b=_o(4,y.children!==null?y.children:[],y.key,b),b.lanes=M,b.stateNode={containerInfo:y.containerInfo,pendingChildren:null,implementation:y.implementation},b}function efe(y,b,M,k,O){this.tag=b,this.containerInfo=y,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=oe,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pp(0),this.expirationTimes=pp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pp(0),this.identifierPrefix=k,this.onRecoverableError=O,Be&&(this.mutableSourceEagerHydrationData=null)}function MB(y,b,M,k,O,U,re,xe,We){return y=new efe(y,b,M,xe,We),b===1?(b=1,U===!0&&(b|=8)):b=0,U=_o(3,null,null,b),y.current=U,U.stateNode=y,U.memoizedState={element:k,isDehydrated:M,cache:null,transitions:null},Jj(U),y}function CB(y){if(!y)return nn;y=y._reactInternals;e:{if(A(y)!==y||y.tag!==1)throw Error(a(170));var b=y;do{switch(b.tag){case 3:b=b.stateNode.context;break e;case 1:if(sn(b.type)){b=b.stateNode.__reactInternalMemoizedMergedChildContext;break e}}b=b.return}while(b!==null);throw Error(a(171))}if(y.tag===1){var M=y.type;if(sn(M))return Da(y,M,b)}return b}function jB(y){var b=y._reactInternals;if(b===void 0)throw typeof y.render=="function"?Error(a(188)):(y=Object.keys(y).join(","),Error(a(268,y)));return y=D(b),y===null?null:y.stateNode}function AB(y,b){if(y=y.memoizedState,y!==null&&y.dehydrated!==null){var M=y.retryLane;y.retryLane=M!==0&&M<b?M:b}}function HA(y,b){AB(y,b),(y=y.alternate)&&AB(y,b)}function tfe(y){return y=D(y),y===null?null:y.stateNode}function nfe(){return null}return n.attemptContinuousHydration=function(y){if(y.tag===13){var b=Ds();wo(y,134217728,b),HA(y,134217728)}},n.attemptHydrationAtCurrentPriority=function(y){if(y.tag===13){var b=Ds(),M=ld(y);wo(y,M,b),HA(y,M)}},n.attemptSynchronousHydration=function(y){switch(y.tag){case 3:var b=y.stateNode;if(b.current.memoizedState.isDehydrated){var M=$i(b.pendingLanes);M!==0&&(Vl(b,M|1),la(b,vr()),!(hn&6)&&(jp(),aa()))}break;case 13:var k=Ds();vB(function(){return wo(y,1,k)}),HA(y,1)}},n.batchedUpdates=function(y,b){var M=hn;hn|=1;try{return y(b)}finally{hn=M,hn===0&&(jp(),Wl&&aa())}},n.createComponentSelector=function(y){return{$$typeof:I1,value:y}},n.createContainer=function(y,b,M,k,O,U,re){return MB(y,b,!1,null,M,k,O,U,re)},n.createHasPseudoClassSelector=function(y){return{$$typeof:L1,value:y}},n.createHydrationContainer=function(y,b,M,k,O,U,re,xe,We){return y=MB(M,k,!0,y,O,U,re,xe,We),y.context=CB(null),M=y.current,k=Ds(),O=ld(M),U=zc(k,O),U.callback=b??null,sd(M,U),y.current.lanes=O,zl(y,O,k),la(y,k),y},n.createPortal=function(y,b,M){var k=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:k==null?null:""+k,children:y,containerInfo:b,implementation:M}},n.createRoleSelector=function(y){return{$$typeof:F1,value:y}},n.createTestNameSelector=function(y){return{$$typeof:U1,value:y}},n.createTextSelector=function(y){return{$$typeof:B1,value:y}},n.deferredUpdates=function(y){var b=xn,M=Lr.transition;try{return Lr.transition=null,xn=16,y()}finally{xn=b,Lr.transition=M}},n.discreteUpdates=function(y,b,M,k,O){var U=xn,re=Lr.transition;try{return Lr.transition=null,xn=1,y(b,M,k,O)}finally{xn=U,Lr.transition=re,hn===0&&jp()}},n.findAllNodes=PA,n.findBoundingRects=function(y,b){if(!Ae)throw Error(a(363));b=PA(y,b),y=[];for(var M=0;M<b.length;M++)y.push(nt(b[M]));for(b=y.length-1;0<b;b--){M=y[b];for(var k=M.x,O=k+M.width,U=M.y,re=U+M.height,xe=b-1;0<=xe;xe--)if(b!==xe){var We=y[xe],dt=We.x,Pt=dt+We.width,Qt=We.y,Bt=Qt+We.height;if(k>=dt&&U>=Qt&&O<=Pt&&re<=Bt){y.splice(b,1);break}else if(k!==dt||M.width!==We.width||Bt<U||Qt>re){if(!(U!==Qt||M.height!==We.height||Pt<k||dt>O)){dt>k&&(We.width+=dt-k,We.x=k),Pt<O&&(We.width=O-dt),y.splice(b,1);break}}else{Qt>U&&(We.height+=Qt-U,We.y=U),Bt<re&&(We.height=re-Qt),y.splice(b,1);break}}}return y},n.findHostInstance=jB,n.findHostInstanceWithNoPortals=function(y){return y=R(y),y=y!==null?I(y):null,y===null?null:y.stateNode},n.findHostInstanceWithWarning=function(y){return jB(y)},n.flushControlled=function(y){var b=hn;hn|=1;var M=Lr.transition,k=xn;try{Lr.transition=null,xn=1,y()}finally{xn=k,Lr.transition=M,hn=b,hn===0&&(jp(),aa())}},n.flushPassiveEffects=ah,n.flushSync=vB,n.focusWithin=function(y,b){if(!Ae)throw Error(a(363));for(y=jA(y),b=mB(y,b),b=Array.from(b),y=0;y<b.length;){var M=b[y++];if(!z(M)){if(M.tag===5&&Me(M.stateNode))return!0;for(M=M.child;M!==null;)b.push(M),M=M.sibling}}return!1},n.getCurrentUpdatePriority=function(){return xn},n.getFindAllNodesFailureDescription=function(y,b){if(!Ae)throw Error(a(363));var M=0,k=[];y=[jA(y),0];for(var O=0;O<y.length;){var U=y[O++],re=y[O++],xe=b[re];if((U.tag!==5||!z(U))&&(AA(U,xe)&&(k.push(TA(xe)),re++,re>M&&(M=re)),re<b.length))for(U=U.child;U!==null;)y.push(U,re),U=U.sibling}if(M<b.length){for(y=[];M<b.length;M++)y.push(TA(b[M]));return`findAllNodes was able to match part of the selector:
  `+(k.join(" > ")+`

No matching component was found for:
  `)+y.join(" > ")}return null},n.getPublicRootInstance=function(y){if(y=y.current,!y.child)return null;switch(y.child.tag){case 5:return q(y.child.stateNode);default:return y.child.stateNode}},n.injectIntoDevTools=function(y){if(y={bundleType:y.bundleType,version:y.version,rendererPackageName:y.rendererPackageName,rendererConfig:y.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:l.ReactCurrentDispatcher,findHostInstanceByFiber:tfe,findFiberByHostInstance:y.findFiberByHostInstance||nfe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")y=!1;else{var b=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(b.isDisabled||!b.supportsFiber)y=!0;else{try{Xf=b.inject(y),La=b}catch{}y=!!b.checkDCE}}return y},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(y,b,M,k){if(!Ae)throw Error(a(363));y=PA(y,b);var O=Se(y,M,k).disconnect;return{disconnect:function(){O()}}},n.registerMutableSourceForHydration=function(y,b){var M=b._getVersion;M=M(b._source),y.mutableSourceEagerHydrationData==null?y.mutableSourceEagerHydrationData=[b,M]:y.mutableSourceEagerHydrationData.push(b,M)},n.runWithPriority=function(y,b){var M=xn;try{return xn=y,b()}finally{xn=M}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(y,b,M,k){var O=b.current,U=Ds(),re=ld(O);return M=CB(M),b.context===null?b.context=M:b.pendingContext=M,b=zc(U,re),b.payload={element:y},k=k===void 0?null:k,k!==null&&(b.callback=k),sd(O,b),y=wo(O,re,U),y!==null&&m1(y,O,re),re},n};Ble.exports=WKe;var $Ke=Ble.exports;const HKe=Pa($Ke),bU={},GKe=t=>void Object.assign(bU,t);function qKe(t,e){function n(d,{args:f=[],attach:h,...m},p){let x=`${d[0].toUpperCase()}${d.slice(1)}`,v;if(d==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const g=m.object;v=hg(g,{type:d,root:p,attach:h,primitive:!0})}else{const g=bU[x];if(!g)throw new Error(`R3F: ${x} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(f))throw new Error("R3F: The args prop must be an array!");v=hg(new g(...f),{type:d,root:p,attach:h,memoizedProps:{args:f}})}return v.__r3f.attach===void 0&&(v.isBufferGeometry?v.__r3f.attach="geometry":v.isMaterial&&(v.__r3f.attach="material")),x!=="inject"&&fk(v,m),v}function r(d,f){let h=!1;if(f){var m,p;(m=f.__r3f)!=null&&m.attach?dk(d,f,f.__r3f.attach):f.isObject3D&&d.isObject3D&&(d.add(f),h=!0),h||(p=d.__r3f)==null||p.objects.push(f),f.__r3f||hg(f,{}),f.__r3f.parent=d,ID(f),mg(f)}}function i(d,f,h){let m=!1;if(f){var p,x;if((p=f.__r3f)!=null&&p.attach)dk(d,f,f.__r3f.attach);else if(f.isObject3D&&d.isObject3D){f.parent=d,f.dispatchEvent({type:"added"}),d.dispatchEvent({type:"childadded",child:f});const v=d.children.filter(w=>w!==f),g=v.indexOf(h);d.children=[...v.slice(0,g),f,...v.slice(g)],m=!0}m||(x=d.__r3f)==null||x.objects.push(f),f.__r3f||hg(f,{}),f.__r3f.parent=d,ID(f),mg(f)}}function s(d,f,h=!1){d&&[...d].forEach(m=>a(f,m,h))}function a(d,f,h){if(f){var m,p,x;if(f.__r3f&&(f.__r3f.parent=null),(m=d.__r3f)!=null&&m.objects&&(d.__r3f.objects=d.__r3f.objects.filter(E=>E!==f)),(p=f.__r3f)!=null&&p.attach)rG(d,f,f.__r3f.attach);else if(f.isObject3D&&d.isObject3D){var v;d.remove(f),(v=f.__r3f)!=null&&v.root&&eXe(pE(f),f)}const w=(x=f.__r3f)==null?void 0:x.primitive,_=!w&&(h===void 0?f.dispose!==null:h);if(!w){var g;s((g=f.__r3f)==null?void 0:g.objects,f,_),s(f.children,f,_)}if(delete f.__r3f,_&&f.dispose&&f.type!=="Scene"){const E=()=>{try{f.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?OD.unstable_scheduleCallback(OD.unstable_IdlePriority,E):E()}mg(d)}}function l(d,f,h,m){var p;const x=(p=d.__r3f)==null?void 0:p.parent;if(!x)return;const v=n(f,h,d.__r3f.root);if(d.children){for(const g of d.children)g.__r3f&&r(v,g);d.children=d.children.filter(g=>!g.__r3f)}d.__r3f.objects.forEach(g=>r(v,g)),d.__r3f.objects=[],d.__r3f.autoRemovedBeforeAppend||a(x,d),v.parent&&(v.__r3f.autoRemovedBeforeAppend=!0),r(x,v),v.raycast&&v.__r3f.eventCount&&pE(v).getState().internal.interaction.push(v),[m,m.alternate].forEach(g=>{g!==null&&(g.stateNode=v,g.ref&&(typeof g.ref=="function"?g.ref(v):g.ref.current=v))})}const c=()=>{};return{reconciler:HKe({createInstance:n,removeChild:a,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(d,f)=>{if(!f)return;const h=d.getState().scene;h.__r3f&&(h.__r3f.root=d,r(h,f))},removeChildFromContainer:(d,f)=>{f&&a(d.getState().scene,f)},insertInContainerBefore:(d,f,h)=>{if(!f||!h)return;const m=d.getState().scene;m.__r3f&&i(m,f,h)},getRootHostContext:()=>null,getChildHostContext:d=>d,finalizeInitialChildren(d){var f;return!!((f=d==null?void 0:d.__r3f)!=null?f:{}).handlers},prepareUpdate(d,f,h,m){var p;if(((p=d==null?void 0:d.__r3f)!=null?p:{}).primitive&&m.object&&m.object!==d)return[!0];{const{args:v=[],children:g,...w}=m,{args:_=[],children:E,...N}=h;if(!Array.isArray(v))throw new Error("R3F: the args prop must be an array!");if(v.some((j,T)=>j!==_[T]))return[!0];const C=Xle(d,w,N,!0);return C.changes.length?[!1,C]:null}},commitUpdate(d,[f,h],m,p,x,v){f?l(d,m,x,v):fk(d,h)},commitMount(d,f,h,m){var p;const x=(p=d.__r3f)!=null?p:{};d.raycast&&x.handlers&&x.eventCount&&pE(d).getState().internal.interaction.push(d)},getPublicInstance:d=>d,prepareForCommit:()=>null,preparePortalMount:d=>hg(d.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(d){var f;const{attach:h,parent:m}=(f=d.__r3f)!=null?f:{};h&&m&&rG(m,d,h),d.isObject3D&&(d.visible=!1),mg(d)},unhideInstance(d,f){var h;const{attach:m,parent:p}=(h=d.__r3f)!=null?h:{};m&&p&&dk(p,d,m),(d.isObject3D&&f.visible==null||f.visible)&&(d.visible=!0),mg(d)},createTextInstance:c,hideTextInstance:c,unhideTextInstance:c,getCurrentEventPriority:()=>e?e():Og.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&or.fun(performance.now)?performance.now:or.fun(Date.now)?Date.now:()=>0,scheduleTimeout:or.fun(setTimeout)?setTimeout:void 0,cancelTimeout:or.fun(clearTimeout)?clearTimeout:void 0}),applyProps:fk}}var JH,eG;const uk=t=>"colorSpace"in t||"outputColorSpace"in t,Wle=()=>{var t;return(t=bU.ColorManagement)!=null?t:null},$le=t=>t&&t.isOrthographicCamera,KKe=t=>t&&t.hasOwnProperty("current"),i1=typeof window<"u"&&((JH=window.document)!=null&&JH.createElement||((eG=window.navigator)==null?void 0:eG.product)==="ReactNative")?S.useLayoutEffect:S.useEffect;function Hle(t){const e=S.useRef(t);return i1(()=>void(e.current=t),[t]),e}function XKe({set:t}){return i1(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class Gle extends S.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}Gle.getDerivedStateFromError=()=>({error:!0});const qle="__default",tG=new Map,YKe=t=>t&&!!t.memoized&&!!t.changes;function Kle(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const ky=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()};function pE(t){let e=t.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const or={obj:t=>t===Object(t)&&!or.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(or.str(t)||or.num(t)||or.boo(t))return t===e;const s=or.obj(t);if(s&&r==="reference")return t===e;const a=or.arr(t);if(a&&n==="reference")return t===e;if((a||s)&&t===e)return!0;let l;for(l in t)if(!(l in e))return!1;if(s&&n==="shallow"&&r==="shallow"){for(l in i?e:t)if(!or.equ(t[l],e[l],{strict:i,objects:"reference"}))return!1}else for(l in i?e:t)if(t[l]!==e[l])return!1;if(or.und(l)){if(a&&t.length===0&&e.length===0||s&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function ZKe(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function hg(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function DD(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((s,a)=>s[a],t),{target:n,key:i}}else return{target:n,key:e}}const nG=/-\d+$/;function dk(t,e,n){if(or.str(n)){if(nG.test(n)){const s=n.replace(nG,""),{target:a,key:l}=DD(t,s);Array.isArray(a[l])||(a[l]=[])}const{target:r,key:i}=DD(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function rG(t,e,n){var r,i;if(or.str(n)){const{target:s,key:a}=DD(t,n),l=e.__r3f.previousAttach;l===void 0?delete s[a]:s[a]=l}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function Xle(t,{children:e,key:n,ref:r,...i},{children:s,key:a,ref:l,...c}={},u=!1){const d=t.__r3f,f=Object.entries(i),h=[];if(u){const p=Object.keys(c);for(let x=0;x<p.length;x++)i.hasOwnProperty(p[x])||f.unshift([p[x],qle+"remove"])}f.forEach(([p,x])=>{var v;if((v=t.__r3f)!=null&&v.primitive&&p==="object"||or.equ(x,c[p]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(p))return h.push([p,x,!0,[]]);let g=[];p.includes("-")&&(g=p.split("-")),h.push([p,x,!1,g]);for(const w in i){const _=i[w];w.startsWith(`${p}-`)&&h.push([w,_,!1,w.split("-")])}});const m={...i};return d!=null&&d.memoizedProps&&d!=null&&d.memoizedProps.args&&(m.args=d.memoizedProps.args),d!=null&&d.memoizedProps&&d!=null&&d.memoizedProps.attach&&(m.attach=d.memoizedProps.attach),{memoized:m,changes:h}}function fk(t,e){var n;const r=t.__r3f,i=r==null?void 0:r.root,s=i==null||i.getState==null?void 0:i.getState(),{memoized:a,changes:l}=YKe(e)?e:Xle(t,e),c=r==null?void 0:r.eventCount;t.__r3f&&(t.__r3f.memoizedProps=a);for(let h=0;h<l.length;h++){let[m,p,x,v]=l[h];if(uk(t)){const E="srgb",N="srgb-linear";m==="encoding"?(m="colorSpace",p=p===3001?E:N):m==="outputEncoding"&&(m="outputColorSpace",p=p===3001?E:N)}let g=t,w=g[m];if(v.length&&(w=v.reduce((_,E)=>_[E],t),!(w&&w.set))){const[_,...E]=v.reverse();g=E.reverse().reduce((N,C)=>N[C],t),m=_}if(p===qle+"remove")if(g.constructor){let _=tG.get(g.constructor);_||(_=new g.constructor,tG.set(g.constructor,_)),p=_[m]}else p=0;if(x&&r)p?r.handlers[m]=p:delete r.handlers[m],r.eventCount=Object.keys(r.handlers).length;else if(w&&w.set&&(w.copy||w instanceof xm)){if(Array.isArray(p))w.fromArray?w.fromArray(p):w.set(...p);else if(w.copy&&p&&p.constructor&&w.constructor===p.constructor)w.copy(p);else if(p!==void 0){var u;const _=(u=w)==null?void 0:u.isColor;!_&&w.setScalar?w.setScalar(p):w instanceof xm&&p instanceof xm?w.mask=p.mask:w.set(p),!Wle()&&s&&!s.linear&&_&&w.convertSRGBToLinear()}}else{var d;if(g[m]=p,(d=g[m])!=null&&d.isTexture&&g[m].format===_s&&g[m].type===Xo&&s){const _=g[m];uk(_)&&uk(s.gl)?_.colorSpace=s.gl.outputColorSpace:_.encoding=s.gl.outputEncoding}}mg(t)}if(r&&r.parent&&t.raycast&&c!==r.eventCount){const h=pE(t).getState().internal,m=h.interaction.indexOf(t);m>-1&&h.interaction.splice(m,1),r.eventCount&&h.interaction.push(t)}return!(l.length===1&&l[0][0]==="onUpdate")&&l.length&&(n=t.__r3f)!=null&&n.parent&&ID(t),t}function mg(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function ID(t){t.onUpdate==null||t.onUpdate(t)}function QKe(t,e){t.manual||($le(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function LS(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function JKe(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Og.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Og.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Og.ContinuousEventPriority;default:return Og.DefaultEventPriority}}function Yle(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function eXe(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{Yle(n.capturedMap,e,r,i)})}function tXe(t){function e(c){const{internal:u}=t.getState(),d=c.offsetX-u.initialClick[0],f=c.offsetY-u.initialClick[1];return Math.round(Math.sqrt(d*d+f*f))}function n(c){return c.filter(u=>["Move","Over","Enter","Out","Leave"].some(d=>{var f;return(f=u.__r3f)==null?void 0:f.handlers["onPointer"+d]}))}function r(c,u){const d=t.getState(),f=new Set,h=[],m=u?u(d.internal.interaction):d.internal.interaction;for(let g=0;g<m.length;g++){const w=ky(m[g]);w&&(w.raycaster.camera=void 0)}d.previousRoot||d.events.compute==null||d.events.compute(c,d);function p(g){const w=ky(g);if(!w||!w.events.enabled||w.raycaster.camera===null)return[];if(w.raycaster.camera===void 0){var _;w.events.compute==null||w.events.compute(c,w,(_=w.previousRoot)==null?void 0:_.getState()),w.raycaster.camera===void 0&&(w.raycaster.camera=null)}return w.raycaster.camera?w.raycaster.intersectObject(g,!0):[]}let x=m.flatMap(p).sort((g,w)=>{const _=ky(g.object),E=ky(w.object);return!_||!E?g.distance-w.distance:E.events.priority-_.events.priority||g.distance-w.distance}).filter(g=>{const w=LS(g);return f.has(w)?!1:(f.add(w),!0)});d.events.filter&&(x=d.events.filter(x,d));for(const g of x){let w=g.object;for(;w;){var v;(v=w.__r3f)!=null&&v.eventCount&&h.push({...g,eventObject:w}),w=w.parent}}if("pointerId"in c&&d.internal.capturedMap.has(c.pointerId))for(let g of d.internal.capturedMap.get(c.pointerId).values())f.has(LS(g.intersection))||h.push(g.intersection);return h}function i(c,u,d,f){const h=t.getState();if(c.length){const m={stopped:!1};for(const p of c){const x=ky(p.object)||h,{raycaster:v,pointer:g,camera:w,internal:_}=x,E=new J(g.x,g.y,0).unproject(w),N=P=>{var R,D;return(R=(D=_.capturedMap.get(P))==null?void 0:D.has(p.eventObject))!=null?R:!1},C=P=>{const R={intersection:p,target:u.target};_.capturedMap.has(P)?_.capturedMap.get(P).set(p.eventObject,R):_.capturedMap.set(P,new Map([[p.eventObject,R]])),u.target.setPointerCapture(P)},j=P=>{const R=_.capturedMap.get(P);R&&Yle(_.capturedMap,p.eventObject,R,P)};let T={};for(let P in u){let R=u[P];typeof R!="function"&&(T[P]=R)}let A={...p,...T,pointer:g,intersections:c,stopped:m.stopped,delta:d,unprojectedPoint:E,ray:v.ray,camera:w,stopPropagation(){const P="pointerId"in u&&_.capturedMap.get(u.pointerId);if((!P||P.has(p.eventObject))&&(A.stopped=m.stopped=!0,_.hovered.size&&Array.from(_.hovered.values()).find(R=>R.eventObject===p.eventObject))){const R=c.slice(0,c.indexOf(p));s([...R,p])}},target:{hasPointerCapture:N,setPointerCapture:C,releasePointerCapture:j},currentTarget:{hasPointerCapture:N,setPointerCapture:C,releasePointerCapture:j},nativeEvent:u};if(f(A),m.stopped===!0)break}}return c}function s(c){const{internal:u}=t.getState();for(const d of u.hovered.values())if(!c.length||!c.find(f=>f.object===d.object&&f.index===d.index&&f.instanceId===d.instanceId)){const h=d.eventObject.__r3f,m=h==null?void 0:h.handlers;if(u.hovered.delete(LS(d)),h!=null&&h.eventCount){const p={...d,intersections:c};m.onPointerOut==null||m.onPointerOut(p),m.onPointerLeave==null||m.onPointerLeave(p)}}}function a(c,u){for(let d=0;d<u.length;d++){const f=u[d].__r3f;f==null||f.handlers.onPointerMissed==null||f.handlers.onPointerMissed(c)}}function l(c){switch(c){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return u=>{const{internal:d}=t.getState();"pointerId"in u&&d.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{d.capturedMap.has(u.pointerId)&&(d.capturedMap.delete(u.pointerId),s([]))})}}return function(d){const{onPointerMissed:f,internal:h}=t.getState();h.lastEvent.current=d;const m=c==="onPointerMove",p=c==="onClick"||c==="onContextMenu"||c==="onDoubleClick",v=r(d,m?n:void 0),g=p?e(d):0;c==="onPointerDown"&&(h.initialClick=[d.offsetX,d.offsetY],h.initialHits=v.map(_=>_.eventObject)),p&&!v.length&&g<=2&&(a(d,h.interaction),f&&f(d)),m&&s(v);function w(_){const E=_.eventObject,N=E.__r3f,C=N==null?void 0:N.handlers;if(N!=null&&N.eventCount)if(m){if(C.onPointerOver||C.onPointerEnter||C.onPointerOut||C.onPointerLeave){const j=LS(_),T=h.hovered.get(j);T?T.stopped&&_.stopPropagation():(h.hovered.set(j,_),C.onPointerOver==null||C.onPointerOver(_),C.onPointerEnter==null||C.onPointerEnter(_))}C.onPointerMove==null||C.onPointerMove(_)}else{const j=C[c];j?(!p||h.initialHits.includes(E))&&(a(d,h.interaction.filter(T=>!h.initialHits.includes(T))),j(_)):p&&h.initialHits.includes(E)&&a(d,h.interaction.filter(T=>!h.initialHits.includes(T)))}}i(v,d,g,w)}}return{handlePointer:l}}const Zle=t=>!!(t!=null&&t.render),Qle=S.createContext(null),nXe=(t,e)=>{const n=FKe((l,c)=>{const u=new J,d=new J,f=new J;function h(g=c().camera,w=d,_=c().size){const{width:E,height:N,top:C,left:j}=_,T=E/N;w.isVector3?f.copy(w):f.set(...w);const A=g.getWorldPosition(u).distanceTo(f);if($le(g))return{width:E/g.zoom,height:N/g.zoom,top:C,left:j,factor:1,distance:A,aspect:T};{const P=g.fov*Math.PI/180,R=2*Math.tan(P/2)*A,D=R*(E/N);return{width:D,height:R,top:C,left:j,factor:E/D,distance:A,aspect:T}}}let m;const p=g=>l(w=>({performance:{...w.performance,current:g}})),x=new Ge;return{set:l,get:c,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(g=1)=>t(c(),g),advance:(g,w)=>e(g,w,c()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new mU,pointer:x,mouse:x,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const g=c();m&&clearTimeout(m),g.performance.current!==g.performance.min&&p(g.performance.min),m=setTimeout(()=>p(c().performance.max),g.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:h},setEvents:g=>l(w=>({...w,events:{...w.events,...g}})),setSize:(g,w,_,E,N)=>{const C=c().camera,j={width:g,height:w,top:E||0,left:N||0,updateStyle:_};l(T=>({size:j,viewport:{...T.viewport,...h(C,d,j)}}))},setDpr:g=>l(w=>{const _=Kle(g);return{viewport:{...w.viewport,dpr:_,initialDpr:w.viewport.initialDpr||_}}}),setFrameloop:(g="always")=>{const w=c().clock;w.stop(),w.elapsedTime=0,g!=="never"&&(w.start(),w.elapsedTime=0),l(()=>({frameloop:g}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:S.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(g,w,_)=>{const E=c().internal;return E.priority=E.priority+(w>0?1:0),E.subscribers.push({ref:g,priority:w,store:_}),E.subscribers=E.subscribers.sort((N,C)=>N.priority-C.priority),()=>{const N=c().internal;N!=null&&N.subscribers&&(N.priority=N.priority-(w>0?1:0),N.subscribers=N.subscribers.filter(C=>C.ref!==g))}}}}}),r=n.getState();let i=r.size,s=r.viewport.dpr,a=r.camera;return n.subscribe(()=>{const{camera:l,size:c,viewport:u,gl:d,set:f}=n.getState();if(c.width!==i.width||c.height!==i.height||u.dpr!==s){var h;i=c,s=u.dpr,QKe(l,c),d.setPixelRatio(u.dpr);const m=(h=c.updateStyle)!=null?h:typeof HTMLCanvasElement<"u"&&d.domElement instanceof HTMLCanvasElement;d.setSize(c.width,c.height,m)}l!==a&&(a=l,f(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(l)}})))}),n.subscribe(l=>t(l)),n};let FS,rXe=new Set,iXe=new Set,sXe=new Set;function hk(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function Ry(t,e){switch(t){case"before":return hk(rXe,e);case"after":return hk(iXe,e);case"tail":return hk(sXe,e)}}let mk,pk;function gk(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),mk=e.internal.subscribers,FS=0;FS<mk.length;FS++)pk=mk[FS],pk.ref.current(pk.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function aXe(t){let e=!1,n=!1,r,i,s;function a(u){i=requestAnimationFrame(a),e=!0,r=0,Ry("before",u),n=!0;for(const f of t.values()){var d;s=f.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((d=s.gl.xr)!=null&&d.isPresenting)&&(r+=gk(u,s))}if(n=!1,Ry("after",u),r===0)return Ry("tail",u),e=!1,cancelAnimationFrame(i)}function l(u,d=1){var f;if(!u)return t.forEach(h=>l(h.store.getState(),d));(f=u.gl.xr)!=null&&f.isPresenting||!u.internal.active||u.frameloop==="never"||(d>1?u.internal.frames=Math.min(60,u.internal.frames+d):n?u.internal.frames=2:u.internal.frames=1,e||(e=!0,requestAnimationFrame(a)))}function c(u,d=!0,f,h){if(d&&Ry("before",u),f)gk(u,f,h);else for(const m of t.values())gk(u,m.store.getState());d&&Ry("after",u)}return{loop:a,invalidate:l,advance:c}}function Jle(){const t=S.useContext(Qle);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function nu(t=n=>n,e){return Jle()(t,e)}function ece(t,e=0){const n=Jle(),r=n.getState().internal.subscribe,i=Hle(t);return i1(()=>r(i,e,n),[e,r,n]),null}const $v=new Map,{invalidate:iG,advance:sG}=aXe($v),{reconciler:BM,applyProps:ag}=qKe($v,JKe),og={objects:"shallow",strict:!1},oXe=(t,e)=>{const n=typeof t=="function"?t(e):t;return Zle(n)?n:new Fle({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function lXe(t,e){const n=typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:s,left:a,updateStyle:l=n}=e;return{width:r,height:i,top:s,left:a,updateStyle:l}}else if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:r,height:i,top:s,left:a}=t.parentElement.getBoundingClientRect();return{width:r,height:i,top:s,left:a,updateStyle:n}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:n};return{width:0,height:0,top:0,left:0}}function cXe(t){const e=$v.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||nXe(iG,sG),a=n||BM.createContainer(s,Og.ConcurrentRoot,null,!1,null,"",i,null);e||$v.set(t,{fiber:a,store:s});let l,c=!1,u;return{configure(d={}){let{gl:f,size:h,scene:m,events:p,onCreated:x,shadows:v=!1,linear:g=!1,flat:w=!1,legacy:_=!1,orthographic:E=!1,frameloop:N="always",dpr:C=[1,2],performance:j,raycaster:T,camera:A,onPointerMissed:P}=d,R=s.getState(),D=R.gl;R.gl||R.set({gl:D=oXe(f,t)});let F=R.raycaster;F||R.set({raycaster:F=new Tle});const{params:I,...G}=T||{};if(or.equ(G,F,og)||ag(F,{...G}),or.equ(I,F.params,og)||ag(F,{params:{...F.params,...I}}),!R.camera||R.camera===u&&!or.equ(u,A,og)){u=A;const K=A instanceof Yw,W=K?A:E?new cf(0,0,0,0,.1,1e3):new zr(75,0,.1,1e3);K||(W.position.z=5,A&&(ag(W,A),("aspect"in A||"left"in A||"right"in A||"bottom"in A||"top"in A)&&(W.manual=!0,W.updateProjectionMatrix())),!R.camera&&!(A!=null&&A.rotation)&&W.lookAt(0,0,0)),R.set({camera:W}),F.camera=W}if(!R.scene){let K;m!=null&&m.isScene?K=m:(K=new XF,m&&ag(K,m)),R.set({scene:hg(K)})}if(!R.xr){var q;const K=(ee,Y)=>{const Q=s.getState();Q.frameloop!=="never"&&sG(ee,!0,Q,Y)},W=()=>{const ee=s.getState();ee.gl.xr.enabled=ee.gl.xr.isPresenting,ee.gl.xr.setAnimationLoop(ee.gl.xr.isPresenting?K:null),ee.gl.xr.isPresenting||iG(ee)},B={connect(){const ee=s.getState().gl;ee.xr.addEventListener("sessionstart",W),ee.xr.addEventListener("sessionend",W)},disconnect(){const ee=s.getState().gl;ee.xr.removeEventListener("sessionstart",W),ee.xr.removeEventListener("sessionend",W)}};typeof((q=D.xr)==null?void 0:q.addEventListener)=="function"&&B.connect(),R.set({xr:B})}if(D.shadowMap){const K=D.shadowMap.enabled,W=D.shadowMap.type;if(D.shadowMap.enabled=!!v,or.boo(v))D.shadowMap.type=y0;else if(or.str(v)){var $;const B={basic:Wae,percentage:mj,soft:y0,variance:hl};D.shadowMap.type=($=B[v])!=null?$:y0}else or.obj(v)&&Object.assign(D.shadowMap,v);(K!==D.shadowMap.enabled||W!==D.shadowMap.type)&&(D.shadowMap.needsUpdate=!0)}const L=Wle();L&&("enabled"in L?L.enabled=!_:"legacyMode"in L&&(L.legacyMode=_)),c||ag(D,{outputEncoding:g?3e3:3001,toneMapping:w?_c:kF}),R.legacy!==_&&R.set(()=>({legacy:_})),R.linear!==g&&R.set(()=>({linear:g})),R.flat!==w&&R.set(()=>({flat:w})),f&&!or.fun(f)&&!Zle(f)&&!or.equ(f,D,og)&&ag(D,f),p&&!R.events.handlers&&R.set({events:p(s)});const V=lXe(t,h);return or.equ(V,R.size,og)||R.setSize(V.width,V.height,V.updateStyle,V.top,V.left),C&&R.viewport.dpr!==Kle(C)&&R.setDpr(C),R.frameloop!==N&&R.setFrameloop(N),R.onPointerMissed||R.set({onPointerMissed:P}),j&&!or.equ(j,R.performance,og)&&R.set(K=>({performance:{...K.performance,...j}})),l=x,c=!0,this},render(d){return c||this.configure(),BM.updateContainer(o.jsx(uXe,{store:s,children:d,onCreated:l,rootElement:t}),a,null,()=>{}),s},unmount(){tce(t)}}}function uXe({store:t,children:e,onCreated:n,rootElement:r}){return i1(()=>{const i=t.getState();i.set(s=>({internal:{...s.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),o.jsx(Qle.Provider,{value:t,children:e})}function tce(t,e){const n=$v.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),BM.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,a,l,c;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(a=s.renderLists)==null||a.dispose==null||a.dispose(),(l=i.gl)==null||l.forceContextLoss==null||l.forceContextLoss(),(c=i.gl)!=null&&c.xr&&i.xr.disconnect(),ZKe(i),$v.delete(t)}catch{}},500)})}}BM.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:S.version});const vk={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function dXe(t){const{handlePointer:e}=tXe(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(vk).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:s}=t.getState();s.disconnect==null||s.disconnect(),i(a=>({events:{...a.events,connected:n}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([a,l])=>{const[c,u]=vk[a];n.addEventListener(c,l,{passive:u})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,a])=>{if(r&&r.connected instanceof HTMLElement){const[l]=vk[s];r.connected.removeEventListener(l,a)}}),n(s=>({events:{...s.events,connected:void 0}}))}}}}function aG(t,e){let n;return(...r)=>{window.clearTimeout(n),n=window.setTimeout(()=>t(...r),e)}}function fXe({debounce:t,scroll:e,polyfill:n,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!i)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,a]=S.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=S.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),c=t?typeof t=="number"?t:t.scroll:null,u=t?typeof t=="number"?t:t.resize:null,d=S.useRef(!1);S.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[f,h,m]=S.useMemo(()=>{const g=()=>{if(!l.current.element)return;const{left:w,top:_,width:E,height:N,bottom:C,right:j,x:T,y:A}=l.current.element.getBoundingClientRect(),P={left:w,top:_,width:E,height:N,bottom:C,right:j,x:T,y:A};l.current.element instanceof HTMLElement&&r&&(P.height=l.current.element.offsetHeight,P.width=l.current.element.offsetWidth),Object.freeze(P),d.current&&!gXe(l.current.lastBounds,P)&&a(l.current.lastBounds=P)};return[g,u?aG(g,u):g,c?aG(g,c):g]},[a,r,c,u]);function p(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(g=>g.removeEventListener("scroll",m,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null),l.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",l.current.orientationHandler))}function x(){l.current.element&&(l.current.resizeObserver=new i(m),l.current.resizeObserver.observe(l.current.element),e&&l.current.scrollContainers&&l.current.scrollContainers.forEach(g=>g.addEventListener("scroll",m,{capture:!0,passive:!0})),l.current.orientationHandler=()=>{m()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",l.current.orientationHandler))}const v=g=>{!g||g===l.current.element||(p(),l.current.element=g,l.current.scrollContainers=nce(g),x())};return mXe(m,!!e),hXe(h),S.useEffect(()=>{p(),x()},[e,m,h]),S.useEffect(()=>p,[]),[v,s,f]}function hXe(t){S.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function mXe(t,e){S.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function nce(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(t),[...e,...nce(t.parentElement)]}const pXe=["x","y","top","bottom","left","right","width","height"],gXe=(t,e)=>pXe.every(n=>t[n]===e[n]);var vXe=Object.defineProperty,xXe=Object.defineProperties,yXe=Object.getOwnPropertyDescriptors,oG=Object.getOwnPropertySymbols,bXe=Object.prototype.hasOwnProperty,wXe=Object.prototype.propertyIsEnumerable,lG=(t,e,n)=>e in t?vXe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,cG=(t,e)=>{for(var n in e||(e={}))bXe.call(e,n)&&lG(t,n,e[n]);if(oG)for(var n of oG(e))wXe.call(e,n)&&lG(t,n,e[n]);return t},_Xe=(t,e)=>xXe(t,yXe(e)),uG,dG;typeof window<"u"&&((uG=window.document)!=null&&uG.createElement||((dG=window.navigator)==null?void 0:dG.product)==="ReactNative")?S.useLayoutEffect:S.useEffect;function rce(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=t.child;for(;r;){const i=rce(r,e,n);if(i)return i;r=r.sibling}}function ice(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const fG=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=fG;return}return fG.apply(this,arguments)};const wU=ice(S.createContext(null));class sce extends S.Component{render(){return S.createElement(wU.Provider,{value:this._reactInternals},this.props.children)}}function SXe(){const t=S.useContext(wU);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=S.useId();return S.useMemo(()=>{for(const r of[t,t==null?void 0:t.alternate]){if(!r)continue;const i=rce(r,!1,s=>{let a=s.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(i)return i}},[t,e])}function EXe(){const t=SXe(),[e]=S.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const i=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;i&&i!==wU&&!e.has(i)&&e.set(i,S.useContext(ice(i)))}n=n.return}return e}function NXe(){const t=EXe();return S.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>S.createElement(e,null,S.createElement(n.Provider,_Xe(cG({},r),{value:t.get(n)}))),e=>S.createElement(sce,cG({},e))),[t])}const MXe=S.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:s,events:a=dXe,eventSource:l,eventPrefix:c,shadows:u,linear:d,flat:f,legacy:h,orthographic:m,frameloop:p,dpr:x,performance:v,raycaster:g,camera:w,scene:_,onPointerMissed:E,onCreated:N,...C},j){S.useMemo(()=>GKe(DKe),[]);const T=NXe(),[A,P]=fXe({scroll:!0,debounce:{scroll:50,resize:0},...r}),R=S.useRef(null),D=S.useRef(null);S.useImperativeHandle(j,()=>R.current);const F=Hle(E),[I,G]=S.useState(!1),[q,$]=S.useState(!1);if(I)throw I;if(q)throw q;const L=S.useRef(null);i1(()=>{const K=R.current;P.width>0&&P.height>0&&K&&(L.current||(L.current=cXe(K)),L.current.configure({gl:s,events:a,shadows:u,linear:d,flat:f,legacy:h,orthographic:m,frameloop:p,dpr:x,performance:v,raycaster:g,camera:w,scene:_,size:P,onPointerMissed:(...W)=>F.current==null?void 0:F.current(...W),onCreated:W=>{W.events.connect==null||W.events.connect(l?KKe(l)?l.current:l:D.current),c&&W.setEvents({compute:(B,ee)=>{const Y=B[c+"X"],Q=B[c+"Y"];ee.pointer.set(Y/ee.size.width*2-1,-(Q/ee.size.height)*2+1),ee.raycaster.setFromCamera(ee.pointer,ee.camera)}}),N==null||N(W)}}),L.current.render(o.jsx(T,{children:o.jsx(Gle,{set:$,children:o.jsx(S.Suspense,{fallback:o.jsx(XKe,{set:G}),children:e??null})})})))}),S.useEffect(()=>{const K=R.current;if(K)return()=>tce(K)},[]);const V=l?"none":"auto";return o.jsx("div",{ref:D,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:V,...i},...C,children:o.jsx("div",{ref:A,style:{width:"100%",height:"100%"},children:o.jsx("canvas",{ref:R,style:{display:"block"},children:n})})})}),CXe=S.forwardRef(function(e,n){return o.jsx(sce,{children:o.jsx(MXe,{...e,ref:n})})});function zM(){return zM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zM.apply(null,arguments)}var jXe=Object.defineProperty,AXe=(t,e,n)=>e in t?jXe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,TXe=(t,e,n)=>(AXe(t,e+"",n),n);class PXe{constructor(){TXe(this,"_listeners")}addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,a=i.length;s<a;s++)i[s].call(this,e);e.target=null}}}var kXe=Object.defineProperty,RXe=(t,e,n)=>e in t?kXe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,zt=(t,e,n)=>(RXe(t,typeof e!="symbol"?e+"":e,n),n);const US=new lp,hG=new au,OXe=Math.cos(70*(Math.PI/180)),mG=(t,e)=>(t%e+e)%e;let DXe=class extends PXe{constructor(e,n){super(),zt(this,"object"),zt(this,"domElement"),zt(this,"enabled",!0),zt(this,"target",new J),zt(this,"minDistance",0),zt(this,"maxDistance",1/0),zt(this,"minZoom",0),zt(this,"maxZoom",1/0),zt(this,"minPolarAngle",0),zt(this,"maxPolarAngle",Math.PI),zt(this,"minAzimuthAngle",-1/0),zt(this,"maxAzimuthAngle",1/0),zt(this,"enableDamping",!1),zt(this,"dampingFactor",.05),zt(this,"enableZoom",!0),zt(this,"zoomSpeed",1),zt(this,"enableRotate",!0),zt(this,"rotateSpeed",1),zt(this,"enablePan",!0),zt(this,"panSpeed",1),zt(this,"screenSpacePanning",!0),zt(this,"keyPanSpeed",7),zt(this,"zoomToCursor",!1),zt(this,"autoRotate",!1),zt(this,"autoRotateSpeed",2),zt(this,"reverseOrbit",!1),zt(this,"reverseHorizontalOrbit",!1),zt(this,"reverseVerticalOrbit",!1),zt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),zt(this,"mouseButtons",{LEFT:Rh.ROTATE,MIDDLE:Rh.DOLLY,RIGHT:Rh.PAN}),zt(this,"touches",{ONE:Oh.ROTATE,TWO:Oh.DOLLY_PAN}),zt(this,"target0"),zt(this,"position0"),zt(this,"zoom0"),zt(this,"_domElementKeyEvents",null),zt(this,"getPolarAngle"),zt(this,"getAzimuthalAngle"),zt(this,"setPolarAngle"),zt(this,"setAzimuthalAngle"),zt(this,"getDistance"),zt(this,"getZoomScale"),zt(this,"listenToKeyEvents"),zt(this,"stopListenToKeyEvents"),zt(this,"saveState"),zt(this,"reset"),zt(this,"update"),zt(this,"connect"),zt(this,"dispose"),zt(this,"dollyIn"),zt(this,"dollyOut"),zt(this,"getScale"),zt(this,"setScale"),this.object=e,this.domElement=n,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>d.phi,this.getAzimuthalAngle=()=>d.theta,this.setPolarAngle=ie=>{let be=mG(ie,2*Math.PI),Je=d.phi;Je<0&&(Je+=2*Math.PI),be<0&&(be+=2*Math.PI);let se=Math.abs(be-Je);2*Math.PI-se<se&&(be<Je?be+=2*Math.PI:Je+=2*Math.PI),f.phi=be-Je,r.update()},this.setAzimuthalAngle=ie=>{let be=mG(ie,2*Math.PI),Je=d.theta;Je<0&&(Je+=2*Math.PI),be<0&&(be+=2*Math.PI);let se=Math.abs(be-Je);2*Math.PI-se<se&&(be<Je?be+=2*Math.PI:Je+=2*Math.PI),f.theta=be-Je,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=ie=>{ie.addEventListener("keydown",ye),this._domElementKeyEvents=ie},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",ye),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),c=l.NONE},this.update=(()=>{const ie=new J,be=new J(0,1,0),Je=new Ms().setFromUnitVectors(e.up,be),se=Je.clone().invert(),Ie=new J,Le=new Ms,ft=2*Math.PI;return function(){const Pe=r.object.position;Je.setFromUnitVectors(e.up,be),se.copy(Je).invert(),ie.copy(Pe).sub(r.target),ie.applyQuaternion(Je),d.setFromVector3(ie),r.autoRotate&&c===l.NONE&&I(D()),r.enableDamping?(d.theta+=f.theta*r.dampingFactor,d.phi+=f.phi*r.dampingFactor):(d.theta+=f.theta,d.phi+=f.phi);let Fe=r.minAzimuthAngle,tt=r.maxAzimuthAngle;isFinite(Fe)&&isFinite(tt)&&(Fe<-Math.PI?Fe+=ft:Fe>Math.PI&&(Fe-=ft),tt<-Math.PI?tt+=ft:tt>Math.PI&&(tt-=ft),Fe<=tt?d.theta=Math.max(Fe,Math.min(tt,d.theta)):d.theta=d.theta>(Fe+tt)/2?Math.max(Fe,d.theta):Math.min(tt,d.theta)),d.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,d.phi)),d.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(m,r.dampingFactor):r.target.add(m),r.zoomToCursor&&A||r.object.isOrthographicCamera?d.radius=ee(d.radius):d.radius=ee(d.radius*h),ie.setFromSpherical(d),ie.applyQuaternion(se),Pe.copy(r.target).add(ie),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(f.theta*=1-r.dampingFactor,f.phi*=1-r.dampingFactor,m.multiplyScalar(1-r.dampingFactor)):(f.set(0,0,0),m.set(0,0,0));let it=!1;if(r.zoomToCursor&&A){let yt=null;if(r.object instanceof zr&&r.object.isPerspectiveCamera){const $t=ie.length();yt=ee($t*h);const tn=$t-yt;r.object.position.addScaledVector(j,tn),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const $t=new J(T.x,T.y,0);$t.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/h)),r.object.updateProjectionMatrix(),it=!0;const tn=new J(T.x,T.y,0);tn.unproject(r.object),r.object.position.sub(tn).add($t),r.object.updateMatrixWorld(),yt=ie.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;yt!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(yt).add(r.object.position):(US.origin.copy(r.object.position),US.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(US.direction))<OXe?e.lookAt(r.target):(hG.setFromNormalAndCoplanarPoint(r.object.up,r.target),US.intersectPlane(hG,r.target))))}else r.object instanceof cf&&r.object.isOrthographicCamera&&(it=h!==1,it&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/h)),r.object.updateProjectionMatrix()));return h=1,A=!1,it||Ie.distanceToSquared(r.object.position)>u||8*(1-Le.dot(r.object.quaternion))>u?(r.dispatchEvent(i),Ie.copy(r.object.position),Le.copy(r.object.quaternion),it=!1,!0):!1}})(),this.connect=ie=>{r.domElement=ie,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",rt),r.domElement.addEventListener("pointerdown",nt),r.domElement.addEventListener("pointercancel",z),r.domElement.addEventListener("wheel",Se)},this.dispose=()=>{var ie,be,Je,se,Ie,Le;r.domElement&&(r.domElement.style.touchAction="auto"),(ie=r.domElement)==null||ie.removeEventListener("contextmenu",rt),(be=r.domElement)==null||be.removeEventListener("pointerdown",nt),(Je=r.domElement)==null||Je.removeEventListener("pointercancel",z),(se=r.domElement)==null||se.removeEventListener("wheel",Se),(Ie=r.domElement)==null||Ie.ownerDocument.removeEventListener("pointermove",X),(Le=r.domElement)==null||Le.ownerDocument.removeEventListener("pointerup",z),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",ye)};const r=this,i={type:"change"},s={type:"start"},a={type:"end"},l={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let c=l.NONE;const u=1e-6,d=new TD,f=new TD;let h=1;const m=new J,p=new Ge,x=new Ge,v=new Ge,g=new Ge,w=new Ge,_=new Ge,E=new Ge,N=new Ge,C=new Ge,j=new J,T=new Ge;let A=!1;const P=[],R={};function D(){return 2*Math.PI/60/60*r.autoRotateSpeed}function F(){return Math.pow(.95,r.zoomSpeed)}function I(ie){r.reverseOrbit||r.reverseHorizontalOrbit?f.theta+=ie:f.theta-=ie}function G(ie){r.reverseOrbit||r.reverseVerticalOrbit?f.phi+=ie:f.phi-=ie}const q=(()=>{const ie=new J;return function(Je,se){ie.setFromMatrixColumn(se,0),ie.multiplyScalar(-Je),m.add(ie)}})(),$=(()=>{const ie=new J;return function(Je,se){r.screenSpacePanning===!0?ie.setFromMatrixColumn(se,1):(ie.setFromMatrixColumn(se,0),ie.crossVectors(r.object.up,ie)),ie.multiplyScalar(Je),m.add(ie)}})(),L=(()=>{const ie=new J;return function(Je,se){const Ie=r.domElement;if(Ie&&r.object instanceof zr&&r.object.isPerspectiveCamera){const Le=r.object.position;ie.copy(Le).sub(r.target);let ft=ie.length();ft*=Math.tan(r.object.fov/2*Math.PI/180),q(2*Je*ft/Ie.clientHeight,r.object.matrix),$(2*se*ft/Ie.clientHeight,r.object.matrix)}else Ie&&r.object instanceof cf&&r.object.isOrthographicCamera?(q(Je*(r.object.right-r.object.left)/r.object.zoom/Ie.clientWidth,r.object.matrix),$(se*(r.object.top-r.object.bottom)/r.object.zoom/Ie.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function V(ie){r.object instanceof zr&&r.object.isPerspectiveCamera||r.object instanceof cf&&r.object.isOrthographicCamera?h=ie:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function K(ie){V(h/ie)}function W(ie){V(h*ie)}function B(ie){if(!r.zoomToCursor||!r.domElement)return;A=!0;const be=r.domElement.getBoundingClientRect(),Je=ie.clientX-be.left,se=ie.clientY-be.top,Ie=be.width,Le=be.height;T.x=Je/Ie*2-1,T.y=-(se/Le)*2+1,j.set(T.x,T.y,1).unproject(r.object).sub(r.object.position).normalize()}function ee(ie){return Math.max(r.minDistance,Math.min(r.maxDistance,ie))}function Y(ie){p.set(ie.clientX,ie.clientY)}function Q(ie){B(ie),E.set(ie.clientX,ie.clientY)}function de(ie){g.set(ie.clientX,ie.clientY)}function te(ie){x.set(ie.clientX,ie.clientY),v.subVectors(x,p).multiplyScalar(r.rotateSpeed);const be=r.domElement;be&&(I(2*Math.PI*v.x/be.clientHeight),G(2*Math.PI*v.y/be.clientHeight)),p.copy(x),r.update()}function he(ie){N.set(ie.clientX,ie.clientY),C.subVectors(N,E),C.y>0?K(F()):C.y<0&&W(F()),E.copy(N),r.update()}function oe(ie){w.set(ie.clientX,ie.clientY),_.subVectors(w,g).multiplyScalar(r.panSpeed),L(_.x,_.y),g.copy(w),r.update()}function fe(ie){B(ie),ie.deltaY<0?W(F()):ie.deltaY>0&&K(F()),r.update()}function ve(ie){let be=!1;switch(ie.code){case r.keys.UP:L(0,r.keyPanSpeed),be=!0;break;case r.keys.BOTTOM:L(0,-r.keyPanSpeed),be=!0;break;case r.keys.LEFT:L(r.keyPanSpeed,0),be=!0;break;case r.keys.RIGHT:L(-r.keyPanSpeed,0),be=!0;break}be&&(ie.preventDefault(),r.update())}function ne(){if(P.length==1)p.set(P[0].pageX,P[0].pageY);else{const ie=.5*(P[0].pageX+P[1].pageX),be=.5*(P[0].pageY+P[1].pageY);p.set(ie,be)}}function Be(){if(P.length==1)g.set(P[0].pageX,P[0].pageY);else{const ie=.5*(P[0].pageX+P[1].pageX),be=.5*(P[0].pageY+P[1].pageY);g.set(ie,be)}}function H(){const ie=P[0].pageX-P[1].pageX,be=P[0].pageY-P[1].pageY,Je=Math.sqrt(ie*ie+be*be);E.set(0,Je)}function Te(){r.enableZoom&&H(),r.enablePan&&Be()}function Ne(){r.enableZoom&&H(),r.enableRotate&&ne()}function De(ie){if(P.length==1)x.set(ie.pageX,ie.pageY);else{const Je=Ke(ie),se=.5*(ie.pageX+Je.x),Ie=.5*(ie.pageY+Je.y);x.set(se,Ie)}v.subVectors(x,p).multiplyScalar(r.rotateSpeed);const be=r.domElement;be&&(I(2*Math.PI*v.x/be.clientHeight),G(2*Math.PI*v.y/be.clientHeight)),p.copy(x)}function ce(ie){if(P.length==1)w.set(ie.pageX,ie.pageY);else{const be=Ke(ie),Je=.5*(ie.pageX+be.x),se=.5*(ie.pageY+be.y);w.set(Je,se)}_.subVectors(w,g).multiplyScalar(r.panSpeed),L(_.x,_.y),g.copy(w)}function Ue(ie){const be=Ke(ie),Je=ie.pageX-be.x,se=ie.pageY-be.y,Ie=Math.sqrt(Je*Je+se*se);N.set(0,Ie),C.set(0,Math.pow(N.y/E.y,r.zoomSpeed)),K(C.y),E.copy(N)}function Ae(ie){r.enableZoom&&Ue(ie),r.enablePan&&ce(ie)}function ge(ie){r.enableZoom&&Ue(ie),r.enableRotate&&De(ie)}function nt(ie){var be,Je;r.enabled!==!1&&(P.length===0&&((be=r.domElement)==null||be.ownerDocument.addEventListener("pointermove",X),(Je=r.domElement)==null||Je.ownerDocument.addEventListener("pointerup",z)),st(ie),ie.pointerType==="touch"?Ye(ie):ae(ie))}function X(ie){r.enabled!==!1&&(ie.pointerType==="touch"?$e(ie):Me(ie))}function z(ie){var be,Je,se;ke(ie),P.length===0&&((be=r.domElement)==null||be.releasePointerCapture(ie.pointerId),(Je=r.domElement)==null||Je.ownerDocument.removeEventListener("pointermove",X),(se=r.domElement)==null||se.ownerDocument.removeEventListener("pointerup",z)),r.dispatchEvent(a),c=l.NONE}function ae(ie){let be;switch(ie.button){case 0:be=r.mouseButtons.LEFT;break;case 1:be=r.mouseButtons.MIDDLE;break;case 2:be=r.mouseButtons.RIGHT;break;default:be=-1}switch(be){case Rh.DOLLY:if(r.enableZoom===!1)return;Q(ie),c=l.DOLLY;break;case Rh.ROTATE:if(ie.ctrlKey||ie.metaKey||ie.shiftKey){if(r.enablePan===!1)return;de(ie),c=l.PAN}else{if(r.enableRotate===!1)return;Y(ie),c=l.ROTATE}break;case Rh.PAN:if(ie.ctrlKey||ie.metaKey||ie.shiftKey){if(r.enableRotate===!1)return;Y(ie),c=l.ROTATE}else{if(r.enablePan===!1)return;de(ie),c=l.PAN}break;default:c=l.NONE}c!==l.NONE&&r.dispatchEvent(s)}function Me(ie){if(r.enabled!==!1)switch(c){case l.ROTATE:if(r.enableRotate===!1)return;te(ie);break;case l.DOLLY:if(r.enableZoom===!1)return;he(ie);break;case l.PAN:if(r.enablePan===!1)return;oe(ie);break}}function Se(ie){r.enabled===!1||r.enableZoom===!1||c!==l.NONE&&c!==l.ROTATE||(ie.preventDefault(),r.dispatchEvent(s),fe(ie),r.dispatchEvent(a))}function ye(ie){r.enabled===!1||r.enablePan===!1||ve(ie)}function Ye(ie){switch(qe(ie),P.length){case 1:switch(r.touches.ONE){case Oh.ROTATE:if(r.enableRotate===!1)return;ne(),c=l.TOUCH_ROTATE;break;case Oh.PAN:if(r.enablePan===!1)return;Be(),c=l.TOUCH_PAN;break;default:c=l.NONE}break;case 2:switch(r.touches.TWO){case Oh.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Te(),c=l.TOUCH_DOLLY_PAN;break;case Oh.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Ne(),c=l.TOUCH_DOLLY_ROTATE;break;default:c=l.NONE}break;default:c=l.NONE}c!==l.NONE&&r.dispatchEvent(s)}function $e(ie){switch(qe(ie),c){case l.TOUCH_ROTATE:if(r.enableRotate===!1)return;De(ie),r.update();break;case l.TOUCH_PAN:if(r.enablePan===!1)return;ce(ie),r.update();break;case l.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Ae(ie),r.update();break;case l.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;ge(ie),r.update();break;default:c=l.NONE}}function rt(ie){r.enabled!==!1&&ie.preventDefault()}function st(ie){P.push(ie)}function ke(ie){delete R[ie.pointerId];for(let be=0;be<P.length;be++)if(P[be].pointerId==ie.pointerId){P.splice(be,1);return}}function qe(ie){let be=R[ie.pointerId];be===void 0&&(be=new Ge,R[ie.pointerId]=be),be.set(ie.pageX,ie.pageY)}function Ke(ie){const be=ie.pointerId===P[0].pointerId?P[1]:P[0];return R[be.pointerId]}this.dollyIn=(ie=F())=>{W(ie),r.update()},this.dollyOut=(ie=F())=>{K(ie),r.update()},this.getScale=()=>h,this.setScale=ie=>{V(ie),r.update()},this.getZoomScale=()=>F(),n!==void 0&&this.connect(n),this.update()}};function IXe(){var t=Object.create(null);function e(i,s){var a=i.id,l=i.name,c=i.dependencies;c===void 0&&(c=[]);var u=i.init;u===void 0&&(u=function(){});var d=i.getTransferables;if(d===void 0&&(d=null),!t[a])try{c=c.map(function(h){return h&&h.isWorkerModule&&(e(h,function(m){if(m instanceof Error)throw m}),h=t[h.id].value),h}),u=r("<"+l+">.init",u),d&&(d=r("<"+l+">.getTransferables",d));var f=null;typeof u=="function"?f=u.apply(void 0,c):console.error("worker module init function failed to rehydrate"),t[a]={id:a,value:f,getTransferables:d},s(f)}catch(h){h&&h.noLog||console.error(h),s(h)}}function n(i,s){var a,l=i.id,c=i.args;(!t[l]||typeof t[l].value!="function")&&s(new Error("Worker module "+l+": not found or its 'init' did not return a function"));try{var u=(a=t[l]).value.apply(a,c);u&&typeof u.then=="function"?u.then(d,function(f){return s(f instanceof Error?f:new Error(""+f))}):d(u)}catch(f){s(f)}function d(f){try{var h=t[l].getTransferables&&t[l].getTransferables(f);(!h||!Array.isArray(h)||!h.length)&&(h=void 0),s(f,h)}catch(m){console.error(m),s(m)}}}function r(i,s){var a=void 0;self.troikaDefine=function(c){return a=c};var l=URL.createObjectURL(new Blob(["/** "+i.replace(/\*/g,"")+` **/

troikaDefine(
`+s+`
)`],{type:"application/javascript"}));try{importScripts(l)}catch(c){console.error(c)}return URL.revokeObjectURL(l),delete self.troikaDefine,a}self.addEventListener("message",function(i){var s=i.data,a=s.messageId,l=s.action,c=s.data;try{l==="registerModule"&&e(c,function(u){u instanceof Error?postMessage({messageId:a,success:!1,error:u.message}):postMessage({messageId:a,success:!0,result:{isCallable:typeof u=="function"}})}),l==="callModule"&&n(c,function(u,d){u instanceof Error?postMessage({messageId:a,success:!1,error:u.message}):postMessage({messageId:a,success:!0,result:u},d||void 0)})}catch(u){postMessage({messageId:a,success:!1,error:u.stack})}})}function LXe(t){var e=function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];return e._getInitResult().then(function(i){if(typeof i=="function")return i.apply(void 0,n);throw new Error("Worker module function was called but `init` did not return a callable function")})};return e._getInitResult=function(){var n=t.dependencies,r=t.init;n=Array.isArray(n)?n.map(function(s){return s&&(s=s.onMainThread||s,s._getInitResult&&(s=s._getInitResult())),s}):[];var i=Promise.all(n).then(function(s){return r.apply(null,s)});return e._getInitResult=function(){return i},i},e}var ace=function(){var t=!1;if(typeof window<"u"&&typeof window.document<"u")try{var e=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));e.terminate(),t=!0}catch(n){console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+n.message+"]")}return ace=function(){return t},t},FXe=0,UXe=0,xk=!1,A0=Object.create(null),T0=Object.create(null),LD=Object.create(null);function Ex(t){if((!t||typeof t.init!="function")&&!xk)throw new Error("requires `options.init` function");var e=t.dependencies,n=t.init,r=t.getTransferables,i=t.workerId,s=LXe(t);i==null&&(i="#default");var a="workerModule"+ ++FXe,l=t.name||a,c=null;e=e&&e.map(function(d){return typeof d=="function"&&!d.workerModuleData&&(xk=!0,d=Ex({workerId:i,name:"<"+l+"> function dependency: "+d.name,init:`function(){return (
`+gE(d)+`
)}`}),xk=!1),d&&d.workerModuleData&&(d=d.workerModuleData),d});function u(){for(var d=[],f=arguments.length;f--;)d[f]=arguments[f];if(!ace())return s.apply(void 0,d);if(!c){c=pG(i,"registerModule",u.workerModuleData);var h=function(){c=null,T0[i].delete(h)};(T0[i]||(T0[i]=new Set)).add(h)}return c.then(function(m){var p=m.isCallable;if(p)return pG(i,"callModule",{id:a,args:d});throw new Error("Worker module function was called but `init` did not return a callable function")})}return u.workerModuleData={isWorkerModule:!0,id:a,name:l,dependencies:e,init:gE(n),getTransferables:r&&gE(r)},u.onMainThread=s,u}function BXe(t){T0[t]&&T0[t].forEach(function(e){e()}),A0[t]&&(A0[t].terminate(),delete A0[t])}function gE(t){var e=t.toString();return!/^function/.test(e)&&/^\w+\s*\(/.test(e)&&(e="function "+e),e}function zXe(t){var e=A0[t];if(!e){var n=gE(IXe);e=A0[t]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+t.replace(/\*/g,"")+` **/

;(`+n+")()"],{type:"application/javascript"}))),e.onmessage=function(r){var i=r.data,s=i.messageId,a=LD[s];if(!a)throw new Error("WorkerModule response with empty or unknown messageId");delete LD[s],a(i)}}return e}function pG(t,e,n){return new Promise(function(r,i){var s=++UXe;LD[s]=function(a){a.success?r(a.result):i(new Error("Error in worker "+e+" call: "+a.error))},zXe(t).postMessage({messageId:s,action:e,data:n})})}function oce(){var t=function(e){function n(V,K,W,B,ee,Y,Q,de){var te=1-Q;de.x=te*te*V+2*te*Q*W+Q*Q*ee,de.y=te*te*K+2*te*Q*B+Q*Q*Y}function r(V,K,W,B,ee,Y,Q,de,te,he){var oe=1-te;he.x=oe*oe*oe*V+3*oe*oe*te*W+3*oe*te*te*ee+te*te*te*Q,he.y=oe*oe*oe*K+3*oe*oe*te*B+3*oe*te*te*Y+te*te*te*de}function i(V,K){for(var W=/([MLQCZ])([^MLQCZ]*)/g,B,ee,Y,Q,de;B=W.exec(V);){var te=B[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(he){return parseFloat(he)});switch(B[1]){case"M":Q=ee=te[0],de=Y=te[1];break;case"L":(te[0]!==Q||te[1]!==de)&&K("L",Q,de,Q=te[0],de=te[1]);break;case"Q":{K("Q",Q,de,Q=te[2],de=te[3],te[0],te[1]);break}case"C":{K("C",Q,de,Q=te[4],de=te[5],te[0],te[1],te[2],te[3]);break}case"Z":(Q!==ee||de!==Y)&&K("L",Q,de,ee,Y);break}}}function s(V,K,W){W===void 0&&(W=16);var B={x:0,y:0};i(V,function(ee,Y,Q,de,te,he,oe,fe,ve){switch(ee){case"L":K(Y,Q,de,te);break;case"Q":{for(var ne=Y,Be=Q,H=1;H<W;H++)n(Y,Q,he,oe,de,te,H/(W-1),B),K(ne,Be,B.x,B.y),ne=B.x,Be=B.y;break}case"C":{for(var Te=Y,Ne=Q,De=1;De<W;De++)r(Y,Q,he,oe,fe,ve,de,te,De/(W-1),B),K(Te,Ne,B.x,B.y),Te=B.x,Ne=B.y;break}}})}var a="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",l="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",c=new WeakMap,u={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function d(V,K){var W=V.getContext?V.getContext("webgl",u):V,B=c.get(W);if(!B){let Te=function(ge){var nt=Y[ge];if(!nt&&(nt=Y[ge]=W.getExtension(ge),!nt))throw new Error(ge+" not supported");return nt},Ne=function(ge,nt){var X=W.createShader(nt);return W.shaderSource(X,ge),W.compileShader(X),X},De=function(ge,nt,X,z){if(!Q[ge]){var ae={},Me={},Se=W.createProgram();W.attachShader(Se,Ne(nt,W.VERTEX_SHADER)),W.attachShader(Se,Ne(X,W.FRAGMENT_SHADER)),W.linkProgram(Se),Q[ge]={program:Se,transaction:function(Ye){W.useProgram(Se),Ye({setUniform:function(rt,st){for(var ke=[],qe=arguments.length-2;qe-- >0;)ke[qe]=arguments[qe+2];var Ke=Me[st]||(Me[st]=W.getUniformLocation(Se,st));W["uniform"+rt].apply(W,[Ke].concat(ke))},setAttribute:function(rt,st,ke,qe,Ke){var ie=ae[rt];ie||(ie=ae[rt]={buf:W.createBuffer(),loc:W.getAttribLocation(Se,rt),data:null}),W.bindBuffer(W.ARRAY_BUFFER,ie.buf),W.vertexAttribPointer(ie.loc,st,W.FLOAT,!1,0,0),W.enableVertexAttribArray(ie.loc),ee?W.vertexAttribDivisor(ie.loc,qe):Te("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(ie.loc,qe),Ke!==ie.data&&(W.bufferData(W.ARRAY_BUFFER,Ke,ke),ie.data=Ke)}})}}}Q[ge].transaction(z)},ce=function(ge,nt){te++;try{W.activeTexture(W.TEXTURE0+te);var X=de[ge];X||(X=de[ge]=W.createTexture(),W.bindTexture(W.TEXTURE_2D,X),W.texParameteri(W.TEXTURE_2D,W.TEXTURE_MIN_FILTER,W.NEAREST),W.texParameteri(W.TEXTURE_2D,W.TEXTURE_MAG_FILTER,W.NEAREST)),W.bindTexture(W.TEXTURE_2D,X),nt(X,te)}finally{te--}},Ue=function(ge,nt,X){var z=W.createFramebuffer();he.push(z),W.bindFramebuffer(W.FRAMEBUFFER,z),W.activeTexture(W.TEXTURE0+nt),W.bindTexture(W.TEXTURE_2D,ge),W.framebufferTexture2D(W.FRAMEBUFFER,W.COLOR_ATTACHMENT0,W.TEXTURE_2D,ge,0);try{X(z)}finally{W.deleteFramebuffer(z),W.bindFramebuffer(W.FRAMEBUFFER,he[--he.length-1]||null)}},Ae=function(){Y={},Q={},de={},te=-1,he.length=0};var oe=Te,fe=Ne,ve=De,ne=ce,Be=Ue,H=Ae,ee=typeof WebGL2RenderingContext<"u"&&W instanceof WebGL2RenderingContext,Y={},Q={},de={},te=-1,he=[];W.canvas.addEventListener("webglcontextlost",function(ge){Ae(),ge.preventDefault()},!1),c.set(W,B={gl:W,isWebGL2:ee,getExtension:Te,withProgram:De,withTexture:ce,withTextureFramebuffer:Ue,handleContextLoss:Ae})}K(B)}function f(V,K,W,B,ee,Y,Q,de){Q===void 0&&(Q=15),de===void 0&&(de=null),d(V,function(te){var he=te.gl,oe=te.withProgram,fe=te.withTexture;fe("copy",function(ve,ne){he.texImage2D(he.TEXTURE_2D,0,he.RGBA,ee,Y,0,he.RGBA,he.UNSIGNED_BYTE,K),oe("copy",a,l,function(Be){var H=Be.setUniform,Te=Be.setAttribute;Te("aUV",2,he.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),H("1i","image",ne),he.bindFramebuffer(he.FRAMEBUFFER,de||null),he.disable(he.BLEND),he.colorMask(Q&8,Q&4,Q&2,Q&1),he.viewport(W,B,ee,Y),he.scissor(W,B,ee,Y),he.drawArrays(he.TRIANGLES,0,3)})})})}function h(V,K,W){var B=V.width,ee=V.height;d(V,function(Y){var Q=Y.gl,de=new Uint8Array(B*ee*4);Q.readPixels(0,0,B,ee,Q.RGBA,Q.UNSIGNED_BYTE,de),V.width=K,V.height=W,f(Q,de,0,0,B,ee)})}var m=Object.freeze({__proto__:null,withWebGLContext:d,renderImageData:f,resizeWebGLCanvasWithoutClearing:h});function p(V,K,W,B,ee,Y){Y===void 0&&(Y=1);var Q=new Uint8Array(V*K),de=B[2]-B[0],te=B[3]-B[1],he=[];s(W,function(Te,Ne,De,ce){he.push({x1:Te,y1:Ne,x2:De,y2:ce,minX:Math.min(Te,De),minY:Math.min(Ne,ce),maxX:Math.max(Te,De),maxY:Math.max(Ne,ce)})}),he.sort(function(Te,Ne){return Te.maxX-Ne.maxX});for(var oe=0;oe<V;oe++)for(var fe=0;fe<K;fe++){var ve=Be(B[0]+de*(oe+.5)/V,B[1]+te*(fe+.5)/K),ne=Math.pow(1-Math.abs(ve)/ee,Y)/2;ve<0&&(ne=1-ne),ne=Math.max(0,Math.min(255,Math.round(ne*255))),Q[fe*V+oe]=ne}return Q;function Be(Te,Ne){for(var De=1/0,ce=1/0,Ue=he.length;Ue--;){var Ae=he[Ue];if(Ae.maxX+ce<=Te)break;if(Te+ce>Ae.minX&&Ne-ce<Ae.maxY&&Ne+ce>Ae.minY){var ge=g(Te,Ne,Ae.x1,Ae.y1,Ae.x2,Ae.y2);ge<De&&(De=ge,ce=Math.sqrt(De))}}return H(Te,Ne)&&(ce=-ce),ce}function H(Te,Ne){for(var De=0,ce=he.length;ce--;){var Ue=he[ce];if(Ue.maxX<=Te)break;var Ae=Ue.y1>Ne!=Ue.y2>Ne&&Te<(Ue.x2-Ue.x1)*(Ne-Ue.y1)/(Ue.y2-Ue.y1)+Ue.x1;Ae&&(De+=Ue.y1<Ue.y2?1:-1)}return De!==0}}function x(V,K,W,B,ee,Y,Q,de,te,he){Y===void 0&&(Y=1),de===void 0&&(de=0),te===void 0&&(te=0),he===void 0&&(he=0),v(V,K,W,B,ee,Y,Q,null,de,te,he)}function v(V,K,W,B,ee,Y,Q,de,te,he,oe){Y===void 0&&(Y=1),te===void 0&&(te=0),he===void 0&&(he=0),oe===void 0&&(oe=0);for(var fe=p(V,K,W,B,ee,Y),ve=new Uint8Array(fe.length*4),ne=0;ne<fe.length;ne++)ve[ne*4+oe]=fe[ne];f(Q,ve,te,he,V,K,1<<3-oe,de)}function g(V,K,W,B,ee,Y){var Q=ee-W,de=Y-B,te=Q*Q+de*de,he=te?Math.max(0,Math.min(1,((V-W)*Q+(K-B)*de)/te)):0,oe=V-(W+he*Q),fe=K-(B+he*de);return oe*oe+fe*fe}var w=Object.freeze({__proto__:null,generate:p,generateIntoCanvas:x,generateIntoFramebuffer:v}),_="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",E="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",N="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",C=new Float32Array([0,0,2,0,0,2]),j=null,T=!1,A={},P=new WeakMap;function R(V){if(!T&&!G(V))throw new Error("WebGL generation not supported")}function D(V,K,W,B,ee,Y,Q){if(Y===void 0&&(Y=1),Q===void 0&&(Q=null),!Q&&(Q=j,!Q)){var de=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!de)throw new Error("OffscreenCanvas or DOM canvas not supported");Q=j=de.getContext("webgl",{depth:!1})}R(Q);var te=new Uint8Array(V*K*4);d(Q,function(ve){var ne=ve.gl,Be=ve.withTexture,H=ve.withTextureFramebuffer;Be("readable",function(Te,Ne){ne.texImage2D(ne.TEXTURE_2D,0,ne.RGBA,V,K,0,ne.RGBA,ne.UNSIGNED_BYTE,null),H(Te,Ne,function(De){I(V,K,W,B,ee,Y,ne,De,0,0,0),ne.readPixels(0,0,V,K,ne.RGBA,ne.UNSIGNED_BYTE,te)})})});for(var he=new Uint8Array(V*K),oe=0,fe=0;oe<te.length;oe+=4)he[fe++]=te[oe];return he}function F(V,K,W,B,ee,Y,Q,de,te,he){Y===void 0&&(Y=1),de===void 0&&(de=0),te===void 0&&(te=0),he===void 0&&(he=0),I(V,K,W,B,ee,Y,Q,null,de,te,he)}function I(V,K,W,B,ee,Y,Q,de,te,he,oe){Y===void 0&&(Y=1),te===void 0&&(te=0),he===void 0&&(he=0),oe===void 0&&(oe=0),R(Q);var fe=[];s(W,function(ve,ne,Be,H){fe.push(ve,ne,Be,H)}),fe=new Float32Array(fe),d(Q,function(ve){var ne=ve.gl,Be=ve.isWebGL2,H=ve.getExtension,Te=ve.withProgram,Ne=ve.withTexture,De=ve.withTextureFramebuffer,ce=ve.handleContextLoss;if(Ne("rawDistances",function(Ue,Ae){(V!==Ue._lastWidth||K!==Ue._lastHeight)&&ne.texImage2D(ne.TEXTURE_2D,0,ne.RGBA,Ue._lastWidth=V,Ue._lastHeight=K,0,ne.RGBA,ne.UNSIGNED_BYTE,null),Te("main",_,E,function(ge){var nt=ge.setAttribute,X=ge.setUniform,z=!Be&&H("ANGLE_instanced_arrays"),ae=!Be&&H("EXT_blend_minmax");nt("aUV",2,ne.STATIC_DRAW,0,C),nt("aLineSegment",4,ne.DYNAMIC_DRAW,1,fe),X.apply(void 0,["4f","uGlyphBounds"].concat(B)),X("1f","uMaxDistance",ee),X("1f","uExponent",Y),De(Ue,Ae,function(Me){ne.enable(ne.BLEND),ne.colorMask(!0,!0,!0,!0),ne.viewport(0,0,V,K),ne.scissor(0,0,V,K),ne.blendFunc(ne.ONE,ne.ONE),ne.blendEquationSeparate(ne.FUNC_ADD,Be?ne.MAX:ae.MAX_EXT),ne.clear(ne.COLOR_BUFFER_BIT),Be?ne.drawArraysInstanced(ne.TRIANGLES,0,3,fe.length/4):z.drawArraysInstancedANGLE(ne.TRIANGLES,0,3,fe.length/4)})}),Te("post",a,N,function(ge){ge.setAttribute("aUV",2,ne.STATIC_DRAW,0,C),ge.setUniform("1i","tex",Ae),ne.bindFramebuffer(ne.FRAMEBUFFER,de),ne.disable(ne.BLEND),ne.colorMask(oe===0,oe===1,oe===2,oe===3),ne.viewport(te,he,V,K),ne.scissor(te,he,V,K),ne.drawArrays(ne.TRIANGLES,0,3)})}),ne.isContextLost())throw ce(),new Error("webgl context lost")})}function G(V){var K=!V||V===j?A:V.canvas||V,W=P.get(K);if(W===void 0){T=!0;var B=null;try{var ee=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],Y=D(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,V);W=Y&&ee.length===Y.length&&Y.every(function(Q,de){return Q===ee[de]}),W||(B="bad trial run results",console.info(ee,Y))}catch(Q){W=!1,B=Q.message}B&&console.warn("WebGL SDF generation not supported:",B),T=!1,P.set(K,W)}return W}var q=Object.freeze({__proto__:null,generate:D,generateIntoCanvas:F,generateIntoFramebuffer:I,isSupported:G});function $(V,K,W,B,ee,Y){ee===void 0&&(ee=Math.max(B[2]-B[0],B[3]-B[1])/2),Y===void 0&&(Y=1);try{return D.apply(q,arguments)}catch(Q){return console.info("WebGL SDF generation failed, falling back to JS",Q),p.apply(w,arguments)}}function L(V,K,W,B,ee,Y,Q,de,te,he){ee===void 0&&(ee=Math.max(B[2]-B[0],B[3]-B[1])/2),Y===void 0&&(Y=1),de===void 0&&(de=0),te===void 0&&(te=0),he===void 0&&(he=0);try{return F.apply(q,arguments)}catch(oe){return console.info("WebGL SDF generation failed, falling back to JS",oe),x.apply(w,arguments)}}return e.forEachPathCommand=i,e.generate=$,e.generateIntoCanvas=L,e.javascript=w,e.pathToLineSegments=s,e.webgl=q,e.webglUtils=m,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return t}function VXe(){var t=function(e){var n={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},r={},i={};r.L=1,i[1]="L",Object.keys(n).forEach(function(ce,Ue){r[ce]=1<<Ue+1,i[r[ce]]=ce}),Object.freeze(r);var s=r.LRI|r.RLI|r.FSI,a=r.L|r.R|r.AL,l=r.B|r.S|r.WS|r.ON|r.FSI|r.LRI|r.RLI|r.PDI,c=r.BN|r.RLE|r.LRE|r.RLO|r.LRO|r.PDF,u=r.S|r.WS|r.B|s|r.PDI|c,d=null;function f(){if(!d){d=new Map;var ce=function(Ae){if(n.hasOwnProperty(Ae)){var ge=0;n[Ae].split(",").forEach(function(nt){var X=nt.split("+"),z=X[0],ae=X[1];z=parseInt(z,36),ae=ae?parseInt(ae,36):0,d.set(ge+=z,r[Ae]);for(var Me=0;Me<ae;Me++)d.set(++ge,r[Ae])})}};for(var Ue in n)ce(Ue)}}function h(ce){return f(),d.get(ce.codePointAt(0))||r.L}function m(ce){return i[h(ce)]}var p={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function x(ce,Ue){var Ae=36,ge=0,nt=new Map,X=Ue&&new Map,z;return ce.split(",").forEach(function ae(Me){if(Me.indexOf("+")!==-1)for(var Se=+Me;Se--;)ae(z);else{z=Me;var ye=Me.split(">"),Ye=ye[0],$e=ye[1];Ye=String.fromCodePoint(ge+=parseInt(Ye,Ae)),$e=String.fromCodePoint(ge+=parseInt($e,Ae)),nt.set(Ye,$e),Ue&&X.set($e,Ye)}}),{map:nt,reverseMap:X}}var v,g,w;function _(){if(!v){var ce=x(p.pairs,!0),Ue=ce.map,Ae=ce.reverseMap;v=Ue,g=Ae,w=x(p.canonical,!1).map}}function E(ce){return _(),v.get(ce)||null}function N(ce){return _(),g.get(ce)||null}function C(ce){return _(),w.get(ce)||null}var j=r.L,T=r.R,A=r.EN,P=r.ES,R=r.ET,D=r.AN,F=r.CS,I=r.B,G=r.S,q=r.ON,$=r.BN,L=r.NSM,V=r.AL,K=r.LRO,W=r.RLO,B=r.LRE,ee=r.RLE,Y=r.PDF,Q=r.LRI,de=r.RLI,te=r.FSI,he=r.PDI;function oe(ce,Ue){for(var Ae=125,ge=new Uint32Array(ce.length),nt=0;nt<ce.length;nt++)ge[nt]=h(ce[nt]);var X=new Map;function z(Ci,Rs){var Dr=ge[Ci];ge[Ci]=Rs,X.set(Dr,X.get(Dr)-1),Dr&l&&X.set(l,X.get(l)-1),X.set(Rs,(X.get(Rs)||0)+1),Rs&l&&X.set(l,(X.get(l)||0)+1)}for(var ae=new Uint8Array(ce.length),Me=new Map,Se=[],ye=null,Ye=0;Ye<ce.length;Ye++)ye||Se.push(ye={start:Ye,end:ce.length-1,level:Ue==="rtl"?1:Ue==="ltr"?0:xp(Ye,!1)}),ge[Ye]&I&&(ye.end=Ye,ye=null);for(var $e=ee|B|W|K|s|he|Y|I,rt=function(Ci){return Ci+(Ci&1?1:2)},st=function(Ci){return Ci+(Ci&1?2:1)},ke=0;ke<Se.length;ke++){ye=Se[ke];var qe=[{_level:ye.level,_override:0,_isolate:0}],Ke=void 0,ie=0,be=0,Je=0;X.clear();for(var se=ye.start;se<=ye.end;se++){var Ie=ge[se];if(Ke=qe[qe.length-1],X.set(Ie,(X.get(Ie)||0)+1),Ie&l&&X.set(l,(X.get(l)||0)+1),Ie&$e)if(Ie&(ee|B)){ae[se]=Ke._level;var Le=(Ie===ee?st:rt)(Ke._level);Le<=Ae&&!ie&&!be?qe.push({_level:Le,_override:0,_isolate:0}):ie||be++}else if(Ie&(W|K)){ae[se]=Ke._level;var ft=(Ie===W?st:rt)(Ke._level);ft<=Ae&&!ie&&!be?qe.push({_level:ft,_override:Ie&W?T:j,_isolate:0}):ie||be++}else if(Ie&s){Ie&te&&(Ie=xp(se+1,!0)===1?de:Q),ae[se]=Ke._level,Ke._override&&z(se,Ke._override);var Ve=(Ie===de?st:rt)(Ke._level);Ve<=Ae&&ie===0&&be===0?(Je++,qe.push({_level:Ve,_override:0,_isolate:1,_isolInitIndex:se})):ie++}else if(Ie&he){if(ie>0)ie--;else if(Je>0){for(be=0;!qe[qe.length-1]._isolate;)qe.pop();var Pe=qe[qe.length-1]._isolInitIndex;Pe!=null&&(Me.set(Pe,se),Me.set(se,Pe)),qe.pop(),Je--}Ke=qe[qe.length-1],ae[se]=Ke._level,Ke._override&&z(se,Ke._override)}else Ie&Y?(ie===0&&(be>0?be--:!Ke._isolate&&qe.length>1&&(qe.pop(),Ke=qe[qe.length-1])),ae[se]=Ke._level):Ie&I&&(ae[se]=ye.level);else ae[se]=Ke._level,Ke._override&&Ie!==$&&z(se,Ke._override)}for(var Fe=[],tt=null,it=ye.start;it<=ye.end;it++){var yt=ge[it];if(!(yt&c)){var $t=ae[it],tn=yt&s,jn=yt===he;tt&&$t===tt._level?(tt._end=it,tt._endsWithIsolInit=tn):Fe.push(tt={_start:it,_end:it,_level:$t,_startsWithPDI:jn,_endsWithIsolInit:tn})}}for(var Wn=[],$n=0;$n<Fe.length;$n++){var Wi=Fe[$n];if(!Wi._startsWithPDI||Wi._startsWithPDI&&!Me.has(Wi._start)){for(var Oa=[tt=Wi],rs=void 0;tt&&tt._endsWithIsolInit&&(rs=Me.get(tt._end))!=null;)for(var is=$n+1;is<Fe.length;is++)if(Fe[is]._start===rs){Oa.push(tt=Fe[is]);break}for(var Xr=[],sa=0;sa<Oa.length;sa++)for(var Hf=Oa[sa],td=Hf._start;td<=Hf._end;td++)Xr.push(td);for(var jx=ae[Xr[0]],hp=ye.level,Fc=Xr[0]-1;Fc>=0;Fc--)if(!(ge[Fc]&c)){hp=ae[Fc];break}var Gf=Xr[Xr.length-1],Ax=ae[Gf],mp=ye.level;if(!(ge[Gf]&s)){for(var Z=Gf+1;Z<=ye.end;Z++)if(!(ge[Z]&c)){mp=ae[Z];break}}Wn.push({_seqIndices:Xr,_sosType:Math.max(hp,jx)%2?T:j,_eosType:Math.max(mp,Ax)%2?T:j})}}for(var _e=0;_e<Wn.length;_e++){var Oe=Wn[_e],me=Oe._seqIndices,we=Oe._sosType,at=Oe._eosType,pt=ae[me[0]]&1?T:j;if(X.get(L))for(var Mt=0;Mt<me.length;Mt++){var St=me[Mt];if(ge[St]&L){for(var Lt=we,Dt=Mt-1;Dt>=0;Dt--)if(!(ge[me[Dt]]&c)){Lt=ge[me[Dt]];break}z(St,Lt&(s|he)?q:Lt)}}if(X.get(A))for(var mt=0;mt<me.length;mt++){var Ct=me[mt];if(ge[Ct]&A)for(var nn=mt-1;nn>=-1;nn--){var rn=nn===-1?we:ge[me[nn]];if(rn&a){rn===V&&z(Ct,D);break}}}if(X.get(V))for(var Kt=0;Kt<me.length;Kt++){var gn=me[Kt];ge[gn]&V&&z(gn,T)}if(X.get(P)||X.get(F))for(var kt=1;kt<me.length-1;kt++){var sn=me[kt];if(ge[sn]&(P|F)){for(var Xt=0,Yr=0,Da=kt-1;Da>=0&&(Xt=ge[me[Da]],!!(Xt&c));Da--);for(var Mr=kt+1;Mr<me.length&&(Yr=ge[me[Mr]],!!(Yr&c));Mr++);Xt===Yr&&(ge[sn]===P?Xt===A:Xt&(A|D))&&z(sn,Xt)}}if(X.get(A))for(var di=0;di<me.length;di++){var vn=me[di];if(ge[vn]&A){for(var fi=di-1;fi>=0&&ge[me[fi]]&(R|c);fi--)z(me[fi],A);for(di++;di<me.length&&ge[me[di]]&(R|c|A);di++)ge[me[di]]!==A&&z(me[di],A)}}if(X.get(R)||X.get(P)||X.get(F))for(var Zr=0;Zr<me.length;Zr++){var Qr=me[Zr];if(ge[Qr]&(R|P|F)){z(Qr,q);for(var dr=Zr-1;dr>=0&&ge[me[dr]]&c;dr--)z(me[dr],q);for(var Ia=Zr+1;Ia<me.length&&ge[me[Ia]]&c;Ia++)z(me[Ia],q)}}if(X.get(A))for(var $i=0,qf=we;$i<me.length;$i++){var c1=me[$i],Tx=ge[c1];Tx&A?qf===j&&z(c1,j):Tx&a&&(qf=Tx)}if(X.get(l)){var Uc=T|A|D,pp=Uc|j,zl=[];{for(var nd=[],Vl=0;Vl<me.length;Vl++)if(ge[me[Vl]]&l){var xn=ce[me[Vl]],Px=void 0;if(E(xn)!==null)if(nd.length<63)nd.push({char:xn,seqIndex:Vl});else break;else if((Px=N(xn))!==null)for(var Bc=nd.length-1;Bc>=0;Bc--){var gp=nd[Bc].char;if(gp===Px||gp===N(C(xn))||E(C(gp))===xn){zl.push([nd[Bc].seqIndex,Vl]),nd.length=Bc;break}}}zl.sort(function(Ci,Rs){return Ci[0]-Rs[0]})}for(var kx=0;kx<zl.length;kx++){for(var u1=zl[kx],vr=u1[0],Kf=u1[1],d1=!1,Ts=0,Rx=vr+1;Rx<Kf;Rx++){var Xf=me[Rx];if(ge[Xf]&pp){d1=!0;var La=ge[Xf]&Uc?T:j;if(La===pt){Ts=La;break}}}if(d1&&!Ts){Ts=we;for(var Ox=vr-1;Ox>=0;Ox--){var f1=me[Ox];if(ge[f1]&pp){var Fa=ge[f1]&Uc?T:j;Fa!==pt?Ts=Fa:Ts=pt;break}}}if(Ts){if(ge[me[vr]]=ge[me[Kf]]=Ts,Ts!==pt){for(var Ps=vr+1;Ps<me.length;Ps++)if(!(ge[me[Ps]]&c)){h(ce[me[Ps]])&L&&(ge[me[Ps]]=Ts);break}}if(Ts!==pt){for(var Wl=Kf+1;Wl<me.length;Wl++)if(!(ge[me[Wl]]&c)){h(ce[me[Wl]])&L&&(ge[me[Wl]]=Ts);break}}}}for(var go=0;go<me.length;go++)if(ge[me[go]]&l){for(var Dx=go,Ix=go,aa=we,Yf=go-1;Yf>=0;Yf--)if(ge[me[Yf]]&c)Dx=Yf;else{aa=ge[me[Yf]]&Uc?T:j;break}for(var Zf=at,Qf=go+1;Qf<me.length;Qf++)if(ge[me[Qf]]&(l|c))Ix=Qf;else{Zf=ge[me[Qf]]&Uc?T:j;break}for(var ks=Dx;ks<=Ix;ks++)ge[me[ks]]=aa===Zf?aa:pt;go=Ix}}}for(var Mi=ye.start;Mi<=ye.end;Mi++){var vp=ae[Mi],el=ge[Mi];if(vp&1?el&(j|A|D)&&ae[Mi]++:el&T?ae[Mi]++:el&(D|A)&&(ae[Mi]+=2),el&c&&(ae[Mi]=Mi===0?ye.level:ae[Mi-1]),Mi===ye.end||h(ce[Mi])&(G|I))for(var rd=Mi;rd>=0&&h(ce[rd])&u;rd--)ae[rd]=ye.level}}return{levels:ae,paragraphs:Se};function xp(Ci,Rs){for(var Dr=Ci;Dr<ce.length;Dr++){var Ir=ge[Dr];if(Ir&(T|V))return 1;if(Ir&(I|j)||Rs&&Ir===he)return 0;if(Ir&s){var Ua=h1(Dr);Dr=Ua===-1?ce.length:Ua}}return 0}function h1(Ci){for(var Rs=1,Dr=Ci+1;Dr<ce.length;Dr++){var Ir=ge[Dr];if(Ir&I)break;if(Ir&he){if(--Rs===0)return Dr}else Ir&s&&Rs++}return-1}}var fe="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",ve;function ne(){if(!ve){var ce=x(fe,!0),Ue=ce.map,Ae=ce.reverseMap;Ae.forEach(function(ge,nt){Ue.set(nt,ge)}),ve=Ue}}function Be(ce){return ne(),ve.get(ce)||null}function H(ce,Ue,Ae,ge){var nt=ce.length;Ae=Math.max(0,Ae==null?0:+Ae),ge=Math.min(nt-1,ge==null?nt-1:+ge);for(var X=new Map,z=Ae;z<=ge;z++)if(Ue[z]&1){var ae=Be(ce[z]);ae!==null&&X.set(z,ae)}return X}function Te(ce,Ue,Ae,ge){var nt=ce.length;Ae=Math.max(0,Ae==null?0:+Ae),ge=Math.min(nt-1,ge==null?nt-1:+ge);var X=[];return Ue.paragraphs.forEach(function(z){var ae=Math.max(Ae,z.start),Me=Math.min(ge,z.end);if(ae<Me){for(var Se=Ue.levels.slice(ae,Me+1),ye=Me;ye>=ae&&h(ce[ye])&u;ye--)Se[ye]=z.level;for(var Ye=z.level,$e=1/0,rt=0;rt<Se.length;rt++){var st=Se[rt];st>Ye&&(Ye=st),st<$e&&($e=st|1)}for(var ke=Ye;ke>=$e;ke--)for(var qe=0;qe<Se.length;qe++)if(Se[qe]>=ke){for(var Ke=qe;qe+1<Se.length&&Se[qe+1]>=ke;)qe++;qe>Ke&&X.push([Ke+ae,qe+ae])}}}),X}function Ne(ce,Ue,Ae,ge){var nt=De(ce,Ue,Ae,ge),X=[].concat(ce);return nt.forEach(function(z,ae){X[ae]=(Ue.levels[z]&1?Be(ce[z]):null)||ce[z]}),X.join("")}function De(ce,Ue,Ae,ge){for(var nt=Te(ce,Ue,Ae,ge),X=[],z=0;z<ce.length;z++)X[z]=z;return nt.forEach(function(ae){for(var Me=ae[0],Se=ae[1],ye=X.slice(Me,Se+1),Ye=ye.length;Ye--;)X[Se-Ye]=ye[Ye]}),X}return e.closingToOpeningBracket=N,e.getBidiCharType=h,e.getBidiCharTypeName=m,e.getCanonicalBracket=C,e.getEmbeddingLevels=oe,e.getMirroredCharacter=Be,e.getMirroredCharactersMap=H,e.getReorderSegments=Te,e.getReorderedIndices=De,e.getReorderedString=Ne,e.openingToClosingBracket=E,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return t}const lce=/\bvoid\s+main\s*\(\s*\)\s*{/g;function FD(t){const e=/^[ \t]*#include +<([\w\d./]+)>/gm;function n(r,i){let s=an[i];return s?FD(s):r}return t.replace(e,n)}const Gi=[];for(let t=0;t<256;t++)Gi[t]=(t<16?"0":"")+t.toString(16);function WXe(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Gi[t&255]+Gi[t>>8&255]+Gi[t>>16&255]+Gi[t>>24&255]+"-"+Gi[e&255]+Gi[e>>8&255]+"-"+Gi[e>>16&15|64]+Gi[e>>24&255]+"-"+Gi[n&63|128]+Gi[n>>8&255]+"-"+Gi[n>>16&255]+Gi[n>>24&255]+Gi[r&255]+Gi[r>>8&255]+Gi[r>>16&255]+Gi[r>>24&255]).toUpperCase()}const Eh=Object.assign||function(){let t=arguments[0];for(let e=1,n=arguments.length;e<n;e++){let r=arguments[e];if(r)for(let i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},$Xe=Date.now(),gG=new WeakMap,vG=new Map;let HXe=1e10;function UD(t,e){const n=XXe(e);let r=gG.get(t);if(r||gG.set(t,r=Object.create(null)),r[n])return new r[n];const i=`_onBeforeCompile${n}`,s=function(u,d){t.onBeforeCompile.call(this,u,d);const f=this.customProgramCacheKey()+"|"+u.vertexShader+"|"+u.fragmentShader;let h=vG[f];if(!h){const m=GXe(this,u,e,n);h=vG[f]=m}u.vertexShader=h.vertexShader,u.fragmentShader=h.fragmentShader,Eh(u.uniforms,this.uniforms),e.timeUniform&&(u.uniforms[e.timeUniform]={get value(){return Date.now()-$Xe}}),this[i]&&this[i](u)},a=function(){return l(e.chained?t:t.clone())},l=function(u){const d=Object.create(u,c);return Object.defineProperty(d,"baseMaterial",{value:t}),Object.defineProperty(d,"id",{value:HXe++}),d.uuid=WXe(),d.uniforms=Eh({},u.uniforms,e.uniforms),d.defines=Eh({},u.defines,e.defines),d.defines[`TROIKA_DERIVED_MATERIAL_${n}`]="",d.extensions=Eh({},u.extensions,e.extensions),d._listeners=void 0,d},c={constructor:{value:a},isDerivedMaterial:{value:!0},type:{get:()=>t.type,set:u=>{t.type=u}},isDerivedFrom:{writable:!0,configurable:!0,value:function(u){const d=this.baseMaterial;return u===d||d.isDerivedMaterial&&d.isDerivedFrom(u)||!1}},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return t.customProgramCacheKey()+"|"+n}},onBeforeCompile:{get(){return s},set(u){this[i]=u}},copy:{writable:!0,configurable:!0,value:function(u){return t.copy.call(this,u),!t.isShaderMaterial&&!t.isDerivedMaterial&&(Eh(this.extensions,u.extensions),Eh(this.defines,u.defines),Eh(this.uniforms,KF.clone(u.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const u=new t.constructor;return l(u).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let u=this._depthMaterial;return u||(u=this._depthMaterial=UD(t.isDerivedMaterial?t.getDepthMaterial():new $j({depthPacking:VF}),e),u.defines.IS_DEPTH_MATERIAL="",u.uniforms=this.uniforms),u}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let u=this._distanceMaterial;return u||(u=this._distanceMaterial=UD(t.isDerivedMaterial?t.getDistanceMaterial():new Hj,e),u.defines.IS_DISTANCE_MATERIAL="",u.uniforms=this.uniforms),u}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:u,_distanceMaterial:d}=this;u&&u.dispose(),d&&d.dispose(),t.dispose.call(this)}}};return r[n]=a,new a}function GXe(t,{vertexShader:e,fragmentShader:n},r,i){let{vertexDefs:s,vertexMainIntro:a,vertexMainOutro:l,vertexTransform:c,fragmentDefs:u,fragmentMainIntro:d,fragmentMainOutro:f,fragmentColorTransform:h,customRewriter:m,timeUniform:p}=r;if(s=s||"",a=a||"",l=l||"",u=u||"",d=d||"",f=f||"",(c||m)&&(e=FD(e)),(h||m)&&(n=n.replace(/^[ \t]*#include <((?:tonemapping|encodings|colorspace|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),n=FD(n)),m){let x=m({vertexShader:e,fragmentShader:n});e=x.vertexShader,n=x.fragmentShader}if(h){let x=[];n=n.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,v=>(x.push(v),"")),f=`${h}
${x.join(`
`)}
${f}`}if(p){const x=`
uniform float ${p};
`;s=x+s,u=x+u}return c&&(e=`vec3 troika_position_${i};
vec3 troika_normal_${i};
vec2 troika_uv_${i};
${e}
`,s=`${s}
void troikaVertexTransform${i}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${c}
}
`,a=`
troika_position_${i} = vec3(position);
troika_normal_${i} = vec3(normal);
troika_uv_${i} = vec2(uv);
troikaVertexTransform${i}(troika_position_${i}, troika_normal_${i}, troika_uv_${i});
${a}
`,e=e.replace(/\b(position|normal|uv)\b/g,(x,v,g,w)=>/\battribute\s+vec[23]\s+$/.test(w.substr(0,g))?v:`troika_${v}_${i}`),t.map&&t.map.channel>0||(e=e.replace(/\bMAP_UV\b/g,`troika_uv_${i}`))),e=xG(e,i,s,a,l),n=xG(n,i,u,d,f),{vertexShader:e,fragmentShader:n}}function xG(t,e,n,r,i){return(r||i||n)&&(t=t.replace(lce,`
${n}
void troikaOrigMain${e}() {`),t+=`
void main() {
  ${r}
  troikaOrigMain${e}();
  ${i}
}`),t}function qXe(t,e){return t==="uniforms"?void 0:typeof e=="function"?e.toString():e}let KXe=0;const yG=new Map;function XXe(t){const e=JSON.stringify(t,qXe);let n=yG.get(e);return n==null&&yG.set(e,n=++KXe),n}/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function YXe(){return typeof window>"u"&&(self.window=self),function(t){var e={parse:function(i){var s=e._bin,a=new Uint8Array(i);if(s.readASCII(a,0,4)=="ttcf"){var l=4;s.readUshort(a,l),l+=2,s.readUshort(a,l),l+=2;var c=s.readUint(a,l);l+=4;for(var u=[],d=0;d<c;d++){var f=s.readUint(a,l);l+=4,u.push(e._readFont(a,f))}return u}return[e._readFont(a,0)]},_readFont:function(i,s){var a=e._bin,l=s;a.readFixed(i,s),s+=4;var c=a.readUshort(i,s);s+=2,a.readUshort(i,s),s+=2,a.readUshort(i,s),s+=2,a.readUshort(i,s),s+=2;for(var u=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GDEF","GPOS","GSUB","SVG "],d={_data:i,_offset:l},f={},h=0;h<c;h++){var m=a.readASCII(i,s,4);s+=4,a.readUint(i,s),s+=4;var p=a.readUint(i,s);s+=4;var x=a.readUint(i,s);s+=4,f[m]={offset:p,length:x}}for(h=0;h<u.length;h++){var v=u[h];f[v]&&(d[v.trim()]=e[v.trim()].parse(i,f[v].offset,f[v].length,d))}return d},_tabOffset:function(i,s,a){for(var l=e._bin,c=l.readUshort(i,a+4),u=a+12,d=0;d<c;d++){var f=l.readASCII(i,u,4);u+=4,l.readUint(i,u),u+=4;var h=l.readUint(i,u);if(u+=4,l.readUint(i,u),u+=4,f==s)return h}return 0}};e._bin={readFixed:function(i,s){return(i[s]<<8|i[s+1])+(i[s+2]<<8|i[s+3])/65540},readF2dot14:function(i,s){return e._bin.readShort(i,s)/16384},readInt:function(i,s){return e._bin._view(i).getInt32(s)},readInt8:function(i,s){return e._bin._view(i).getInt8(s)},readShort:function(i,s){return e._bin._view(i).getInt16(s)},readUshort:function(i,s){return e._bin._view(i).getUint16(s)},readUshorts:function(i,s,a){for(var l=[],c=0;c<a;c++)l.push(e._bin.readUshort(i,s+2*c));return l},readUint:function(i,s){return e._bin._view(i).getUint32(s)},readUint64:function(i,s){return 4294967296*e._bin.readUint(i,s)+e._bin.readUint(i,s+4)},readASCII:function(i,s,a){for(var l="",c=0;c<a;c++)l+=String.fromCharCode(i[s+c]);return l},readUnicode:function(i,s,a){for(var l="",c=0;c<a;c++){var u=i[s++]<<8|i[s++];l+=String.fromCharCode(u)}return l},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(i,s,a){var l=e._bin._tdec;return l&&s==0&&a==i.length?l.decode(i):e._bin.readASCII(i,s,a)},readBytes:function(i,s,a){for(var l=[],c=0;c<a;c++)l.push(i[s+c]);return l},readASCIIArray:function(i,s,a){for(var l=[],c=0;c<a;c++)l.push(String.fromCharCode(i[s+c]));return l},_view:function(i){return i._dataView||(i._dataView=i.buffer?new DataView(i.buffer,i.byteOffset,i.byteLength):new DataView(new Uint8Array(i).buffer))}},e._lctf={},e._lctf.parse=function(i,s,a,l,c){var u=e._bin,d={},f=s;u.readFixed(i,s),s+=4;var h=u.readUshort(i,s);s+=2;var m=u.readUshort(i,s);s+=2;var p=u.readUshort(i,s);return s+=2,d.scriptList=e._lctf.readScriptList(i,f+h),d.featureList=e._lctf.readFeatureList(i,f+m),d.lookupList=e._lctf.readLookupList(i,f+p,c),d},e._lctf.readLookupList=function(i,s,a){var l=e._bin,c=s,u=[],d=l.readUshort(i,s);s+=2;for(var f=0;f<d;f++){var h=l.readUshort(i,s);s+=2;var m=e._lctf.readLookupTable(i,c+h,a);u.push(m)}return u},e._lctf.readLookupTable=function(i,s,a){var l=e._bin,c=s,u={tabs:[]};u.ltype=l.readUshort(i,s),s+=2,u.flag=l.readUshort(i,s),s+=2;var d=l.readUshort(i,s);s+=2;for(var f=u.ltype,h=0;h<d;h++){var m=l.readUshort(i,s);s+=2;var p=a(i,f,c+m,u);u.tabs.push(p)}return u},e._lctf.numOfOnes=function(i){for(var s=0,a=0;a<32;a++)i>>>a&1&&s++;return s},e._lctf.readClassDef=function(i,s){var a=e._bin,l=[],c=a.readUshort(i,s);if(s+=2,c==1){var u=a.readUshort(i,s);s+=2;var d=a.readUshort(i,s);s+=2;for(var f=0;f<d;f++)l.push(u+f),l.push(u+f),l.push(a.readUshort(i,s)),s+=2}if(c==2){var h=a.readUshort(i,s);for(s+=2,f=0;f<h;f++)l.push(a.readUshort(i,s)),s+=2,l.push(a.readUshort(i,s)),s+=2,l.push(a.readUshort(i,s)),s+=2}return l},e._lctf.getInterval=function(i,s){for(var a=0;a<i.length;a+=3){var l=i[a],c=i[a+1];if(i[a+2],l<=s&&s<=c)return a}return-1},e._lctf.readCoverage=function(i,s){var a=e._bin,l={};l.fmt=a.readUshort(i,s),s+=2;var c=a.readUshort(i,s);return s+=2,l.fmt==1&&(l.tab=a.readUshorts(i,s,c)),l.fmt==2&&(l.tab=a.readUshorts(i,s,3*c)),l},e._lctf.coverageIndex=function(i,s){var a=i.tab;if(i.fmt==1)return a.indexOf(s);if(i.fmt==2){var l=e._lctf.getInterval(a,s);if(l!=-1)return a[l+2]+(s-a[l])}return-1},e._lctf.readFeatureList=function(i,s){var a=e._bin,l=s,c=[],u=a.readUshort(i,s);s+=2;for(var d=0;d<u;d++){var f=a.readASCII(i,s,4);s+=4;var h=a.readUshort(i,s);s+=2;var m=e._lctf.readFeatureTable(i,l+h);m.tag=f.trim(),c.push(m)}return c},e._lctf.readFeatureTable=function(i,s){var a=e._bin,l=s,c={},u=a.readUshort(i,s);s+=2,u>0&&(c.featureParams=l+u);var d=a.readUshort(i,s);s+=2,c.tab=[];for(var f=0;f<d;f++)c.tab.push(a.readUshort(i,s+2*f));return c},e._lctf.readScriptList=function(i,s){var a=e._bin,l=s,c={},u=a.readUshort(i,s);s+=2;for(var d=0;d<u;d++){var f=a.readASCII(i,s,4);s+=4;var h=a.readUshort(i,s);s+=2,c[f.trim()]=e._lctf.readScriptTable(i,l+h)}return c},e._lctf.readScriptTable=function(i,s){var a=e._bin,l=s,c={},u=a.readUshort(i,s);s+=2,u>0&&(c.default=e._lctf.readLangSysTable(i,l+u));var d=a.readUshort(i,s);s+=2;for(var f=0;f<d;f++){var h=a.readASCII(i,s,4);s+=4;var m=a.readUshort(i,s);s+=2,c[h.trim()]=e._lctf.readLangSysTable(i,l+m)}return c},e._lctf.readLangSysTable=function(i,s){var a=e._bin,l={};a.readUshort(i,s),s+=2,l.reqFeature=a.readUshort(i,s),s+=2;var c=a.readUshort(i,s);return s+=2,l.features=a.readUshorts(i,s,c),l},e.CFF={},e.CFF.parse=function(i,s,a){var l=e._bin;(i=new Uint8Array(i.buffer,s,a))[s=0],i[++s],i[++s],i[++s],s++;var c=[];s=e.CFF.readIndex(i,s,c);for(var u=[],d=0;d<c.length-1;d++)u.push(l.readASCII(i,s+c[d],c[d+1]-c[d]));s+=c[c.length-1];var f=[];s=e.CFF.readIndex(i,s,f);var h=[];for(d=0;d<f.length-1;d++)h.push(e.CFF.readDict(i,s+f[d],s+f[d+1]));s+=f[f.length-1];var m=h[0],p=[];s=e.CFF.readIndex(i,s,p);var x=[];for(d=0;d<p.length-1;d++)x.push(l.readASCII(i,s+p[d],p[d+1]-p[d]));if(s+=p[p.length-1],e.CFF.readSubrs(i,s,m),m.CharStrings){s=m.CharStrings,p=[],s=e.CFF.readIndex(i,s,p);var v=[];for(d=0;d<p.length-1;d++)v.push(l.readBytes(i,s+p[d],p[d+1]-p[d]));m.CharStrings=v}if(m.ROS){s=m.FDArray;var g=[];for(s=e.CFF.readIndex(i,s,g),m.FDArray=[],d=0;d<g.length-1;d++){var w=e.CFF.readDict(i,s+g[d],s+g[d+1]);e.CFF._readFDict(i,w,x),m.FDArray.push(w)}s+=g[g.length-1],s=m.FDSelect,m.FDSelect=[];var _=i[s];if(s++,_!=3)throw _;var E=l.readUshort(i,s);for(s+=2,d=0;d<E+1;d++)m.FDSelect.push(l.readUshort(i,s),i[s+2]),s+=3}return m.Encoding&&(m.Encoding=e.CFF.readEncoding(i,m.Encoding,m.CharStrings.length)),m.charset&&(m.charset=e.CFF.readCharset(i,m.charset,m.CharStrings.length)),e.CFF._readFDict(i,m,x),m},e.CFF._readFDict=function(i,s,a){var l;for(var c in s.Private&&(l=s.Private[1],s.Private=e.CFF.readDict(i,l,l+s.Private[0]),s.Private.Subrs&&e.CFF.readSubrs(i,l+s.Private.Subrs,s.Private)),s)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(c)!=-1&&(s[c]=a[s[c]-426+35])},e.CFF.readSubrs=function(i,s,a){var l=e._bin,c=[];s=e.CFF.readIndex(i,s,c);var u,d=c.length;u=d<1240?107:d<33900?1131:32768,a.Bias=u,a.Subrs=[];for(var f=0;f<c.length-1;f++)a.Subrs.push(l.readBytes(i,s+c[f],c[f+1]-c[f]))},e.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],e.CFF.glyphByUnicode=function(i,s){for(var a=0;a<i.charset.length;a++)if(i.charset[a]==s)return a;return-1},e.CFF.glyphBySE=function(i,s){return s<0||s>255?-1:e.CFF.glyphByUnicode(i,e.CFF.tableSE[s])},e.CFF.readEncoding=function(i,s,a){e._bin;var l=[".notdef"],c=i[s];if(s++,c!=0)throw"error: unknown encoding format: "+c;var u=i[s];s++;for(var d=0;d<u;d++)l.push(i[s+d]);return l},e.CFF.readCharset=function(i,s,a){var l=e._bin,c=[".notdef"],u=i[s];if(s++,u==0)for(var d=0;d<a;d++){var f=l.readUshort(i,s);s+=2,c.push(f)}else{if(u!=1&&u!=2)throw"error: format: "+u;for(;c.length<a;){f=l.readUshort(i,s),s+=2;var h=0;for(u==1?(h=i[s],s++):(h=l.readUshort(i,s),s+=2),d=0;d<=h;d++)c.push(f),f++}}return c},e.CFF.readIndex=function(i,s,a){var l=e._bin,c=l.readUshort(i,s)+1,u=i[s+=2];if(s++,u==1)for(var d=0;d<c;d++)a.push(i[s+d]);else if(u==2)for(d=0;d<c;d++)a.push(l.readUshort(i,s+2*d));else if(u==3)for(d=0;d<c;d++)a.push(16777215&l.readUint(i,s+3*d-1));else if(c!=1)throw"unsupported offset size: "+u+", count: "+c;return(s+=c*u)-1},e.CFF.getCharString=function(i,s,a){var l=e._bin,c=i[s],u=i[s+1];i[s+2],i[s+3],i[s+4];var d=1,f=null,h=null;c<=20&&(f=c,d=1),c==12&&(f=100*c+u,d=2),21<=c&&c<=27&&(f=c,d=1),c==28&&(h=l.readShort(i,s+1),d=3),29<=c&&c<=31&&(f=c,d=1),32<=c&&c<=246&&(h=c-139,d=1),247<=c&&c<=250&&(h=256*(c-247)+u+108,d=2),251<=c&&c<=254&&(h=256*-(c-251)-u-108,d=2),c==255&&(h=l.readInt(i,s+1)/65535,d=5),a.val=h??"o"+f,a.size=d},e.CFF.readCharString=function(i,s,a){for(var l=s+a,c=e._bin,u=[];s<l;){var d=i[s],f=i[s+1];i[s+2],i[s+3],i[s+4];var h=1,m=null,p=null;d<=20&&(m=d,h=1),d==12&&(m=100*d+f,h=2),d!=19&&d!=20||(m=d,h=2),21<=d&&d<=27&&(m=d,h=1),d==28&&(p=c.readShort(i,s+1),h=3),29<=d&&d<=31&&(m=d,h=1),32<=d&&d<=246&&(p=d-139,h=1),247<=d&&d<=250&&(p=256*(d-247)+f+108,h=2),251<=d&&d<=254&&(p=256*-(d-251)-f-108,h=2),d==255&&(p=c.readInt(i,s+1)/65535,h=5),u.push(p??"o"+m),s+=h}return u},e.CFF.readDict=function(i,s,a){for(var l=e._bin,c={},u=[];s<a;){var d=i[s],f=i[s+1];i[s+2],i[s+3],i[s+4];var h=1,m=null,p=null;if(d==28&&(p=l.readShort(i,s+1),h=3),d==29&&(p=l.readInt(i,s+1),h=5),32<=d&&d<=246&&(p=d-139,h=1),247<=d&&d<=250&&(p=256*(d-247)+f+108,h=2),251<=d&&d<=254&&(p=256*-(d-251)-f-108,h=2),d==255)throw p=l.readInt(i,s+1)/65535,h=5,"unknown number";if(d==30){var x=[];for(h=1;;){var v=i[s+h];h++;var g=v>>4,w=15&v;if(g!=15&&x.push(g),w!=15&&x.push(w),w==15)break}for(var _="",E=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],N=0;N<x.length;N++)_+=E[x[N]];p=parseFloat(_)}d<=21&&(m=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][d],h=1,d==12&&(m=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][f],h=2)),m!=null?(c[m]=u.length==1?u[0]:u,u=[]):u.push(p),s+=h}return c},e.cmap={},e.cmap.parse=function(i,s,a){i=new Uint8Array(i.buffer,s,a),s=0;var l=e._bin,c={};l.readUshort(i,s),s+=2;var u=l.readUshort(i,s);s+=2;var d=[];c.tables=[];for(var f=0;f<u;f++){var h=l.readUshort(i,s);s+=2;var m=l.readUshort(i,s);s+=2;var p=l.readUint(i,s);s+=4;var x="p"+h+"e"+m,v=d.indexOf(p);if(v==-1){var g;v=c.tables.length,d.push(p);var w=l.readUshort(i,p);w==0?g=e.cmap.parse0(i,p):w==4?g=e.cmap.parse4(i,p):w==6?g=e.cmap.parse6(i,p):w==12?g=e.cmap.parse12(i,p):console.debug("unknown format: "+w,h,m,p),c.tables.push(g)}if(c[x]!=null)throw"multiple tables for one platform+encoding";c[x]=v}return c},e.cmap.parse0=function(i,s){var a=e._bin,l={};l.format=a.readUshort(i,s),s+=2;var c=a.readUshort(i,s);s+=2,a.readUshort(i,s),s+=2,l.map=[];for(var u=0;u<c-6;u++)l.map.push(i[s+u]);return l},e.cmap.parse4=function(i,s){var a=e._bin,l=s,c={};c.format=a.readUshort(i,s),s+=2;var u=a.readUshort(i,s);s+=2,a.readUshort(i,s),s+=2;var d=a.readUshort(i,s);s+=2;var f=d/2;c.searchRange=a.readUshort(i,s),s+=2,c.entrySelector=a.readUshort(i,s),s+=2,c.rangeShift=a.readUshort(i,s),s+=2,c.endCount=a.readUshorts(i,s,f),s+=2*f,s+=2,c.startCount=a.readUshorts(i,s,f),s+=2*f,c.idDelta=[];for(var h=0;h<f;h++)c.idDelta.push(a.readShort(i,s)),s+=2;for(c.idRangeOffset=a.readUshorts(i,s,f),s+=2*f,c.glyphIdArray=[];s<l+u;)c.glyphIdArray.push(a.readUshort(i,s)),s+=2;return c},e.cmap.parse6=function(i,s){var a=e._bin,l={};l.format=a.readUshort(i,s),s+=2,a.readUshort(i,s),s+=2,a.readUshort(i,s),s+=2,l.firstCode=a.readUshort(i,s),s+=2;var c=a.readUshort(i,s);s+=2,l.glyphIdArray=[];for(var u=0;u<c;u++)l.glyphIdArray.push(a.readUshort(i,s)),s+=2;return l},e.cmap.parse12=function(i,s){var a=e._bin,l={};l.format=a.readUshort(i,s),s+=2,s+=2,a.readUint(i,s),s+=4,a.readUint(i,s),s+=4;var c=a.readUint(i,s);s+=4,l.groups=[];for(var u=0;u<c;u++){var d=s+12*u,f=a.readUint(i,d+0),h=a.readUint(i,d+4),m=a.readUint(i,d+8);l.groups.push([f,h,m])}return l},e.glyf={},e.glyf.parse=function(i,s,a,l){for(var c=[],u=0;u<l.maxp.numGlyphs;u++)c.push(null);return c},e.glyf._parseGlyf=function(i,s){var a=e._bin,l=i._data,c=e._tabOffset(l,"glyf",i._offset)+i.loca[s];if(i.loca[s]==i.loca[s+1])return null;var u={};if(u.noc=a.readShort(l,c),c+=2,u.xMin=a.readShort(l,c),c+=2,u.yMin=a.readShort(l,c),c+=2,u.xMax=a.readShort(l,c),c+=2,u.yMax=a.readShort(l,c),c+=2,u.xMin>=u.xMax||u.yMin>=u.yMax)return null;if(u.noc>0){u.endPts=[];for(var d=0;d<u.noc;d++)u.endPts.push(a.readUshort(l,c)),c+=2;var f=a.readUshort(l,c);if(c+=2,l.length-c<f)return null;u.instructions=a.readBytes(l,c,f),c+=f;var h=u.endPts[u.noc-1]+1;for(u.flags=[],d=0;d<h;d++){var m=l[c];if(c++,u.flags.push(m),(8&m)!=0){var p=l[c];c++;for(var x=0;x<p;x++)u.flags.push(m),d++}}for(u.xs=[],d=0;d<h;d++){var v=(2&u.flags[d])!=0,g=(16&u.flags[d])!=0;v?(u.xs.push(g?l[c]:-l[c]),c++):g?u.xs.push(0):(u.xs.push(a.readShort(l,c)),c+=2)}for(u.ys=[],d=0;d<h;d++)v=(4&u.flags[d])!=0,g=(32&u.flags[d])!=0,v?(u.ys.push(g?l[c]:-l[c]),c++):g?u.ys.push(0):(u.ys.push(a.readShort(l,c)),c+=2);var w=0,_=0;for(d=0;d<h;d++)w+=u.xs[d],_+=u.ys[d],u.xs[d]=w,u.ys[d]=_}else{var E;u.parts=[];do{E=a.readUshort(l,c),c+=2;var N={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(u.parts.push(N),N.glyphIndex=a.readUshort(l,c),c+=2,1&E){var C=a.readShort(l,c);c+=2;var j=a.readShort(l,c);c+=2}else C=a.readInt8(l,c),c++,j=a.readInt8(l,c),c++;2&E?(N.m.tx=C,N.m.ty=j):(N.p1=C,N.p2=j),8&E?(N.m.a=N.m.d=a.readF2dot14(l,c),c+=2):64&E?(N.m.a=a.readF2dot14(l,c),c+=2,N.m.d=a.readF2dot14(l,c),c+=2):128&E&&(N.m.a=a.readF2dot14(l,c),c+=2,N.m.b=a.readF2dot14(l,c),c+=2,N.m.c=a.readF2dot14(l,c),c+=2,N.m.d=a.readF2dot14(l,c),c+=2)}while(32&E);if(256&E){var T=a.readUshort(l,c);for(c+=2,u.instr=[],d=0;d<T;d++)u.instr.push(l[c]),c++}}return u},e.GDEF={},e.GDEF.parse=function(i,s,a,l){var c=s;s+=4;var u=e._bin.readUshort(i,s);return{glyphClassDef:u===0?null:e._lctf.readClassDef(i,c+u)}},e.GPOS={},e.GPOS.parse=function(i,s,a,l){return e._lctf.parse(i,s,a,l,e.GPOS.subt)},e.GPOS.subt=function(i,s,a,l){var c=e._bin,u=a,d={};if(d.fmt=c.readUshort(i,a),a+=2,s==1||s==2||s==3||s==7||s==8&&d.fmt<=2){var f=c.readUshort(i,a);a+=2,d.coverage=e._lctf.readCoverage(i,f+u)}if(s==1&&d.fmt==1){var h=c.readUshort(i,a);a+=2,h!=0&&(d.pos=e.GPOS.readValueRecord(i,a,h))}else if(s==2&&d.fmt>=1&&d.fmt<=2){h=c.readUshort(i,a),a+=2;var m=c.readUshort(i,a);a+=2;var p=e._lctf.numOfOnes(h),x=e._lctf.numOfOnes(m);if(d.fmt==1){d.pairsets=[];var v=c.readUshort(i,a);a+=2;for(var g=0;g<v;g++){var w=u+c.readUshort(i,a);a+=2;var _=c.readUshort(i,w);w+=2;for(var E=[],N=0;N<_;N++){var C=c.readUshort(i,w);w+=2,h!=0&&(D=e.GPOS.readValueRecord(i,w,h),w+=2*p),m!=0&&(F=e.GPOS.readValueRecord(i,w,m),w+=2*x),E.push({gid2:C,val1:D,val2:F})}d.pairsets.push(E)}}if(d.fmt==2){var j=c.readUshort(i,a);a+=2;var T=c.readUshort(i,a);a+=2;var A=c.readUshort(i,a);a+=2;var P=c.readUshort(i,a);for(a+=2,d.classDef1=e._lctf.readClassDef(i,u+j),d.classDef2=e._lctf.readClassDef(i,u+T),d.matrix=[],g=0;g<A;g++){var R=[];for(N=0;N<P;N++){var D=null,F=null;h!=0&&(D=e.GPOS.readValueRecord(i,a,h),a+=2*p),m!=0&&(F=e.GPOS.readValueRecord(i,a,m),a+=2*x),R.push({val1:D,val2:F})}d.matrix.push(R)}}}else if(s==4&&d.fmt==1)d.markCoverage=e._lctf.readCoverage(i,c.readUshort(i,a)+u),d.baseCoverage=e._lctf.readCoverage(i,c.readUshort(i,a+2)+u),d.markClassCount=c.readUshort(i,a+4),d.markArray=e.GPOS.readMarkArray(i,c.readUshort(i,a+6)+u),d.baseArray=e.GPOS.readBaseArray(i,c.readUshort(i,a+8)+u,d.markClassCount);else if(s==6&&d.fmt==1)d.mark1Coverage=e._lctf.readCoverage(i,c.readUshort(i,a)+u),d.mark2Coverage=e._lctf.readCoverage(i,c.readUshort(i,a+2)+u),d.markClassCount=c.readUshort(i,a+4),d.mark1Array=e.GPOS.readMarkArray(i,c.readUshort(i,a+6)+u),d.mark2Array=e.GPOS.readBaseArray(i,c.readUshort(i,a+8)+u,d.markClassCount);else{if(s==9&&d.fmt==1){var I=c.readUshort(i,a);a+=2;var G=c.readUint(i,a);if(a+=4,l.ltype==9)l.ltype=I;else if(l.ltype!=I)throw"invalid extension substitution";return e.GPOS.subt(i,l.ltype,u+G)}console.debug("unsupported GPOS table LookupType",s,"format",d.fmt)}return d},e.GPOS.readValueRecord=function(i,s,a){var l=e._bin,c=[];return c.push(1&a?l.readShort(i,s):0),s+=1&a?2:0,c.push(2&a?l.readShort(i,s):0),s+=2&a?2:0,c.push(4&a?l.readShort(i,s):0),s+=4&a?2:0,c.push(8&a?l.readShort(i,s):0),s+=8&a?2:0,c},e.GPOS.readBaseArray=function(i,s,a){var l=e._bin,c=[],u=s,d=l.readUshort(i,s);s+=2;for(var f=0;f<d;f++){for(var h=[],m=0;m<a;m++)h.push(e.GPOS.readAnchorRecord(i,u+l.readUshort(i,s))),s+=2;c.push(h)}return c},e.GPOS.readMarkArray=function(i,s){var a=e._bin,l=[],c=s,u=a.readUshort(i,s);s+=2;for(var d=0;d<u;d++){var f=e.GPOS.readAnchorRecord(i,a.readUshort(i,s+2)+c);f.markClass=a.readUshort(i,s),l.push(f),s+=4}return l},e.GPOS.readAnchorRecord=function(i,s){var a=e._bin,l={};return l.fmt=a.readUshort(i,s),l.x=a.readShort(i,s+2),l.y=a.readShort(i,s+4),l},e.GSUB={},e.GSUB.parse=function(i,s,a,l){return e._lctf.parse(i,s,a,l,e.GSUB.subt)},e.GSUB.subt=function(i,s,a,l){var c=e._bin,u=a,d={};if(d.fmt=c.readUshort(i,a),a+=2,s!=1&&s!=2&&s!=4&&s!=5&&s!=6)return null;if(s==1||s==2||s==4||s==5&&d.fmt<=2||s==6&&d.fmt<=2){var f=c.readUshort(i,a);a+=2,d.coverage=e._lctf.readCoverage(i,u+f)}if(s==1&&d.fmt>=1&&d.fmt<=2){if(d.fmt==1)d.delta=c.readShort(i,a),a+=2;else if(d.fmt==2){var h=c.readUshort(i,a);a+=2,d.newg=c.readUshorts(i,a,h),a+=2*d.newg.length}}else if(s==2&&d.fmt==1){h=c.readUshort(i,a),a+=2,d.seqs=[];for(var m=0;m<h;m++){var p=c.readUshort(i,a)+u;a+=2;var x=c.readUshort(i,p);d.seqs.push(c.readUshorts(i,p+2,x))}}else if(s==4)for(d.vals=[],h=c.readUshort(i,a),a+=2,m=0;m<h;m++){var v=c.readUshort(i,a);a+=2,d.vals.push(e.GSUB.readLigatureSet(i,u+v))}else if(s==5&&d.fmt==2){if(d.fmt==2){var g=c.readUshort(i,a);a+=2,d.cDef=e._lctf.readClassDef(i,u+g),d.scset=[];var w=c.readUshort(i,a);for(a+=2,m=0;m<w;m++){var _=c.readUshort(i,a);a+=2,d.scset.push(_==0?null:e.GSUB.readSubClassSet(i,u+_))}}}else if(s==6&&d.fmt==3){if(d.fmt==3){for(m=0;m<3;m++){h=c.readUshort(i,a),a+=2;for(var E=[],N=0;N<h;N++)E.push(e._lctf.readCoverage(i,u+c.readUshort(i,a+2*N)));a+=2*h,m==0&&(d.backCvg=E),m==1&&(d.inptCvg=E),m==2&&(d.ahedCvg=E)}h=c.readUshort(i,a),a+=2,d.lookupRec=e.GSUB.readSubstLookupRecords(i,a,h)}}else{if(s==7&&d.fmt==1){var C=c.readUshort(i,a);a+=2;var j=c.readUint(i,a);if(a+=4,l.ltype==9)l.ltype=C;else if(l.ltype!=C)throw"invalid extension substitution";return e.GSUB.subt(i,l.ltype,u+j)}console.debug("unsupported GSUB table LookupType",s,"format",d.fmt)}return d},e.GSUB.readSubClassSet=function(i,s){var a=e._bin.readUshort,l=s,c=[],u=a(i,s);s+=2;for(var d=0;d<u;d++){var f=a(i,s);s+=2,c.push(e.GSUB.readSubClassRule(i,l+f))}return c},e.GSUB.readSubClassRule=function(i,s){var a=e._bin.readUshort,l={},c=a(i,s),u=a(i,s+=2);s+=2,l.input=[];for(var d=0;d<c-1;d++)l.input.push(a(i,s)),s+=2;return l.substLookupRecords=e.GSUB.readSubstLookupRecords(i,s,u),l},e.GSUB.readSubstLookupRecords=function(i,s,a){for(var l=e._bin.readUshort,c=[],u=0;u<a;u++)c.push(l(i,s),l(i,s+2)),s+=4;return c},e.GSUB.readChainSubClassSet=function(i,s){var a=e._bin,l=s,c=[],u=a.readUshort(i,s);s+=2;for(var d=0;d<u;d++){var f=a.readUshort(i,s);s+=2,c.push(e.GSUB.readChainSubClassRule(i,l+f))}return c},e.GSUB.readChainSubClassRule=function(i,s){for(var a=e._bin,l={},c=["backtrack","input","lookahead"],u=0;u<c.length;u++){var d=a.readUshort(i,s);s+=2,u==1&&d--,l[c[u]]=a.readUshorts(i,s,d),s+=2*l[c[u]].length}return d=a.readUshort(i,s),s+=2,l.subst=a.readUshorts(i,s,2*d),s+=2*l.subst.length,l},e.GSUB.readLigatureSet=function(i,s){var a=e._bin,l=s,c=[],u=a.readUshort(i,s);s+=2;for(var d=0;d<u;d++){var f=a.readUshort(i,s);s+=2,c.push(e.GSUB.readLigature(i,l+f))}return c},e.GSUB.readLigature=function(i,s){var a=e._bin,l={chain:[]};l.nglyph=a.readUshort(i,s),s+=2;var c=a.readUshort(i,s);s+=2;for(var u=0;u<c-1;u++)l.chain.push(a.readUshort(i,s)),s+=2;return l},e.head={},e.head.parse=function(i,s,a){var l=e._bin,c={};return l.readFixed(i,s),s+=4,c.fontRevision=l.readFixed(i,s),s+=4,l.readUint(i,s),s+=4,l.readUint(i,s),s+=4,c.flags=l.readUshort(i,s),s+=2,c.unitsPerEm=l.readUshort(i,s),s+=2,c.created=l.readUint64(i,s),s+=8,c.modified=l.readUint64(i,s),s+=8,c.xMin=l.readShort(i,s),s+=2,c.yMin=l.readShort(i,s),s+=2,c.xMax=l.readShort(i,s),s+=2,c.yMax=l.readShort(i,s),s+=2,c.macStyle=l.readUshort(i,s),s+=2,c.lowestRecPPEM=l.readUshort(i,s),s+=2,c.fontDirectionHint=l.readShort(i,s),s+=2,c.indexToLocFormat=l.readShort(i,s),s+=2,c.glyphDataFormat=l.readShort(i,s),s+=2,c},e.hhea={},e.hhea.parse=function(i,s,a){var l=e._bin,c={};return l.readFixed(i,s),s+=4,c.ascender=l.readShort(i,s),s+=2,c.descender=l.readShort(i,s),s+=2,c.lineGap=l.readShort(i,s),s+=2,c.advanceWidthMax=l.readUshort(i,s),s+=2,c.minLeftSideBearing=l.readShort(i,s),s+=2,c.minRightSideBearing=l.readShort(i,s),s+=2,c.xMaxExtent=l.readShort(i,s),s+=2,c.caretSlopeRise=l.readShort(i,s),s+=2,c.caretSlopeRun=l.readShort(i,s),s+=2,c.caretOffset=l.readShort(i,s),s+=2,s+=8,c.metricDataFormat=l.readShort(i,s),s+=2,c.numberOfHMetrics=l.readUshort(i,s),s+=2,c},e.hmtx={},e.hmtx.parse=function(i,s,a,l){for(var c=e._bin,u={aWidth:[],lsBearing:[]},d=0,f=0,h=0;h<l.maxp.numGlyphs;h++)h<l.hhea.numberOfHMetrics&&(d=c.readUshort(i,s),s+=2,f=c.readShort(i,s),s+=2),u.aWidth.push(d),u.lsBearing.push(f);return u},e.kern={},e.kern.parse=function(i,s,a,l){var c=e._bin,u=c.readUshort(i,s);if(s+=2,u==1)return e.kern.parseV1(i,s-2,a,l);var d=c.readUshort(i,s);s+=2;for(var f={glyph1:[],rval:[]},h=0;h<d;h++){s+=2,a=c.readUshort(i,s),s+=2;var m=c.readUshort(i,s);s+=2;var p=m>>>8;if((p&=15)!=0)throw"unknown kern table format: "+p;s=e.kern.readFormat0(i,s,f)}return f},e.kern.parseV1=function(i,s,a,l){var c=e._bin;c.readFixed(i,s),s+=4;var u=c.readUint(i,s);s+=4;for(var d={glyph1:[],rval:[]},f=0;f<u;f++){c.readUint(i,s),s+=4;var h=c.readUshort(i,s);s+=2,c.readUshort(i,s),s+=2;var m=h>>>8;if((m&=15)!=0)throw"unknown kern table format: "+m;s=e.kern.readFormat0(i,s,d)}return d},e.kern.readFormat0=function(i,s,a){var l=e._bin,c=-1,u=l.readUshort(i,s);s+=2,l.readUshort(i,s),s+=2,l.readUshort(i,s),s+=2,l.readUshort(i,s),s+=2;for(var d=0;d<u;d++){var f=l.readUshort(i,s);s+=2;var h=l.readUshort(i,s);s+=2;var m=l.readShort(i,s);s+=2,f!=c&&(a.glyph1.push(f),a.rval.push({glyph2:[],vals:[]}));var p=a.rval[a.rval.length-1];p.glyph2.push(h),p.vals.push(m),c=f}return s},e.loca={},e.loca.parse=function(i,s,a,l){var c=e._bin,u=[],d=l.head.indexToLocFormat,f=l.maxp.numGlyphs+1;if(d==0)for(var h=0;h<f;h++)u.push(c.readUshort(i,s+(h<<1))<<1);if(d==1)for(h=0;h<f;h++)u.push(c.readUint(i,s+(h<<2)));return u},e.maxp={},e.maxp.parse=function(i,s,a){var l=e._bin,c={},u=l.readUint(i,s);return s+=4,c.numGlyphs=l.readUshort(i,s),s+=2,u==65536&&(c.maxPoints=l.readUshort(i,s),s+=2,c.maxContours=l.readUshort(i,s),s+=2,c.maxCompositePoints=l.readUshort(i,s),s+=2,c.maxCompositeContours=l.readUshort(i,s),s+=2,c.maxZones=l.readUshort(i,s),s+=2,c.maxTwilightPoints=l.readUshort(i,s),s+=2,c.maxStorage=l.readUshort(i,s),s+=2,c.maxFunctionDefs=l.readUshort(i,s),s+=2,c.maxInstructionDefs=l.readUshort(i,s),s+=2,c.maxStackElements=l.readUshort(i,s),s+=2,c.maxSizeOfInstructions=l.readUshort(i,s),s+=2,c.maxComponentElements=l.readUshort(i,s),s+=2,c.maxComponentDepth=l.readUshort(i,s),s+=2),c},e.name={},e.name.parse=function(i,s,a){var l=e._bin,c={};l.readUshort(i,s),s+=2;var u=l.readUshort(i,s);s+=2,l.readUshort(i,s);for(var d,f=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],h=s+=2,m=0;m<u;m++){var p=l.readUshort(i,s);s+=2;var x=l.readUshort(i,s);s+=2;var v=l.readUshort(i,s);s+=2;var g=l.readUshort(i,s);s+=2;var w=l.readUshort(i,s);s+=2;var _=l.readUshort(i,s);s+=2;var E,N=f[g],C=h+12*u+_;if(p==0)E=l.readUnicode(i,C,w/2);else if(p==3&&x==0)E=l.readUnicode(i,C,w/2);else if(x==0)E=l.readASCII(i,C,w);else if(x==1)E=l.readUnicode(i,C,w/2);else if(x==3)E=l.readUnicode(i,C,w/2);else{if(p!=1)throw"unknown encoding "+x+", platformID: "+p;E=l.readASCII(i,C,w),console.debug("reading unknown MAC encoding "+x+" as ASCII")}var j="p"+p+","+v.toString(16);c[j]==null&&(c[j]={}),c[j][N!==void 0?N:g]=E,c[j]._lang=v}for(var T in c)if(c[T].postScriptName!=null&&c[T]._lang==1033)return c[T];for(var T in c)if(c[T].postScriptName!=null&&c[T]._lang==0)return c[T];for(var T in c)if(c[T].postScriptName!=null&&c[T]._lang==3084)return c[T];for(var T in c)if(c[T].postScriptName!=null)return c[T];for(var T in c){d=T;break}return console.debug("returning name table with languageID "+c[d]._lang),c[d]},e["OS/2"]={},e["OS/2"].parse=function(i,s,a){var l=e._bin.readUshort(i,s);s+=2;var c={};if(l==0)e["OS/2"].version0(i,s,c);else if(l==1)e["OS/2"].version1(i,s,c);else if(l==2||l==3||l==4)e["OS/2"].version2(i,s,c);else{if(l!=5)throw"unknown OS/2 table version: "+l;e["OS/2"].version5(i,s,c)}return c},e["OS/2"].version0=function(i,s,a){var l=e._bin;return a.xAvgCharWidth=l.readShort(i,s),s+=2,a.usWeightClass=l.readUshort(i,s),s+=2,a.usWidthClass=l.readUshort(i,s),s+=2,a.fsType=l.readUshort(i,s),s+=2,a.ySubscriptXSize=l.readShort(i,s),s+=2,a.ySubscriptYSize=l.readShort(i,s),s+=2,a.ySubscriptXOffset=l.readShort(i,s),s+=2,a.ySubscriptYOffset=l.readShort(i,s),s+=2,a.ySuperscriptXSize=l.readShort(i,s),s+=2,a.ySuperscriptYSize=l.readShort(i,s),s+=2,a.ySuperscriptXOffset=l.readShort(i,s),s+=2,a.ySuperscriptYOffset=l.readShort(i,s),s+=2,a.yStrikeoutSize=l.readShort(i,s),s+=2,a.yStrikeoutPosition=l.readShort(i,s),s+=2,a.sFamilyClass=l.readShort(i,s),s+=2,a.panose=l.readBytes(i,s,10),s+=10,a.ulUnicodeRange1=l.readUint(i,s),s+=4,a.ulUnicodeRange2=l.readUint(i,s),s+=4,a.ulUnicodeRange3=l.readUint(i,s),s+=4,a.ulUnicodeRange4=l.readUint(i,s),s+=4,a.achVendID=[l.readInt8(i,s),l.readInt8(i,s+1),l.readInt8(i,s+2),l.readInt8(i,s+3)],s+=4,a.fsSelection=l.readUshort(i,s),s+=2,a.usFirstCharIndex=l.readUshort(i,s),s+=2,a.usLastCharIndex=l.readUshort(i,s),s+=2,a.sTypoAscender=l.readShort(i,s),s+=2,a.sTypoDescender=l.readShort(i,s),s+=2,a.sTypoLineGap=l.readShort(i,s),s+=2,a.usWinAscent=l.readUshort(i,s),s+=2,a.usWinDescent=l.readUshort(i,s),s+=2},e["OS/2"].version1=function(i,s,a){var l=e._bin;return s=e["OS/2"].version0(i,s,a),a.ulCodePageRange1=l.readUint(i,s),s+=4,a.ulCodePageRange2=l.readUint(i,s),s+=4},e["OS/2"].version2=function(i,s,a){var l=e._bin;return s=e["OS/2"].version1(i,s,a),a.sxHeight=l.readShort(i,s),s+=2,a.sCapHeight=l.readShort(i,s),s+=2,a.usDefault=l.readUshort(i,s),s+=2,a.usBreak=l.readUshort(i,s),s+=2,a.usMaxContext=l.readUshort(i,s),s+=2},e["OS/2"].version5=function(i,s,a){var l=e._bin;return s=e["OS/2"].version2(i,s,a),a.usLowerOpticalPointSize=l.readUshort(i,s),s+=2,a.usUpperOpticalPointSize=l.readUshort(i,s),s+=2},e.post={},e.post.parse=function(i,s,a){var l=e._bin,c={};return c.version=l.readFixed(i,s),s+=4,c.italicAngle=l.readFixed(i,s),s+=4,c.underlinePosition=l.readShort(i,s),s+=2,c.underlineThickness=l.readShort(i,s),s+=2,c},e==null&&(e={}),e.U==null&&(e.U={}),e.U.codeToGlyph=function(i,s){var a=i.cmap,l=-1;if(a.p0e4!=null?l=a.p0e4:a.p3e1!=null?l=a.p3e1:a.p1e0!=null?l=a.p1e0:a.p0e3!=null&&(l=a.p0e3),l==-1)throw"no familiar platform and encoding!";var c=a.tables[l];if(c.format==0)return s>=c.map.length?0:c.map[s];if(c.format==4){for(var u=-1,d=0;d<c.endCount.length;d++)if(s<=c.endCount[d]){u=d;break}return u==-1||c.startCount[u]>s?0:65535&(c.idRangeOffset[u]!=0?c.glyphIdArray[s-c.startCount[u]+(c.idRangeOffset[u]>>1)-(c.idRangeOffset.length-u)]:s+c.idDelta[u])}if(c.format==12){if(s>c.groups[c.groups.length-1][1])return 0;for(d=0;d<c.groups.length;d++){var f=c.groups[d];if(f[0]<=s&&s<=f[1])return f[2]+(s-f[0])}return 0}throw"unknown cmap table format "+c.format},e.U.glyphToPath=function(i,s){var a={cmds:[],crds:[]};if(i.SVG&&i.SVG.entries[s]){var l=i.SVG.entries[s];return l==null?a:(typeof l=="string"&&(l=e.SVG.toPath(l),i.SVG.entries[s]=l),l)}if(i.CFF){var c={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:i.CFF.Private?i.CFF.Private.defaultWidthX:0,open:!1},u=i.CFF,d=i.CFF.Private;if(u.ROS){for(var f=0;u.FDSelect[f+2]<=s;)f+=2;d=u.FDArray[u.FDSelect[f+1]].Private}e.U._drawCFF(i.CFF.CharStrings[s],c,u,d,a)}else i.glyf&&e.U._drawGlyf(s,i,a);return a},e.U._drawGlyf=function(i,s,a){var l=s.glyf[i];l==null&&(l=s.glyf[i]=e.glyf._parseGlyf(s,i)),l!=null&&(l.noc>-1?e.U._simpleGlyph(l,a):e.U._compoGlyph(l,s,a))},e.U._simpleGlyph=function(i,s){for(var a=0;a<i.noc;a++){for(var l=a==0?0:i.endPts[a-1]+1,c=i.endPts[a],u=l;u<=c;u++){var d=u==l?c:u-1,f=u==c?l:u+1,h=1&i.flags[u],m=1&i.flags[d],p=1&i.flags[f],x=i.xs[u],v=i.ys[u];if(u==l)if(h){if(!m){e.U.P.moveTo(s,x,v);continue}e.U.P.moveTo(s,i.xs[d],i.ys[d])}else m?e.U.P.moveTo(s,i.xs[d],i.ys[d]):e.U.P.moveTo(s,(i.xs[d]+x)/2,(i.ys[d]+v)/2);h?m&&e.U.P.lineTo(s,x,v):p?e.U.P.qcurveTo(s,x,v,i.xs[f],i.ys[f]):e.U.P.qcurveTo(s,x,v,(x+i.xs[f])/2,(v+i.ys[f])/2)}e.U.P.closePath(s)}},e.U._compoGlyph=function(i,s,a){for(var l=0;l<i.parts.length;l++){var c={cmds:[],crds:[]},u=i.parts[l];e.U._drawGlyf(u.glyphIndex,s,c);for(var d=u.m,f=0;f<c.crds.length;f+=2){var h=c.crds[f],m=c.crds[f+1];a.crds.push(h*d.a+m*d.b+d.tx),a.crds.push(h*d.c+m*d.d+d.ty)}for(f=0;f<c.cmds.length;f++)a.cmds.push(c.cmds[f])}},e.U._getGlyphClass=function(i,s){var a=e._lctf.getInterval(s,i);return a==-1?0:s[a+2]},e.U._applySubs=function(i,s,a,l){for(var c=i.length-s-1,u=0;u<a.tabs.length;u++)if(a.tabs[u]!=null){var d,f=a.tabs[u];if(!f.coverage||(d=e._lctf.coverageIndex(f.coverage,i[s]))!=-1){if(a.ltype==1)i[s],f.fmt==1?i[s]=i[s]+f.delta:i[s]=f.newg[d];else if(a.ltype==4)for(var h=f.vals[d],m=0;m<h.length;m++){var p=h[m],x=p.chain.length;if(!(x>c)){for(var v=!0,g=0,w=0;w<x;w++){for(;i[s+g+(1+w)]==-1;)g++;p.chain[w]!=i[s+g+(1+w)]&&(v=!1)}if(v){for(i[s]=p.nglyph,w=0;w<x+g;w++)i[s+w+1]=-1;break}}}else if(a.ltype==5&&f.fmt==2)for(var _=e._lctf.getInterval(f.cDef,i[s]),E=f.cDef[_+2],N=f.scset[E],C=0;C<N.length;C++){var j=N[C],T=j.input;if(!(T.length>c)){for(v=!0,w=0;w<T.length;w++){var A=e._lctf.getInterval(f.cDef,i[s+1+w]);if(_==-1&&f.cDef[A+2]!=T[w]){v=!1;break}}if(v){var P=j.substLookupRecords;for(m=0;m<P.length;m+=2)P[m],P[m+1]}}}else if(a.ltype==6&&f.fmt==3){if(!e.U._glsCovered(i,f.backCvg,s-f.backCvg.length)||!e.U._glsCovered(i,f.inptCvg,s)||!e.U._glsCovered(i,f.ahedCvg,s+f.inptCvg.length))continue;var R=f.lookupRec;for(C=0;C<R.length;C+=2){_=R[C];var D=l[R[C+1]];e.U._applySubs(i,s+_,D,l)}}}}},e.U._glsCovered=function(i,s,a){for(var l=0;l<s.length;l++)if(e._lctf.coverageIndex(s[l],i[a+l])==-1)return!1;return!0},e.U.glyphsToPath=function(i,s,a){for(var l={cmds:[],crds:[]},c=0,u=0;u<s.length;u++){var d=s[u];if(d!=-1){for(var f=u<s.length-1&&s[u+1]!=-1?s[u+1]:0,h=e.U.glyphToPath(i,d),m=0;m<h.crds.length;m+=2)l.crds.push(h.crds[m]+c),l.crds.push(h.crds[m+1]);for(a&&l.cmds.push(a),m=0;m<h.cmds.length;m++)l.cmds.push(h.cmds[m]);a&&l.cmds.push("X"),c+=i.hmtx.aWidth[d],u<s.length-1&&(c+=e.U.getPairAdjustment(i,d,f))}}return l},e.U.P={},e.U.P.moveTo=function(i,s,a){i.cmds.push("M"),i.crds.push(s,a)},e.U.P.lineTo=function(i,s,a){i.cmds.push("L"),i.crds.push(s,a)},e.U.P.curveTo=function(i,s,a,l,c,u,d){i.cmds.push("C"),i.crds.push(s,a,l,c,u,d)},e.U.P.qcurveTo=function(i,s,a,l,c){i.cmds.push("Q"),i.crds.push(s,a,l,c)},e.U.P.closePath=function(i){i.cmds.push("Z")},e.U._drawCFF=function(i,s,a,l,c){for(var u=s.stack,d=s.nStems,f=s.haveWidth,h=s.width,m=s.open,p=0,x=s.x,v=s.y,g=0,w=0,_=0,E=0,N=0,C=0,j=0,T=0,A=0,P=0,R={val:0,size:0};p<i.length;){e.CFF.getCharString(i,p,R);var D=R.val;if(p+=R.size,D=="o1"||D=="o18")u.length%2!=0&&!f&&(h=u.shift()+l.nominalWidthX),d+=u.length>>1,u.length=0,f=!0;else if(D=="o3"||D=="o23")u.length%2!=0&&!f&&(h=u.shift()+l.nominalWidthX),d+=u.length>>1,u.length=0,f=!0;else if(D=="o4")u.length>1&&!f&&(h=u.shift()+l.nominalWidthX,f=!0),m&&e.U.P.closePath(c),v+=u.pop(),e.U.P.moveTo(c,x,v),m=!0;else if(D=="o5")for(;u.length>0;)x+=u.shift(),v+=u.shift(),e.U.P.lineTo(c,x,v);else if(D=="o6"||D=="o7")for(var F=u.length,I=D=="o6",G=0;G<F;G++){var q=u.shift();I?x+=q:v+=q,I=!I,e.U.P.lineTo(c,x,v)}else if(D=="o8"||D=="o24"){F=u.length;for(var $=0;$+6<=F;)g=x+u.shift(),w=v+u.shift(),_=g+u.shift(),E=w+u.shift(),x=_+u.shift(),v=E+u.shift(),e.U.P.curveTo(c,g,w,_,E,x,v),$+=6;D=="o24"&&(x+=u.shift(),v+=u.shift(),e.U.P.lineTo(c,x,v))}else{if(D=="o11")break;if(D=="o1234"||D=="o1235"||D=="o1236"||D=="o1237")D=="o1234"&&(w=v,_=(g=x+u.shift())+u.shift(),P=E=w+u.shift(),C=E,T=v,x=(j=(N=(A=_+u.shift())+u.shift())+u.shift())+u.shift(),e.U.P.curveTo(c,g,w,_,E,A,P),e.U.P.curveTo(c,N,C,j,T,x,v)),D=="o1235"&&(g=x+u.shift(),w=v+u.shift(),_=g+u.shift(),E=w+u.shift(),A=_+u.shift(),P=E+u.shift(),N=A+u.shift(),C=P+u.shift(),j=N+u.shift(),T=C+u.shift(),x=j+u.shift(),v=T+u.shift(),u.shift(),e.U.P.curveTo(c,g,w,_,E,A,P),e.U.P.curveTo(c,N,C,j,T,x,v)),D=="o1236"&&(g=x+u.shift(),w=v+u.shift(),_=g+u.shift(),P=E=w+u.shift(),C=E,j=(N=(A=_+u.shift())+u.shift())+u.shift(),T=C+u.shift(),x=j+u.shift(),e.U.P.curveTo(c,g,w,_,E,A,P),e.U.P.curveTo(c,N,C,j,T,x,v)),D=="o1237"&&(g=x+u.shift(),w=v+u.shift(),_=g+u.shift(),E=w+u.shift(),A=_+u.shift(),P=E+u.shift(),N=A+u.shift(),C=P+u.shift(),j=N+u.shift(),T=C+u.shift(),Math.abs(j-x)>Math.abs(T-v)?x=j+u.shift():v=T+u.shift(),e.U.P.curveTo(c,g,w,_,E,A,P),e.U.P.curveTo(c,N,C,j,T,x,v));else if(D=="o14"){if(u.length>0&&!f&&(h=u.shift()+a.nominalWidthX,f=!0),u.length==4){var L=u.shift(),V=u.shift(),K=u.shift(),W=u.shift(),B=e.CFF.glyphBySE(a,K),ee=e.CFF.glyphBySE(a,W);e.U._drawCFF(a.CharStrings[B],s,a,l,c),s.x=L,s.y=V,e.U._drawCFF(a.CharStrings[ee],s,a,l,c)}m&&(e.U.P.closePath(c),m=!1)}else if(D=="o19"||D=="o20")u.length%2!=0&&!f&&(h=u.shift()+l.nominalWidthX),d+=u.length>>1,u.length=0,f=!0,p+=d+7>>3;else if(D=="o21")u.length>2&&!f&&(h=u.shift()+l.nominalWidthX,f=!0),v+=u.pop(),x+=u.pop(),m&&e.U.P.closePath(c),e.U.P.moveTo(c,x,v),m=!0;else if(D=="o22")u.length>1&&!f&&(h=u.shift()+l.nominalWidthX,f=!0),x+=u.pop(),m&&e.U.P.closePath(c),e.U.P.moveTo(c,x,v),m=!0;else if(D=="o25"){for(;u.length>6;)x+=u.shift(),v+=u.shift(),e.U.P.lineTo(c,x,v);g=x+u.shift(),w=v+u.shift(),_=g+u.shift(),E=w+u.shift(),x=_+u.shift(),v=E+u.shift(),e.U.P.curveTo(c,g,w,_,E,x,v)}else if(D=="o26")for(u.length%2&&(x+=u.shift());u.length>0;)g=x,w=v+u.shift(),x=_=g+u.shift(),v=(E=w+u.shift())+u.shift(),e.U.P.curveTo(c,g,w,_,E,x,v);else if(D=="o27")for(u.length%2&&(v+=u.shift());u.length>0;)w=v,_=(g=x+u.shift())+u.shift(),E=w+u.shift(),x=_+u.shift(),v=E,e.U.P.curveTo(c,g,w,_,E,x,v);else if(D=="o10"||D=="o29"){var Y=D=="o10"?l:a;if(u.length==0)console.debug("error: empty stack");else{var Q=u.pop(),de=Y.Subrs[Q+Y.Bias];s.x=x,s.y=v,s.nStems=d,s.haveWidth=f,s.width=h,s.open=m,e.U._drawCFF(de,s,a,l,c),x=s.x,v=s.y,d=s.nStems,f=s.haveWidth,h=s.width,m=s.open}}else if(D=="o30"||D=="o31"){var te=u.length,he=($=0,D=="o31");for($+=te-(F=-3&te);$<F;)he?(w=v,_=(g=x+u.shift())+u.shift(),v=(E=w+u.shift())+u.shift(),F-$==5?(x=_+u.shift(),$++):x=_,he=!1):(g=x,w=v+u.shift(),_=g+u.shift(),E=w+u.shift(),x=_+u.shift(),F-$==5?(v=E+u.shift(),$++):v=E,he=!0),e.U.P.curveTo(c,g,w,_,E,x,v),$+=4}else{if((D+"").charAt(0)=="o")throw console.debug("Unknown operation: "+D,i),D;u.push(D)}}}s.x=x,s.y=v,s.nStems=d,s.haveWidth=f,s.width=h,s.open=m};var n=e,r={Typr:n};return t.Typr=n,t.default=r,Object.defineProperty(t,"__esModule",{value:!0}),t}({}).Typr}/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function ZXe(){return function(t){var e=Uint8Array,n=Uint16Array,r=Uint32Array,i=new e([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),s=new e([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new e([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),l=function(D,F){for(var I=new n(31),G=0;G<31;++G)I[G]=F+=1<<D[G-1];var q=new r(I[30]);for(G=1;G<30;++G)for(var $=I[G];$<I[G+1];++$)q[$]=$-I[G]<<5|G;return[I,q]},c=l(i,2),u=c[0],d=c[1];u[28]=258,d[258]=28;for(var f=l(s,0)[0],h=new n(32768),m=0;m<32768;++m){var p=(43690&m)>>>1|(21845&m)<<1;p=(61680&(p=(52428&p)>>>2|(13107&p)<<2))>>>4|(3855&p)<<4,h[m]=((65280&p)>>>8|(255&p)<<8)>>>1}var x=function(D,F,I){for(var G=D.length,q=0,$=new n(F);q<G;++q)++$[D[q]-1];var L,V=new n(F);for(q=0;q<F;++q)V[q]=V[q-1]+$[q-1]<<1;{L=new n(1<<F);var K=15-F;for(q=0;q<G;++q)if(D[q])for(var W=q<<4|D[q],B=F-D[q],ee=V[D[q]-1]++<<B,Y=ee|(1<<B)-1;ee<=Y;++ee)L[h[ee]>>>K]=W}return L},v=new e(288);for(m=0;m<144;++m)v[m]=8;for(m=144;m<256;++m)v[m]=9;for(m=256;m<280;++m)v[m]=7;for(m=280;m<288;++m)v[m]=8;var g=new e(32);for(m=0;m<32;++m)g[m]=5;var w=x(v,9),_=x(g,5),E=function(D){for(var F=D[0],I=1;I<D.length;++I)D[I]>F&&(F=D[I]);return F},N=function(D,F,I){var G=F/8|0;return(D[G]|D[G+1]<<8)>>(7&F)&I},C=function(D,F){var I=F/8|0;return(D[I]|D[I+1]<<8|D[I+2]<<16)>>(7&F)},j=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],T=function(D,F,I){var G=new Error(F||j[D]);if(G.code=D,Error.captureStackTrace&&Error.captureStackTrace(G,T),!I)throw G;return G},A=function(D,F,I){var G=D.length;if(!G||I&&!I.l&&G<5)return F||new e(0);var q=!F||I,$=!I||I.i;I||(I={}),F||(F=new e(3*G));var L,V=function(Ke){var ie=F.length;if(Ke>ie){var be=new e(Math.max(2*ie,Ke));be.set(F),F=be}},K=I.f||0,W=I.p||0,B=I.b||0,ee=I.l,Y=I.d,Q=I.m,de=I.n,te=8*G;do{if(!ee){I.f=K=N(D,W,1);var he=N(D,W+1,3);if(W+=3,!he){var oe=D[(Ae=((L=W)/8|0)+(7&L&&1)+4)-4]|D[Ae-3]<<8,fe=Ae+oe;if(fe>G){$&&T(0);break}q&&V(B+oe),F.set(D.subarray(Ae,fe),B),I.b=B+=oe,I.p=W=8*fe;continue}if(he==1)ee=w,Y=_,Q=9,de=5;else if(he==2){var ve=N(D,W,31)+257,ne=N(D,W+10,15)+4,Be=ve+N(D,W+5,31)+1;W+=14;for(var H=new e(Be),Te=new e(19),Ne=0;Ne<ne;++Ne)Te[a[Ne]]=N(D,W+3*Ne,7);W+=3*ne;var De=E(Te),ce=(1<<De)-1,Ue=x(Te,De);for(Ne=0;Ne<Be;){var Ae,ge=Ue[N(D,W,ce)];if(W+=15&ge,(Ae=ge>>>4)<16)H[Ne++]=Ae;else{var nt=0,X=0;for(Ae==16?(X=3+N(D,W,3),W+=2,nt=H[Ne-1]):Ae==17?(X=3+N(D,W,7),W+=3):Ae==18&&(X=11+N(D,W,127),W+=7);X--;)H[Ne++]=nt}}var z=H.subarray(0,ve),ae=H.subarray(ve);Q=E(z),de=E(ae),ee=x(z,Q),Y=x(ae,de)}else T(1);if(W>te){$&&T(0);break}}q&&V(B+131072);for(var Me=(1<<Q)-1,Se=(1<<de)-1,ye=W;;ye=W){var Ye=(nt=ee[C(D,W)&Me])>>>4;if((W+=15&nt)>te){$&&T(0);break}if(nt||T(2),Ye<256)F[B++]=Ye;else{if(Ye==256){ye=W,ee=null;break}var $e=Ye-254;if(Ye>264){var rt=i[Ne=Ye-257];$e=N(D,W,(1<<rt)-1)+u[Ne],W+=rt}var st=Y[C(D,W)&Se],ke=st>>>4;if(st||T(3),W+=15&st,ae=f[ke],ke>3&&(rt=s[ke],ae+=C(D,W)&(1<<rt)-1,W+=rt),W>te){$&&T(0);break}q&&V(B+131072);for(var qe=B+$e;B<qe;B+=4)F[B]=F[B-ae],F[B+1]=F[B+1-ae],F[B+2]=F[B+2-ae],F[B+3]=F[B+3-ae];B=qe}}I.l=ee,I.p=ye,I.b=B,ee&&(K=1,I.m=Q,I.d=Y,I.n=de)}while(!K);return B==F.length?F:function(Ke,ie,be){(be==null||be>Ke.length)&&(be=Ke.length);var Je=new(Ke instanceof n?n:Ke instanceof r?r:e)(be-ie);return Je.set(Ke.subarray(ie,be)),Je}(F,0,B)},P=new e(0),R=typeof TextDecoder<"u"&&new TextDecoder;try{R.decode(P,{stream:!0})}catch{}return t.convert_streams=function(D){var F=new DataView(D),I=0;function G(){var ve=F.getUint16(I);return I+=2,ve}function q(){var ve=F.getUint32(I);return I+=4,ve}function $(ve){oe.setUint16(fe,ve),fe+=2}function L(ve){oe.setUint32(fe,ve),fe+=4}for(var V={signature:q(),flavor:q(),length:q(),numTables:G(),reserved:G(),totalSfntSize:q(),majorVersion:G(),minorVersion:G(),metaOffset:q(),metaLength:q(),metaOrigLength:q(),privOffset:q(),privLength:q()},K=0;Math.pow(2,K)<=V.numTables;)K++;K--;for(var W=16*Math.pow(2,K),B=16*V.numTables-W,ee=12,Y=[],Q=0;Q<V.numTables;Q++)Y.push({tag:q(),offset:q(),compLength:q(),origLength:q(),origChecksum:q()}),ee+=16;var de,te=new Uint8Array(12+16*Y.length+Y.reduce(function(ve,ne){return ve+ne.origLength+4},0)),he=te.buffer,oe=new DataView(he),fe=0;return L(V.flavor),$(V.numTables),$(W),$(K),$(B),Y.forEach(function(ve){L(ve.tag),L(ve.origChecksum),L(ee),L(ve.origLength),ve.outOffset=ee,(ee+=ve.origLength)%4!=0&&(ee+=4-ee%4)}),Y.forEach(function(ve){var ne,Be=D.slice(ve.offset,ve.offset+ve.compLength);if(ve.compLength!=ve.origLength){var H=new Uint8Array(ve.origLength);ne=new Uint8Array(Be,2),A(ne,H)}else H=new Uint8Array(Be);te.set(H,ve.outOffset);var Te=0;(ee=ve.outOffset+ve.origLength)%4!=0&&(Te=4-ee%4),te.set(new Uint8Array(Te).buffer,ve.outOffset+ve.origLength),de=ee+Te}),he.slice(0,de)},Object.defineProperty(t,"__esModule",{value:!0}),t}({}).convert_streams}function QXe(t,e){const n={M:2,L:2,Q:4,C:6,Z:0},r={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},i=1,s=2,a=4,l=8,c=16,u=32;let d;function f(j){if(!d){const T={R:s,L:i,D:a,C:c,U:u,T:l};d=new Map;for(let A in r){let P=0;r[A].split(",").forEach(R=>{let[D,F]=R.split("+");D=parseInt(D,36),F=F?parseInt(F,36):0,d.set(P+=D,T[A]);for(let I=F;I--;)d.set(++P,T[A])})}}return d.get(j)||u}const h=1,m=2,p=3,x=4,v=[null,"isol","init","fina","medi"];function g(j){const T=new Uint8Array(j.length);let A=u,P=h,R=-1;for(let D=0;D<j.length;D++){const F=j.codePointAt(D);let I=f(F)|0,G=h;I&l||(A&(i|a|c)?I&(s|a|c)?(G=p,(P===h||P===p)&&T[R]++):I&(i|u)&&(P===m||P===x)&&T[R]--:A&(s|u)&&(P===m||P===x)&&T[R]--,P=T[D]=G,A=I,R=D,F>65535&&D++)}return T}function w(j,T){const A=[];for(let R=0;R<T.length;R++){const D=T.codePointAt(R);D>65535&&R++,A.push(t.U.codeToGlyph(j,D))}const P=j.GSUB;if(P){const{lookupList:R,featureList:D}=P;let F;const I=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws|ccmp)$/,G=[];D.forEach(q=>{if(I.test(q.tag))for(let $=0;$<q.tab.length;$++){if(G[q.tab[$]])continue;G[q.tab[$]]=!0;const L=R[q.tab[$]],V=/^(isol|init|fina|medi)$/.test(q.tag);V&&!F&&(F=g(T));for(let K=0;K<A.length;K++)(!F||!V||v[F[K]]===q.tag)&&t.U._applySubs(A,K,L,R)}})}return A}function _(j,T){const A=new Int16Array(T.length*3);let P=0;for(;P<T.length;P++){const I=T[P];if(I===-1)continue;A[P*3+2]=j.hmtx.aWidth[I];const G=j.GPOS;if(G){const q=G.lookupList;for(let $=0;$<q.length;$++){const L=q[$];for(let V=0;V<L.tabs.length;V++){const K=L.tabs[V];if(L.ltype===1){if(t._lctf.coverageIndex(K.coverage,I)!==-1&&K.pos){F(K.pos,P);break}}else if(L.ltype===2){let W=null,B=R();if(B!==-1){const ee=t._lctf.coverageIndex(K.coverage,T[B]);if(ee!==-1){if(K.fmt===1){const Y=K.pairsets[ee];for(let Q=0;Q<Y.length;Q++)Y[Q].gid2===I&&(W=Y[Q])}else if(K.fmt===2){const Y=t.U._getGlyphClass(T[B],K.classDef1),Q=t.U._getGlyphClass(I,K.classDef2);W=K.matrix[Y][Q]}if(W){W.val1&&F(W.val1,B),W.val2&&F(W.val2,P);break}}}}else if(L.ltype===4){const W=t._lctf.coverageIndex(K.markCoverage,I);if(W!==-1){const B=R(D),ee=B===-1?-1:t._lctf.coverageIndex(K.baseCoverage,T[B]);if(ee!==-1){const Y=K.markArray[W],Q=K.baseArray[ee][Y.markClass];A[P*3]=Q.x-Y.x+A[B*3]-A[B*3+2],A[P*3+1]=Q.y-Y.y+A[B*3+1];break}}}else if(L.ltype===6){const W=t._lctf.coverageIndex(K.mark1Coverage,I);if(W!==-1){const B=R();if(B!==-1){const ee=T[B];if(E(j,ee)===3){const Y=t._lctf.coverageIndex(K.mark2Coverage,ee);if(Y!==-1){const Q=K.mark1Array[W],de=K.mark2Array[Y][Q.markClass];A[P*3]=de.x-Q.x+A[B*3]-A[B*3+2],A[P*3+1]=de.y-Q.y+A[B*3+1];break}}}}}}}}else if(j.kern&&!j.cff){const q=R();if(q!==-1){const $=j.kern.glyph1.indexOf(T[q]);if($!==-1){const L=j.kern.rval[$].glyph2.indexOf(I);L!==-1&&(A[q*3+2]+=j.kern.rval[$].vals[L])}}}}return A;function R(I){for(let G=P-1;G>=0;G--)if(T[G]!==-1&&(!I||I(T[G])))return G;return-1}function D(I){return E(j,I)===1}function F(I,G){for(let q=0;q<3;q++)A[G*3+q]+=I[q]||0}}function E(j,T){const A=j.GDEF&&j.GDEF.glyphClassDef;return A?t.U._getGlyphClass(T,A):0}function N(...j){for(let T=0;T<j.length;T++)if(typeof j[T]=="number")return j[T]}function C(j){const T=Object.create(null),A=j["OS/2"],P=j.hhea,R=j.head.unitsPerEm,D=N(A&&A.sTypoAscender,P&&P.ascender,R),F={unitsPerEm:R,ascender:D,descender:N(A&&A.sTypoDescender,P&&P.descender,0),capHeight:N(A&&A.sCapHeight,D),xHeight:N(A&&A.sxHeight,D),lineGap:N(A&&A.sTypoLineGap,P&&P.lineGap),supportsCodePoint(I){return t.U.codeToGlyph(j,I)>0},forEachGlyph(I,G,q,$){let L=0;const V=1/F.unitsPerEm*G,K=w(j,I);let W=0;const B=_(j,K);return K.forEach((ee,Y)=>{if(ee!==-1){let Q=T[ee];if(!Q){const{cmds:de,crds:te}=t.U.glyphToPath(j,ee);let he="",oe=0;for(let H=0,Te=de.length;H<Te;H++){const Ne=n[de[H]];he+=de[H];for(let De=1;De<=Ne;De++)he+=(De>1?",":"")+te[oe++]}let fe,ve,ne,Be;if(te.length){fe=ve=1/0,ne=Be=-1/0;for(let H=0,Te=te.length;H<Te;H+=2){let Ne=te[H],De=te[H+1];Ne<fe&&(fe=Ne),De<ve&&(ve=De),Ne>ne&&(ne=Ne),De>Be&&(Be=De)}}else fe=ne=ve=Be=0;Q=T[ee]={index:ee,advanceWidth:j.hmtx.aWidth[ee],xMin:fe,yMin:ve,xMax:ne,yMax:Be,path:he}}$.call(null,Q,L+B[Y*3]*V,B[Y*3+1]*V,W),L+=B[Y*3+2]*V,q&&(L+=q*G)}W+=I.codePointAt(W)>65535?2:1}),L}};return F}return function(T){const A=new Uint8Array(T,0,4),P=t._bin.readASCII(A,0,4);if(P==="wOFF")T=e(T);else if(P==="wOF2")throw new Error("woff2 fonts not supported");return C(t.parse(T)[0])}}const JXe=Ex({name:"Typr Font Parser",dependencies:[YXe,ZXe,QXe],init(t,e,n){const r=t(),i=e();return n(r,i)}});/*!
Custom bundle of @unicode-font-resolver/client v1.0.2 (https://github.com/lojjic/unicode-font-resolver)
for use in Troika text rendering. 
Original MIT license applies
*/function eYe(){return function(t){var e=function(){this.buckets=new Map};e.prototype.add=function(_){var E=_>>5;this.buckets.set(E,(this.buckets.get(E)||0)|1<<(31&_))},e.prototype.has=function(_){var E=this.buckets.get(_>>5);return E!==void 0&&(E&1<<(31&_))!=0},e.prototype.serialize=function(){var _=[];return this.buckets.forEach(function(E,N){_.push((+N).toString(36)+":"+E.toString(36))}),_.join(",")},e.prototype.deserialize=function(_){var E=this;this.buckets.clear(),_.split(",").forEach(function(N){var C=N.split(":");E.buckets.set(parseInt(C[0],36),parseInt(C[1],36))})};var n=Math.pow(2,8),r=n-1,i=~r;function s(_){var E=function(C){return C&i}(_).toString(16),N=function(C){return(C&i)+n-1}(_).toString(16);return"codepoint-index/plane"+(_>>16)+"/"+E+"-"+N+".json"}function a(_,E){var N=_&r,C=E.codePointAt(N/6|0);return((C=(C||48)-48)&1<<N%6)!=0}function l(_,E){var N;(N=_,N.replace(/U\+/gi,"").replace(/^,+|,+$/g,"").split(/,+/).map(function(C){return C.split("-").map(function(j){return parseInt(j.trim(),16)})})).forEach(function(C){var j=C[0],T=C[1];T===void 0&&(T=j),E(j,T)})}function c(_,E){l(_,function(N,C){for(var j=N;j<=C;j++)E(j)})}var u={},d={},f=new WeakMap,h="https://cdn.jsdelivr.net/gh/lojjic/unicode-font-resolver@v1.0.1/packages/data";function m(_){var E=f.get(_);return E||(E=new e,c(_.ranges,function(N){return E.add(N)}),f.set(_,E)),E}var p,x=new Map;function v(_,E,N){return _[E]?E:_[N]?N:function(C){for(var j in C)return j}(_)}function g(_,E){var N=E;if(!_.includes(N)){N=1/0;for(var C=0;C<_.length;C++)Math.abs(_[C]-E)<Math.abs(N-E)&&(N=_[C])}return N}function w(_){return p||(p=new Set,c("9-D,20,85,A0,1680,2000-200A,2028-202F,205F,3000",function(E){p.add(E)})),p.has(_)}return t.CodePointSet=e,t.clearCache=function(){u={},d={}},t.getFontsForString=function(_,E){E===void 0&&(E={});var N,C=E.lang;C===void 0&&(C=new RegExp("\\p{Script=Hangul}","u").test(N=_)?"ko":new RegExp("\\p{Script=Hiragana}|\\p{Script=Katakana}","u").test(N)?"ja":"en");var j=E.category;j===void 0&&(j="sans-serif");var T=E.style;T===void 0&&(T="normal");var A=E.weight;A===void 0&&(A=400);var P=(E.dataUrl||h).replace(/\/$/g,""),R=new Map,D=new Uint8Array(_.length),F={},I={},G=new Array(_.length),q=new Map,$=!1;function L(W){var B=x.get(W);return B||(B=fetch(P+"/"+W).then(function(ee){if(!ee.ok)throw new Error(ee.statusText);return ee.json().then(function(Y){if(!Array.isArray(Y)||Y[0]!==1)throw new Error("Incorrect schema version; need 1, got "+Y[0]);return Y[1]})}).catch(function(ee){if(P!==h)return $||(console.error('unicode-font-resolver: Failed loading from dataUrl "'+P+'", trying default CDN. '+ee.message),$=!0),P=h,x.delete(W),L(W);throw ee}),x.set(W,B)),B}for(var V=function(W){var B=_.codePointAt(W),ee=s(B);G[W]=ee,u[ee]||q.has(ee)||q.set(ee,L(ee).then(function(Y){u[ee]=Y})),B>65535&&(W++,K=W)},K=0;K<_.length;K++)V(K);return Promise.all(q.values()).then(function(){q.clear();for(var W=function(ee){var Y=_.codePointAt(ee),Q=null,de=u[G[ee]],te=void 0;for(var he in de){var oe=I[he];if(oe===void 0&&(oe=I[he]=new RegExp(he).test(C||"en")),oe){for(var fe in te=he,de[he])if(a(Y,de[he][fe])){Q=fe;break}break}}if(!Q){e:for(var ve in de)if(ve!==te){for(var ne in de[ve])if(a(Y,de[ve][ne])){Q=ne;break e}}}Q||(console.debug("No font coverage for U+"+Y.toString(16)),Q="latin"),G[ee]=Q,d[Q]||q.has(Q)||q.set(Q,L("font-meta/"+Q+".json").then(function(Be){d[Q]=Be})),Y>65535&&(ee++,B=ee)},B=0;B<_.length;B++)W(B);return Promise.all(q.values())}).then(function(){for(var W,B=null,ee=0;ee<_.length;ee++){var Y=_.codePointAt(ee);if(B&&(w(Y)||m(B).has(Y)))D[ee]=D[ee-1];else{B=d[G[ee]];var Q=F[B.id];if(!Q){var de=B.typeforms,te=v(de,j,"sans-serif"),he=v(de[te],T,"normal"),oe=g((W=de[te])===null||W===void 0?void 0:W[he],A);Q=F[B.id]=P+"/font-files/"+B.id+"/"+te+"."+he+"."+oe+".woff"}var fe=R.get(Q);fe==null&&(fe=R.size,R.set(Q,fe)),D[ee]=fe}Y>65535&&(ee++,D[ee]=D[ee-1])}return{fontUrls:Array.from(R.keys()),chars:D}})},Object.defineProperty(t,"__esModule",{value:!0}),t}({})}function tYe(t,e){const n=Object.create(null),r=Object.create(null);function i(a,l){const c=u=>{console.error(`Failure loading font ${a}`,u)};try{const u=new XMLHttpRequest;u.open("get",a,!0),u.responseType="arraybuffer",u.onload=function(){if(u.status>=400)c(new Error(u.statusText));else if(u.status>0)try{const d=t(u.response);d.src=a,l(d)}catch(d){c(d)}},u.onerror=c,u.send()}catch(u){c(u)}}function s(a,l){let c=n[a];c?l(c):r[a]?r[a].push(l):(r[a]=[l],i(a,u=>{u.src=a,n[a]=u,r[a].forEach(d=>d(u)),delete r[a]}))}return function(a,l,{lang:c,fonts:u=[],style:d="normal",weight:f="normal",unicodeFontsURL:h}={}){const m=new Uint8Array(a.length),p=[];a.length||w();const x=new Map,v=[];if(d!=="italic"&&(d="normal"),typeof f!="number"&&(f=f==="bold"?700:400),u&&!Array.isArray(u)&&(u=[u]),u=u.slice().filter(E=>!E.lang||E.lang.test(c)).reverse(),u.length){let j=0;(function T(A=0){for(let P=A,R=a.length;P<R;P++){const D=a.codePointAt(P);if(j===1&&p[m[P-1]].supportsCodePoint(D)||P>0&&/\s/.test(a[P]))m[P]=m[P-1],j===2&&(v[v.length-1][1]=P);else for(let F=m[P],I=u.length;F<=I;F++)if(F===I){const G=j===2?v[v.length-1]:v[v.length]=[P,P];G[1]=P,j=2}else{m[P]=F;const{src:G,unicodeRange:q}=u[F];if(!q||_(D,q)){const $=n[G];if(!$){s(G,()=>{T(P)});return}if($.supportsCodePoint(D)){let L=x.get($);typeof L!="number"&&(L=p.length,p.push($),x.set($,L)),m[P]=L,j=1;break}}}D>65535&&P+1<R&&(m[P+1]=m[P],P++,j===2&&(v[v.length-1][1]=P))}g()})()}else v.push([0,a.length-1]),g();function g(){if(v.length){const E=v.map(N=>a.substring(N[0],N[1]+1)).join(`
`);e.getFontsForString(E,{lang:c||void 0,style:d,weight:f,dataUrl:h}).then(({fontUrls:N,chars:C})=>{const j=p.length;let T=0;v.forEach(P=>{for(let R=0,D=P[1]-P[0];R<=D;R++)m[P[0]+R]=C[T++]+j;T++});let A=0;N.forEach((P,R)=>{s(P,D=>{p[R+j]=D,++A===N.length&&w()})})})}else w()}function w(){l({chars:m,fonts:p})}function _(E,N){for(let C=0;C<N.length;C++){const[j,T=j]=N[C];if(j<=E&&E<=T)return!0}return!1}}}const nYe=Ex({name:"FontResolver",dependencies:[tYe,JXe,eYe],init(t,e,n){return t(e,n())}});function rYe(t,e){const r=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,i="[^\\S\\u00A0]",s=new RegExp(`${i}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function a({text:p,lang:x,fonts:v,style:g,weight:w,preResolvedFonts:_,unicodeFontsURL:E},N){const C=({chars:j,fonts:T})=>{let A,P;const R=[];for(let D=0;D<j.length;D++)j[D]!==P?(P=j[D],R.push(A={start:D,end:D,fontObj:T[j[D]]})):A.end=D;N(R)};_?C(_):t(p,C,{lang:x,fonts:v,style:g,weight:w,unicodeFontsURL:E})}function l({text:p="",font:x,lang:v,sdfGlyphSize:g=64,fontSize:w=400,fontWeight:_=1,fontStyle:E="normal",letterSpacing:N=0,lineHeight:C="normal",maxWidth:j=1/0,direction:T,textAlign:A="left",textIndent:P=0,whiteSpace:R="normal",overflowWrap:D="normal",anchorX:F=0,anchorY:I=0,metricsOnly:G=!1,unicodeFontsURL:q,preResolvedFonts:$=null,includeCaretPositions:L=!1,chunkedBoundsSize:V=8192,colorRanges:K=null},W){const B=f(),ee={fontLoad:0,typesetting:0};p.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),p=p.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),w=+w,N=+N,j=+j,C=C||"normal",P=+P,a({text:p,lang:v,style:E,weight:_,fonts:typeof x=="string"?[{src:x}]:x,unicodeFontsURL:q,preResolvedFonts:$},Y=>{ee.fontLoad=f()-B;const Q=isFinite(j);let de=null,te=null,he=null,oe=null,fe=null,ve=null,ne=null,Be=null,H=0,Te=0,Ne=R!=="nowrap";const De=new Map,ce=f();let Ue=P,Ae=0,ge=new h;const nt=[ge];Y.forEach(Se=>{const{fontObj:ye}=Se,{ascender:Ye,descender:$e,unitsPerEm:rt,lineGap:st,capHeight:ke,xHeight:qe}=ye;let Ke=De.get(ye);if(!Ke){const Ie=w/rt,Le=C==="normal"?(Ye-$e+st)*Ie:C*w,ft=(Le-(Ye-$e)*Ie)/2,Ve=Math.min(Le,(Ye-$e)*Ie),Pe=(Ye+$e)/2*Ie+Ve/2;Ke={index:De.size,src:ye.src,fontObj:ye,fontSizeMult:Ie,unitsPerEm:rt,ascender:Ye*Ie,descender:$e*Ie,capHeight:ke*Ie,xHeight:qe*Ie,lineHeight:Le,baseline:-ft-Ye*Ie,caretTop:Pe,caretBottom:Pe-Ve},De.set(ye,Ke)}const{fontSizeMult:ie}=Ke,be=p.slice(Se.start,Se.end+1);let Je,se;ye.forEachGlyph(be,w,N,(Ie,Le,ft,Ve)=>{Le+=Ae,Ve+=Se.start,Je=Le,se=Ie;const Pe=p.charAt(Ve),Fe=Ie.advanceWidth*ie,tt=ge.count;let it;if("isEmpty"in Ie||(Ie.isWhitespace=!!Pe&&new RegExp(i).test(Pe),Ie.canBreakAfter=!!Pe&&s.test(Pe),Ie.isEmpty=Ie.xMin===Ie.xMax||Ie.yMin===Ie.yMax||r.test(Pe)),!Ie.isWhitespace&&!Ie.isEmpty&&Te++,Ne&&Q&&!Ie.isWhitespace&&Le+Fe+Ue>j&&tt){if(ge.glyphAt(tt-1).glyphObj.canBreakAfter)it=new h,Ue=-Le;else for(let $t=tt;$t--;)if($t===0&&D==="break-word"){it=new h,Ue=-Le;break}else if(ge.glyphAt($t).glyphObj.canBreakAfter){it=ge.splitAt($t+1);const tn=it.glyphAt(0).x;Ue-=tn;for(let jn=it.count;jn--;)it.glyphAt(jn).x-=tn;break}it&&(ge.isSoftWrapped=!0,ge=it,nt.push(ge),H=j)}let yt=ge.glyphAt(ge.count);yt.glyphObj=Ie,yt.x=Le+Ue,yt.y=ft,yt.width=Fe,yt.charIndex=Ve,yt.fontData=Ke,Pe===`
`&&(ge=new h,nt.push(ge),Ue=-(Le+Fe+N*w)+P)}),Ae=Je+se.advanceWidth*ie+N*w});let X=0;nt.forEach(Se=>{let ye=!0;for(let Ye=Se.count;Ye--;){const $e=Se.glyphAt(Ye);ye&&!$e.glyphObj.isWhitespace&&(Se.width=$e.x+$e.width,Se.width>H&&(H=Se.width),ye=!1);let{lineHeight:rt,capHeight:st,xHeight:ke,baseline:qe}=$e.fontData;rt>Se.lineHeight&&(Se.lineHeight=rt);const Ke=qe-Se.baseline;Ke<0&&(Se.baseline+=Ke,Se.cap+=Ke,Se.ex+=Ke),Se.cap=Math.max(Se.cap,Se.baseline+st),Se.ex=Math.max(Se.ex,Se.baseline+ke)}Se.baseline-=X,Se.cap-=X,Se.ex-=X,X+=Se.lineHeight});let z=0,ae=0;if(F&&(typeof F=="number"?z=-F:typeof F=="string"&&(z=-H*(F==="left"?0:F==="center"?.5:F==="right"?1:u(F)))),I&&(typeof I=="number"?ae=-I:typeof I=="string"&&(ae=I==="top"?0:I==="top-baseline"?-nt[0].baseline:I==="top-cap"?-nt[0].cap:I==="top-ex"?-nt[0].ex:I==="middle"?X/2:I==="bottom"?X:I==="bottom-baseline"?-nt[nt.length-1].baseline:u(I)*X)),!G){const Se=e.getEmbeddingLevels(p,T);de=new Uint16Array(Te),te=new Uint8Array(Te),he=new Float32Array(Te*2),oe={},ne=[1/0,1/0,-1/0,-1/0],Be=[],L&&(ve=new Float32Array(p.length*4)),K&&(fe=new Uint8Array(Te*3));let ye=0,Ye=-1,$e=-1,rt,st;if(nt.forEach((ke,qe)=>{let{count:Ke,width:ie}=ke;if(Ke>0){let be=0;for(let Ve=Ke;Ve--&&ke.glyphAt(Ve).glyphObj.isWhitespace;)be++;let Je=0,se=0;if(A==="center")Je=(H-ie)/2;else if(A==="right")Je=H-ie;else if(A==="justify"&&ke.isSoftWrapped){let Ve=0;for(let Pe=Ke-be;Pe--;)ke.glyphAt(Pe).glyphObj.isWhitespace&&Ve++;se=(H-ie)/Ve}if(se||Je){let Ve=0;for(let Pe=0;Pe<Ke;Pe++){let Fe=ke.glyphAt(Pe);const tt=Fe.glyphObj;Fe.x+=Je+Ve,se!==0&&tt.isWhitespace&&Pe<Ke-be&&(Ve+=se,Fe.width+=se)}}const Ie=e.getReorderSegments(p,Se,ke.glyphAt(0).charIndex,ke.glyphAt(ke.count-1).charIndex);for(let Ve=0;Ve<Ie.length;Ve++){const[Pe,Fe]=Ie[Ve];let tt=1/0,it=-1/0;for(let yt=0;yt<Ke;yt++)if(ke.glyphAt(yt).charIndex>=Pe){let $t=yt,tn=yt;for(;tn<Ke;tn++){let jn=ke.glyphAt(tn);if(jn.charIndex>Fe)break;tn<Ke-be&&(tt=Math.min(tt,jn.x),it=Math.max(it,jn.x+jn.width))}for(let jn=$t;jn<tn;jn++){const Wn=ke.glyphAt(jn);Wn.x=it-(Wn.x+Wn.width-tt)}break}}let Le;const ft=Ve=>Le=Ve;for(let Ve=0;Ve<Ke;Ve++){const Pe=ke.glyphAt(Ve);Le=Pe.glyphObj;const Fe=Le.index,tt=Se.levels[Pe.charIndex]&1;if(tt){const it=e.getMirroredCharacter(p[Pe.charIndex]);it&&Pe.fontData.fontObj.forEachGlyph(it,0,0,ft)}if(L){const{charIndex:it,fontData:yt}=Pe,$t=Pe.x+z,tn=Pe.x+Pe.width+z;ve[it*4]=tt?tn:$t,ve[it*4+1]=tt?$t:tn,ve[it*4+2]=ke.baseline+yt.caretBottom+ae,ve[it*4+3]=ke.baseline+yt.caretTop+ae;const jn=it-Ye;jn>1&&d(ve,Ye,jn),Ye=it}if(K){const{charIndex:it}=Pe;for(;it>$e;)$e++,K.hasOwnProperty($e)&&(st=K[$e])}if(!Le.isWhitespace&&!Le.isEmpty){const it=ye++,{fontSizeMult:yt,src:$t,index:tn}=Pe.fontData,jn=oe[$t]||(oe[$t]={});jn[Fe]||(jn[Fe]={path:Le.path,pathBounds:[Le.xMin,Le.yMin,Le.xMax,Le.yMax]});const Wn=Pe.x+z,$n=Pe.y+ke.baseline+ae;he[it*2]=Wn,he[it*2+1]=$n;const Wi=Wn+Le.xMin*yt,Oa=$n+Le.yMin*yt,rs=Wn+Le.xMax*yt,is=$n+Le.yMax*yt;Wi<ne[0]&&(ne[0]=Wi),Oa<ne[1]&&(ne[1]=Oa),rs>ne[2]&&(ne[2]=rs),is>ne[3]&&(ne[3]=is),it%V===0&&(rt={start:it,end:it,rect:[1/0,1/0,-1/0,-1/0]},Be.push(rt)),rt.end++;const Xr=rt.rect;if(Wi<Xr[0]&&(Xr[0]=Wi),Oa<Xr[1]&&(Xr[1]=Oa),rs>Xr[2]&&(Xr[2]=rs),is>Xr[3]&&(Xr[3]=is),de[it]=Fe,te[it]=tn,K){const sa=it*3;fe[sa]=st>>16&255,fe[sa+1]=st>>8&255,fe[sa+2]=st&255}}}}}),ve){const ke=p.length-Ye;ke>1&&d(ve,Ye,ke)}}const Me=[];De.forEach(({index:Se,src:ye,unitsPerEm:Ye,ascender:$e,descender:rt,lineHeight:st,capHeight:ke,xHeight:qe})=>{Me[Se]={src:ye,unitsPerEm:Ye,ascender:$e,descender:rt,lineHeight:st,capHeight:ke,xHeight:qe}}),ee.typesetting=f()-ce,W({glyphIds:de,glyphFontIndices:te,glyphPositions:he,glyphData:oe,fontData:Me,caretPositions:ve,glyphColors:fe,chunkedBounds:Be,fontSize:w,topBaseline:ae+nt[0].baseline,blockBounds:[z,ae-X,z+H,ae],visibleBounds:ne,timings:ee})})}function c(p,x){l({...p,metricsOnly:!0},v=>{const[g,w,_,E]=v.blockBounds;x({width:_-g,height:E-w})})}function u(p){let x=p.match(/^([\d.]+)%$/),v=x?parseFloat(x[1]):NaN;return isNaN(v)?0:v/100}function d(p,x,v){const g=p[x*4],w=p[x*4+1],_=p[x*4+2],E=p[x*4+3],N=(w-g)/v;for(let C=0;C<v;C++){const j=(x+C)*4;p[j]=g+N*C,p[j+1]=g+N*(C+1),p[j+2]=_,p[j+3]=E}}function f(){return(self.performance||Date).now()}function h(){this.data=[]}const m=["glyphObj","x","y","width","charIndex","fontData"];return h.prototype={width:0,lineHeight:0,baseline:0,cap:0,ex:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/m.length)},glyphAt(p){let x=h.flyweight;return x.data=this.data,x.index=p,x},splitAt(p){let x=new h;return x.data=this.data.splice(p*m.length),x}},h.flyweight=m.reduce((p,x,v,g)=>(Object.defineProperty(p,x,{get(){return this.data[this.index*m.length+v]},set(w){this.data[this.index*m.length+v]=w}}),p),{data:null,index:0}),{typeset:l,measure:c}}const bm=()=>(self.performance||Date).now(),Kj=oce();let bG;function iYe(t,e,n,r,i,s,a,l,c,u,d=!0){return d?aYe(t,e,n,r,i,s,a,l,c,u).then(null,f=>(bG||(console.warn("WebGL SDF generation failed, falling back to JS",f),bG=!0),_G(t,e,n,r,i,s,a,l,c,u))):_G(t,e,n,r,i,s,a,l,c,u)}const vE=[],sYe=5;let BD=0;function cce(){const t=bm();for(;vE.length&&bm()-t<sYe;)vE.shift()();BD=vE.length?setTimeout(cce,0):0}const aYe=(...t)=>new Promise((e,n)=>{vE.push(()=>{const r=bm();try{Kj.webgl.generateIntoCanvas(...t),e({timing:bm()-r})}catch(i){n(i)}}),BD||(BD=setTimeout(cce,0))}),oYe=4,lYe=2e3,wG={};let cYe=0;function _G(t,e,n,r,i,s,a,l,c,u){const d="TroikaTextSDFGenerator_JS_"+cYe++%oYe;let f=wG[d];return f||(f=wG[d]={workerModule:Ex({name:d,workerId:d,dependencies:[oce,bm],init(h,m){const p=h().javascript.generate;return function(...x){const v=m();return{textureData:p(...x),timing:m()-v}}},getTransferables(h){return[h.textureData.buffer]}}),requests:0,idleTimer:null}),f.requests++,clearTimeout(f.idleTimer),f.workerModule(t,e,n,r,i,s).then(({textureData:h,timing:m})=>{const p=bm(),x=new Uint8Array(h.length*4);for(let v=0;v<h.length;v++)x[v*4+u]=h[v];return Kj.webglUtils.renderImageData(a,x,l,c,t,e,1<<3-u),m+=bm()-p,--f.requests===0&&(f.idleTimer=setTimeout(()=>{BXe(d)},lYe)),{timing:m}})}function uYe(t){t._warm||(Kj.webgl.isSupported(t),t._warm=!0)}const dYe=Kj.webglUtils.resizeWebGLCanvasWithoutClearing,Yy={unicodeFontsURL:null,sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},fYe=new wt;function lg(){return(self.performance||Date).now()}const SG=Object.create(null);function uce(t,e){t=pYe({},t);const n=lg(),r=[];if(t.font&&r.push({label:"user",src:gYe(t.font)}),t.font=r,t.text=""+t.text,t.sdfGlyphSize=t.sdfGlyphSize||Yy.sdfGlyphSize,t.unicodeFontsURL=t.unicodeFontsURL||Yy.unicodeFontsURL,t.colorRanges!=null){let h={};for(let m in t.colorRanges)if(t.colorRanges.hasOwnProperty(m)){let p=t.colorRanges[m];typeof p!="number"&&(p=fYe.set(p).getHex()),h[m]=p}t.colorRanges=h}Object.freeze(t);const{textureWidth:i,sdfExponent:s}=Yy,{sdfGlyphSize:a}=t,l=i/a*4;let c=SG[a];if(!c){const h=document.createElement("canvas");h.width=i,h.height=a*256/l,c=SG[a]={glyphCount:0,sdfGlyphSize:a,sdfCanvas:h,sdfTexture:new Er(h,void 0,void 0,void 0,$r,$r),contextLost:!1,glyphsByFont:new Map},c.sdfTexture.generateMipmaps=!1,hYe(c)}const{sdfTexture:u,sdfCanvas:d}=c;hce(t).then(h=>{const{glyphIds:m,glyphFontIndices:p,fontData:x,glyphPositions:v,fontSize:g,timings:w}=h,_=[],E=new Float32Array(m.length*4);let N=0,C=0;const j=lg(),T=x.map(F=>{let I=c.glyphsByFont.get(F.src);return I||c.glyphsByFont.set(F.src,I=new Map),I});m.forEach((F,I)=>{const G=p[I],{src:q,unitsPerEm:$}=x[G];let L=T[G].get(F);if(!L){const{path:ee,pathBounds:Y}=h.glyphData[q][F],Q=Math.max(Y[2]-Y[0],Y[3]-Y[1])/a*(Yy.sdfMargin*a+.5),de=c.glyphCount++,te=[Y[0]-Q,Y[1]-Q,Y[2]+Q,Y[3]+Q];T[G].set(F,L={path:ee,atlasIndex:de,sdfViewBox:te}),_.push(L)}const{sdfViewBox:V}=L,K=v[C++],W=v[C++],B=g/$;E[N++]=K+V[0]*B,E[N++]=W+V[1]*B,E[N++]=K+V[2]*B,E[N++]=W+V[3]*B,m[I]=L.atlasIndex}),w.quads=(w.quads||0)+(lg()-j);const A=lg();w.sdf={};const P=d.height,R=Math.ceil(c.glyphCount/l),D=Math.pow(2,Math.ceil(Math.log2(R*a)));D>P&&(console.info(`Increasing SDF texture size ${P}->${D}`),dYe(d,i,D),u.dispose()),Promise.all(_.map(F=>dce(F,c,t.gpuAccelerateSDF).then(({timing:I})=>{w.sdf[F.atlasIndex]=I}))).then(()=>{_.length&&!c.contextLost&&(fce(c),u.needsUpdate=!0),w.sdfTotal=lg()-A,w.total=lg()-n,e(Object.freeze({parameters:t,sdfTexture:u,sdfGlyphSize:a,sdfExponent:s,glyphBounds:E,glyphAtlasIndices:m,glyphColors:h.glyphColors,caretPositions:h.caretPositions,chunkedBounds:h.chunkedBounds,ascender:h.ascender,descender:h.descender,lineHeight:h.lineHeight,capHeight:h.capHeight,xHeight:h.xHeight,topBaseline:h.topBaseline,blockBounds:h.blockBounds,visibleBounds:h.visibleBounds,timings:h.timings}))})}),Promise.resolve().then(()=>{c.contextLost||uYe(d)})}function dce({path:t,atlasIndex:e,sdfViewBox:n},{sdfGlyphSize:r,sdfCanvas:i,contextLost:s},a){if(s)return Promise.resolve({timing:-1});const{textureWidth:l,sdfExponent:c}=Yy,u=Math.max(n[2]-n[0],n[3]-n[1]),d=Math.floor(e/4),f=d%(l/r)*r,h=Math.floor(d/(l/r))*r,m=e%4;return iYe(r,r,t,n,u,c,i,f,h,m,a)}function hYe(t){const e=t.sdfCanvas;e.addEventListener("webglcontextlost",n=>{console.log("Context Lost",n),n.preventDefault(),t.contextLost=!0}),e.addEventListener("webglcontextrestored",n=>{console.log("Context Restored",n),t.contextLost=!1;const r=[];t.glyphsByFont.forEach(i=>{i.forEach(s=>{r.push(dce(s,t,!0))})}),Promise.all(r).then(()=>{fce(t),t.sdfTexture.needsUpdate=!0})})}function mYe({font:t,characters:e,sdfGlyphSize:n},r){let i=Array.isArray(e)?e.join(`
`):""+e;uce({font:t,sdfGlyphSize:n,text:i},r)}function pYe(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}let BS;function gYe(t){return BS||(BS=typeof document>"u"?{}:document.createElement("a")),BS.href=t,BS.href}function fce(t){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:e,sdfTexture:n}=t,{width:r,height:i}=e,s=t.sdfCanvas.getContext("webgl");let a=n.image.data;(!a||a.length!==r*i*4)&&(a=new Uint8Array(r*i*4),n.image={width:r,height:i,data:a},n.flipY=!1,n.isDataTexture=!0),s.readPixels(0,0,r,i,s.RGBA,s.UNSIGNED_BYTE,a)}}const vYe=Ex({name:"Typesetter",dependencies:[rYe,nYe,VXe],init(t,e,n){return t(e,n())}}),hce=Ex({name:"Typesetter",dependencies:[vYe],init(t){return function(e){return new Promise(n=>{t.typeset(e,n)})}},getTransferables(t){const e=[];for(let n in t)t[n]&&t[n].buffer&&e.push(t[n].buffer);return e}});hce.onMainThread;const EG={};function xYe(t){let e=EG[t];return e||(e=EG[t]=new Ju(1,1,t,t).translate(.5,.5,0)),e}const yYe="aTroikaGlyphBounds",NG="aTroikaGlyphIndex",bYe="aTroikaGlyphColor";class wYe extends fU{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new Fi,this.boundingBox=new Li}computeBoundingSphere(){}computeBoundingBox(){}set detail(e){if(e!==this._detail){this._detail=e,(typeof e!="number"||e<1)&&(e=1);let n=xYe(e);["position","normal","uv"].forEach(r=>{this.attributes[r]=n.attributes[r].clone()}),this.setIndex(n.getIndex().clone())}}get detail(){return this._detail}set curveRadius(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(e,n,r,i,s){this.updateAttributeData(yYe,e,4),this.updateAttributeData(NG,n,1),this.updateAttributeData(bYe,s,3),this._blockBounds=r,this._chunkedBounds=i,this.instanceCount=n.length,this._updateBounds()}_updateBounds(){const e=this._blockBounds;if(e){const{curveRadius:n,boundingBox:r}=this;if(n){const{PI:i,floor:s,min:a,max:l,sin:c,cos:u}=Math,d=i/2,f=i*2,h=Math.abs(n),m=e[0]/h,p=e[2]/h,x=s((m+d)/f)!==s((p+d)/f)?-h:a(c(m)*h,c(p)*h),v=s((m-d)/f)!==s((p-d)/f)?h:l(c(m)*h,c(p)*h),g=s((m+i)/f)!==s((p+i)/f)?h*2:l(h-u(m)*h,h-u(p)*h);r.min.set(x,e[1],n<0?-g:0),r.max.set(v,e[3],n<0?0:g)}else r.min.set(e[0],e[1],0),r.max.set(e[2],e[3],0);r.getBoundingSphere(this.boundingSphere)}}applyClipRect(e){let n=this.getAttribute(NG).count,r=this._chunkedBounds;if(r)for(let i=r.length;i--;){n=r[i].end;let s=r[i].rect;if(s[1]<e.w&&s[3]>e.y&&s[0]<e.z&&s[2]>e.x)break}this.instanceCount=n}updateAttributeData(e,n,r){const i=this.getAttribute(e);n?i&&i.array.length===n.length?(i.array.set(n),i.needsUpdate=!0):(this.setAttribute(e,new $m(n,r)),delete this._maxInstanceCount,this.dispose()):i&&this.deleteAttribute(e)}}const _Ye=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaEdgeOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,SYe=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaEdgeOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaEdgeOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,EYe=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaEdgeOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,NYe=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaEdgeOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function MYe(t){const e=UD(t,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new Ge},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new wn(0,0,0,0)},uTroikaClipRect:{value:new wn(0,0,0,0)},uTroikaEdgeOffset:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new Ge},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new wt},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new Yt},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:_Ye,vertexTransform:SYe,fragmentDefs:EYe,fragmentColorTransform:NYe,customRewriter({vertexShader:n,fragmentShader:r}){let i=/\buniform\s+vec3\s+diffuse\b/;return i.test(r)&&(r=r.replace(i,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),i.test(n)||(n=n.replace(lce,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:n,fragmentShader:r}}});return e.transparent=!0,e.forceSinglePass=!0,Object.defineProperties(e,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),e}const _U=new Qu({color:16777215,side:El,transparent:!0}),MG=8421504,CG=new Vt,zS=new J,yk=new J,Oy=[],CYe=new J,bk="+x+y";function jG(t){return Array.isArray(t)?t[0]:t}let mce=()=>{const t=new _r(new Ju(1,1),_U);return mce=()=>t,t},pce=()=>{const t=new _r(new Ju(1,1,32,1),_U);return pce=()=>t,t};const jYe={type:"syncstart"},AYe={type:"synccomplete"},gce=["font","fontSize","fontStyle","fontWeight","lang","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],TYe=gce.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let vce=class extends _r{constructor(){const e=new wYe;super(e,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.unicodeFontsURL=null,this.fontSize=.1,this.fontWeight="normal",this.fontStyle="normal",this.lang=null,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=MG,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=bk,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(e){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(jYe),uce({text:this.text,font:this.font,lang:this.lang,fontSize:this.fontSize||.1,fontWeight:this.fontWeight||"normal",fontStyle:this.fontStyle||"normal",letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF,unicodeFontsURL:this.unicodeFontsURL},n=>{this._isSyncing=!1,this._textRenderInfo=n,this.geometry.updateGlyphs(n.glyphBounds,n.glyphAtlasIndices,n.blockBounds,n.chunkedBounds,n.glyphColors);const r=this._queuedSyncs;r&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{r.forEach(i=>i&&i())})),this.dispatchEvent(AYe),e&&e()})))}onBeforeRender(e,n,r,i,s,a){this.sync(),s.isTroikaTextMaterial&&this._prepareForRender(s)}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}createDerivedMaterial(e){return MYe(e)}get material(){let e=this._derivedMaterial;const n=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=_U.clone());if((!e||!e.isDerivedFrom(n))&&(e=this._derivedMaterial=this.createDerivedMaterial(n),n.addEventListener("dispose",function r(){n.removeEventListener("dispose",r),e.dispose()})),this.hasOutline()){let r=e._outlineMtl;return r||(r=e._outlineMtl=Object.create(e,{id:{value:e.id+.1}}),r.isTextOutlineMaterial=!0,r.depthWrite=!1,r.map=null,e.addEventListener("dispose",function i(){e.removeEventListener("dispose",i),r.dispose()})),[r,e]}else return e}set material(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}hasOutline(){return!!(this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY)}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(e){this.geometry.detail=e}get curveRadius(){return this.geometry.curveRadius}set curveRadius(e){this.geometry.curveRadius=e}get customDepthMaterial(){return jG(this.material).getDepthMaterial()}set customDepthMaterial(e){}get customDistanceMaterial(){return jG(this.material).getDistanceMaterial()}set customDistanceMaterial(e){}_prepareForRender(e){const n=e.isTextOutlineMaterial,r=e.uniforms,i=this.textRenderInfo;if(i){const{sdfTexture:l,blockBounds:c}=i;r.uTroikaSDFTexture.value=l,r.uTroikaSDFTextureSize.value.set(l.image.width,l.image.height),r.uTroikaSDFGlyphSize.value=i.sdfGlyphSize,r.uTroikaSDFExponent.value=i.sdfExponent,r.uTroikaTotalBounds.value.fromArray(c),r.uTroikaUseGlyphColors.value=!n&&!!i.glyphColors;let u=0,d=0,f=0,h,m,p,x=0,v=0;if(n){let{outlineWidth:w,outlineOffsetX:_,outlineOffsetY:E,outlineBlur:N,outlineOpacity:C}=this;u=this._parsePercent(w)||0,d=Math.max(0,this._parsePercent(N)||0),h=C,x=this._parsePercent(_)||0,v=this._parsePercent(E)||0}else f=Math.max(0,this._parsePercent(this.strokeWidth)||0),f&&(p=this.strokeColor,r.uTroikaStrokeColor.value.set(p??MG),m=this.strokeOpacity,m==null&&(m=1)),h=this.fillOpacity;r.uTroikaEdgeOffset.value=u,r.uTroikaPositionOffset.value.set(x,v),r.uTroikaBlurRadius.value=d,r.uTroikaStrokeWidth.value=f,r.uTroikaStrokeOpacity.value=m,r.uTroikaFillOpacity.value=h??1,r.uTroikaCurveRadius.value=this.curveRadius||0;let g=this.clipRect;if(g&&Array.isArray(g)&&g.length===4)r.uTroikaClipRect.value.fromArray(g);else{const w=(this.fontSize||.1)*100;r.uTroikaClipRect.value.set(c[0]-w,c[1]-w,c[2]+w,c[3]+w)}this.geometry.applyClipRect(r.uTroikaClipRect.value)}r.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;const s=n?this.outlineColor||0:this.color;if(s==null)delete e.color;else{const l=e.hasOwnProperty("color")?e.color:e.color=new wt;(s!==l._input||typeof s=="object")&&l.set(l._input=s)}let a=this.orientation||bk;if(a!==e._orientation){let l=r.uTroikaOrient.value;a=a.replace(/[^-+xyz]/g,"");let c=a!==bk&&a.match(/^([-+])([xyz])([-+])([xyz])$/);if(c){let[,u,d,f,h]=c;zS.set(0,0,0)[d]=u==="-"?1:-1,yk.set(0,0,0)[h]=f==="-"?-1:1,CG.lookAt(CYe,zS.cross(yk),yk),l.setFromMatrix4(CG)}else l.identity();e._orientation=a}}_parsePercent(e){if(typeof e=="string"){let n=e.match(/^(-?[\d.]+)%$/),r=n?parseFloat(n[1]):NaN;e=(isNaN(r)?0:r/100)*this.fontSize}return e}localPositionToTextCoords(e,n=new Ge){n.copy(e);const r=this.curveRadius;return r&&(n.x=Math.atan2(e.x,Math.abs(r)-Math.abs(e.z))*Math.abs(r)),n}worldPositionToTextCoords(e,n=new Ge){return zS.copy(e),this.localPositionToTextCoords(this.worldToLocal(zS),n)}raycast(e,n){const{textRenderInfo:r,curveRadius:i}=this;if(r){const s=r.blockBounds,a=i?pce():mce(),l=a.geometry,{position:c,uv:u}=l.attributes;for(let d=0;d<u.count;d++){let f=s[0]+u.getX(d)*(s[2]-s[0]);const h=s[1]+u.getY(d)*(s[3]-s[1]);let m=0;i&&(m=i-Math.cos(f/i)*i,f=Math.sin(f/i)*i),c.setXYZ(d,f,h,m)}l.boundingSphere=this.geometry.boundingSphere,l.boundingBox=this.geometry.boundingBox,a.matrixWorld=this.matrixWorld,a.material.side=this.material.side,Oy.length=0,a.raycast(e,Oy);for(let d=0;d<Oy.length;d++)Oy[d].object=this,n.push(Oy[d])}}copy(e){const n=this.geometry;return super.copy(e),this.geometry=n,TYe.forEach(r=>{this[r]=e[r]}),this}clone(){return new this.constructor().copy(this)}};gce.forEach(t=>{const e="_private_"+t;Object.defineProperty(vce.prototype,t,{get(){return this[e]},set(n){n!==this[e]&&(this[e]=n,this._needsSync=!0)}})});new Li;new wt;const PYe=S.forwardRef(({sdfGlyphSize:t=64,anchorX:e="center",anchorY:n="middle",font:r,fontSize:i=1,children:s,characters:a,onSync:l,...c},u)=>{const d=nu(({invalidate:p})=>p),[f]=S.useState(()=>new vce),[h,m]=S.useMemo(()=>{const p=[];let x="";return S.Children.forEach(s,v=>{typeof v=="string"||typeof v=="number"?x+=v:p.push(v)}),[p,x]},[s]);return VKe(()=>new Promise(p=>mYe({font:r,characters:a},p)),["troika-text",r,a]),S.useLayoutEffect(()=>void f.sync(()=>{d(),l&&l(f)})),S.useEffect(()=>()=>f.dispose(),[f]),S.createElement("primitive",zM({object:f,ref:u,font:r,text:m,anchorX:e,anchorY:n,fontSize:i,sdfGlyphSize:t},c),h)}),kYe=S.forwardRef(({makeDefault:t,camera:e,regress:n,domElement:r,enableDamping:i=!0,keyEvents:s=!1,onChange:a,onStart:l,onEnd:c,...u},d)=>{const f=nu(C=>C.invalidate),h=nu(C=>C.camera),m=nu(C=>C.gl),p=nu(C=>C.events),x=nu(C=>C.setEvents),v=nu(C=>C.set),g=nu(C=>C.get),w=nu(C=>C.performance),_=e||h,E=r||p.connected||m.domElement,N=S.useMemo(()=>new DXe(_),[_]);return ece(()=>{N.enabled&&N.update()},-1),S.useEffect(()=>(s&&N.connect(s===!0?E:s),N.connect(E),()=>void N.dispose()),[s,E,n,N,f]),S.useEffect(()=>{const C=A=>{f(),n&&w.regress(),a&&a(A)},j=A=>{l&&l(A)},T=A=>{c&&c(A)};return N.addEventListener("change",C),N.addEventListener("start",j),N.addEventListener("end",T),()=>{N.removeEventListener("start",j),N.removeEventListener("end",T),N.removeEventListener("change",C)}},[a,l,c,N,f,x]),S.useEffect(()=>{if(t){const C=g().controls;return v({controls:N}),()=>v({controls:C})}},[t,N]),S.createElement("primitive",zM({ref:d,object:N,enableDamping:i},u))}),RYe=({peso:t,altura:e,sexo:n,imc:r,gorduraCorporal:i=15})=>{const s=S.useRef(null),[a,l]=Ze.useState(!0);ece(f=>{s.current&&a&&(s.current.rotation.y+=.005)});const u=(()=>{const f=e/170,h=Math.max(.8,Math.min(1.3,r/22));return{torsoWidth:f*h*(n==="masculino"?1.2:1),torsoDepth:f*h*.8,torsoHeight:f*1.5,armWidth:f*h*.4,legWidth:f*h*.6,headSize:f*.8,shoulderWidth:f*(n==="masculino"?1.6:1.3),hipWidth:f*(n==="masculino"?1.2:1.4)*h}})(),d=()=>r<18.5?"#3b82f6":r<25?"#10b981":r<30?"#f59e0b":"#ef4444";return o.jsxs("group",{ref:s,position:[0,0,0],onClick:()=>l(!a),children:[o.jsxs("mesh",{position:[0,2.5,0],children:[o.jsx("sphereGeometry",{args:[u.headSize,16,16]}),o.jsx("meshLambertMaterial",{color:"#fdbcb4"})]}),o.jsxs("mesh",{position:[0,1.8,0],children:[o.jsx("cylinderGeometry",{args:[.3,.3,.6,8]}),o.jsx("meshLambertMaterial",{color:"#fdbcb4"})]}),o.jsxs("mesh",{position:[0,.5,0],children:[o.jsx("boxGeometry",{args:[u.torsoWidth,u.torsoHeight,u.torsoDepth]}),o.jsx("meshLambertMaterial",{color:d()})]}),o.jsxs("mesh",{position:[-u.shoulderWidth/2,.8,0],children:[o.jsx("cylinderGeometry",{args:[u.armWidth,u.armWidth,1.5,8]}),o.jsx("meshLambertMaterial",{color:"#fdbcb4"})]}),o.jsxs("mesh",{position:[u.shoulderWidth/2,.8,0],children:[o.jsx("cylinderGeometry",{args:[u.armWidth,u.armWidth,1.5,8]}),o.jsx("meshLambertMaterial",{color:"#fdbcb4"})]}),o.jsxs("mesh",{position:[0,-.8,0],children:[o.jsx("boxGeometry",{args:[u.hipWidth,.8,u.torsoDepth]}),o.jsx("meshLambertMaterial",{color:d()})]}),o.jsxs("mesh",{position:[-u.hipWidth/4,-2.2,0],children:[o.jsx("cylinderGeometry",{args:[u.legWidth,u.legWidth,2.5,8]}),o.jsx("meshLambertMaterial",{color:"#fdbcb4"})]}),o.jsxs("mesh",{position:[u.hipWidth/4,-2.2,0],children:[o.jsx("cylinderGeometry",{args:[u.legWidth,u.legWidth,2.5,8]}),o.jsx("meshLambertMaterial",{color:"#fdbcb4"})]}),o.jsxs("mesh",{position:[-u.hipWidth/4,-3.6,.3],children:[o.jsx("boxGeometry",{args:[.4,.2,.8]}),o.jsx("meshLambertMaterial",{color:"#8b5a3c"})]}),o.jsxs("mesh",{position:[u.hipWidth/4,-3.6,.3],children:[o.jsx("boxGeometry",{args:[.4,.2,.8]}),o.jsx("meshLambertMaterial",{color:"#8b5a3c"})]}),o.jsx(PYe,{position:[0,-4.5,0],fontSize:.3,color:"#666",anchorX:"center",anchorY:"middle",children:`${t.toFixed(1)}kg - IMC: ${r.toFixed(1)}`})]})},OYe=({peso:t,altura:e,sexo:n,imc:r,gorduraCorporal:i,className:s=""})=>{const[a,l]=Ze.useState(0),u=r<18.5?{texto:"Abaixo do peso",cor:"bg-blue-100 text-blue-800"}:r<25?{texto:"Peso normal",cor:"bg-green-100 text-green-800"}:r<30?{texto:"Sobrepeso",cor:"bg-yellow-100 text-yellow-800"}:{texto:"Obesidade",cor:"bg-red-100 text-red-800"};return o.jsxs(le,{className:s,children:[o.jsx(Qe,{children:o.jsxs(et,{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ao,{className:"w-5 h-5 text-instituto-orange"}),o.jsx("span",{children:"Silhueta 3D Personalizada"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Nt,{variant:"secondary",className:u.cor,children:u.texto}),o.jsx(pe,{variant:"outline",size:"sm",onClick:()=>l(d=>d+1),children:o.jsx(KK,{className:"w-4 h-4"})})]})]})}),o.jsx(ue,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-instituto-dark/60",children:"Peso:"}),o.jsxs("span",{className:"ml-2 font-medium",children:[t.toFixed(1),"kg"]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-instituto-dark/60",children:"Altura:"}),o.jsxs("span",{className:"ml-2 font-medium",children:[e,"cm"]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-instituto-dark/60",children:"IMC:"}),o.jsx("span",{className:"ml-2 font-medium",children:r.toFixed(1)})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-instituto-dark/60",children:"Sexo:"}),o.jsx("span",{className:"ml-2 font-medium capitalize",children:n})]})]}),o.jsx("div",{className:"h-96 bg-gradient-to-b from-blue-50 to-white rounded-lg overflow-hidden",children:o.jsxs(CXe,{camera:{position:[0,0,8],fov:50},style:{width:"100%",height:"100%"},children:[o.jsx("ambientLight",{intensity:.6}),o.jsx("directionalLight",{position:[10,10,5],intensity:.8}),o.jsx("pointLight",{position:[-10,-10,-5],intensity:.3}),o.jsx(RYe,{peso:t,altura:e,sexo:n,imc:r,gorduraCorporal:i}),o.jsx(kYe,{enableZoom:!0,enablePan:!1,maxPolarAngle:Math.PI/2,minDistance:4,maxDistance:12})]},a)}),o.jsxs("div",{className:"text-center text-sm text-instituto-dark/60",children:[o.jsx("p",{children:"🖱️ Clique e arraste para rotacionar • 🔄 Scroll para zoom"}),o.jsx("p",{className:"mt-1",children:"💡 Clique na silhueta para pausar/continuar rotação"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded"}),o.jsx("span",{children:"Abaixo do peso"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-4 h-4 bg-green-500 rounded"}),o.jsx("span",{children:"Peso normal"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-4 h-4 bg-yellow-500 rounded"}),o.jsx("span",{children:"Sobrepeso"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-4 h-4 bg-red-500 rounded"}),o.jsx("span",{children:"Obesidade"})]})]})]})})]})},AG=t=>t<18.5?{status:"Abaixo do peso",cor:"text-blue-500"}:t<25?{status:"Peso normal",cor:"text-green-500"}:t<30?{status:"Sobrepeso",cor:"text-yellow-500"}:{status:"Obesidade",cor:"text-red-500"},DYe=t=>({"😄":"Muito Feliz","😐":"Neutro","😞":"Triste"})[t]||t,IYe=()=>{var d,f,h,m,p,x,v,g,w,_,E,N,C,j,T,A,P,R,D;const{user:t}=Or(),{dadosSaude:e,missoesDaSemana:n,loading:r,refetch:i}=xw(),[s,a]=S.useState({dadosSaude:e,historicoPesagens:[],dadosFisicos:null,isLoading:!0}),l=Ze.useCallback(async()=>{var F,I;if(t){console.log("🔄 Atualizando TODOS os dados automaticamente..."),a(G=>({...G,isLoading:!0}));try{const{data:G}=await He.from("profiles").select("id").eq("user_id",t.id).single();if(G){const[q,$,L]=await Promise.all([He.from("pesagens").select("*").eq("user_id",G.id).order("data_medicao",{ascending:!1}).limit(30),He.from("dados_fisicos_usuario").select("*").eq("user_id",G.id).order("created_at",{ascending:!1}).limit(1).maybeSingle(),He.from("dados_saude_usuario").select("*").eq("user_id",G.id).order("data_atualizacao",{ascending:!1}).limit(1).maybeSingle()]);let V=L.data;if(q.data&&q.data.length>0){const W=q.data[0],B=((F=$.data)==null?void 0:F.altura_cm)||(V==null?void 0:V.altura_cm)||170,ee=B/100,Y=W.peso_kg/(ee*ee);V={...V,peso_atual_kg:W.peso_kg,altura_cm:B,imc:Math.round(Y*10)/10,data_atualizacao:W.data_medicao,circunferencia_abdominal_cm:(V==null?void 0:V.circunferencia_abdominal_cm)||90}}const K=((I=q.data)==null?void 0:I.map(W=>({data:W.data_medicao,peso:W.peso_kg,imc:W.imc||0,circunferencia:W.circunferencia_abdominal_cm,gordura_corporal_pct:W.gordura_corporal_pct})))||[];a({dadosSaude:V,historicoPesagens:K,dadosFisicos:$.data,isLoading:!1}),console.log("✅ Todos os dados atualizados:",{dadosSaude:!!V,pesagens:K.length,dadosFisicos:!!$.data})}}catch(G){console.error("❌ Erro ao atualizar dados:",G),a(q=>({...q,isLoading:!1}))}}},[t]);S.useEffect(()=>{l()},[l,e]),S.useEffect(()=>{if(!t)return;const F=He.channel("dados-completos-tempo-real").on("postgres_changes",{event:"*",schema:"public",table:"pesagens"},I=>{console.log("🔄 Nova pesagem detectada, recalculando TUDO automaticamente...",I),l()}).on("postgres_changes",{event:"*",schema:"public",table:"dados_saude_usuario"},I=>{console.log("🔄 Dados de saúde atualizados, recalculando TUDO automaticamente...",I),l()}).on("postgres_changes",{event:"*",schema:"public",table:"dados_fisicos_usuario"},I=>{console.log("🔄 Dados físicos atualizados, recalculando TUDO automaticamente...",I),l()}).subscribe();return()=>{He.removeChannel(F)}},[t,l]);const c=Ze.useMemo(()=>{if(!n.length)return[];const F=n.length,I=n.filter($=>$.bebeu_agua).length,G=n.filter($=>$.dormiu_bem).length,q=n.filter($=>$.autocuidado).length;return[{nome:"Hidratação",valor:Math.round(I/F*100),icon:"💧"},{nome:"Sono",valor:Math.round(G/F*100),icon:"😴"},{nome:"Autocuidado",valor:Math.round(q/F*100),icon:"🧠"}]},[n]),u=Ze.useMemo(()=>n.map((F,I)=>({dia:`Dia ${I+1}`,humor:F.humor==="😄"?3:F.humor==="😐"?2:1,humorTexto:DYe(F.humor)})),[n]);return r||s.isLoading?o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsx("div",{className:"max-w-7xl mx-auto",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-instituto-orange mx-auto"}),o.jsx("p",{className:"text-muted-foreground mt-4",children:"Carregando seus dados..."})]})})}):o.jsxs("div",{className:"min-h-screen bg-background p-6",children:[o.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[o.jsxs("div",{className:"text-center space-y-4 animate-fade-in",children:[o.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-foreground",children:"🏆 Sua Evolução"}),o.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",children:"Visualize sua jornada de saúde e evolução pessoal"})]}),s.dadosSaude?o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 animate-scale-in",children:[o.jsxs(le,{className:"hover:shadow-lg transition-shadow border-2 border-instituto-orange/20 hover:border-instituto-orange/50",children:[o.jsx(Qe,{className:"pb-3",children:o.jsxs(et,{className:"flex items-center gap-2 text-instituto-orange",children:[o.jsx(Vr,{className:"h-5 w-5"}),"IMC Atual"]})}),o.jsxs(ue,{children:[o.jsx("div",{className:"text-3xl font-bold mb-2 text-instituto-orange",children:(d=s.dadosSaude.imc)==null?void 0:d.toFixed(1)}),o.jsx("div",{className:`text-sm font-semibold ${AG(s.dadosSaude.imc||0).cor}`,children:AG(s.dadosSaude.imc||0).status}),o.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Calculado com seus dados: ",s.dadosSaude.peso_atual_kg,"kg / ",(s.dadosSaude.altura_cm/100).toFixed(2),"m"]})]})]}),o.jsxs(le,{className:"hover:shadow-lg transition-shadow border-2 border-instituto-orange/20 hover:border-instituto-orange/50",children:[o.jsx(Qe,{className:"pb-3",children:o.jsxs(et,{className:"flex items-center gap-2 text-instituto-orange",children:[o.jsx(Nn,{className:"h-5 w-5"}),"Progresso da Meta"]})}),o.jsxs(ue,{children:[o.jsxs("div",{className:"text-3xl font-bold mb-2 text-instituto-orange",children:[((f=s.dadosSaude.progresso_percentual)==null?void 0:f.toFixed(0))||"0","%"]}),o.jsx(Sa,{value:s.dadosSaude.progresso_percentual||0,className:"h-3 mb-2"}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:["Meta: ",s.dadosSaude.meta_peso_kg||"Não definida","kg"]}),o.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:s.dadosSaude.meta_peso_kg?`Faltam ${Math.abs(s.dadosSaude.meta_peso_kg-s.dadosSaude.peso_atual_kg).toFixed(1)}kg`:"Defina uma meta para ver seu progresso"})]})]}),o.jsxs(le,{className:"hover:shadow-lg transition-shadow border-2 border-instituto-orange/20 hover:border-instituto-orange/50",children:[o.jsx(Qe,{className:"pb-3",children:o.jsxs(et,{className:"flex items-center gap-2 text-instituto-orange",children:[o.jsx(Nu,{className:"h-5 w-5"}),"Circunferência Abdominal"]})}),o.jsxs(ue,{children:[o.jsxs("div",{className:"text-3xl font-bold mb-2 text-instituto-orange",children:[s.dadosSaude.circunferencia_abdominal_cm,"cm"]}),o.jsx("div",{className:"text-sm text-green-600 font-semibold",children:"📊 Atualizado automaticamente"}),o.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Última pesagem: ",(h=s.historicoPesagens[0])!=null&&h.data?new Date(s.historicoPesagens[0].data).toLocaleDateString("pt-BR"):"Hoje"]})]})]})]}):o.jsx(le,{className:"text-center p-8",children:o.jsxs(ue,{children:[o.jsx(Wr,{className:"h-12 w-12 text-instituto-orange mx-auto mb-4"}),o.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Adicione suas medidas"}),o.jsx("p",{className:"text-muted-foreground mb-4",children:"Para ver sua evolução personalizada, registre seus dados de saúde"}),o.jsx("div",{className:"flex justify-center",children:o.jsx(w$,{trigger:o.jsx(pe,{className:"bg-instituto-orange hover:bg-instituto-orange/90",children:"⚖️ Registrar Medidas"})})})]})}),s.dadosSaude&&o.jsxs(Zu,{defaultValue:"resumo",className:"w-full",children:[o.jsxs(Dc,{className:"grid w-full grid-cols-4",children:[o.jsx(On,{value:"resumo",children:"📊 Resumo"}),o.jsx(On,{value:"risco",children:"❤️ Risco"}),o.jsx(On,{value:"evolucao",children:"📈 Evolução"}),o.jsx(On,{value:"silhueta",children:"👤 Silhueta 3D"})]}),o.jsx(Dn,{value:"resumo",className:"space-y-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs(le,{children:[o.jsx(Qe,{children:o.jsxs(et,{className:"flex items-center gap-2",children:[o.jsx(Vr,{className:"h-5 w-5"}),"Status Atual (Automático)"]})}),o.jsx(ue,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{children:"Peso atual:"}),o.jsxs("span",{className:"font-bold text-instituto-orange",children:[s.dadosSaude.peso_atual_kg,"kg"]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{children:"Altura:"}),o.jsxs("span",{className:"font-bold",children:[s.dadosSaude.altura_cm,"cm"]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{children:"IMC:"}),o.jsx("span",{className:"font-bold text-instituto-purple",children:(m=s.dadosSaude.imc)==null?void 0:m.toFixed(1)})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{children:"Circunf. abdominal:"}),o.jsxs("span",{className:"font-bold text-instituto-orange",children:[s.dadosSaude.circunferencia_abdominal_cm,"cm"]})]}),o.jsx("div",{className:"text-xs text-green-600 mt-2",children:"✅ Atualizado automaticamente da última pesagem"})]})})]}),o.jsxs(le,{children:[o.jsx(Qe,{children:o.jsxs(et,{className:"flex items-center gap-2",children:[o.jsx(Wr,{className:"h-5 w-5"}),"Atualizar Dados"]})}),o.jsxs(ue,{className:"space-y-4",children:[o.jsx(Bae,{trigger:o.jsx(pe,{className:"w-full bg-instituto-purple hover:bg-instituto-purple/80",children:"⚖️ Balança Inteligente"}),onDataSaved:()=>{console.log("🔄 Dados salvos, forçando atualização completa..."),i(),l()}}),o.jsxs(pe,{onClick:()=>{console.log("🔄 Botão atualizar clicado, refazendo todos os cálculos..."),i(),l()},variant:"outline",className:"w-full",children:[o.jsx(qK,{className:"w-4 h-4 mr-2"}),"Recálcular Tudo"]})]})]})]})}),o.jsx(Dn,{value:"risco",children:o.jsx(xVe,{circunferenciaAbdominal:((p=s.dadosSaude)==null?void 0:p.circunferencia_abdominal_cm)||90,sexo:((x=s.dadosFisicos)==null?void 0:x.sexo)||"masculino",imc:(v=s.dadosSaude)==null?void 0:v.imc,peso:((g=s.dadosSaude)==null?void 0:g.peso_atual_kg)||70,altura:((w=s.dadosSaude)==null?void 0:w.altura_cm)||170,pesoAnterior:(_=s.historicoPesagens[1])==null?void 0:_.peso},`risco-auto-${(E=s.dadosSaude)==null?void 0:E.peso_atual_kg}-${Date.now()}`)}),o.jsx(Dn,{value:"evolucao",children:o.jsx(yVe,{dados:s.historicoPesagens,isLoading:s.isLoading,metaPeso:(N=s.dadosSaude)==null?void 0:N.meta_peso_kg,altura:((C=s.dadosSaude)==null?void 0:C.altura_cm)||170},`evolucao-auto-${s.historicoPesagens.length}-${Date.now()}`)}),o.jsx(Dn,{value:"silhueta",children:o.jsx(OYe,{peso:((j=s.dadosSaude)==null?void 0:j.peso_atual_kg)||70,altura:((T=s.dadosSaude)==null?void 0:T.altura_cm)||170,sexo:((A=s.dadosFisicos)==null?void 0:A.sexo)||"masculino",imc:(P=s.dadosSaude)==null?void 0:P.imc,gorduraCorporal:(R=s.historicoPesagens[0])==null?void 0:R.gordura_corporal_pct},`silhueta-auto-${(D=s.dadosSaude)==null?void 0:D.peso_atual_kg}-${Date.now()}`)})]}),n.length>0&&o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(le,{children:[o.jsx(Qe,{children:o.jsxs(et,{className:"flex items-center gap-2 text-instituto-orange",children:[o.jsx(Hr,{className:"h-5 w-5"}),"Sua Evolução Semanal"]})}),o.jsxs(ue,{children:[o.jsx("div",{className:"grid grid-cols-3 gap-4 mb-6",children:c.map((F,I)=>o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl mb-1",children:F.icon}),o.jsxs("div",{className:"text-2xl font-bold text-instituto-orange",children:[F.valor,"%"]}),o.jsx("div",{className:"text-sm text-muted-foreground",children:F.nome})]},I))}),o.jsx(li,{width:"100%",height:200,children:o.jsxs(QN,{data:c,children:[o.jsx(Ns,{strokeDasharray:"3 3"}),o.jsx(Ji,{dataKey:"nome"}),o.jsx(wi,{domain:[0,100]}),o.jsx(Zi,{}),o.jsx(hc,{dataKey:"valor",fill:"hsl(var(--instituto-orange))"})]})})]})]}),o.jsxs(le,{children:[o.jsx(Qe,{children:o.jsxs(et,{className:"flex items-center gap-2 text-instituto-orange",children:[o.jsx(Es,{className:"h-5 w-5"}),"Evolução do Humor"]})}),o.jsx(ue,{children:o.jsx(li,{width:"100%",height:280,children:o.jsxs(jl,{data:u,children:[o.jsx(Ns,{strokeDasharray:"3 3"}),o.jsx(Ji,{dataKey:"dia"}),o.jsx(wi,{domain:[1,3],tickFormatter:F=>["😞","😐","😄"][F-1]}),o.jsx(Zi,{formatter:(F,I)=>{var G;return[((G=u.find(q=>q.humor===F))==null?void 0:G.humorTexto)||"","Humor"]}}),o.jsx(bi,{type:"monotone",dataKey:"humor",stroke:"hsl(var(--instituto-orange))",strokeWidth:3,dot:{fill:"hsl(var(--instituto-orange))",strokeWidth:2,r:6}})]})})})]})]}),n.length>0&&o.jsxs(le,{children:[o.jsx(Qe,{children:o.jsx(et,{className:"text-instituto-orange",children:"Indicadores da Semana"})}),o.jsx(ue,{children:o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[o.jsx(xv,{className:"h-8 w-8 text-blue-500 mx-auto mb-2"}),o.jsx("div",{className:"text-2xl font-bold text-blue-600",children:n.filter(F=>F.bebeu_agua).length}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Dias hidratado"})]}),o.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[o.jsx(Am,{className:"h-8 w-8 text-purple-500 mx-auto mb-2"}),o.jsx("div",{className:"text-2xl font-bold text-purple-600",children:n.filter(F=>F.dormiu_bem).length}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Sono adequado"})]}),o.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[o.jsx(a3,{className:"h-8 w-8 text-green-500 mx-auto mb-2"}),o.jsx("div",{className:"text-2xl font-bold text-green-600",children:n.filter(F=>F.autocuidado).length}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Autocuidado"})]}),o.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[o.jsx(Es,{className:"h-8 w-8 text-orange-500 mx-auto mb-2"}),o.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:[Math.round(n.filter(F=>F.humor==="😄").length/n.length*100),"%"]}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Dias felizes"})]})]})})]}),o.jsxs("div",{className:"text-center space-y-6 py-12",children:[o.jsx("h2",{className:"text-3xl font-bold",children:"Continue Sua Jornada de Transformação"}),o.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Cada dia é uma nova oportunidade de cuidar melhor de si mesmo"})]})]}),e&&o.jsx(w$,{})]})},Ls={primary:"hsl(var(--primary))",success:"hsl(var(--success))",warning:"hsl(var(--warning))",destructive:"hsl(var(--destructive))",muted:"hsl(var(--muted-foreground))"},LYe=()=>{var f,h,m;const{dadosSaude:t,loading:e,refetch:n}=xw();if(S.useEffect(()=>{const p=He.channel("dados-saude-changes").on("postgres_changes",{event:"*",schema:"public",table:"dados_saude_usuario"},x=>{console.log("Dados de saúde atualizados:",x),n()}).on("postgres_changes",{event:"*",schema:"public",table:"pesagens"},x=>{console.log("Pesagem atualizada:",x),n()}).on("postgres_changes",{event:"*",schema:"public",table:"dados_fisicos_usuario"},x=>{console.log("Dados físicos atualizados:",x),n()}).subscribe();return()=>{He.removeChannel(p)}},[n]),e)return o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((p,x)=>o.jsxs(le,{className:"animate-pulse",children:[o.jsx(Qe,{children:o.jsx("div",{className:"h-4 bg-muted rounded w-3/4"})}),o.jsx(ue,{children:o.jsx("div",{className:"h-32 bg-muted rounded"})})]},x))});if(!t)return o.jsx(le,{children:o.jsxs(ue,{className:"p-6 text-center",children:[o.jsx(Wr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),o.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Dados não encontrados"}),o.jsx("p",{className:"text-muted-foreground",children:"Registre seus dados físicos para ver os gráficos de evolução"})]})});const i=(()=>{if(!t)return{nivel:"Desconhecido",cor:Ls.muted,porcentagem:0};const p=t.circunferencia_abdominal_cm;return p<80?{nivel:"Baixo",cor:Ls.success,porcentagem:25}:p<=94?{nivel:"Moderado",cor:Ls.warning,porcentagem:60}:{nivel:"Alto",cor:Ls.destructive,porcentagem:90}})(),s=[{data:Ot(new Date(Date.now()-30*24*60*60*1e3),"dd/MM",{locale:pn}),peso:t.peso_atual_kg+2,imc:(t.imc||0)+.7},{data:Ot(new Date(Date.now()-15*24*60*60*1e3),"dd/MM",{locale:pn}),peso:t.peso_atual_kg+1,imc:(t.imc||0)+.3},{data:Ot(new Date,"dd/MM",{locale:pn}),peso:t.peso_atual_kg,imc:t.imc||0}],a=[{data:Ot(new Date(Date.now()-30*24*60*60*1e3),"dd/MM",{locale:pn}),circunferencia:t.circunferencia_abdominal_cm+3},{data:Ot(new Date(Date.now()-15*24*60*60*1e3),"dd/MM",{locale:pn}),circunferencia:t.circunferencia_abdominal_cm+1.5},{data:Ot(new Date,"dd/MM",{locale:pn}),circunferencia:t.circunferencia_abdominal_cm}],l=p=>{if(p.length<2)return{icone:J0,cor:Ls.muted};const x=p[p.length-1],v=p[p.length-2];return x>v?{icone:Hr,cor:Ls.destructive}:x<v?{icone:jf,cor:Ls.success}:{icone:J0,cor:Ls.muted}},c=l(s.map(p=>p.peso)),u=l(s.map(p=>p.imc)),d=l(a.map(p=>p.circunferencia));return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsx(le,{children:o.jsx(ue,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Peso Atual"}),o.jsxs("p",{className:"text-2xl font-bold",children:[t.peso_atual_kg," kg"]})]}),o.jsx("div",{className:"flex items-center",children:o.jsx(c.icone,{className:"w-4 h-4",style:{color:c.cor}})})]})})}),o.jsx(le,{children:o.jsx(ue,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"IMC"}),o.jsx("p",{className:"text-2xl font-bold",children:((f=t.imc)==null?void 0:f.toFixed(1))||0})]}),o.jsx("div",{className:"flex items-center",children:o.jsx(u.icone,{className:"w-4 h-4",style:{color:u.cor}})})]})})}),o.jsx(le,{children:o.jsx(ue,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Circunf. Abdominal"}),o.jsxs("p",{className:"text-2xl font-bold",children:[t.circunferencia_abdominal_cm," cm"]})]}),o.jsx("div",{className:"flex items-center",children:o.jsx(d.icone,{className:"w-4 h-4",style:{color:d.cor}})})]})})}),o.jsx(le,{children:o.jsx(ue,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Progresso Meta"}),o.jsxs("p",{className:"text-2xl font-bold",children:[((h=t.progresso_percentual)==null?void 0:h.toFixed(0))||0,"%"]})]}),o.jsx(Nn,{className:"w-6 h-6 text-primary"})]})})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(le,{children:[o.jsx(Qe,{children:o.jsxs(et,{className:"flex items-center gap-2",children:[o.jsx(Wr,{className:"w-5 h-5"}),"Evolução do Peso"]})}),o.jsx(ue,{children:o.jsx(li,{width:"100%",height:300,children:o.jsxs(jl,{data:s,children:[o.jsx(Ns,{strokeDasharray:"3 3"}),o.jsx(Ji,{dataKey:"data"}),o.jsx(wi,{}),o.jsx(Zi,{formatter:p=>[`${p} kg`,"Peso"],labelFormatter:p=>`Data: ${p}`}),o.jsx(bi,{type:"monotone",dataKey:"peso",stroke:Ls.primary,strokeWidth:2,dot:{fill:Ls.primary,strokeWidth:2}})]})})})]}),o.jsxs(le,{children:[o.jsx(Qe,{children:o.jsxs(et,{className:"flex items-center gap-2",children:[o.jsx(Vr,{className:"w-5 h-5"}),"Evolução do IMC"]})}),o.jsx(ue,{children:o.jsx(li,{width:"100%",height:300,children:o.jsxs(jl,{data:s,children:[o.jsx(Ns,{strokeDasharray:"3 3"}),o.jsx(Ji,{dataKey:"data"}),o.jsx(wi,{}),o.jsx(Zi,{formatter:p=>[`${p}`,"IMC"],labelFormatter:p=>`Data: ${p}`}),o.jsx(bi,{type:"monotone",dataKey:"imc",stroke:Ls.success,strokeWidth:2,dot:{fill:Ls.success,strokeWidth:2}})]})})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(le,{children:[o.jsx(Qe,{children:o.jsxs(et,{className:"flex items-center gap-2",children:[o.jsx(Nn,{className:"w-5 h-5"}),"Progresso da Meta"]})}),o.jsx(ue,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"flex justify-center",children:o.jsx(li,{width:200,height:200,children:o.jsxs(x$,{cx:"50%",cy:"50%",innerRadius:"60%",outerRadius:"90%",data:[{value:t.progresso_percentual||0}],children:[o.jsx(KN,{dataKey:"value",cornerRadius:10,fill:(t.progresso_percentual||0)>75?Ls.success:(t.progresso_percentual||0)>50?Ls.warning:Ls.destructive}),o.jsxs("text",{x:"50%",y:"50%",textAnchor:"middle",dominantBaseline:"middle",className:"fill-foreground text-2xl font-bold",children:[(t.progresso_percentual||0).toFixed(0),"%"]})]})})}),o.jsxs("div",{className:"text-center space-y-2",children:[o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Meta: ",t.meta_peso_kg," kg"]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:t.peso_atual_kg>t.meta_peso_kg?`Faltam: ${(t.peso_atual_kg-t.meta_peso_kg).toFixed(1)} kg`:"Meta atingida! 🎉"})]})]})})]}),o.jsxs(le,{children:[o.jsx(Qe,{children:o.jsx(et,{children:"Risco Cardiometabólico"})}),o.jsx(ue,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"flex justify-center",children:o.jsx(li,{width:200,height:200,children:o.jsx(x$,{cx:"50%",cy:"50%",innerRadius:"60%",outerRadius:"90%",data:[{value:i.porcentagem}],children:o.jsx(KN,{dataKey:"value",cornerRadius:10,fill:i.cor})})})}),o.jsxs("div",{className:"text-center",children:[o.jsx(Nt,{variant:i.nivel==="Baixo"?"default":i.nivel==="Moderado"?"secondary":"destructive",children:i.nivel}),o.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Baseado na circunferência abdominal"})]})]})})]})]}),o.jsxs(le,{children:[o.jsx(Qe,{children:o.jsx(et,{children:"Seus Dados Atuais"})}),o.jsx(ue,{children:o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"text-center p-4 bg-primary/10 rounded-lg",children:[o.jsx(Wr,{className:"h-8 w-8 text-primary mx-auto mb-2"}),o.jsxs("div",{className:"text-2xl font-bold text-primary",children:[t.peso_atual_kg," kg"]}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Peso Atual"})]}),o.jsxs("div",{className:"text-center p-4 bg-success/10 rounded-lg",children:[o.jsx(Vr,{className:"h-8 w-8 text-success mx-auto mb-2"}),o.jsx("div",{className:"text-2xl font-bold text-success",children:(m=t.imc)==null?void 0:m.toFixed(1)}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"IMC"})]}),o.jsxs("div",{className:"text-center p-4 bg-warning/10 rounded-lg",children:[o.jsxs("div",{className:"text-2xl font-bold text-warning",children:[t.circunferencia_abdominal_cm," cm"]}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Circunf. Abdominal"})]}),o.jsxs("div",{className:"text-center p-4 bg-destructive/10 rounded-lg",children:[o.jsx(Nn,{className:"h-8 w-8 text-destructive mx-auto mb-2"}),o.jsxs("div",{className:"text-2xl font-bold text-destructive",children:[t.meta_peso_kg," kg"]}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Meta"})]})]})})]})]})},xce=S.createContext({});function FYe(t){const e=S.useRef(null);return e.current===null&&(e.current=t()),e.current}const SU=typeof window<"u",UYe=SU?S.useLayoutEffect:S.useEffect,EU=S.createContext(null);function NU(t,e){t.indexOf(e)===-1&&t.push(e)}function MU(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Uu=(t,e,n)=>n>e?e:n<t?t:n;let CU=()=>{};const Bu={},yce=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function bce(t){return typeof t=="object"&&t!==null}const wce=t=>/^0[^.\s]+$/u.test(t);function jU(t){let e;return()=>(e===void 0&&(e=t()),e)}const Vo=t=>t,BYe=(t,e)=>n=>e(t(n)),s1=(...t)=>t.reduce(BYe),Gb=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class AU{constructor(){this.subscriptions=[]}add(e){return NU(this.subscriptions,e),()=>MU(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ec=t=>t*1e3,Nc=t=>t/1e3;function _ce(t,e){return e?t*(1e3/e):0}const Sce=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,zYe=1e-7,VYe=12;function WYe(t,e,n,r,i){let s,a,l=0;do a=e+(n-e)/2,s=Sce(a,r,i)-t,s>0?n=a:e=a;while(Math.abs(s)>zYe&&++l<VYe);return a}function a1(t,e,n,r){if(t===e&&n===r)return Vo;const i=s=>WYe(s,0,1,t,n);return s=>s===0||s===1?s:Sce(i(s),e,r)}const Ece=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Nce=t=>e=>1-t(1-e),Mce=a1(.33,1.53,.69,.99),TU=Nce(Mce),Cce=Ece(TU),jce=t=>(t*=2)<1?.5*TU(t):.5*(2-Math.pow(2,-10*(t-1))),PU=t=>1-Math.sin(Math.acos(t)),Ace=Nce(PU),Tce=Ece(PU),$Ye=a1(.42,0,1,1),HYe=a1(0,0,.58,1),Pce=a1(.42,0,.58,1),GYe=t=>Array.isArray(t)&&typeof t[0]!="number",kce=t=>Array.isArray(t)&&typeof t[0]=="number",qYe={linear:Vo,easeIn:$Ye,easeInOut:Pce,easeOut:HYe,circIn:PU,circInOut:Tce,circOut:Ace,backIn:TU,backInOut:Cce,backOut:Mce,anticipate:jce},KYe=t=>typeof t=="string",TG=t=>{if(kce(t)){CU(t.length===4);const[e,n,r,i]=t;return a1(e,n,r,i)}else if(KYe(t))return qYe[t];return t},VS=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],PG={value:null};function XYe(t,e){let n=new Set,r=new Set,i=!1,s=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function u(f){a.has(f)&&(d.schedule(f),t()),c++,f(l)}const d={schedule:(f,h=!1,m=!1)=>{const x=m&&i?n:r;return h&&a.add(f),x.has(f)||x.add(f),f},cancel:f=>{r.delete(f),a.delete(f)},process:f=>{if(l=f,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(u),e&&PG.value&&PG.value.frameloop[e].push(c),c=0,n.clear(),i=!1,s&&(s=!1,d.process(f))}};return d}const YYe=40;function Rce(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,a=VS.reduce((_,E)=>(_[E]=XYe(s,e?E:void 0),_),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:f,preRender:h,render:m,postRender:p}=a,x=()=>{const _=Bu.useManualTiming?i.timestamp:performance.now();n=!1,Bu.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(_-i.timestamp,YYe),1)),i.timestamp=_,i.isProcessing=!0,l.process(i),c.process(i),u.process(i),d.process(i),f.process(i),h.process(i),m.process(i),p.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(x))},v=()=>{n=!0,r=!0,i.isProcessing||t(x)};return{schedule:VS.reduce((_,E)=>{const N=a[E];return _[E]=(C,j=!1,T=!1)=>(n||v(),N.schedule(C,j,T)),_},{}),cancel:_=>{for(let E=0;E<VS.length;E++)a[VS[E]].cancel(_)},state:i,steps:a}}const{schedule:pr,cancel:Sf,state:Xi,steps:wk}=Rce(typeof requestAnimationFrame<"u"?requestAnimationFrame:Vo,!0);let xE;function ZYe(){xE=void 0}const Ma={now:()=>(xE===void 0&&Ma.set(Xi.isProcessing||Bu.useManualTiming?Xi.timestamp:performance.now()),xE),set:t=>{xE=t,queueMicrotask(ZYe)}},Oce=t=>e=>typeof e=="string"&&e.startsWith(t),kU=Oce("--"),QYe=Oce("var(--"),RU=t=>QYe(t)?JYe.test(t.split("/*")[0].trim()):!1,JYe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Nx={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},qb={...Nx,transform:t=>Uu(0,1,t)},WS={...Nx,default:1},P0=t=>Math.round(t*1e5)/1e5,OU=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function eZe(t){return t==null}const tZe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,DU=(t,e)=>n=>!!(typeof n=="string"&&tZe.test(n)&&n.startsWith(t)||e&&!eZe(n)&&Object.prototype.hasOwnProperty.call(n,e)),Dce=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,a,l]=r.match(OU);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},nZe=t=>Uu(0,255,t),_k={...Nx,transform:t=>Math.round(nZe(t))},Jh={test:DU("rgb","red"),parse:Dce("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+_k.transform(t)+", "+_k.transform(e)+", "+_k.transform(n)+", "+P0(qb.transform(r))+")"};function rZe(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const zD={test:DU("#"),parse:rZe,transform:Jh.transform},o1=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Td=o1("deg"),Mc=o1("%"),Ht=o1("px"),iZe=o1("vh"),sZe=o1("vw"),kG={...Mc,parse:t=>Mc.parse(t)/100,transform:t=>Mc.transform(t*100)},Dg={test:DU("hsl","hue"),parse:Dce("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Mc.transform(P0(e))+", "+Mc.transform(P0(n))+", "+P0(qb.transform(r))+")"},ii={test:t=>Jh.test(t)||zD.test(t)||Dg.test(t),parse:t=>Jh.test(t)?Jh.parse(t):Dg.test(t)?Dg.parse(t):zD.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Jh.transform(t):Dg.transform(t),getAnimatableNone:t=>{const e=ii.parse(t);return e.alpha=0,ii.transform(e)}},aZe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function oZe(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(OU))==null?void 0:e.length)||0)+(((n=t.match(aZe))==null?void 0:n.length)||0)>0}const Ice="number",Lce="color",lZe="var",cZe="var(",RG="${}",uZe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Kb(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const l=e.replace(uZe,c=>(ii.test(c)?(r.color.push(s),i.push(Lce),n.push(ii.parse(c))):c.startsWith(cZe)?(r.var.push(s),i.push(lZe),n.push(c)):(r.number.push(s),i.push(Ice),n.push(parseFloat(c))),++s,RG)).split(RG);return{values:n,split:l,indexes:r,types:i}}function Fce(t){return Kb(t).values}function Uce(t){const{split:e,types:n}=Kb(t),r=e.length;return i=>{let s="";for(let a=0;a<r;a++)if(s+=e[a],i[a]!==void 0){const l=n[a];l===Ice?s+=P0(i[a]):l===Lce?s+=ii.transform(i[a]):s+=i[a]}return s}}const dZe=t=>typeof t=="number"?0:ii.test(t)?ii.getAnimatableNone(t):t;function fZe(t){const e=Fce(t);return Uce(t)(e.map(dZe))}const Ef={test:oZe,parse:Fce,createTransformer:Uce,getAnimatableNone:fZe};function Sk(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function hZe({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,a=0;if(!e)i=s=a=n;else{const l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;i=Sk(c,l,t+1/3),s=Sk(c,l,t),a=Sk(c,l,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:r}}function VM(t,e){return n=>n>0?e:t}const wr=(t,e,n)=>t+(e-t)*n,Ek=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},mZe=[zD,Jh,Dg],pZe=t=>mZe.find(e=>e.test(t));function OG(t){const e=pZe(t);if(!e)return!1;let n=e.parse(t);return e===Dg&&(n=hZe(n)),n}const DG=(t,e)=>{const n=OG(t),r=OG(e);if(!n||!r)return VM(t,e);const i={...n};return s=>(i.red=Ek(n.red,r.red,s),i.green=Ek(n.green,r.green,s),i.blue=Ek(n.blue,r.blue,s),i.alpha=wr(n.alpha,r.alpha,s),Jh.transform(i))},VD=new Set(["none","hidden"]);function gZe(t,e){return VD.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function vZe(t,e){return n=>wr(t,e,n)}function IU(t){return typeof t=="number"?vZe:typeof t=="string"?RU(t)?VM:ii.test(t)?DG:bZe:Array.isArray(t)?Bce:typeof t=="object"?ii.test(t)?DG:xZe:VM}function Bce(t,e){const n=[...t],r=n.length,i=t.map((s,a)=>IU(s)(s,e[a]));return s=>{for(let a=0;a<r;a++)n[a]=i[a](s);return n}}function xZe(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=IU(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function yZe(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],a=t.indexes[s][r[s]],l=t.values[a]??0;n[i]=l,r[s]++}return n}const bZe=(t,e)=>{const n=Ef.createTransformer(e),r=Kb(t),i=Kb(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?VD.has(t)&&!i.values.length||VD.has(e)&&!r.values.length?gZe(t,e):s1(Bce(yZe(r,i),i.values),n):VM(t,e)};function zce(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?wr(t,e,n):IU(t)(t,e)}const wZe=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>pr.update(e,n),stop:()=>Sf(e),now:()=>Xi.isProcessing?Xi.timestamp:Ma.now()}},Vce=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},WM=2e4;function LU(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<WM;)e+=n,r=t.next(e);return e>=WM?1/0:e}function _Ze(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(LU(r),WM);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:Nc(i)}}const SZe=5;function Wce(t,e,n){const r=Math.max(e-SZe,0);return _ce(n-t(r),e-r)}const Tr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Nk=.001;function EZe({duration:t=Tr.duration,bounce:e=Tr.bounce,velocity:n=Tr.velocity,mass:r=Tr.mass}){let i,s,a=1-e;a=Uu(Tr.minDamping,Tr.maxDamping,a),t=Uu(Tr.minDuration,Tr.maxDuration,Nc(t)),a<1?(i=u=>{const d=u*a,f=d*t,h=d-n,m=WD(u,a),p=Math.exp(-f);return Nk-h/m*p},s=u=>{const f=u*a*t,h=f*n+n,m=Math.pow(a,2)*Math.pow(u,2)*t,p=Math.exp(-f),x=WD(Math.pow(u,2),a);return(-i(u)+Nk>0?-1:1)*((h-m)*p)/x}):(i=u=>{const d=Math.exp(-u*t),f=(u-n)*t+1;return-Nk+d*f},s=u=>{const d=Math.exp(-u*t),f=(n-u)*(t*t);return d*f});const l=5/t,c=MZe(i,s,l);if(t=Ec(t),isNaN(c))return{stiffness:Tr.stiffness,damping:Tr.damping,duration:t};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:a*2*Math.sqrt(r*u),duration:t}}}const NZe=12;function MZe(t,e,n){let r=n;for(let i=1;i<NZe;i++)r=r-t(r)/e(r);return r}function WD(t,e){return t*Math.sqrt(1-e*e)}const CZe=["duration","bounce"],jZe=["stiffness","damping","mass"];function IG(t,e){return e.some(n=>t[n]!==void 0)}function AZe(t){let e={velocity:Tr.velocity,stiffness:Tr.stiffness,damping:Tr.damping,mass:Tr.mass,isResolvedFromDuration:!1,...t};if(!IG(t,jZe)&&IG(t,CZe))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Uu(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Tr.mass,stiffness:i,damping:s}}else{const n=EZe(t);e={...e,...n,mass:Tr.mass},e.isResolvedFromDuration=!0}return e}function $M(t=Tr.visualDuration,e=Tr.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],l={done:!1,value:s},{stiffness:c,damping:u,mass:d,duration:f,velocity:h,isResolvedFromDuration:m}=AZe({...n,velocity:-Nc(n.velocity||0)}),p=h||0,x=u/(2*Math.sqrt(c*d)),v=a-s,g=Nc(Math.sqrt(c/d)),w=Math.abs(v)<5;r||(r=w?Tr.restSpeed.granular:Tr.restSpeed.default),i||(i=w?Tr.restDelta.granular:Tr.restDelta.default);let _;if(x<1){const N=WD(g,x);_=C=>{const j=Math.exp(-x*g*C);return a-j*((p+x*g*v)/N*Math.sin(N*C)+v*Math.cos(N*C))}}else if(x===1)_=N=>a-Math.exp(-g*N)*(v+(p+g*v)*N);else{const N=g*Math.sqrt(x*x-1);_=C=>{const j=Math.exp(-x*g*C),T=Math.min(N*C,300);return a-j*((p+x*g*v)*Math.sinh(T)+N*v*Math.cosh(T))/N}}const E={calculatedDuration:m&&f||null,next:N=>{const C=_(N);if(m)l.done=N>=f;else{let j=N===0?p:0;x<1&&(j=N===0?Ec(p):Wce(_,N,C));const T=Math.abs(j)<=r,A=Math.abs(a-C)<=i;l.done=T&&A}return l.value=l.done?a:C,l},toString:()=>{const N=Math.min(LU(E),WM),C=Vce(j=>E.next(N*j).value,N,30);return N+"ms "+C},toTransition:()=>{}};return E}$M.applyToOptions=t=>{const e=_Ze(t,100,$M);return t.ease=e.ease,t.duration=Ec(e.duration),t.type="keyframes",t};function $D({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=t[0],h={done:!1,value:f},m=T=>l!==void 0&&T<l||c!==void 0&&T>c,p=T=>l===void 0?c:c===void 0||Math.abs(l-T)<Math.abs(c-T)?l:c;let x=n*e;const v=f+x,g=a===void 0?v:a(v);g!==v&&(x=g-f);const w=T=>-x*Math.exp(-T/r),_=T=>g+w(T),E=T=>{const A=w(T),P=_(T);h.done=Math.abs(A)<=u,h.value=h.done?g:P};let N,C;const j=T=>{m(h.value)&&(N=T,C=$M({keyframes:[h.value,p(h.value)],velocity:Wce(_,T,h.value),damping:i,stiffness:s,restDelta:u,restSpeed:d}))};return j(0),{calculatedDuration:null,next:T=>{let A=!1;return!C&&N===void 0&&(A=!0,E(T),j(T)),N!==void 0&&T>=N?C.next(T-N):(!A&&E(T),h)}}}function TZe(t,e,n){const r=[],i=n||Bu.mix||zce,s=t.length-1;for(let a=0;a<s;a++){let l=i(t[a],t[a+1]);if(e){const c=Array.isArray(e)?e[a]||Vo:e;l=s1(c,l)}r.push(l)}return r}function PZe(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(CU(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=TZe(e,r,i),c=l.length,u=d=>{if(a&&d<t[0])return e[0];let f=0;if(c>1)for(;f<t.length-2&&!(d<t[f+1]);f++);const h=Gb(t[f],t[f+1],d);return l[f](h)};return n?d=>u(Uu(t[0],t[s-1],d)):u}function kZe(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Gb(0,e,r);t.push(wr(n,1,i))}}function RZe(t){const e=[0];return kZe(e,t.length-1),e}function OZe(t,e){return t.map(n=>n*e)}function DZe(t,e){return t.map(()=>e||Pce).splice(0,t.length-1)}function k0({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=GYe(r)?r.map(TG):TG(r),s={done:!1,value:e[0]},a=OZe(n&&n.length===e.length?n:RZe(e),t),l=PZe(a,e,{ease:Array.isArray(i)?i:DZe(e,i)});return{calculatedDuration:t,next:c=>(s.value=l(c),s.done=c>=t,s)}}const IZe=t=>t!==null;function FU(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(IZe),l=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!l||r===void 0?s[l]:r}const LZe={decay:$D,inertia:$D,tween:k0,keyframes:k0,spring:$M};function $ce(t){typeof t.type=="string"&&(t.type=LZe[t.type])}class UU{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const FZe=t=>t/100;class BU extends UU{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==Ma.now()&&this.tick(Ma.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;$ce(e);const{type:n=k0,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=e;let{keyframes:l}=e;const c=n||k0;c!==k0&&typeof l[0]!="number"&&(this.mixKeyframes=s1(FZe,zce(l[0],l[1])),l=[0,100]);const u=c({...e,keyframes:l});s==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-a})),u.calculatedDuration===null&&(u.calculatedDuration=LU(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=u}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:a,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:d,repeat:f,repeatType:h,repeatDelay:m,type:p,onUpdate:x,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const g=this.currentTime-u*(this.playbackSpeed>=0?1:-1),w=this.playbackSpeed>=0?g<0:g>i;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let _=this.currentTime,E=r;if(f){const T=Math.min(this.currentTime,i)/l;let A=Math.floor(T),P=T%1;!P&&T>=1&&(P=1),P===1&&A--,A=Math.min(A,f+1),!!(A%2)&&(h==="reverse"?(P=1-P,m&&(P-=m/l)):h==="mirror"&&(E=a)),_=Uu(0,1,P)*l}const N=w?{done:!1,value:d[0]}:E.next(_);s&&(N.value=s(N.value));let{done:C}=N;!w&&c!==null&&(C=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const j=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return j&&p!==$D&&(N.value=FU(d,this.options,v,this.speed)),x&&x(N.value),j&&this.finish(),N}then(e,n){return this.finished.then(e,n)}get duration(){return Nc(this.calculatedDuration)}get time(){return Nc(this.currentTime)}set time(e){var n;e=Ec(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ma.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Nc(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=wZe,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ma.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function UZe(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const em=t=>t*180/Math.PI,HD=t=>{const e=em(Math.atan2(t[1],t[0]));return GD(e)},BZe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:HD,rotateZ:HD,skewX:t=>em(Math.atan(t[1])),skewY:t=>em(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},GD=t=>(t=t%360,t<0&&(t+=360),t),LG=HD,FG=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),UG=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),zZe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:FG,scaleY:UG,scale:t=>(FG(t)+UG(t))/2,rotateX:t=>GD(em(Math.atan2(t[6],t[5]))),rotateY:t=>GD(em(Math.atan2(-t[2],t[0]))),rotateZ:LG,rotate:LG,skewX:t=>em(Math.atan(t[4])),skewY:t=>em(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function qD(t){return t.includes("scale")?1:0}function KD(t,e){if(!t||t==="none")return qD(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=zZe,i=n;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=BZe,i=l}if(!i)return qD(e);const s=r[e],a=i[1].split(",").map(WZe);return typeof s=="function"?s(a):a[s]}const VZe=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return KD(n,e)};function WZe(t){return parseFloat(t.trim())}const Mx=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Cx=new Set(Mx),BG=t=>t===Nx||t===Ht,$Ze=new Set(["x","y","z"]),HZe=Mx.filter(t=>!$Ze.has(t));function GZe(t){const e=[];return HZe.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const wm={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>KD(e,"x"),y:(t,{transform:e})=>KD(e,"y")};wm.translateX=wm.x;wm.translateY=wm.y;const _m=new Set;let XD=!1,YD=!1,ZD=!1;function Hce(){if(YD){const t=Array.from(_m).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=GZe(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,a])=>{var l;(l=r.getValue(s))==null||l.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}YD=!1,XD=!1,_m.forEach(t=>t.complete(ZD)),_m.clear()}function Gce(){_m.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(YD=!0)})}function qZe(){ZD=!0,Gce(),Hce(),ZD=!1}class zU{constructor(e,n,r,i,s,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(_m.add(this),XD||(XD=!0,pr.read(Gce),pr.resolveKeyframes(Hce))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),a=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&s===void 0&&i.set(e[0])}UZe(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),_m.delete(this)}cancel(){this.state==="scheduled"&&(_m.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const KZe=t=>t.startsWith("--");function XZe(t,e,n){KZe(e)?t.style.setProperty(e,n):t.style[e]=n}const YZe=jU(()=>window.ScrollTimeline!==void 0),ZZe={};function QZe(t,e){const n=jU(t);return()=>ZZe[e]??n()}const qce=QZe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Zy=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,zG={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Zy([0,.65,.55,1]),circOut:Zy([.55,0,1,.45]),backIn:Zy([.31,.01,.66,-.59]),backOut:Zy([.33,1.53,.69,.99])};function Kce(t,e){if(t)return typeof t=="function"?qce()?Vce(t,e):"ease-out":kce(t)?Zy(t):Array.isArray(t)?t.map(n=>Kce(n,e)||zG.easeOut):zG[t]}function JZe(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[e]:n};c&&(d.offset=c);const f=Kce(l,i);Array.isArray(f)&&(d.easing=f);const h={delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"};return u&&(h.pseudoElement=u),t.animate(d,h)}function Xce(t){return typeof t=="function"&&"applyToOptions"in t}function eQe({type:t,...e}){return Xce(t)&&qce()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class tQe extends UU{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:a=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!s,this.allowFlatten=a,this.options=e,CU(typeof e.type!="string");const u=eQe(e);this.animation=JZe(n,r,i,u,s),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const d=FU(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):XZe(n,r,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Nc(Number(e))}get time(){return Nc(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ec(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&YZe()?(this.animation.timeline=e,Vo):n(this)}}const Yce={anticipate:jce,backInOut:Cce,circInOut:Tce};function nQe(t){return t in Yce}function rQe(t){typeof t.ease=="string"&&nQe(t.ease)&&(t.ease=Yce[t.ease])}const VG=10;class iQe extends tQe{constructor(e){rQe(e),$ce(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const l=new BU({...a,autoplay:!1}),c=Ec(this.finishedTime??this.time);n.setWithVelocity(l.sample(c-VG).value,l.sample(c).value,VG),l.stop()}}const WG=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ef.test(t)||t==="0")&&!t.startsWith("url("));function sQe(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function aQe(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],a=WG(i,e),l=WG(s,e);return!a||!l?!1:sQe(t)||(n==="spring"||Xce(n))&&r}const oQe=new Set(["opacity","clipPath","filter","transform"]),lQe=jU(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function cQe(t){var d;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:a}=t;if(!(((d=e==null?void 0:e.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=e.owner.getProps();return lQe()&&n&&oQe.has(n)&&(n!=="transform"||!u)&&!c&&!r&&i!=="mirror"&&s!==0&&a!=="inertia"}const uQe=40;class dQe extends UU{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",keyframes:l,name:c,motionValue:u,element:d,...f}){var p;super(),this.stop=()=>{var x,v;this._animation&&(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)),(v=this.keyframeResolver)==null||v.cancel()},this.createdAt=Ma.now();const h={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:a,name:c,motionValue:u,element:d,...f},m=(d==null?void 0:d.KeyframeResolver)||zU;this.keyframeResolver=new m(l,(x,v,g)=>this.onKeyframesResolved(x,v,h,!g),c,u,d),(p=this.keyframeResolver)==null||p.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:a,velocity:l,delay:c,isHandoff:u,onUpdate:d}=r;this.resolvedAt=Ma.now(),aQe(e,s,a,l)||((Bu.instantAnimations||!c)&&(d==null||d(FU(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const h={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>uQe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},m=!u&&cQe(h)?new iQe({...h,element:h.motionValue.owner.current}):new BU(h);m.finished.then(()=>this.notifyFinished()).catch(Vo),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),qZe()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const fQe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function hQe(t){const e=fQe.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function Zce(t,e,n=1){const[r,i]=hQe(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const a=s.trim();return yce(a)?parseFloat(a):a}return RU(i)?Zce(i,e,n+1):i}function VU(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const Qce=new Set(["width","height","top","left","right","bottom",...Mx]),mQe={test:t=>t==="auto",parse:t=>t},Jce=t=>e=>e.test(t),eue=[Nx,Ht,Mc,Td,sZe,iZe,mQe],$G=t=>eue.find(Jce(t));function pQe(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||wce(t):!0}const gQe=new Set(["brightness","contrast","saturate","opacity"]);function vQe(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(OU)||[];if(!r)return t;const i=n.replace(r,"");let s=gQe.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const xQe=/\b([a-z-]*)\(.*?\)/gu,QD={...Ef,getAnimatableNone:t=>{const e=t.match(xQe);return e?e.map(vQe).join(" "):t}},HG={...Nx,transform:Math.round},yQe={rotate:Td,rotateX:Td,rotateY:Td,rotateZ:Td,scale:WS,scaleX:WS,scaleY:WS,scaleZ:WS,skew:Td,skewX:Td,skewY:Td,distance:Ht,translateX:Ht,translateY:Ht,translateZ:Ht,x:Ht,y:Ht,z:Ht,perspective:Ht,transformPerspective:Ht,opacity:qb,originX:kG,originY:kG,originZ:Ht},WU={borderWidth:Ht,borderTopWidth:Ht,borderRightWidth:Ht,borderBottomWidth:Ht,borderLeftWidth:Ht,borderRadius:Ht,radius:Ht,borderTopLeftRadius:Ht,borderTopRightRadius:Ht,borderBottomRightRadius:Ht,borderBottomLeftRadius:Ht,width:Ht,maxWidth:Ht,height:Ht,maxHeight:Ht,top:Ht,right:Ht,bottom:Ht,left:Ht,padding:Ht,paddingTop:Ht,paddingRight:Ht,paddingBottom:Ht,paddingLeft:Ht,margin:Ht,marginTop:Ht,marginRight:Ht,marginBottom:Ht,marginLeft:Ht,backgroundPositionX:Ht,backgroundPositionY:Ht,...yQe,zIndex:HG,fillOpacity:qb,strokeOpacity:qb,numOctaves:HG},bQe={...WU,color:ii,backgroundColor:ii,outlineColor:ii,fill:ii,stroke:ii,borderColor:ii,borderTopColor:ii,borderRightColor:ii,borderBottomColor:ii,borderLeftColor:ii,filter:QD,WebkitFilter:QD},tue=t=>bQe[t];function nue(t,e){let n=tue(t);return n!==QD&&(n=Ef),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const wQe=new Set(["auto","none","0"]);function _Qe(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!wQe.has(s)&&Kb(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=nue(n,i)}class SQe extends zU{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="string"&&(u=u.trim(),RU(u))){const d=Zce(u,n.current);d!==void 0&&(e[c]=d),c===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Qce.has(r)||e.length!==2)return;const[i,s]=e,a=$G(i),l=$G(s);if(a!==l)if(BG(a)&&BG(l))for(let c=0;c<e.length;c++){const u=e[c];typeof u=="string"&&(e[c]=parseFloat(u))}else wm[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||pQe(e[i]))&&r.push(i);r.length&&_Qe(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=wm[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var l;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,a=r[s];r[s]=wm[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{e.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function EQe(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const rue=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function NQe(t){return bce(t)&&"offsetHeight"in t}const GG=30,MQe=t=>!isNaN(parseFloat(t));class CQe{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{var a,l;const s=Ma.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty();i&&((l=this.events.renderRequest)==null||l.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ma.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=MQe(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new AU);const r=this.events[e].add(n);return e==="change"?()=>{r(),pr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ma.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>GG)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,GG);return _ce(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Hv(t,e){return new CQe(t,e)}const{schedule:$U}=Rce(queueMicrotask,!1),cl={x:!1,y:!1};function iue(){return cl.x||cl.y}function jQe(t){return t==="x"||t==="y"?cl[t]?null:(cl[t]=!0,()=>{cl[t]=!1}):cl.x||cl.y?null:(cl.x=cl.y=!0,()=>{cl.x=cl.y=!1})}function sue(t,e){const n=EQe(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function qG(t){return!(t.pointerType==="touch"||iue())}function AQe(t,e,n={}){const[r,i,s]=sue(t,n),a=l=>{if(!qG(l))return;const{target:c}=l,u=e(c,l);if(typeof u!="function"||!c)return;const d=f=>{qG(f)&&(u(f),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,i)};return r.forEach(l=>{l.addEventListener("pointerenter",a,i)}),s}const aue=(t,e)=>e?t===e?!0:aue(t,e.parentElement):!1,HU=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,TQe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function PQe(t){return TQe.has(t.tagName)||t.tabIndex!==-1}const yE=new WeakSet;function KG(t){return e=>{e.key==="Enter"&&t(e)}}function Mk(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const kQe=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=KG(()=>{if(yE.has(n))return;Mk(n,"down");const i=KG(()=>{Mk(n,"up")}),s=()=>Mk(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function XG(t){return HU(t)&&!iue()}function RQe(t,e,n={}){const[r,i,s]=sue(t,n),a=l=>{const c=l.currentTarget;if(!XG(l))return;yE.add(c);const u=e(c,l),d=(m,p)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),yE.has(c)&&yE.delete(c),XG(m)&&typeof u=="function"&&u(m,{success:p})},f=m=>{d(m,c===window||c===document||n.useGlobalTarget||aue(c,m.target))},h=m=>{d(m,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",h,i)};return r.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",a,i),NQe(l)&&(l.addEventListener("focus",u=>kQe(u,i)),!PQe(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),s}function oue(t){return bce(t)&&"ownerSVGElement"in t}function OQe(t){return oue(t)&&t.tagName==="svg"}const Ss=t=>!!(t&&t.getVelocity),DQe=[...eue,ii,Ef],IQe=t=>DQe.find(Jce(t)),lue=S.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function LQe(t=!0){const e=S.useContext(EU);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=S.useId();S.useEffect(()=>{if(t)return i(s)},[t]);const a=S.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,a]:[!0]}const cue=S.createContext({strict:!1}),YG={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Gv={};for(const t in YG)Gv[t]={isEnabled:e=>YG[t].some(n=>!!e[n])};function FQe(t){for(const e in t)Gv[e]={...Gv[e],...t[e]}}const UQe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function HM(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||UQe.has(t)}let uue=t=>!HM(t);function BQe(t){typeof t=="function"&&(uue=e=>e.startsWith("on")?!HM(e):t(e))}try{BQe(require("@emotion/is-prop-valid").default)}catch{}function zQe(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(uue(i)||n===!0&&HM(i)||!e&&!HM(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function VQe(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const Xj=S.createContext({});function Yj(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Xb(t){return typeof t=="string"||Array.isArray(t)}const GU=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],qU=["initial",...GU];function Zj(t){return Yj(t.animate)||qU.some(e=>Xb(t[e]))}function due(t){return!!(Zj(t)||t.variants)}function WQe(t,e){if(Zj(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Xb(n)?n:void 0,animate:Xb(r)?r:void 0}}return t.inherit!==!1?e:{}}function $Qe(t){const{initial:e,animate:n}=WQe(t,S.useContext(Xj));return S.useMemo(()=>({initial:e,animate:n}),[ZG(e),ZG(n)])}function ZG(t){return Array.isArray(t)?t.join(" "):t}const HQe=Symbol.for("motionComponentSymbol");function Ig(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function GQe(t,e,n){return S.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Ig(n)&&(n.current=r))},[e])}const KU=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),qQe="framerAppearId",fue="data-"+KU(qQe),hue=S.createContext({});function KQe(t,e,n,r,i){var x,v;const{visualElement:s}=S.useContext(Xj),a=S.useContext(cue),l=S.useContext(EU),c=S.useContext(lue).reducedMotion,u=S.useRef(null);r=r||a.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:s,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,f=S.useContext(hue);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&XQe(u.current,n,i,f);const h=S.useRef(!1);S.useInsertionEffect(()=>{d&&h.current&&d.update(n,l)});const m=n[fue],p=S.useRef(!!m&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,m))&&((v=window.MotionHasOptimisedAnimation)==null?void 0:v.call(window,m)));return UYe(()=>{d&&(h.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),$U.render(d.render),p.current&&d.animationState&&d.animationState.animateChanges())}),S.useEffect(()=>{d&&(!p.current&&d.animationState&&d.animationState.animateChanges(),p.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)==null||g.call(window,m)}),p.current=!1))}),d}function XQe(t,e,n,r){const{layoutId:i,layout:s,drag:a,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:mue(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||l&&Ig(l),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:c,layoutRoot:u})}function mue(t){if(t)return t.options.allowProjection!==!1?t.projection:mue(t.parent)}function YQe({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&FQe(t);function s(l,c){let u;const d={...S.useContext(lue),...l,layoutId:ZQe(l)},{isStatic:f}=d,h=$Qe(l),m=r(l,f);if(!f&&SU){QQe();const p=JQe(d);u=p.MeasureLayout,h.visualElement=KQe(i,m,d,e,p.ProjectionNode)}return o.jsxs(Xj.Provider,{value:h,children:[u&&h.visualElement?o.jsx(u,{visualElement:h.visualElement,...d}):null,n(i,l,GQe(m,h.visualElement,c),m,f,h.visualElement)]})}s.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const a=S.forwardRef(s);return a[HQe]=i,a}function ZQe({layoutId:t}){const e=S.useContext(xce).id;return e&&t!==void 0?e+"-"+t:t}function QQe(t,e){S.useContext(cue).strict}function JQe(t){const{drag:e,layout:n}=Gv;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Yb={};function eJe(t){for(const e in t)Yb[e]=t[e],kU(e)&&(Yb[e].isCSSVariable=!0)}function pue(t,{layout:e,layoutId:n}){return Cx.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Yb[t]||t==="opacity")}const tJe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},nJe=Mx.length;function rJe(t,e,n){let r="",i=!0;for(let s=0;s<nJe;s++){const a=Mx[s],l=t[a];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(a.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=rue(l,WU[a]);if(!c){i=!1;const d=tJe[a]||a;r+=`${d}(${u}) `}n&&(e[a]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function XU(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let a=!1,l=!1;for(const c in e){const u=e[c];if(Cx.has(c)){a=!0;continue}else if(kU(c)){i[c]=u;continue}else{const d=rue(u,WU[c]);c.startsWith("origin")?(l=!0,s[c]=d):r[c]=d}}if(e.transform||(a||n?r.transform=rJe(e,t.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=s;r.transformOrigin=`${c} ${u} ${d}`}}const YU=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function gue(t,e,n){for(const r in e)!Ss(e[r])&&!pue(r,n)&&(t[r]=e[r])}function iJe({transformTemplate:t},e){return S.useMemo(()=>{const n=YU();return XU(n,e,t),Object.assign({},n.vars,n.style)},[e])}function sJe(t,e){const n=t.style||{},r={};return gue(r,n,t),Object.assign(r,iJe(t,e)),r}function aJe(t,e){const n={},r=sJe(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const oJe={offset:"stroke-dashoffset",array:"stroke-dasharray"},lJe={offset:"strokeDashoffset",array:"strokeDasharray"};function cJe(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?oJe:lJe;t[s.offset]=Ht.transform(-r);const a=Ht.transform(e),l=Ht.transform(n);t[s.array]=`${a} ${l}`}function vue(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:a=0,...l},c,u,d){if(XU(t,l,u),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:h}=t;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete f.transformBox),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),i!==void 0&&cJe(f,i,s,a,!1)}const xue=()=>({...YU(),attrs:{}}),yue=t=>typeof t=="string"&&t.toLowerCase()==="svg";function uJe(t,e,n,r){const i=S.useMemo(()=>{const s=xue();return vue(s,e,yue(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};gue(s,t.style,t),i.style={...s,...i.style}}return i}const dJe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ZU(t){return typeof t!="string"||t.includes("-")?!1:!!(dJe.indexOf(t)>-1||/[A-Z]/u.test(t))}function fJe(t=!1){return(n,r,i,{latestValues:s},a)=>{const c=(ZU(n)?uJe:aJe)(r,s,a,n),u=zQe(r,typeof n=="string",t),d=n!==S.Fragment?{...u,...c,ref:i}:{},{children:f}=r,h=S.useMemo(()=>Ss(f)?f.get():f,[f]);return S.createElement(n,{...d,children:h})}}function QG(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function QU(t,e,n,r){if(typeof e=="function"){const[i,s]=QG(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=QG(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function bE(t){return Ss(t)?t.get():t}function hJe({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:mJe(n,r,i,t),renderState:e()}}const bue=t=>(e,n)=>{const r=S.useContext(Xj),i=S.useContext(EU),s=()=>hJe(t,e,r,i);return n?s():FYe(s)};function mJe(t,e,n,r){const i={},s=r(t,{});for(const h in s)i[h]=bE(s[h]);let{initial:a,animate:l}=t;const c=Zj(t),u=due(t);e&&u&&!c&&t.inherit!==!1&&(a===void 0&&(a=e.initial),l===void 0&&(l=e.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const f=d?l:a;if(f&&typeof f!="boolean"&&!Yj(f)){const h=Array.isArray(f)?f:[f];for(let m=0;m<h.length;m++){const p=QU(t,h[m]);if(p){const{transitionEnd:x,transition:v,...g}=p;for(const w in g){let _=g[w];if(Array.isArray(_)){const E=d?_.length-1:0;_=_[E]}_!==null&&(i[w]=_)}for(const w in x)i[w]=x[w]}}}return i}function JU(t,e,n){var s;const{style:r}=t,i={};for(const a in r)(Ss(r[a])||e.style&&Ss(e.style[a])||pue(a,t)||((s=n==null?void 0:n.getValue(a))==null?void 0:s.liveStyle)!==void 0)&&(i[a]=r[a]);return i}const pJe={useVisualState:bue({scrapeMotionValuesFromProps:JU,createRenderState:YU})};function wue(t,e,n){const r=JU(t,e,n);for(const i in t)if(Ss(t[i])||Ss(e[i])){const s=Mx.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const gJe={useVisualState:bue({scrapeMotionValuesFromProps:wue,createRenderState:xue})};function vJe(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const a={...ZU(r)?gJe:pJe,preloadedFeatures:t,useRender:fJe(i),createVisualElement:e,Component:r};return YQe(a)}}function Zb(t,e,n){const r=t.getProps();return QU(r,e,n!==void 0?n:r.custom,t)}const JD=t=>Array.isArray(t);function xJe(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Hv(n))}function yJe(t){return JD(t)?t[t.length-1]||0:t}function bJe(t,e){const n=Zb(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const a in s){const l=yJe(s[a]);xJe(t,a,l)}}function wJe(t){return!!(Ss(t)&&t.add)}function eI(t,e){const n=t.getValue("willChange");if(wJe(n))return n.add(e);if(!n&&Bu.WillChange){const r=new Bu.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function _ue(t){return t.props[fue]}const _Je=t=>t!==null;function SJe(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(_Je),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[s]}const EJe={type:"spring",stiffness:500,damping:25,restSpeed:10},NJe=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),MJe={type:"keyframes",duration:.8},CJe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},jJe=(t,{keyframes:e})=>e.length>2?MJe:Cx.has(t)?t.startsWith("scale")?NJe(e[1]):EJe:CJe;function AJe({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const e5=(t,e,n,r={},i,s)=>a=>{const l=VU(r,t)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Ec(c);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-u,onUpdate:h=>{e.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:s?void 0:i};AJe(l)||Object.assign(d,jJe(t,d)),d.duration&&(d.duration=Ec(d.duration)),d.repeatDelay&&(d.repeatDelay=Ec(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(f=!0)),(Bu.instantAnimations||Bu.skipAnimations)&&(f=!0,d.duration=0,d.delay=0),d.allowFlatten=!l.type&&!l.ease,f&&!s&&e.get()!==void 0){const h=SJe(d.keyframes,l);if(h!==void 0){pr.update(()=>{d.onUpdate(h),d.onComplete()});return}}return l.isSync?new BU(d):new dQe(d)};function TJe({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function Sue(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(s=r);const c=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const d in l){const f=t.getValue(d,t.latestValues[d]??null),h=l[d];if(h===void 0||u&&TJe(u,d))continue;const m={delay:n,...VU(s||{},d)},p=f.get();if(p!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===p&&!m.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const g=_ue(t);if(g){const w=window.MotionHandoffAnimation(g,d,pr);w!==null&&(m.startTime=w,x=!0)}}eI(t,d),f.start(e5(d,f,h,t.shouldReduceMotion&&Qce.has(d)?{type:!1}:m,t,x));const v=f.animation;v&&c.push(v)}return a&&Promise.all(c).then(()=>{pr.update(()=>{a&&bJe(t,a)})}),c}function tI(t,e,n={}){var c;const r=Zb(t,e,n.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(Sue(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=i;return PJe(t,e,u,d,f,h,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[u,d]=l==="beforeChildren"?[s,a]:[a,s];return u().then(()=>d())}else return Promise.all([s(),a(n.delay)])}function PJe(t,e,n=0,r=0,i=0,s=1,a){const l=[],c=t.variantChildren.size,u=(c-1)*i,d=typeof r=="function",f=d?h=>r(h,c):s===1?(h=0)=>h*i:(h=0)=>u-h*i;return Array.from(t.variantChildren).sort(kJe).forEach((h,m)=>{h.notify("AnimationStart",e),l.push(tI(h,e,{...a,delay:n+(d?0:r)+f(m)}).then(()=>h.notify("AnimationComplete",e)))}),Promise.all(l)}function kJe(t,e){return t.sortNodePosition(e)}function RJe(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>tI(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=tI(t,e,n);else{const i=typeof e=="function"?Zb(t,e,n.custom):e;r=Promise.all(Sue(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function Eue(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const OJe=qU.length;function Nue(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Nue(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<OJe;n++){const r=qU[n],i=t.props[r];(Xb(i)||i===!1)&&(e[r]=i)}return e}const DJe=[...GU].reverse(),IJe=GU.length;function LJe(t){return e=>Promise.all(e.map(({animation:n,options:r})=>RJe(t,n,r)))}function FJe(t){let e=LJe(t),n=JG(),r=!0;const i=c=>(u,d)=>{var h;const f=Zb(t,d,c==="exit"?(h=t.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:m,transitionEnd:p,...x}=f;u={...u,...x,...p}}return u};function s(c){e=c(t)}function a(c){const{props:u}=t,d=Nue(t.parent)||{},f=[],h=new Set;let m={},p=1/0;for(let v=0;v<IJe;v++){const g=DJe[v],w=n[g],_=u[g]!==void 0?u[g]:d[g],E=Xb(_),N=g===c?w.isActive:null;N===!1&&(p=v);let C=_===d[g]&&_!==u[g]&&E;if(C&&r&&t.manuallyAnimateOnMount&&(C=!1),w.protectedKeys={...m},!w.isActive&&N===null||!_&&!w.prevProp||Yj(_)||typeof _=="boolean")continue;const j=UJe(w.prevProp,_);let T=j||g===c&&w.isActive&&!C&&E||v>p&&E,A=!1;const P=Array.isArray(_)?_:[_];let R=P.reduce(i(g),{});N===!1&&(R={});const{prevResolvedValues:D={}}=w,F={...D,...R},I=$=>{T=!0,h.has($)&&(A=!0,h.delete($)),w.needsAnimating[$]=!0;const L=t.getValue($);L&&(L.liveStyle=!1)};for(const $ in F){const L=R[$],V=D[$];if(m.hasOwnProperty($))continue;let K=!1;JD(L)&&JD(V)?K=!Eue(L,V):K=L!==V,K?L!=null?I($):h.add($):L!==void 0&&h.has($)?I($):w.protectedKeys[$]=!0}w.prevProp=_,w.prevResolvedValues=R,w.isActive&&(m={...m,...R}),r&&t.blockInitialAnimation&&(T=!1),T&&(!(C&&j)||A)&&f.push(...P.map($=>({animation:$,options:{type:g}})))}if(h.size){const v={};if(typeof u.initial!="boolean"){const g=Zb(t,Array.isArray(u.initial)?u.initial[0]:u.initial);g&&g.transition&&(v.transition=g.transition)}h.forEach(g=>{const w=t.getBaseTarget(g),_=t.getValue(g);_&&(_.liveStyle=!0),v[g]=w??null}),f.push({animation:v})}let x=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(x=!1),r=!1,x?e(f):Promise.resolve()}function l(c,u){var f;if(n[c].isActive===u)return Promise.resolve();(f=t.variantChildren)==null||f.forEach(h=>{var m;return(m=h.animationState)==null?void 0:m.setActive(c,u)}),n[c].isActive=u;const d=a(c);for(const h in n)n[h].protectedKeys={};return d}return{animateChanges:a,setActive:l,setAnimateFunction:s,getState:()=>n,reset:()=>{n=JG(),r=!0}}}function UJe(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Eue(e,t):!1}function Nh(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function JG(){return{animate:Nh(!0),whileInView:Nh(),whileHover:Nh(),whileTap:Nh(),whileDrag:Nh(),whileFocus:Nh(),exit:Nh()}}class $f{constructor(e){this.isMounted=!1,this.node=e}update(){}}class BJe extends $f{constructor(e){super(e),e.animationState||(e.animationState=FJe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Yj(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let zJe=0;class VJe extends $f{constructor(){super(...arguments),this.id=zJe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const WJe={animation:{Feature:BJe},exit:{Feature:VJe}};function Qb(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function l1(t){return{point:{x:t.pageX,y:t.pageY}}}const $Je=t=>e=>HU(e)&&t(e,l1(e));function R0(t,e,n,r){return Qb(t,e,$Je(n),r)}function Mue({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function HJe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function GJe(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const Cue=1e-4,qJe=1-Cue,KJe=1+Cue,jue=.01,XJe=0-jue,YJe=0+jue;function qs(t){return t.max-t.min}function ZJe(t,e,n){return Math.abs(t-e)<=n}function e9(t,e,n,r=.5){t.origin=r,t.originPoint=wr(e.min,e.max,t.origin),t.scale=qs(n)/qs(e),t.translate=wr(n.min,n.max,t.origin)-t.originPoint,(t.scale>=qJe&&t.scale<=KJe||isNaN(t.scale))&&(t.scale=1),(t.translate>=XJe&&t.translate<=YJe||isNaN(t.translate))&&(t.translate=0)}function O0(t,e,n,r){e9(t.x,e.x,n.x,r?r.originX:void 0),e9(t.y,e.y,n.y,r?r.originY:void 0)}function t9(t,e,n){t.min=n.min+e.min,t.max=t.min+qs(e)}function QJe(t,e,n){t9(t.x,e.x,n.x),t9(t.y,e.y,n.y)}function n9(t,e,n){t.min=e.min-n.min,t.max=t.min+qs(e)}function D0(t,e,n){n9(t.x,e.x,n.x),n9(t.y,e.y,n.y)}const r9=()=>({translate:0,scale:1,origin:0,originPoint:0}),Lg=()=>({x:r9(),y:r9()}),i9=()=>({min:0,max:0}),Ur=()=>({x:i9(),y:i9()});function To(t){return[t("x"),t("y")]}function Ck(t){return t===void 0||t===1}function nI({scale:t,scaleX:e,scaleY:n}){return!Ck(t)||!Ck(e)||!Ck(n)}function Lh(t){return nI(t)||Aue(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Aue(t){return s9(t.x)||s9(t.y)}function s9(t){return t&&t!=="0%"}function GM(t,e,n){const r=t-n,i=e*r;return n+i}function a9(t,e,n,r,i){return i!==void 0&&(t=GM(t,i,r)),GM(t,n,r)+e}function rI(t,e=0,n=1,r,i){t.min=a9(t.min,e,n,r,i),t.max=a9(t.max,e,n,r,i)}function Tue(t,{x:e,y:n}){rI(t.x,e.translate,e.scale,e.originPoint),rI(t.y,n.translate,n.scale,n.originPoint)}const o9=.999999999999,l9=1.0000000000001;function JJe(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,a;for(let l=0;l<i;l++){s=n[l],a=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Ug(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,Tue(t,a)),r&&Lh(s.latestValues)&&Ug(t,s.latestValues))}e.x<l9&&e.x>o9&&(e.x=1),e.y<l9&&e.y>o9&&(e.y=1)}function Fg(t,e){t.min=t.min+e,t.max=t.max+e}function c9(t,e,n,r,i=.5){const s=wr(t.min,t.max,i);rI(t,e,n,s,r)}function Ug(t,e){c9(t.x,e.x,e.scaleX,e.scale,e.originX),c9(t.y,e.y,e.scaleY,e.scale,e.originY)}function Pue(t,e){return Mue(GJe(t.getBoundingClientRect(),e))}function eet(t,e,n){const r=Pue(t,n),{scroll:i}=e;return i&&(Fg(r.x,i.offset.x),Fg(r.y,i.offset.y)),r}const kue=({current:t})=>t?t.ownerDocument.defaultView:null,u9=(t,e)=>Math.abs(t-e);function tet(t,e){const n=u9(t.x,e.x),r=u9(t.y,e.y);return Math.sqrt(n**2+r**2)}class Rue{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Ak(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,p=tet(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!p)return;const{point:x}=h,{timestamp:v}=Xi;this.history.push({...x,timestamp:v});const{onStart:g,onMove:w}=this.handlers;m||(g&&g(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=jk(m,this.transformPagePoint),pr.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:p,onSessionEnd:x,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Ak(h.type==="pointercancel"?this.lastMoveEventInfo:jk(m,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,g),x&&x(h,g)},!HU(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=i||window;const l=l1(e),c=jk(l,this.transformPagePoint),{point:u}=c,{timestamp:d}=Xi;this.history=[{...u,timestamp:d}];const{onSessionStart:f}=n;f&&f(e,Ak(c,this.history)),this.removeListeners=s1(R0(this.contextWindow,"pointermove",this.handlePointerMove),R0(this.contextWindow,"pointerup",this.handlePointerUp),R0(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Sf(this.updatePoint)}}function jk(t,e){return e?{point:e(t.point)}:t}function d9(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ak({point:t},e){return{point:t,delta:d9(t,Oue(e)),offset:d9(t,net(e)),velocity:ret(e,.1)}}function net(t){return t[0]}function Oue(t){return t[t.length-1]}function ret(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=Oue(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Ec(e)));)n--;if(!r)return{x:0,y:0};const s=Nc(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function iet(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?wr(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?wr(n,t,r.max):Math.min(t,n)),t}function f9(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function set(t,{top:e,left:n,bottom:r,right:i}){return{x:f9(t.x,n,i),y:f9(t.y,e,r)}}function h9(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function aet(t,e){return{x:h9(t.x,e.x),y:h9(t.y,e.y)}}function oet(t,e){let n=.5;const r=qs(t),i=qs(e);return i>r?n=Gb(e.min,e.max-r,t.min):r>i&&(n=Gb(t.min,t.max-i,e.min)),Uu(0,1,n)}function cet(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const iI=.35;function uet(t=iI){return t===!1?t=0:t===!0&&(t=iI),{x:m9(t,"left","right"),y:m9(t,"top","bottom")}}function m9(t,e,n){return{min:p9(t,e),max:p9(t,n)}}function p9(t,e){return typeof t=="number"?t:t[e]||0}const det=new WeakMap;class fet{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ur(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(l1(f).point)},a=(f,h)=>{const{drag:m,dragPropagation:p,onDragStart:x}=this.getProps();if(m&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=jQe(m),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),To(g=>{let w=this.getAxisMotionValue(g).get()||0;if(Mc.test(w)){const{projection:_}=this.visualElement;if(_&&_.layout){const E=_.layout.layoutBox[g];E&&(w=qs(E)*(parseFloat(w)/100))}}this.originPoint[g]=w}),x&&pr.postRender(()=>x(f,h)),eI(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},l=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h;const{dragPropagation:m,dragDirectionLock:p,onDirectionLock:x,onDrag:v}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:g}=h;if(p&&this.currentDirection===null){this.currentDirection=het(g),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",h.point,g),this.updateAxis("y",h.point,g),this.visualElement.render(),v&&v(f,h)},c=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h,this.stop(f,h),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>To(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)==null?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new Rue(e,{onSessionStart:s,onStart:a,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:kue(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&pr.postRender(()=>l(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!$S(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=iet(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&Ig(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=set(r.layoutBox,e):this.constraints=!1,this.elastic=uet(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&To(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=cet(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ig(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=eet(r,i.root,this.visualElement.getTransformPagePoint());let a=aet(i.layout.layoutBox,s);if(n){const l=n(HJe(a));this.hasMutatedConstraints=!!l,l&&(a=Mue(l))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=To(d=>{if(!$S(d,n,this.currentDirection))return;let f=c&&c[d]||{};a&&(f={min:0,max:0});const h=i?200:1e6,m=i?40:1e7,p={type:"inertia",velocity:r?e[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(d,p)});return Promise.all(u).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return eI(this.visualElement,e),r.start(e5(e,r,0,n,this.visualElement,!1))}stopAnimation(){To(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){To(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){To(n=>{const{drag:r}=this.getProps();if(!$S(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:l}=i.layout.layoutBox[n];s.set(e[n]-wr(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ig(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};To(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const c=l.get();i[a]=oet({min:c,max:c},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),To(a=>{if(!$S(a,e,null))return;const l=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];l.set(wr(c,u,i[a]))})}addListeners(){if(!this.visualElement.current)return;det.set(this.visualElement,this);const e=this.visualElement.current,n=R0(e,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Ig(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),pr.read(r);const a=Qb(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(To(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{a(),n(),s(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=iI,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:l}}}function $S(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function het(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class met extends $f{constructor(e){super(e),this.removeGroupControls=Vo,this.removeListeners=Vo,this.controls=new fet(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Vo}unmount(){this.removeGroupControls(),this.removeListeners()}}const g9=t=>(e,n)=>{t&&pr.postRender(()=>t(e,n))};class pet extends $f{constructor(){super(...arguments),this.removePointerDownListener=Vo}onPointerDown(e){this.session=new Rue(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:kue(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:g9(e),onStart:g9(n),onMove:r,onEnd:(s,a)=>{delete this.session,i&&pr.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=R0(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const wE={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function v9(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Dy={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ht.test(t))t=parseFloat(t);else return t;const n=v9(t,e.target.x),r=v9(t,e.target.y);return`${n}% ${r}%`}},get={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Ef.parse(t);if(i.length>5)return r;const s=Ef.createTransformer(t),a=typeof i[0]!="number"?1:0,l=n.x.scale*e.x,c=n.y.scale*e.y;i[0+a]/=l,i[1+a]/=c;const u=wr(l,c,.5);return typeof i[2+a]=="number"&&(i[2+a]/=u),typeof i[3+a]=="number"&&(i[3+a]/=u),s(i)}};let x9=!1;class vet extends S.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;eJe(xet),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),x9&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),wE.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:a}=r;return a&&(a.isPresent=s,x9=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||pr.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),$U.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Due(t){const[e,n]=LQe(),r=S.useContext(xce);return o.jsx(vet,{...t,layoutGroup:r,switchLayoutGroup:S.useContext(hue),isPresent:e,safeToRemove:n})}const xet={borderRadius:{...Dy,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Dy,borderTopRightRadius:Dy,borderBottomLeftRadius:Dy,borderBottomRightRadius:Dy,boxShadow:get};function yet(t,e,n){const r=Ss(t)?t:Hv(t);return r.start(e5("",r,e,n)),r.animation}const bet=(t,e)=>t.depth-e.depth;class wet{constructor(){this.children=[],this.isDirty=!1}add(e){NU(this.children,e),this.isDirty=!0}remove(e){MU(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(bet),this.isDirty=!1,this.children.forEach(e)}}function _et(t,e){const n=Ma.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Sf(r),t(s-e))};return pr.setup(r,!0),()=>Sf(r)}const Iue=["TopLeft","TopRight","BottomLeft","BottomRight"],Eet=Iue.length,y9=t=>typeof t=="string"?parseFloat(t):t,b9=t=>typeof t=="number"||Ht.test(t);function Net(t,e,n,r,i,s){i?(t.opacity=wr(0,n.opacity??1,Met(r)),t.opacityExit=wr(e.opacity??1,0,Cet(r))):s&&(t.opacity=wr(e.opacity??1,n.opacity??1,r));for(let a=0;a<Eet;a++){const l=`border${Iue[a]}Radius`;let c=w9(e,l),u=w9(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||b9(c)===b9(u)?(t[l]=Math.max(wr(y9(c),y9(u),r),0),(Mc.test(u)||Mc.test(c))&&(t[l]+="%")):t[l]=u}(e.rotate||n.rotate)&&(t.rotate=wr(e.rotate||0,n.rotate||0,r))}function w9(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Met=Lue(0,.5,Ace),Cet=Lue(.5,.95,Vo);function Lue(t,e,n){return r=>r<t?0:r>e?1:n(Gb(t,e,r))}function _9(t,e){t.min=e.min,t.max=e.max}function jo(t,e){_9(t.x,e.x),_9(t.y,e.y)}function S9(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function E9(t,e,n,r,i){return t-=e,t=GM(t,1/n,r),i!==void 0&&(t=GM(t,1/i,r)),t}function jet(t,e=0,n=1,r=.5,i,s=t,a=t){if(Mc.test(e)&&(e=parseFloat(e),e=wr(a.min,a.max,e/100)-a.min),typeof e!="number")return;let l=wr(s.min,s.max,r);t===s&&(l-=e),t.min=E9(t.min,e,n,l,i),t.max=E9(t.max,e,n,l,i)}function N9(t,e,[n,r,i],s,a){jet(t,e[n],e[r],e[i],e.scale,s,a)}const Aet=["x","scaleX","originX"],Tet=["y","scaleY","originY"];function M9(t,e,n,r){N9(t.x,e,Aet,n?n.x:void 0,r?r.x:void 0),N9(t.y,e,Tet,n?n.y:void 0,r?r.y:void 0)}function C9(t){return t.translate===0&&t.scale===1}function Fue(t){return C9(t.x)&&C9(t.y)}function j9(t,e){return t.min===e.min&&t.max===e.max}function Pet(t,e){return j9(t.x,e.x)&&j9(t.y,e.y)}function A9(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Uue(t,e){return A9(t.x,e.x)&&A9(t.y,e.y)}function T9(t){return qs(t.x)/qs(t.y)}function P9(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class ket{constructor(){this.members=[]}add(e){NU(this.members,e),e.scheduleRender()}remove(e){if(MU(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Ret(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,a=(n==null?void 0:n.z)||0;if((i||s||a)&&(r=`translate3d(${i}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:h,skewX:m,skewY:p}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),f&&(r+=`rotateX(${f}deg) `),h&&(r+=`rotateY(${h}deg) `),m&&(r+=`skewX(${m}deg) `),p&&(r+=`skewY(${p}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const Tk=["","X","Y","Z"],Oet=1e3;let Det=0;function Pk(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function Bue(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=_ue(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",pr,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&Bue(r)}function zue({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},l=e==null?void 0:e()){this.id=Det++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Fet),this.nodes.forEach(Vet),this.nodes.forEach(Wet),this.nodes.forEach(Uet)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new wet)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new AU),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=oue(a)&&!OQe(a),this.instance=a;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),t){let d,f=0;const h=()=>this.root.updateBlockedByResize=!1;pr.read(()=>{f=window.innerWidth}),t(a,()=>{const m=window.innerWidth;m!==f&&(f=m,this.root.updateBlockedByResize=!0,d&&d(),d=_et(h,250),wE.hasAnimatedSinceResize&&(wE.hasAnimatedSinceResize=!1,this.nodes.forEach(O9)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||u.getDefaultTransition()||Ket,{onLayoutAnimationStart:x,onLayoutAnimationComplete:v}=u.getProps(),g=!this.targetLayout||!Uue(this.targetLayout,m),w=!f&&h;if(this.options.layoutRoot||this.resumeFrom||w||f&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const _={...VU(p,"layout"),onPlay:x,onComplete:v};(u.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_),this.setAnimationOrigin(d,w)}else f||O9(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Sf(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach($et),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Bue(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(k9);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(R9);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(zet),this.nodes.forEach(Iet),this.nodes.forEach(Let)):this.nodes.forEach(R9),this.clearAllSnapshots();const l=Ma.now();Xi.delta=Uu(0,1e3/60,l-Xi.timestamp),Xi.timestamp=l,Xi.isProcessing=!0,wk.update.process(Xi),wk.preRender.process(Xi),wk.render.process(Xi),Xi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,$U.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Bet),this.sharedNodes.forEach(Het)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,pr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){pr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!qs(this.snapshot.measuredBox.x)&&!qs(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ur(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!Fue(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&this.instance&&(l||Lh(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),Xet(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:a}=this.options;if(!a)return Ur();const l=a.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(Yet))){const{scroll:d}=this.root;d&&(Fg(l.x,d.offset.x),Fg(l.y,d.offset.y))}return l}removeElementScroll(a){var c;const l=Ur();if(jo(l,a),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:h}=d;d!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&jo(l,a),Fg(l.x,f.offset.x),Fg(l.y,f.offset.y))}return l}applyTransform(a,l=!1){const c=Ur();jo(c,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Ug(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Lh(d.latestValues)&&Ug(c,d.latestValues)}return Lh(this.latestValues)&&Ug(c,this.latestValues),c}removeTransform(a){const l=Ur();jo(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Lh(u.latestValues))continue;nI(u.latestValues)&&u.updateSnapshot();const d=Ur(),f=u.measurePageBox();jo(d,f),M9(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Lh(this.latestValues)&&M9(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Xi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var h;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=Xi.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ur(),this.relativeTargetOrigin=Ur(),D0(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),jo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ur(),this.targetWithTransforms=Ur()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),QJe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):jo(this.target,this.layout.layoutBox),Tue(this.target,this.targetDelta)):jo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ur(),this.relativeTargetOrigin=Ur(),D0(this.relativeTargetOrigin,this.target,m.target),jo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||nI(this.parent.latestValues)||Aue(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var p;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Xi.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;jo(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;JJe(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Ur());const{target:m}=a;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(S9(this.prevProjectionDelta.x,this.projectionDelta.x),S9(this.prevProjectionDelta.y,this.projectionDelta.y)),O0(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!P9(this.projectionDelta.x,this.prevProjectionDelta.x)||!P9(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Lg(),this.projectionDelta=Lg(),this.projectionDeltaWithTransform=Lg()}setAnimationOrigin(a,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=Lg();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=Ur(),m=c?c.source:void 0,p=this.layout?this.layout.source:void 0,x=m!==p,v=this.getStack(),g=!v||v.members.length<=1,w=!!(x&&!g&&this.options.crossfade===!0&&!this.path.some(qet));this.animationProgress=0;let _;this.mixTargetDelta=E=>{const N=E/1e3;D9(f.x,a.x,N),D9(f.y,a.y,N),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(D0(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Get(this.relativeTarget,this.relativeTargetOrigin,h,N),_&&Pet(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=Ur()),jo(_,this.relativeTarget)),x&&(this.animationValues=d,Net(d,u,this.latestValues,N,w,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var l,c,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Sf(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=pr.update(()=>{wE.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Hv(0)),this.currentAnimation=yet(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),a.onUpdate&&a.onUpdate(d)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Oet),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=a;if(!(!l||!c||!u)){if(this!==a&&this.layout&&u&&Vue(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Ur();const f=qs(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+f;const h=qs(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+h}jo(l,c),Ug(l,d),O0(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new ket),this.sharedNodes.get(a).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var l;const{layoutId:a}=this.options;return a?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:a}=this.options;return a?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&Pk("z",a,u,this.animationValues);for(let d=0;d<Tk.length;d++)Pk(`rotate${Tk[d]}`,a,u,this.animationValues),Pk(`skew${Tk[d]}`,a,u,this.animationValues);a.render();for(const d in u)a.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);a.scheduleRender()}applyProjectionStyles(a,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=bE(l==null?void 0:l.pointerEvents)||"",a.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=bE(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Lh(this.latestValues)&&(a.transform=c?c({},""):"none",this.hasProjected=!1);return}a.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=Ret(this.projectionDeltaWithTransform,this.treeScale,d);c&&(f=c(d,f)),a.transform=f;const{x:h,y:m}=this.projectionDelta;a.transformOrigin=`${h.origin*100}% ${m.origin*100}% 0`,u.animationValues?a.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const p in Yb){if(d[p]===void 0)continue;const{correct:x,applyTo:v,isCSSVariable:g}=Yb[p],w=f==="none"?d[p]:x(d[p],u);if(v){const _=v.length;for(let E=0;E<_;E++)a[v[E]]=w}else g?this.options.visualElement.renderState.vars[p]=w:a[p]=w}this.options.layoutId&&(a.pointerEvents=u===this?bE(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(k9),this.root.sharedNodes.clear()}}}function Iet(t){t.updateLayout()}function Let(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,a=e.source!==t.layout.source;s==="size"?To(f=>{const h=a?e.measuredBox[f]:e.layoutBox[f],m=qs(h);h.min=r[f].min,h.max=h.min+m}):Vue(s,e.layoutBox,r)&&To(f=>{const h=a?e.measuredBox[f]:e.layoutBox[f],m=qs(r[f]);h.max=h.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+m)});const l=Lg();O0(l,r,e.layoutBox);const c=Lg();a?O0(c,t.applyTransform(i,!0),e.measuredBox):O0(c,r,e.layoutBox);const u=!Fue(l);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const p=Ur();D0(p,e.layoutBox,h.layoutBox);const x=Ur();D0(x,r,m.layoutBox),Uue(p,x)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=p,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Fet(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Uet(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Bet(t){t.clearSnapshot()}function k9(t){t.clearMeasurements()}function R9(t){t.isLayoutDirty=!1}function zet(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function O9(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Vet(t){t.resolveTargetDelta()}function Wet(t){t.calcProjection()}function $et(t){t.resetSkewAndRotation()}function Het(t){t.removeLeadSnapshot()}function D9(t,e,n){t.translate=wr(e.translate,0,n),t.scale=wr(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function I9(t,e,n,r){t.min=wr(e.min,n.min,r),t.max=wr(e.max,n.max,r)}function Get(t,e,n,r){I9(t.x,e.x,n.x,r),I9(t.y,e.y,n.y,r)}function qet(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Ket={duration:.45,ease:[.4,0,.1,1]},L9=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),F9=L9("applewebkit/")&&!L9("chrome/")?Math.round:Vo;function U9(t){t.min=F9(t.min),t.max=F9(t.max)}function Xet(t){U9(t.x),U9(t.y)}function Vue(t,e,n){return t==="position"||t==="preserve-aspect"&&!ZJe(T9(e),T9(n),.2)}function Yet(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const Zet=zue({attachResizeListener:(t,e)=>Qb(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),kk={current:void 0},Wue=zue({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!kk.current){const t=new Zet({});t.mount(window),t.setOptions({layoutScroll:!0}),kk.current=t}return kk.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Qet={pan:{Feature:pet},drag:{Feature:met,ProjectionNode:Wue,MeasureLayout:Due}};function B9(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&pr.postRender(()=>s(e,l1(e)))}class Jet extends $f{mount(){const{current:e}=this.node;e&&(this.unmount=AQe(e,(n,r)=>(B9(this.node,r,"Start"),i=>B9(this.node,i,"End"))))}unmount(){}}class ett extends $f{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=s1(Qb(this.node.current,"focus",()=>this.onFocus()),Qb(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function z9(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&pr.postRender(()=>s(e,l1(e)))}class ttt extends $f{mount(){const{current:e}=this.node;e&&(this.unmount=RQe(e,(n,r)=>(z9(this.node,r,"Start"),(i,{success:s})=>z9(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const sI=new WeakMap,Rk=new WeakMap,ntt=t=>{const e=sI.get(t.target);e&&e(t)},rtt=t=>{t.forEach(ntt)};function itt({root:t,...e}){const n=t||document;Rk.has(n)||Rk.set(n,{});const r=Rk.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(rtt,{root:t,...e})),r[i]}function stt(t,e,n){const r=itt(e);return sI.set(t,n),r.observe(t),()=>{sI.delete(t),r.unobserve(t)}}const att={some:0,all:1};class ott extends $f{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:att[i]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return stt(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(ltt(e,n))&&this.startObserver()}unmount(){}}function ltt({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const ctt={inView:{Feature:ott},tap:{Feature:ttt},focus:{Feature:ett},hover:{Feature:Jet}},utt={layout:{ProjectionNode:Wue,MeasureLayout:Due}},aI={current:null},$ue={current:!1};function dtt(){if($ue.current=!0,!!SU)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>aI.current=t.matches;t.addEventListener("change",e),e()}else aI.current=!1}const ftt=new WeakMap;function htt(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Ss(i))t.addValue(r,i);else if(Ss(s))t.addValue(r,Hv(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=t.getStaticValue(r);t.addValue(r,Hv(a!==void 0?a:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const V9=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class mtt{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=zU,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Ma.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,pr.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=a;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!s,this.isControllingVariants=Zj(n),this.isVariantNode=due(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in f){const m=f[h];c[h]!==void 0&&Ss(m)&&m.set(c[h],!1)}}mount(e){this.current=e,ftt.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),$ue.current||dtt(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:aI.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Sf(this.notifyUpdate),Sf(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Cx.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&pr.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Gv){const n=Gv[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ur()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<V9.length;r++){const i=V9[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=e[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=htt(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Hv(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(yce(r)||wce(r))?r=parseFloat(r):!IQe(r)&&Ef.test(n)&&(r=nue(e,n)),this.setBaseTarget(e,Ss(r)?r.get():r)),Ss(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=QU(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);a&&(r=a[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Ss(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new AU),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class Hue extends mtt{constructor(){super(...arguments),this.KeyframeResolver=SQe}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ss(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Gue(t,{style:e,vars:n},r,i){const s=t.style;let a;for(a in e)s[a]=e[a];i==null||i.applyProjectionStyles(s,r);for(a in n)s.setProperty(a,n[a])}function ptt(t){return window.getComputedStyle(t)}class gtt extends Hue{constructor(){super(...arguments),this.type="html",this.renderInstance=Gue}readValueFromInstance(e,n){var r;if(Cx.has(n))return(r=this.projection)!=null&&r.isProjecting?qD(n):VZe(e,n);{const i=ptt(e),s=(kU(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Pue(e,n)}build(e,n,r){XU(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return JU(e,n,r)}}const que=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function vtt(t,e,n,r){Gue(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(que.has(i)?i:KU(i),e.attrs[i])}class xtt extends Hue{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ur}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Cx.has(n)){const r=tue(n);return r&&r.default||0}return n=que.has(n)?n:KU(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return wue(e,n,r)}build(e,n,r){vue(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){vtt(e,n,r,i)}mount(e){this.isSVGTag=yue(e.tagName),super.mount(e)}}const ytt=(t,e)=>ZU(t)?new xtt(e):new gtt(e,{allowProjection:t!==S.Fragment}),btt=vJe({...WJe,...ctt,...Qet,...utt},ytt),wtt=VQe(btt),_tt=["Eu sempre escolho roupas que mais disfarçam meu excesso de peso.","Tenho peças que disfarçam meu corpo, e por isso prefiro até lavar mais vezes essas mesmas peças roupa 'do que' ir às compras e me sentir frustrado(a).","Mesmo quando emagreço, guardo as roupas de quando eu estava acima do peso.","Quando emagreço, tenho medo de desfazer das roupas 'de gordo' e engordar.","Não me desfaço das roupas de gordo mesmo tendo emagrecido, pois tenho apego muito grande às minhas roupas.","Sempre que recebo algum dinheiro, logo penso em comer algo gostoso e caro que não como no dia a dia.","Só de saber que vou ter dinheiro, penso em comemorar comendo algo.","Em época de pagamento, é normal, no meu trabalho, combinarmos uma saída para comer.","Se eu sei que tenho dinheiro, não consigo resistir às tentações, vou lá e compro guloseimas.","Eu realmente acredito que ter dinheiro, me motiva a comer.","Quando eu começo a emagrecer, sempre me deparo com pessoas que dizem: 'Você está ficando feia e com cara de doente'.","Toda vez que eu consigo emagrecer, as pessoas mais próximas que eu amo tanto, dizem que estou magra demais e com cara de doente.","Quando os outros começam a falar que estou ficando magra demais, logo volto a comer novamente, até mesmo sem pensar. Me sinto frustrada com essas críticas.","Meus pais sempre me alertaram para eu não ficar muito magro(a), pois magro(a) demais, tem cara de doente.","Quando consigo emagrecer, tenho sempre dificuldade de reconhecer e aceitar minha nova imagem. Tenho sensação de estranheza no espelho.","Na minha infância, eu era tão magro que os outros sempre me chamavam de feia.","Na minha infância eu tinha muita dificuldade de me olhar no espelho, de tão magra e feia que me sentia.","Sempre que emagreço, lembro, que na minha infância me sentia feia em ser magra.","Na infância, os outros viviam falando que eu era feia de tão magra.","Acho muito feio pessoas muito magras e não consigo me imaginar magro(a), como já fui na infância.","Me sinto tão cobrado(a) pelos meus pais, quanto ao meu peso, que acabo 'descontando' ainda mais na comida.","Sou muito cobrado(a) pelos meus familiares e amigos em relação ao meu peso. Essa pressão, me faz comer mais ainda.","Penso que a maior preocupação dos meus pais em relação a mim, é ligada ao meu sobrepeso.","Sempre acho que estou sendo cobrado(a) por todos para emagrecer, isso faz com que eu queira comer ainda mais.","Quando saio na rua, tenho o sentimento que os outros me olham diferente, isso me faz ter ainda mais vontade de comer.","Sempre que estou feliz, quero comemorar comendo qualquer comida gostosa.","Se acontece algo que me deixa triste, logo penso naquele chocolate ou em comer algo.","Se estou nervoso(a), angustiado(a), logo penso que preciso comer para aliviar meus sentimentos ruins.","Quando estou ansioso(a), nervoso(a), com medo, pensativo(a), só aumenta meu desejo de comer algo delicioso.","Acredito que eu mereço comer doce, quando me sinto sozinho(a).","Já tentei de diversas de todas formas emagrecer e acredito que emagrecer não é para mim.","Eu já nem acredito que eu possa (o) emagrecer.","Quando penso em emagrecer, já penso que tudo vai dar errado.","Não consigo encontrar forças para lutar pelo meu peso/corpo que desejo. Afinal, emagrecer é muito difícil.","Quando penso em emagrecimento, só tenho pensamentos ruins.","Eu acredito que só consigo emagrecer, se fizer atividade física.","Só de pensar que tenho que fazer qualquer atividade física, já desisto de tentar emagrecer.","Eu não gosto de ir para academia, tenho muito vergonha por conta do meu corpo atual.","Até já tentei ir à academia, mas sempre desisto pois fico me comparando e achando que todos estão olhando para o meu corpo.","Eu odeio ir para academia pois acredito que significa 'pagar para sofrer'.","Eu acredito que fazer dieta é viver sob pressão?","Você costuma ficar ansioso(a) durante uma dieta, se perguntando quando irá voltar a comer de forma normal.","Eu já penso em desistir, só de pensar que tenho que ter uma alimentação restrita e saudável.","Realmente sofro, quando penso em alimentação saudável.","Eu não consigo acreditar que comer de forma saudável é bom.","Eu realmente acredito que o maior prazer da vida, é comer.","Eu só me sinto realmente feliz e completa, quando eu estou comendo.","Se for para comer só um pedaço, eu nem começo. Gosto mesmo é de comer até ficar feliz e satisfeita.","Sempre que me perguntam o que eu mais gosto, minha resposta imediata é comer.","Todos os meus programas, envolvem uma comida gostosa. Passeios sem comidas saborosas, não tem graça para mim.","Eu realmente recordo que minha infância foi muito pobre e poucos recursos financeiros e emocionais. Quando pensava em comer, quase sempre tinha apenas coisas básicas.","Na minha infância sempre aprendi que as pessoas mais gordinhas eram ricas e tinham dinheiro.","Lembro que os meus amigos (as) gordinhos tinham mais dinheiro.","Na minha infância, meus pais me diziam: 'Olha você tem que comer muito, para crescer forte, trabalhar bem, ganhar dinheiro e ajudar seus pais'.","Meus pais diziam 'Come para ficar forte!! Quanto mais forte, mais fartura e dinheiro você terá.' (Mensagens da sua infância).","Sempre que vejo uma pessoa magra, penso que ela não tem personalidade ou tende a ser uma pessoa manipulável.","Aprendi que pessoas magras são frágeis e fracas.","Quando fui magra, me sentia uma pessoa fraca, sem energia e sem saúde.","Na minha infância, sempre tive a sensação que as pessoas magras, eram fracas.","Meus pais sempre me diziam que se eu ficasse muito magra, ficaria fraca e doente.","Eu realmente acredito que as pessoas devem me amar do jeito que sou, mesmo estando acima do peso.","Eu não gosto da ideia de ter que emagrecer para conquistar um relacionamento amoroso. Afinal, acredito que as pessoas devem me aceitar como sou.","Já cheguei a emagrecer, quando isso aconteceu não me reconheci magra, então, novamente engordei.","Já acostumei tanto em ficar acima do peso, que não consigo me imaginar de outra forma.","Aprendi que as pessoas precisam me amar assim, mesmo acima do peso.","Sempre que começo a ficar mais bonito(a) e mais magro(a), tenho sérios problemas no meu relacionamento por ciúmes do(a) meu/minha companheiro(a).","Confesso que já cheguei a emagrecer mas em virtude de brigas e ciúmes voltei a engordar, para manter o meu relacionamento.","Não tenho apoio do meu cônjuge para cuidar da minha aparência física. Sinto que isso incomoda meu parceiro(a).","Acredito que com uma aparência melhor eu teria problemas em ser fiel ao meu/minha parceiro(a), por isso prefiro não me cuidar tanto.","Prefiro ficar como estou, do que gerar algum problema para o meu casamento, quando o assunto é meu corpo e minha beleza.","Lembro que na minha infância, eu chamava muita atenção dos outros pela minha beleza.","Tenho um(a) irmão(ã), sempre achei que ele(a) era mais bonito(a) e chamava mais atenção do sexo oposto. Isso realmente me incomodava muito.","Na minha família, sempre falavam que eu era o mais bonito(a), isso realmente me incomodava muito, me sentia até estranho(a).","Sempre me sentia deslocado(a) sendo a pessoa mais magra da família, por isso resolvi engordar para me sentir mais parecido(a) com os familiares.","Lembro que na minha infância e grupo de amigas, eu era sempre muito cobrada e criticada por ser a mais bonita. No fundo isso me incomodava.","Eu realmente acredito que as mulheres/homens muito bonitos, são burros.","Na minha infância e adolescência, eu me sentia constrangido(a) quando percebia que minha beleza chamava atenção.","Na minha infância, não me lembro de receber elogios sobre minha aparência física. Me sentia feio(a) e muito triste.","Sempre tive dificuldade de paquerar, acreditava sempre que eu era muito feio(a).","Nunca gostei de chamar atenção dos outros pela minha aparência física.","Depois do nascimento do meu filho/filha, entendi que preciso viver apenas para meu filho(a).","Aprendi que tenho que ser somente mãe/pai (válido para homens e mulheres) cuidar da casa. Cuidar dos filhos e marido/esposa.","Hoje eu só me sinto realizado (válido para homens e mulheres), fazendo as coisas pelo meu filho(a).","Depois da maternidade/paternidade (válido para homens e mulheres), passei a viver apenas a vida do meu filho(a) e marido/esposa.","Sou o tipo de mãe/pai que realmente gosta de fazer tudo pelo filho(a) e marido/esposa. Esqueço até de mim.","Tenho dificuldades com minha sexualidade, pois prefiro comer um doce a fazer sexo.","Tenho marcas no passado relacionada as minhas questões sexuais, por isso, sem perceber comecei engordar.","Na verdade, eu tenho medo de me relacionar com homens, me incomoda a forma com que me olham, por isso escolhi não ser atraente para eles.","Não me sinto protegido(a) ou realizada(s) nas minhas atividades sexuais.","Tenho dificuldades com orgasmo, não me sinto confortável no momento do sexo.","Participo de um grupo de pessoas, em que a maioria está acima do peso e quando eu começo a emagrecer, me sinto estranho(a) próximo a essas pessoas.","Sou capaz de sair de um grupo de amigos que amo, quando me sinto diferente. Isso realmente me incomoda.","Percebo que, muitas vezes, ajo de forma contrária a minha vontade, para agradar e me sentir acolhido(a) pelo grupo de amigos que participo.","Preciso me sentir amado(a) pelos grupos que pertenço. E não me sinto à vontade, sendo diferente dos outros.","Na minha infância, me sentia diferente do grupo em que eu participava. Por isso, compensava comendo para ficar igual a todas (os) do grupo.","Minhas reuniões familiares são sempre rodeadas à mesa farta de comida.","Na minha infância sempre que eu comia tudo e até repetia, meus pais me elogiavam com muito carinho.","Minhas maiores lembranças de receber amor e carinho da minha família estão sempre atrelados a comida.","Qualquer encontro em família sempre é motivo para comer alguma coisa.","Me lembro que nos momentos das refeições me sentia extremamente amado(a) pelos meus pais e familiares.","Recentemente passei por um término de relacionamento e essa situação tem me deixado extremamente 'para baixo'.","Ainda não me encontrei profissionalmente. Essa falta de realização no trabalho me deixa muito frustrado(a).","Perdi meu trabalho recentemente e essa questão profissional me deixa com autoestima lá embaixo.","Penso que nada dá certo na minha vida e, nesse momento, chego a acreditar que perdi a razão para viver.","Eu já fui mais feliz. Hoje eu ando muito triste e perdi minha autoconfiança.","Na minha infância, perdi uma pessoa querida que eu amava muito e isso me abalou de tal forma, que passei a engordar.","Na minha infância, quando nasceu meu irmão/irmã, eu perdi toda atenção que era só minha.","Na minha infância, eu ficava muito sozinho(a), pois meus pais estavam sempre ausentes. Esse acompanhamento e amor me fez muita falta.","Na minha infância, houve separação dos meus pais e isso teve um grande impacto negativo na minha vida.","Não tive relacionamento com meus pais desde a infância e fui cuidado por outras pessoas e familiares. Isso me fez muita falta.","Aprendi que primeiro preciso agradar e satisfazer os outros, depois penso em mim.","Eu tenho a tendência a pensar nos outros e esquecer de mim e das minhas tarefas.","Sempre acabo fazendo a vontade dos outros, com medo de ser rejeitado(a) ou de pensarem mal de mim.","Tenho dificuldade em dizer 'não' para os outros e isso acaba me frustrando.","Gosto de agradar os outros e acabo ficando em último lugar e por isso, não me agrado."],Stt=[{value:5,label:"Concordo Fortemente"},{value:4,label:"Concordo"},{value:3,label:"Às Vezes"},{value:2,label:"Discordo"},{value:1,label:"Discordo Fortemente"}],Ett=t=>{const e={roupas:[0,1,2,3,4],dinheiro:[5,6,7,8,9],estranheza_mudanca:[10,11,12,13,14],magreza_infancia:[15,16,17,18,19],rivalidade:[20,21,22,23,24],valvula_escape:[25,26,27,28,29],falta_crencas:[30,31,32,33,34],atividade_fisica:[35,36,37,38,39],crenca_contraria:[40,41,42,43,44],prazer_comida:[45,46,47,48,49],obesidade_riqueza:[50,51,52,53,54],tamanho_fortaleza:[55,56,57,58,59],apego_autoimagem:[60,61,62,63,64],problemas_conjuge:[65,66,67,68,69],fuga_beleza:[70,71,72,73,74],protecao_filhos:[75,76,77,78,79],fuga_afetiva:[80,81,82,83,84],biotipo_identidade:[85,86,87,88,89],comida_afeto:[90,91,92,93,94],perdas_presente:[95,96,97,98,99],perdas_infancia:[100,101,102,103,104],critico:[105,106,107,108,109],boazinha:[110,111,112,113,114]},n={};return Object.keys(e).forEach(r=>{const i=e[r],s=i.reduce((a,l)=>{const c=t[l];return a+(typeof c=="number"?c:0)},0);n[r]=Math.round(s/i.length*20)}),n},Ntt=t=>({roupas:"Sabotador das Roupas",dinheiro:"Sabotador do Dinheiro",estranheza_mudanca:"Estranheza da Mudança",magreza_infancia:"Magreza da Infância",rivalidade:"Rivalidade",valvula_escape:"Válvula de Escape",falta_crencas:"Falta de Crenças",atividade_fisica:"Atividade Física",crenca_contraria:"Crença Contrária",prazer_comida:"Prazer da Comida",obesidade_riqueza:"Obesidade como Riqueza",tamanho_fortaleza:"Tamanho como Fortaleza",apego_autoimagem:"Apego à Autoimagem",problemas_conjuge:"Problemas com Cônjuge",fuga_beleza:"Fuga da Beleza",protecao_filhos:"Proteção dos Filhos",fuga_afetiva:"Fuga Afetiva",biotipo_identidade:"Biotipo e Identidade",comida_afeto:"Comida como Afeto",perdas_presente:"Perdas no Presente",perdas_infancia:"Perdas na Infância",critico:"Crítico Interno",boazinha:"Boazinha Demais"})[t]||t,Mtt=t=>({roupas:{resumo:"O sabotador das roupas te faz esconder seu corpo e evitar a realidade do espelho. Você se apega a peças antigas como uma forma de segurança, temendo o fracasso e a frustração de não encontrar roupas que sirvam.",comoSuperar:"Comece a renovar seu guarda-roupa gradualmente. Doe peças que não servem mais e que trazem memórias ruins. Experimente comprar uma peça nova que te valorize, mesmo que seja um acessório. Encare o espelho como um aliado, não um inimigo, e celebre cada pequena mudança que notar em seu corpo."},dinheiro:{resumo:"Este sabotador associa recompensa e celebração diretamente com comida. O dinheiro na mão se torna um gatilho para gastar com guloseimas e refeições especiais, transformando a alimentação em uma comemoração constante, o que dificulta o controle.",comoSuperar:"Crie novas formas de se recompensar que não envolvam comida. Use o dinheiro para investir em um hobby, um passeio, um livro ou roupas novas. Planeje suas finanças para que a comida não seja a principal válvula de escape para suas emoções ou a única forma de celebrar."},valvula_escape:{resumo:"Você usa a comida como uma muleta emocional para lidar com estresse, tristeza, ansiedade e até felicidade. Qualquer emoção intensa se torna um pretexto para comer, criando um ciclo vicioso de comer para aliviar sentimentos, o que gera culpa e mais sentimentos negativos.",comoSuperar:"Identifique os gatilhos emocionais. Antes de comer, pergunte-se: 'Estou com fome ou estou sentindo algo?'. Crie uma 'caixa de primeiros socorros emocionais' com alternativas: ligar para um amigo, ouvir música, fazer uma caminhada, escrever em um diário ou praticar respiração profunda."},prazer_comida:{resumo:"Para você, o maior (ou único) prazer da vida é comer. Nenhum outro programa parece tão atraente quanto uma boa refeição. Essa crença te impede de encontrar satisfação em outras áreas da vida, tornando a comida o centro de tudo.",comoSuperar:"Expanda seu leque de prazeres. Faça uma lista de 20 coisas que você gosta de fazer e que não envolvam comida (ex: dançar, ler, aprender algo novo, cuidar de plantas). Pratique o 'comer consciente' (mindful eating), saboreando cada pedaço lentamente para aumentar a satisfação com porções menores."},critico:{resumo:"Uma voz interna te julga constantemente, minando sua autoconfiança e fazendo você acreditar que não é capaz de emagrecer. Esse crítico interno te pune por cada deslize, gerando um ciclo de autossabotagem e desistência.",comoSuperar:"Dê um nome a essa voz crítica e diga 'Pare!' quando ela aparecer. Pratique a autocompaixão: trate-se com a mesma gentileza que trataria um amigo querido. Anote suas qualidades e pequenas vitórias diárias para fortalecer sua autoimagem positiva."},boazinha:{resumo:"Você tem uma enorme dificuldade em dizer 'não'. Sua necessidade de agradar os outros faz com que você coloque as necessidades deles sempre à frente das suas, inclusive as relacionadas à sua saúde e emagrecimento. Você come para não fazer desfeita e negligencia seus próprios planos.",comoSuperar:"Comece a praticar dizer 'não' em situações de baixo risco. Use frases como 'Obrigada, mas vou passar desta vez' ou 'Agradeço o convite, mas tenho outro compromisso (comigo mesma!)'. Lembre-se que cuidar de você não é egoísmo, é uma necessidade."},estranheza_mudanca:{resumo:"Quando você emagrece, se sente desconfortável com sua nova imagem e com os comentários alheios, especialmente os que dizem que você parece 'doente'. Isso gera uma crise de identidade que te leva a voltar aos velhos hábitos para se sentir 'normal' de novo.",comoSuperar:"Prepare-se mentalmente para a mudança. Faça afirmações positivas diárias em frente ao espelho, como 'Eu aceito e amo meu novo corpo'. Tenha respostas prontas para comentários negativos, como 'Estou mais saudável do que nunca, obrigada pela preocupação'. Cerque-se de pessoas que apoiam sua transformação."},magreza_infancia:{resumo:"Você associa a magreza a sentimentos negativos da sua infância, como se sentir feia ou fraca. Inconscientemente, você mantém o sobrepeso para se proteger dessas memórias dolorosas e evitar reviver essas emoções.",comoSuperar:"Ressignifique suas memórias. Escreva uma carta para a sua 'criança interior', explicando que hoje você é uma adulta forte e que ser magra significa saúde e vitalidade, não fraqueza. A terapia pode ser muito útil para processar essas memórias."},falta_crencas:{resumo:"Após tantas tentativas frustradas, você simplesmente não acredita mais que é capaz de emagrecer. Essa falta de fé se torna uma profecia autorrealizável, onde qualquer obstáculo é visto como a confirmação de que 'não adianta tentar'.",comoSuperar:"Quebre o objetivo grande em metas minúsculas e alcançáveis (ex: beber 1 copo de água a mais por dia). Comemore cada micro-vitória para construir um histórico de sucesso. Acompanhe seu progresso em fotos e medidas, não apenas na balança, para ver as mudanças acontecendo."},atividade_fisica:{resumo:"Você odeia a ideia de exercício físico, associando-o a sofrimento, vergonha e comparação. A academia é um ambiente hostil para você, o que te faz desistir do emagrecimento por acreditar que um não existe sem o outro.",comoSuperar:"Encontre uma forma de movimento que você goste. Pode ser dançar na sala, caminhar no parque ouvindo música, natação, ioga online. Desvincule 'movimento' de 'academia'. O objetivo é celebrar o que seu corpo pode fazer, não puni-lo."},crenca_contraria:{resumo:"Você acredita que fazer dieta é viver sob pressão e que a alimentação saudável é uma tortura. Essa crença te impede de ver o lado positivo de uma reeducação alimentar, transformando qualquer tentativa em um sofrimento.",comoSuperar:"Mude sua perspectiva sobre a alimentação saudável. Explore novas receitas, descubra alimentos saborosos e nutritivos. Foque nos benefícios para sua saúde e bem-estar, não apenas na restrição. Veja a alimentação como autocuidado e prazer."},obesidade_riqueza:{resumo:"Você associa o sobrepeso a riqueza e fartura, e a magreza à pobreza ou doença. Essas crenças, muitas vezes enraizadas na infância, fazem com que você, inconscientemente, resista a emagrecer para não 'perder' essa simbologia de prosperidade.",comoSuperar:"Desconstrua essa associação. Entenda que a verdadeira riqueza está na saúde e na qualidade de vida. Busque exemplos de pessoas saudáveis e bem-sucedidas. Relembre que o valor de uma pessoa não está ligado ao seu peso."},tamanho_fortaleza:{resumo:"Você pode ter a crença de que ser grande ou ter um corpo maior te confere força, proteção ou respeito. A ideia de emagrecer pode gerar a sensação de perda de poder ou fragilidade, levando à autossabotagem para manter essa 'fortaleza'.",comoSuperar:"Reconheça sua força interior e suas qualidades que independem do seu tamanho físico. Entenda que a saúde e a vitalidade são as verdadeiras fortalezas. Construa uma autoimagem baseada em seus valores e capacidades, não apenas no corpo."},apego_autoimagem:{resumo:"Você se acostumou tanto com sua imagem atual que tem dificuldade em se ver de outra forma. Há um medo inconsciente de não se reconhecer ou de perder a 'identidade' que construiu com seu corpo atual, mesmo que não seja saudável.",comoSuperar:"Permita-se a redescoberta. Encare o emagrecimento como uma oportunidade de se reconectar com uma versão mais saudável e feliz de si. Peça para amigos e familiares próximos reforçarem sua nova imagem de forma positiva. Abrace o processo de autotransformação."},problemas_conjuge:{resumo:"Você pode estar sabotando seu emagrecimento devido a medos relacionados ao seu relacionamento. Ciúmes do parceiro, medo de atrair outros ou de mudanças na dinâmica da relação podem fazer com que você, inconscientemente, prefira manter o peso.",comoSuperar:"Abra o diálogo com seu cônjuge sobre seus objetivos e medos. O apoio e a compreensão mútua são essenciais. Se o ciúme é um problema, trabalhem juntos na confiança e na segurança da relação. Lembre-se que cuidar de si fortalece a parceria."},fuga_beleza:{resumo:"Em algum momento da vida, a sua beleza pode ter gerado desconforto, inveja ou problemas. Isso pode ter levado à crença de que é 'perigoso' ser bonito(a), e você inconscientemente se sabota para evitar a atenção ou as consequências da sua própria beleza.",comoSuperar:"Reconheça e aceite sua beleza como parte de quem você é. Desconstrua a ideia de que ser bonito(a) é um fardo. Entenda que o valor de uma pessoa vai além da aparência física. O foco deve ser na saúde e bem-estar, não na busca por uma 'aparência perigosa'."},protecao_filhos:{resumo:"Você se sente na obrigação de viver apenas para seus filhos e família, negligenciando suas próprias necessidades e bem-estar. A maternidade/paternidade se torna uma 'desculpa' para não cuidar de si, acreditando que é um ato de abnegação.",comoSuperar:"Entenda que cuidar de si é fundamental para cuidar bem dos outros. Ser um exemplo de saúde e autocuidado para seus filhos é um dos maiores presentes que você pode dar a eles. Reserve um tempo diário para você, sem culpa, seja para exercício, leitura ou relaxamento."},fuga_afetiva:{resumo:"Você pode estar usando o excesso de peso como uma barreira para a intimidade ou para evitar situações de vulnerabilidade emocional e sexual. A comida se torna um refúgio para não lidar com questões de afeto ou sexualidade.",comoSuperar:"Busque apoio profissional para trabalhar questões de intimidade e sexualidade. Explore outras formas de prazer e conexão emocional. Entenda que a comida é alimento, não um substituto para o afeto ou para a expressão da sua sexualidade."},biotipo_identidade:{resumo:"Você pode ter a crença de que seu biotipo ou sua identidade está ligada ao seu peso atual. Experiências passadas, como ser muito magro(a) na infância e se sentir fraco(a), podem fazer com que você, inconscientemente, evite retornar àquele estado, mesmo que não seja saudável.",comoSuperar:"Aceite seu biotipo, mas busque sua melhor versão saudável dentro dele. Foque na saúde e no bem-estar, não em atingir um peso que o fez mal no passado. O importante é o equilíbrio e a sensação de vitalidade no presente."},comida_afeto:{resumo:"Em sua família, o amor e o afeto sempre foram muito associados à comida. Reuniões fartas, elogios ao comer muito, e a comida como conforto em momentos difíceis, fizeram com que você associasse o ato de comer a ser amado(a) e aceito(a).",comoSuperar:"Encontre novas formas de dar e receber afeto que não envolvam comida. Cultive conversas significativas, abraços, tempo de qualidade e palavras de afirmação. Redefina a forma como você celebra e expressa amor na família, inserindo atividades não-alimentares."},perdas_presente:{resumo:"Você está lidando com perdas significativas no presente (término de relacionamento, perda de emprego, desilusões). A comida se torna uma forma de lidar com a tristeza, frustração e falta de propósito, preenchendo um vazio emocional.",comoSuperar:"Procure ajuda profissional (terapia) para processar suas perdas. Desenvolva mecanismos de enfrentamento saudáveis, como exercícios, hobbies, meditação, ou buscar apoio em grupos de suporte. Permita-se sentir as emoções sem recorrer à comida como escape."},perdas_infancia:{resumo:"Traumas ou perdas na infância (separação dos pais, ausência, falta de atenção) podem ter levado você a usar a comida como conforto ou preenchimento de um vazio emocional. Essa programação inconsciente persiste na vida adulta, dificultando o emagrecimento.",comoSuperar:"Reconheça e valide a dor da sua criança interior. Busque apoio terapêutico para trabalhar esses traumas e ressignificar essas experiências. A comida não pode curar feridas emocionais. Entenda que você merece amor e atenção agora, e que pode se dar isso a si mesmo de formas saudáveis."}})[t]||{resumo:"Seu padrão de comportamento interfere nos seus objetivos.",comoSuperar:"Identificar a raiz desse comportamento é o primeiro passo. Busque entender o que te leva a agir dessa forma e procure ajuda profissional para desenvolver novas estratégias e fortalecer sua jornada de emagrecimento."},Ctt=()=>{const[t,e]=S.useState(1),[n,r]=S.useState(new Array(115).fill(null)),[i,s]=S.useState(!1),[a,l]=S.useState(!1),[c,u]=S.useState(null),d=(t-1)/115*100,f=t,h=g=>{const w=[...n];w[f-1]=g,r(w)},m=()=>{t<115?e(t+1):x()},p=()=>{t>1&&e(t-1)},x=async()=>{s(!0);try{const g=Ett(n),w=Object.entries(g).sort(([,E],[,N])=>N-E).slice(0,5).map(([E,N])=>{const C=Mtt(E);return{nome:Ntt(E),pontuacao:N,resumo:C.resumo,comoSuperar:C.comoSuperar}}),_={scores:g,topSabotadores:w,data:new Date().toISOString()};localStorage.setItem("testeSabotadores",JSON.stringify(_)),u(_),l(!0)}catch(g){console.error("Erro ao processar resultado:",g)}finally{s(!1)}},v=()=>{e(1),r(new Array(115).fill(null)),l(!1),u(null)};return a&&c?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx(Rr,{className:"mx-auto h-16 w-16 text-green-500 mb-4"}),o.jsx("h2",{className:"text-3xl font-bold text-instituto-dark mb-2",children:"Teste Concluído!"}),o.jsx("p",{className:"text-muted-foreground",children:"Aqui estão seus principais sabotadores e como superá-los"})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(le,{children:[o.jsx(Qe,{children:o.jsxs(et,{className:"flex items-center gap-2",children:[o.jsx(mf,{className:"h-5 w-5 text-instituto-orange"}),"Seus Principais Sabotadores"]})}),o.jsx(ue,{children:o.jsx("div",{className:"space-y-4",children:c.topSabotadores.map((g,w)=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:g.nome}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Pontuação: ",g.pontuacao,"%"]})]}),o.jsx(Nt,{variant:g.pontuacao>=80?"destructive":g.pontuacao>=60?"default":"secondary",children:g.pontuacao>=80?"Alto":g.pontuacao>=60?"Médio":"Baixo"})]},w))})})]}),o.jsxs(le,{children:[o.jsx(Qe,{children:o.jsxs(et,{className:"flex items-center gap-2",children:[o.jsx(l3,{className:"h-5 w-5 text-instituto-orange"}),"Como Superar"]})}),o.jsx(ue,{children:o.jsx(Eae,{type:"single",collapsible:!0,className:"w-full",children:c.topSabotadores.map((g,w)=>o.jsxs(p0,{value:`item-${w}`,children:[o.jsx(g0,{className:"text-left",children:g.nome}),o.jsx(v0,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-sm mb-1",children:"O que é:"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:g.resumo})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-sm mb-1",children:"Como superar:"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:g.comoSuperar})]})]})})]},w))})})]})]}),o.jsxs("div",{className:"text-center",children:[o.jsx(pe,{onClick:v,variant:"outline",className:"mr-4",children:"Refazer Teste"}),o.jsx(pe,{className:"bg-instituto-orange hover:bg-instituto-orange/90",children:"Agendar Consulta"})]})]}):o.jsx("div",{className:"space-y-6",children:o.jsxs(le,{children:[o.jsxs(Qe,{children:[o.jsxs(et,{className:"flex items-center gap-2",children:[o.jsx(Nn,{className:"h-6 w-6 text-instituto-orange"}),"Teste dos Sabotadores"]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[o.jsxs("span",{children:["Pergunta ",t," de 115"]}),o.jsxs("span",{children:[Math.round(d),"% concluído"]})]}),o.jsx(Sa,{value:d,className:"w-full"})]})]}),o.jsx(ue,{children:o.jsxs(wtt.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},className:"space-y-6",children:[o.jsxs("div",{className:"p-6 bg-muted rounded-lg",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:_tt[f-1]}),o.jsx("div",{className:"space-y-3",children:Stt.map(g=>o.jsx(pe,{variant:n[f-1]===g.value?"default":"outline",className:`w-full justify-start text-left h-auto p-4 ${n[f-1]===g.value?"bg-instituto-orange hover:bg-instituto-orange/90":""}`,onClick:()=>h(g.value),children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${n[f-1]===g.value?"bg-white border-white":"border-current"}`}),o.jsx("span",{children:g.label})]})},g.value))})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsxs(pe,{variant:"outline",onClick:p,disabled:t===1,className:"flex items-center gap-2",children:[o.jsx(xc,{className:"h-4 w-4"}),"Anterior"]}),o.jsxs(pe,{onClick:m,disabled:n[f-1]===null||i,className:"flex items-center gap-2 bg-instituto-orange hover:bg-instituto-orange/90",children:[t===115?i?"Finalizando...":"Finalizar":"Próxima",t<115&&o.jsx(sf,{className:"h-4 w-4"})]})]})]},t)})]})})},jtt=()=>{const{user:t}=Or(),[e,n]=Ze.useState(null),[r,i]=Ze.useState(!0);if(Ze.useEffect(()=>{(async()=>{if(t)try{const{data:c}=await He.from("profiles").select("*").eq("user_id",t.id).single();n(c)}catch(c){console.error("Erro ao buscar perfil:",c)}finally{i(!1)}})()},[t]),r)return o.jsx(le,{className:"border border-instituto-orange/20",children:o.jsx(ue,{className:"p-3",children:o.jsxs("div",{className:"animate-pulse",children:[o.jsx("div",{className:"h-4 bg-muted rounded w-1/3 mb-2"}),o.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]})})});if(!e)return o.jsx(le,{className:"border border-instituto-orange/20",children:o.jsx(ue,{className:"p-3",children:o.jsx("div",{className:"text-sm text-muted-foreground",children:"Dados do perfil não encontrados"})})});const s=l=>{if(!l)return"N/A";const c=new Date,u=new Date(l);let d=c.getFullYear()-u.getFullYear();const f=c.getMonth()-u.getMonth();return(f<0||f===0&&c.getDate()<u.getDate())&&d--,d},a=l=>({masculino:"M",feminino:"F",outro:"O"})[l]||"-";return o.jsx(le,{className:"border border-instituto-orange/20 bg-gradient-to-r from-instituto-orange/5 to-instituto-orange/10",children:o.jsx(ue,{className:"p-3",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-1.5 bg-instituto-orange/20 rounded-full",children:o.jsx(ao,{className:"h-4 w-4 text-instituto-orange"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-semibold text-instituto-dark",children:e.full_name||"Usuário"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:e.email})]})]}),o.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(In,{className:"h-3 w-3 text-instituto-orange"}),o.jsxs("span",{className:"font-medium",children:[s(e.data_nascimento)," anos"]})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(p2,{className:"h-3 w-3 text-instituto-orange"}),o.jsx("span",{className:"font-medium",children:a(e.sexo)})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Nu,{className:"h-3 w-3 text-instituto-orange"}),o.jsx("span",{className:"font-medium",children:e.altura_cm?`${e.altura_cm}cm`:"N/A"})]}),o.jsx(Nt,{variant:"secondary",className:"bg-green-100 text-green-800 text-xs px-2 py-0.5",children:"✅ Ativo"})]})]})})})},Att=({trigger:t,userData:e,onDataUpdated:n})=>{var m;const{user:r}=Or(),{toast:i}=Ui(),[s,a]=S.useState(!!t),[l,c]=S.useState(!1),[u,d]=S.useState({full_name:(e==null?void 0:e.full_name)||"",email:(e==null?void 0:e.email)||"",celular:(e==null?void 0:e.celular)||"",data_nascimento:(e==null?void 0:e.data_nascimento)||"",sexo:(e==null?void 0:e.sexo)||"",altura_cm:((m=e==null?void 0:e.altura_cm)==null?void 0:m.toString())||""}),f=async p=>{if(p.preventDefault(),!!r){c(!0);try{const{error:x}=await He.from("profiles").update({full_name:u.full_name,email:u.email,celular:u.celular,data_nascimento:u.data_nascimento||null,sexo:u.sexo||null,altura_cm:u.altura_cm?parseInt(u.altura_cm):null}).eq("user_id",r.id);if(x)throw x;const{data:v}=await He.from("profiles").select("id").eq("user_id",r.id).single();if(v&&u.altura_cm&&u.data_nascimento&&u.sexo){const{error:g}=await He.from("dados_fisicos_usuario").upsert({user_id:v.id,nome_completo:u.full_name,altura_cm:parseInt(u.altura_cm),data_nascimento:u.data_nascimento,sexo:u.sexo,peso_atual_kg:70,circunferencia_abdominal_cm:90});g&&console.error("Erro ao atualizar dados físicos:",g)}i({title:"✅ Dados atualizados com sucesso!",description:"Suas informações pessoais foram atualizadas."}),a(!1),n==null||n()}catch(x){console.error("Erro ao atualizar dados:",x),i({title:"Erro ao atualizar",description:"Não foi possível atualizar seus dados. Tente novamente.",variant:"destructive"})}finally{c(!1)}}},h=(p,x)=>{d(v=>({...v,[p]:x}))};return o.jsxs(Ii,{open:s,onOpenChange:a,children:[o.jsx(lo,{asChild:!0,children:t||o.jsxs(pe,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[o.jsx(HK,{className:"h-4 w-4"}),"Editar Dados"]})}),o.jsxs(vi,{className:"sm:max-w-lg max-h-[90vh] overflow-y-auto",children:[o.jsx(xi,{children:o.jsxs(yi,{className:"flex items-center gap-2 text-instituto-orange",children:[o.jsx(ao,{className:"h-5 w-5"}),"Editar Dados Pessoais"]})}),o.jsxs("form",{onSubmit:f,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ce,{htmlFor:"full_name",className:"flex items-center gap-2",children:[o.jsx(ao,{className:"h-4 w-4 text-instituto-orange"}),"Nome Completo *"]}),o.jsx(ut,{id:"full_name",type:"text",value:u.full_name,onChange:p=>h("full_name",p.target.value),placeholder:"Ex: João Silva",required:!0,className:"border-instituto-orange/30 focus:border-instituto-orange"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ce,{htmlFor:"email",className:"flex items-center gap-2",children:[o.jsx(jm,{className:"h-4 w-4 text-instituto-orange"}),"E-mail *"]}),o.jsx(ut,{id:"email",type:"email",value:u.email,onChange:p=>h("email",p.target.value),placeholder:"Ex: joao@email.com",required:!0,className:"border-instituto-orange/30 focus:border-instituto-orange"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ce,{htmlFor:"celular",className:"flex items-center gap-2",children:[o.jsx(GK,{className:"h-4 w-4 text-instituto-orange"}),"Telefone"]}),o.jsx(ut,{id:"celular",type:"tel",value:u.celular,onChange:p=>h("celular",p.target.value),placeholder:"Ex: (11) 99999-9999",className:"border-instituto-orange/30 focus:border-instituto-orange"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ce,{htmlFor:"data_nascimento",className:"flex items-center gap-2",children:[o.jsx(In,{className:"h-4 w-4 text-instituto-orange"}),"Data de Nascimento"]}),o.jsx(ut,{id:"data_nascimento",type:"date",value:u.data_nascimento,onChange:p=>h("data_nascimento",p.target.value),className:"border-instituto-orange/30 focus:border-instituto-orange"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ce,{className:"flex items-center gap-2",children:[o.jsx(ur,{className:"h-4 w-4 text-instituto-orange"}),"Sexo"]}),o.jsxs(nr,{value:u.sexo,onValueChange:p=>h("sexo",p),children:[o.jsx(Xn,{className:"border-instituto-orange/30 focus:border-instituto-orange",children:o.jsx(rr,{placeholder:"Selecione seu sexo"})}),o.jsxs(Yn,{children:[o.jsx(ht,{value:"masculino",children:"Masculino"}),o.jsx(ht,{value:"feminino",children:"Feminino"}),o.jsx(ht,{value:"outro",children:"Outro"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ce,{htmlFor:"altura_cm",className:"flex items-center gap-2",children:[o.jsx(Nu,{className:"h-4 w-4 text-instituto-orange"}),"Altura (cm)"]}),o.jsx(ut,{id:"altura_cm",type:"number",min:"100",max:"250",value:u.altura_cm,onChange:p=>h("altura_cm",p.target.value),placeholder:"Ex: 175",className:"border-instituto-orange/30 focus:border-instituto-orange"})]}),o.jsxs("div",{className:"p-4 bg-instituto-orange/5 rounded-lg border border-instituto-orange/20",children:[o.jsx("h4",{className:"font-medium text-instituto-orange mb-2",children:"💡 Informações importantes:"}),o.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[o.jsx("li",{children:"• Altura, sexo e data de nascimento são usados nos cálculos de saúde"}),o.jsx("li",{children:"• Dados obrigatórios estão marcados com *"}),o.jsx("li",{children:"• Alterações são aplicadas imediatamente"})]})]}),o.jsxs("div",{className:"flex gap-2 pt-4",children:[o.jsx(pe,{type:"button",variant:"outline",onClick:()=>a(!1),className:"flex-1",disabled:l,children:"Cancelar"}),o.jsx(pe,{type:"submit",className:"flex-1 bg-instituto-orange hover:bg-instituto-orange/90",disabled:l,children:l?o.jsxs(o.Fragment,{children:[o.jsx(c0,{className:"h-4 w-4 mr-2 animate-spin"}),"Salvando..."]}):"💾 Salvar Alterações"})]})]})]})]})},Ttt=()=>{const{user:t,signOut:e}=Or(),[n,r]=S.useState(null),[i,s]=S.useState(!1);Ze.useEffect(()=>{(async()=>{if(t)try{const{data:u}=await He.from("profiles").select("*").eq("user_id",t.id).single();r(u)}catch(u){console.error("Erro ao buscar perfil:",u)}})()},[t]);const a=()=>{t&&(async()=>{try{const{data:u}=await He.from("profiles").select("*").eq("user_id",t.id).single();r(u)}catch(u){console.error("Erro ao recarregar perfil:",u)}})()},l=c=>c.split(" ").map(u=>u.charAt(0)).join("").toUpperCase().slice(0,2);return o.jsxs(o.Fragment,{children:[o.jsxs(DZ,{children:[o.jsx(IZ,{asChild:!0,children:o.jsx(pe,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:o.jsx(hb,{className:"h-8 w-8",children:o.jsx(mb,{className:"bg-instituto-orange text-white text-sm",children:l((n==null?void 0:n.full_name)||(t==null?void 0:t.email)||"U")})})})}),o.jsxs(z3,{className:"w-56 bg-white border border-instituto-orange/20",align:"end",forceMount:!0,children:[o.jsx("div",{className:"flex items-center justify-start gap-2 p-2",children:o.jsxs("div",{className:"flex flex-col space-y-1 leading-none",children:[o.jsx("p",{className:"font-medium text-sm text-instituto-dark",children:(n==null?void 0:n.full_name)||"Usuário"}),o.jsx("p",{className:"w-[200px] truncate text-xs text-muted-foreground",children:(n==null?void 0:n.email)||(t==null?void 0:t.email)})]})}),o.jsx(rO,{}),o.jsxs(Xg,{className:"cursor-pointer hover:bg-instituto-orange/10",onClick:()=>s(!0),children:[o.jsx(HK,{className:"mr-2 h-4 w-4 text-instituto-orange"}),o.jsx("span",{children:"Editar Perfil"})]}),o.jsxs(Xg,{className:"cursor-pointer hover:bg-instituto-orange/10",children:[o.jsx(eb,{className:"mr-2 h-4 w-4 text-instituto-orange"}),o.jsx("span",{children:"Configurações"})]}),o.jsx(rO,{}),o.jsxs(Xg,{className:"cursor-pointer hover:bg-red-50 focus:bg-red-50",onClick:e,children:[o.jsx(Bpe,{className:"mr-2 h-4 w-4 text-red-600"}),o.jsx("span",{className:"text-red-600",children:"Sair"})]})]})]}),o.jsx(Att,{trigger:i?o.jsx("div",{}):null,userData:n,onDataUpdated:()=>{a(),s(!1)}})]})},Ptt={energia_vital:{title:"Roda da Energia Vital",areas:["Espiritual","Mental","Emocional","Físico"],questions:["Qual área você considera mais equilibrada e por quê?","Qual área precisa de mais atenção?","O que você pode fazer hoje para melhorar a área mais fraca?"]},roda_vida:{title:"Roda que Sustenta a Energia Vital",areas:["Profissional","Financeiro","Família","Relacionamento Íntimo","Saúde e Energia"],questions:["Qual pilar da sua vida está mais sólido?","Qual área está causando mais frustração?","Como você pode fortalecer o pilar mais fraco?"]},saude_energia:{title:"Roda da Saúde e Energia",areas:["Sono","Intestino","Atividade Física","Alimentação","Respiração","Água","Ausência de Doenças","Energia"],questions:["Qual hábito de saúde você considera mais forte?","Qual área da sua saúde precisa de mais atenção?","Que decisão você tomará para melhorar sua área mais fraca?"]}},W9=t=>t>=0&&t<=3?"#ef4444":t>=4&&t<=6?"#eab308":t>=7&&t<=8?"#84cc16":t>=9&&t<=10?"#16a34a":"#6b7280",ktt=({active:t,payload:e})=>{if(t&&e&&e.length){const n=e[0];return o.jsxs("div",{className:"bg-background border border-border rounded-lg p-2 shadow-lg",children:[o.jsx("p",{className:"font-medium",children:n.name}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Nota: ",n.value,"/10"]})]})}return null},$9=({wheelType:t,sessionId:e,userId:n,isSessionActive:r})=>{const{toast:i}=Ui(),s=Ptt[t],[a,l]=S.useState(Object.fromEntries(s.areas.map(_=>[_,0]))),[c,u]=S.useState({}),[d,f]=S.useState(!1),[h,m]=S.useState(!1);S.useEffect(()=>{p()},[e,t]);const p=async()=>{try{const{data:_,error:E}=await He.from("wheel_responses").select("*").eq("session_id",e).eq("wheel_type",t).eq("user_id",n).maybeSingle();if(E)throw E;_&&(l(_.responses||{}),u(_.reflection_answers||{}),m(!0))}catch(_){console.error("Erro ao carregar resposta existente:",_)}},x=(_,E)=>{const N=Math.max(0,Math.min(10,parseInt(E)||0));l(C=>({...C,[_]:N}))},v=(_,E)=>{u(N=>({...N,[_]:E}))},g=s.areas.map(_=>({name:_,value:a[_]||0,color:W9(a[_]||0)})),w=async()=>{f(!0);try{const{error:_}=await He.from("wheel_responses").upsert({user_id:n,session_id:e,wheel_type:t,responses:a,reflection_answers:c,completed_at:new Date().toISOString()},{onConflict:"user_id,session_id,wheel_type"});if(_)throw _;i({title:"Sucesso!",description:"Suas respostas foram salvas com sucesso."}),m(!0)}catch(_){console.error("Erro ao salvar respostas:",_),i({title:"Erro",description:"Não foi possível salvar suas respostas. Tente novamente.",variant:"destructive"})}finally{f(!1)}};return r?o.jsxs("div",{className:"space-y-6",children:[o.jsxs(le,{children:[o.jsx(Qe,{children:o.jsx(et,{className:"text-center",children:s.title})}),o.jsx(ue,{children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsx("div",{className:"h-[400px]",children:o.jsx(li,{width:"100%",height:"100%",children:o.jsxs(sae,{children:[o.jsx(rj,{data:g,cx:"50%",cy:"50%",outerRadius:120,fill:"#8884d8",dataKey:"value",label:({name:_,value:E})=>`${_}: ${E}`,children:g.map((_,E)=>o.jsx(ap,{fill:_.color},`cell-${E}`))}),o.jsx(Zi,{content:o.jsx(ktt,{})})]})})}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-semibold text-lg",children:"Avalie cada área (0-10):"}),s.areas.map(_=>o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs(Ce,{className:"flex-1 font-medium",children:[_,":"]}),o.jsx(ut,{type:"number",min:"0",max:"10",value:a[_]||"",onChange:E=>x(_,E.target.value),className:"w-20",placeholder:"0"}),o.jsx("div",{className:"w-6 h-6 rounded border",style:{backgroundColor:W9(a[_]||0)}})]},_))]})]})})]}),o.jsxs(le,{children:[o.jsx(Qe,{children:o.jsx(et,{children:"Reflexões"})}),o.jsx(ue,{className:"space-y-4",children:s.questions.map((_,E)=>o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ce,{className:"font-medium",children:_}),o.jsx(mn,{value:c[E]||"",onChange:N=>v(E,N.target.value),placeholder:"Escreva sua reflexão aqui...",rows:3})]},E))})]}),o.jsx("div",{className:"flex justify-center",children:o.jsx(pe,{onClick:w,disabled:d,size:"lg",className:"min-w-[200px]",children:d?"Salvando...":h?"Atualizar Respostas":"Salvar Respostas"})}),o.jsx(le,{children:o.jsx(ue,{className:"p-4",children:o.jsxs("div",{className:"flex flex-wrap gap-4 justify-center text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-4 h-4 bg-red-500 rounded"}),o.jsx("span",{children:"0-3: Área Crítica"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-4 h-4 bg-yellow-500 rounded"}),o.jsx("span",{children:"4-6: Área de Atenção"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-4 h-4 bg-lime-500 rounded"}),o.jsx("span",{children:"7-8: Área Boa"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-4 h-4 bg-green-600 rounded"}),o.jsx("span",{children:"9-10: Área Excelente"})]})]})})})]}):o.jsx(le,{children:o.jsx(ue,{className:"p-6",children:o.jsx("div",{className:"text-center text-muted-foreground",children:o.jsx("p",{children:"Esta ferramenta será liberada no dia da sua sessão."})})})})},Rtt=({sessionId:t,userId:e,isSessionActive:n,availableTools:r})=>{const s=[{id:"energia_vital",name:"Roda da Energia Vital",description:"Avalie seu equilíbrio energético em 4 dimensões fundamentais"},{id:"roda_vida",name:"Roda da Vida",description:"Analise os 5 pilares que sustentam sua vida"},{id:"saude_energia",name:"Roda da Saúde e Energia",description:"Diagnóstico completo dos seus hábitos de saúde"}].filter(a=>r.includes(a.id));if(s.length===0)return o.jsx(le,{children:o.jsx(ue,{className:"p-6",children:o.jsx("div",{className:"text-center text-muted-foreground",children:o.jsx("p",{children:"Nenhuma ferramenta foi configurada para esta sessão."})})})});if(s.length===1){const a=s[0];return o.jsx($9,{wheelType:a.id,sessionId:t,userId:e,isSessionActive:n})}return o.jsxs(Zu,{defaultValue:s[0].id,className:"w-full",children:[o.jsx(Dc,{className:"grid w-full",style:{gridTemplateColumns:`repeat(${s.length}, 1fr)`},children:s.map(a=>o.jsx(On,{value:a.id,children:a.name},a.id))}),s.map(a=>o.jsxs(Dn,{value:a.id,className:"mt-6",children:[o.jsx("div",{className:"mb-4",children:o.jsx(le,{children:o.jsxs(Qe,{className:"pb-3",children:[o.jsx(et,{className:"text-lg",children:a.name}),o.jsx("p",{className:"text-sm text-muted-foreground",children:a.description})]})})}),o.jsx($9,{wheelType:a.id,sessionId:t,userId:e,isSessionActive:n})]},a.id))]})},Ott=[{id:"1",title:"Reflexão sobre Objetivos de Vida",description:"Uma sessão profunda para refletir sobre seus verdadeiros objetivos e valores pessoais. Esta atividade vai te ajudar a conectar com seus sonhos mais profundos.",videoUrl:"https://youtube.com/watch?v=example",instructions:"Assista ao vídeo com atenção e reflita sobre as perguntas propostas. Anote suas respostas no campo abaixo, sendo o mais honesto possível consigo mesmo.",sentDate:new Date("2024-01-15"),therapistName:"Rafael",status:"in-progress"},{id:"2",title:"Técnicas de Respiração para Ansiedade",description:"Aprenda técnicas práticas de respiração que podem ser utilizadas no dia a dia para reduzir a ansiedade e promover calma interior.",videoUrl:"https://youtube.com/watch?v=example2",instructions:"Pratique cada técnica apresentada no vídeo pelo menos 3 vezes. Anote como se sentiu antes e depois de cada prática.",sentDate:new Date("2024-01-10"),therapistName:"Rafael",status:"completed"},{id:"3",title:"Mapeamento de Emoções",description:"Um exercício de autoconhecimento para identificar e mapear suas emoções ao longo do dia, desenvolvendo maior consciência emocional.",instructions:"Durante uma semana, anote suas emoções 3 vezes por dia (manhã, tarde, noite). Descreva o que as desencadeou e como lidou com elas.",sentDate:new Date("2024-01-20"),therapistName:"Rafael",status:"not-started"}],Dtt=()=>{const[t]=S.useState(Ott),[e,n]=S.useState({1:{sessionId:"1",response:"Comecei a refletir sobre meus objetivos...",privateComments:"Esta sessão está sendo muito reveladora.",completed:!1,favorite:!0,startedAt:new Date("2024-01-16")},2:{sessionId:"2",response:"As técnicas de respiração realmente funcionam! Consegui aplicar durante um momento de ansiedade no trabalho.",privateComments:"Muito útil para o dia a dia.",completed:!0,favorite:!1,completedAt:new Date("2024-01-12"),startedAt:new Date("2024-01-11")}}),[r,i]=S.useState(null),[s,a]=S.useState(""),[l,c]=S.useState(""),u=v=>{const g=e[v.id];g||n({...e,[v.id]:{sessionId:v.id,response:"",privateComments:"",completed:!1,favorite:!1,startedAt:new Date}}),i(v),a((g==null?void 0:g.response)||""),c((g==null?void 0:g.privateComments)||"")},d=()=>{r&&(n({...e,[r.id]:{...e[r.id],response:s,privateComments:l,completed:!1}}),i(null))},f=()=>{r&&(n({...e,[r.id]:{...e[r.id],response:s,privateComments:l,completed:!0,completedAt:new Date}}),i(null))},h=v=>{var g;n({...e,[v]:{...e[v],favorite:!((g=e[v])!=null&&g.favorite)}})},m=v=>{const g=e[v.id];return g!=null&&g.completed?o.jsx(Nt,{className:"bg-instituto-green text-white",children:"Concluída"}):g!=null&&g.response?o.jsx(Nt,{className:"bg-instituto-orange text-white",children:"Em Andamento"}):o.jsx(Nt,{variant:"outline",className:"border-netflix-border text-netflix-text-muted",children:"Não Iniciada"})},p=()=>Object.values(e).filter(v=>v.completed).length,x=t.filter(v=>{var g;return!((g=e[v.id])!=null&&g.startedAt)}).length;return o.jsxs("div",{className:"space-y-6",children:[o.jsx(le,{className:"bg-gradient-to-r from-instituto-orange/20 to-instituto-purple/20 border-instituto-orange/30",children:o.jsx(ue,{className:"p-6",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"p-3 bg-instituto-orange/20 rounded-full",children:o.jsx(l3,{className:"h-8 w-8 text-instituto-orange"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h2",{className:"text-2xl font-bold text-netflix-text mb-2",children:"Suas Sessões Personalizadas ✨"}),o.jsx("p",{className:"text-netflix-text-muted mb-4",children:"Estas são as sessões enviadas especialmente para você pelo seu terapeuta Rafael. Clique para iniciar sua jornada de autoconhecimento e transformação."}),o.jsxs("div",{className:"flex gap-4 text-sm",children:[o.jsxs("span",{className:"text-instituto-green font-medium",children:[p()," Concluídas"]}),o.jsxs("span",{className:"text-instituto-orange font-medium",children:[t.length-p()," Pendentes"]}),x>0&&o.jsxs(Nt,{className:"bg-instituto-purple text-white animate-pulse",children:[x," Nova(s)"]})]})]})]})})}),o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:t.map(v=>{const g=e[v.id],w=!(g!=null&&g.startedAt);return o.jsxs(le,{className:`bg-netflix-card border-netflix-border hover:border-instituto-orange/50 transition-all duration-300 cursor-pointer group ${w?"ring-2 ring-instituto-purple/30 shimmer-effect":""}`,onClick:()=>u(v),children:[o.jsx(Qe,{children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{className:"space-y-2 flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(et,{className:"text-lg text-netflix-text group-hover:text-instituto-orange transition-colors",children:v.title}),w&&o.jsx(Nt,{className:"bg-instituto-purple text-white text-xs animate-pulse",children:"NOVA"})]}),o.jsx("p",{className:"text-sm text-netflix-text-muted",children:v.description})]}),o.jsxs("div",{className:"flex gap-2 ml-4",children:[(g==null?void 0:g.favorite)&&o.jsx(pe,{size:"sm",variant:"ghost",onClick:_=>{_.stopPropagation(),h(v.id)},className:"p-1 hover:bg-instituto-orange/20",children:o.jsx(Io,{className:"h-4 w-4 text-instituto-orange fill-current"})}),o.jsx(pe,{size:"sm",variant:"ghost",onClick:_=>{_.stopPropagation(),h(v.id)},className:"p-1 hover:bg-instituto-orange/20",children:o.jsx(Es,{className:`h-4 w-4 ${g!=null&&g.favorite?"text-instituto-orange fill-current":"text-netflix-text-muted"}`})})]})]})}),o.jsxs(ue,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[m(v),o.jsxs("div",{className:"flex items-center gap-4 text-sm text-netflix-text-muted",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(In,{className:"h-4 w-4"}),v.sentDate.toLocaleDateString()]}),v.videoUrl&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(wl,{className:"h-4 w-4"}),"Vídeo"]})]})]}),(g==null?void 0:g.response)&&o.jsxs("div",{className:"p-3 bg-netflix-gray/20 rounded-lg",children:[o.jsx("p",{className:"text-sm text-netflix-text-muted mb-1",children:"Sua resposta:"}),o.jsxs("p",{className:"text-sm text-netflix-text",children:[g.response.substring(0,100),"..."]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(pe,{size:"sm",className:"instituto-button flex-1",onClick:_=>{_.stopPropagation(),u(v)},children:[o.jsx(qd,{className:"h-4 w-4 mr-2"}),g!=null&&g.startedAt?"Continuar":"Iniciar"]}),(g==null?void 0:g.privateComments)&&o.jsx(pe,{size:"sm",variant:"outline",className:"border-netflix-border text-netflix-text hover:bg-netflix-gray",children:o.jsx(m2,{className:"h-4 w-4"})})]})]})]},v.id)})}),o.jsx(Ii,{open:!!r,onOpenChange:()=>i(null),children:o.jsx(vi,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:r&&o.jsxs(o.Fragment,{children:[o.jsxs(xi,{children:[o.jsx(yi,{className:"text-2xl text-netflix-text",children:r.title}),o.jsx("p",{className:"text-netflix-text-muted",children:r.description})]}),o.jsxs("div",{className:"space-y-6 py-4",children:[r.videoUrl&&o.jsx(le,{className:"bg-netflix-gray/20 border-netflix-border",children:o.jsxs(ue,{className:"p-4",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx(wl,{className:"h-5 w-5 text-instituto-orange"}),o.jsx("h4",{className:"font-medium text-netflix-text",children:"Vídeo da Sessão"})]}),o.jsxs("div",{className:"bg-netflix-dark rounded-lg p-4 text-center",children:[o.jsx("p",{className:"text-netflix-text-muted mb-3",children:"Clique no link abaixo para assistir ao vídeo:"}),o.jsx(pe,{variant:"outline",asChild:!0,className:"border-instituto-orange text-instituto-orange hover:bg-instituto-orange hover:text-white",children:o.jsxs("a",{href:r.videoUrl,target:"_blank",rel:"noopener noreferrer",children:[o.jsx(qd,{className:"h-4 w-4 mr-2"}),"Assistir Vídeo"]})})]})]})}),o.jsx(le,{className:"bg-netflix-gray/20 border-netflix-border",children:o.jsxs(ue,{className:"p-4",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx(af,{className:"h-5 w-5 text-instituto-purple"}),o.jsx("h4",{className:"font-medium text-netflix-text",children:"Instruções"})]}),o.jsx("p",{className:"text-netflix-text-muted whitespace-pre-wrap",children:r.instructions})]})}),o.jsx(Rtt,{sessionId:r.id,userId:"mock-user-id",isSessionActive:!0,availableTools:["energia_vital"]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-netflix-text mb-2 block",children:"Suas Respostas e Reflexões"}),o.jsx(mn,{value:s,onChange:v=>a(v.target.value),placeholder:"Escreva aqui suas reflexões, respostas e insights sobre esta sessão...",className:"bg-netflix-gray border-netflix-border text-netflix-text min-h-[150px]"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-netflix-text mb-2 block",children:"Comentários Privados (opcional)"}),o.jsx(mn,{value:l,onChange:v=>c(v.target.value),placeholder:"Anote aqui comentários privados, dúvidas ou observações que gostaria de compartilhar apenas com você mesmo...",className:"bg-netflix-gray border-netflix-border text-netflix-text min-h-[100px]"})]}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsxs(pe,{onClick:d,variant:"outline",className:"border-netflix-border text-netflix-text hover:bg-netflix-gray",children:[o.jsx(cw,{className:"h-4 w-4 mr-2"}),"Salvar Progresso"]}),o.jsxs(pe,{onClick:f,className:"instituto-button flex-1",disabled:!s.trim(),children:[o.jsx(Rr,{className:"h-4 w-4 mr-2"}),"Marcar como Concluída"]})]})]})]})})}),t.length===0&&o.jsx(le,{className:"bg-netflix-card border-netflix-border",children:o.jsxs(ue,{className:"text-center py-12",children:[o.jsx(pf,{className:"h-16 w-16 text-netflix-text-muted mx-auto mb-4"}),o.jsx("h3",{className:"text-xl font-bold text-netflix-text mb-2",children:"Nenhuma sessão recebida"}),o.jsx("p",{className:"text-netflix-text-muted",children:"Aguarde! Seu terapeuta enviará sessões personalizadas em breve."})]})})]})},Itt=()=>{const{user:t}=Or(),{toast:e}=Ui(),[n,r]=S.useState(!1),[i,s]=S.useState(!1),[a,l]=S.useState(null),[c,u]=S.useState({data_nascimento:"",sexo:"",altura_cm:""});S.useEffect(()=>{d()},[t]);const d=async()=>{var m;if(t)try{const{data:p}=await He.from("profiles").select("*").eq("user_id",t.id).single();l(p),(!(p!=null&&p.data_nascimento)||!(p!=null&&p.sexo)||!(p!=null&&p.altura_cm))&&(u({data_nascimento:(p==null?void 0:p.data_nascimento)||"",sexo:(p==null?void 0:p.sexo)||"",altura_cm:((m=p==null?void 0:p.altura_cm)==null?void 0:m.toString())||""}),r(!0))}catch(p){console.error("Erro ao verificar dados obrigatórios:",p)}},f=async m=>{if(m.preventDefault(),!(!t||!a)){if(!c.data_nascimento||!c.sexo||!c.altura_cm){e({title:"Campos obrigatórios",description:"Por favor, preencha todos os campos obrigatórios.",variant:"destructive"});return}s(!0);try{const{error:p}=await He.from("profiles").update({data_nascimento:c.data_nascimento,sexo:c.sexo,altura_cm:parseInt(c.altura_cm)}).eq("user_id",t.id);if(p)throw p;const{error:x}=await He.from("dados_fisicos_usuario").upsert({user_id:a.id,nome_completo:a.full_name,altura_cm:parseInt(c.altura_cm),data_nascimento:c.data_nascimento,sexo:c.sexo,peso_atual_kg:70,circunferencia_abdominal_cm:90});x&&console.error("Erro ao criar dados físicos:",x),e({title:"✅ Perfil configurado!",description:"Seus dados foram salvos. Agora você pode usar todas as funcionalidades do sistema."}),r(!1)}catch(p){console.error("Erro ao salvar dados obrigatórios:",p),e({title:"Erro ao salvar",description:"Não foi possível salvar seus dados. Tente novamente.",variant:"destructive"})}finally{s(!1)}}},h=(m,p)=>{u(x=>({...x,[m]:p}))};return o.jsx(Ii,{open:n,onOpenChange:()=>{},children:o.jsxs(vi,{className:"sm:max-w-lg",children:[o.jsx(xi,{children:o.jsxs(yi,{className:"flex items-center gap-2 text-instituto-orange",children:[o.jsx(ya,{className:"h-5 w-5"}),"Configuração Inicial Obrigatória"]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"p-4 bg-instituto-orange/5 rounded-lg border border-instituto-orange/20",children:o.jsxs("p",{className:"text-sm text-instituto-dark",children:[o.jsx("strong",{children:"Bem-vindo ao Trend Track!"})," Para personalizar sua experiência e fornecer análises precisas de saúde, precisamos de algumas informações básicas."]})}),o.jsxs("form",{onSubmit:f,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ce,{htmlFor:"data_nascimento",className:"flex items-center gap-2",children:[o.jsx(In,{className:"h-4 w-4 text-instituto-orange"}),"Data de Nascimento *"]}),o.jsx(ut,{id:"data_nascimento",type:"date",value:c.data_nascimento,onChange:m=>h("data_nascimento",m.target.value),required:!0,className:"border-instituto-orange/30 focus:border-instituto-orange"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Usada para calcular sua idade e recomendações personalizadas"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ce,{className:"flex items-center gap-2",children:[o.jsx(ur,{className:"h-4 w-4 text-instituto-orange"}),"Sexo *"]}),o.jsxs(nr,{value:c.sexo,onValueChange:m=>h("sexo",m),required:!0,children:[o.jsx(Xn,{className:"border-instituto-orange/30 focus:border-instituto-orange",children:o.jsx(rr,{placeholder:"Selecione seu sexo"})}),o.jsxs(Yn,{children:[o.jsx(ht,{value:"masculino",children:"Masculino"}),o.jsx(ht,{value:"feminino",children:"Feminino"}),o.jsx(ht,{value:"outro",children:"Outro"})]})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Necessário para cálculos de IMC e risco cardiometabólico"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ce,{htmlFor:"altura_cm",className:"flex items-center gap-2",children:[o.jsx(Nu,{className:"h-4 w-4 text-instituto-orange"}),"Altura (cm) *"]}),o.jsx(ut,{id:"altura_cm",type:"number",min:"100",max:"250",value:c.altura_cm,onChange:m=>h("altura_cm",m.target.value),placeholder:"Ex: 175",required:!0,className:"border-instituto-orange/30 focus:border-instituto-orange"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Fundamental para todos os cálculos de índices de saúde"})]}),o.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[o.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"🔒 Segurança e Privacidade"}),o.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[o.jsx("li",{children:"• Seus dados são criptografados e protegidos"}),o.jsx("li",{children:"• Apenas você tem acesso às suas informações pessoais"}),o.jsx("li",{children:"• Os dados são usados exclusivamente para melhorar sua experiência"})]})]}),o.jsx(pe,{type:"submit",className:"w-full bg-instituto-orange hover:bg-instituto-orange/90",disabled:i||!c.data_nascimento||!c.sexo||!c.altura_cm,children:i?o.jsxs(o.Fragment,{children:[o.jsx(c0,{className:"h-4 w-4 mr-2 animate-spin"}),"Configurando perfil..."]}):"🚀 Finalizar Configuração"})]})]})]})})},Ltt=({lesson:t,course:e,onBack:n})=>{const{user:r}=Or(),[i,s]=S.useState(!1),[a,l]=S.useState(0);S.useEffect(()=>{r&&t&&c()},[r,t]);const c=async()=>{if(r)try{const{data:f}=await He.from("profiles").select("id").eq("user_id",r.id).single();if(!f)return;const{data:h}=await He.from("user_course_progress").select("*").eq("user_id",f.id).eq("lesson_id",t.id).single();s((h==null?void 0:h.completed)||!1)}catch(f){console.error("Erro ao verificar progresso:",f)}},u=async()=>{if(!(!r||!e))try{const{data:f}=await He.from("profiles").select("id").eq("user_id",r.id).single();if(!f)return;const{error:h}=await He.from("user_course_progress").upsert({user_id:f.id,course_id:e.id,lesson_id:t.id,completed:!0,completed_at:new Date().toISOString()});if(h)throw h;s(!0)}catch(f){console.error("Erro ao marcar como concluído:",f)}},d=f=>{const h=f.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([^&\n?#]+)/);return h?`https://www.youtube.com/embed/${h[1]}?autoplay=1&rel=0`:f};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(pe,{variant:"outline",onClick:n,className:"gap-2",children:[o.jsx(xc,{className:"w-4 h-4"}),"Voltar"]}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-netflix-text",children:t.title}),e&&o.jsx("p",{className:"text-netflix-text-secondary",children:e.title})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[t.duration_minutes&&o.jsxs("div",{className:"flex items-center gap-1 text-netflix-text-secondary",children:[o.jsx(pf,{className:"w-4 h-4"}),o.jsxs("span",{children:[t.duration_minutes," min"]})]}),o.jsxs(pe,{onClick:u,variant:i?"secondary":"default",className:"gap-2",children:[o.jsx(Rr,{className:`w-4 h-4 ${i?"text-green-500":""}`}),i?"Concluído":"Marcar como Concluído"]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[o.jsxs("div",{className:"lg:col-span-3",children:[o.jsx(le,{className:"bg-netflix-card border-netflix-border overflow-hidden",children:o.jsx(ue,{className:"p-0",children:o.jsx("div",{className:"aspect-video bg-black relative",children:o.jsx("iframe",{src:d(t.video_url),title:t.title,className:"w-full h-full",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})})}),o.jsx(le,{className:"bg-netflix-card border-netflix-border mt-6",children:o.jsxs(ue,{className:"p-6",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-netflix-text mb-2",children:t.title}),t.description&&o.jsx("p",{className:"text-netflix-text-secondary",children:t.description})]}),i&&o.jsxs(Nt,{className:"bg-green-500 text-white gap-1",children:[o.jsx(Rr,{className:"w-4 h-4"}),"Concluído"]})]}),o.jsxs("div",{className:"flex items-center gap-4 pt-4 border-t border-netflix-border",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(qd,{className:"w-5 h-5 text-instituto-orange"}),o.jsx("span",{className:"text-netflix-text",children:"Aula em vídeo"})]}),t.duration_minutes&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(pf,{className:"w-5 h-5 text-instituto-orange"}),o.jsxs("span",{className:"text-netflix-text",children:[t.duration_minutes," minutos"]})]})]})]})})]}),o.jsxs("div",{className:"space-y-4",children:[e&&o.jsx(le,{className:"bg-netflix-card border-netflix-border",children:o.jsxs(ue,{className:"p-4",children:[o.jsx("h3",{className:"font-semibold text-netflix-text mb-3",children:"Sobre o Curso"}),o.jsx("div",{className:"aspect-video bg-gradient-to-br from-instituto-orange/20 to-purple-500/20 rounded-lg mb-3 overflow-hidden",children:e.image_url&&o.jsx("img",{src:e.image_url,alt:e.title,className:"w-full h-full object-cover"})}),o.jsx("h4",{className:"font-medium text-netflix-text mb-2",children:e.title}),o.jsx("p",{className:"text-sm text-netflix-text-secondary mb-3",children:e.description}),o.jsx(Nt,{className:"bg-instituto-orange text-white",children:e.category.toUpperCase()})]})}),o.jsx(le,{className:"bg-netflix-card border-netflix-border",children:o.jsxs(ue,{className:"p-4",children:[o.jsx("h3",{className:"font-semibold text-netflix-text mb-3",children:"Recursos"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-netflix-text-secondary",children:[o.jsx(Xpe,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm",children:"Áudio em português"})]}),o.jsxs("div",{className:"flex items-center gap-2 text-netflix-text-secondary",children:[o.jsx(zpe,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm",children:"Tela cheia disponível"})]}),o.jsxs("div",{className:"flex items-center gap-2 text-netflix-text-secondary",children:[o.jsx(Rr,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm",children:"Progresso salvo"})]})]})]})})]})]})]})},Ftt=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(null),[i,s]=S.useState([]),[a,l]=S.useState(null),[c,u]=S.useState(!0);S.useEffect(()=>{d()},[]);const d=async()=>{try{const{data:w,error:_}=await He.from("courses").select("*").eq("is_active",!0).order("created_at",{ascending:!1});if(_)throw _;e(w||[])}catch(w){console.error("Erro ao buscar cursos:",w)}finally{u(!1)}},f=async w=>{try{const{data:_,error:E}=await He.from("course_modules").select(`
          *,
          course_lessons (
            id,
            title,
            description,
            video_url,
            duration_minutes,
            order_index
          )
        `).eq("course_id",w).eq("is_active",!0).order("order_index",{ascending:!0});if(E)throw E;const N=(_==null?void 0:_.map(C=>{var j;return{...C,lessons:((j=C.course_lessons)==null?void 0:j.sort((T,A)=>T.order_index-A.order_index))||[]}}))||[];s(N)}catch(_){console.error("Erro ao buscar módulos:",_)}},h=w=>{r(w),f(w.id),l(null)},m=w=>{l(w)},p=w=>{switch(w){case"pilulas":return"bg-green-500";case"plataforma":return"bg-blue-500";case"comunidade":return"bg-purple-500";default:return"bg-instituto-orange"}},x=w=>{const _=w.filter(E=>E.category==="pilulas");return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"text-center",children:o.jsxs("h2",{className:"text-4xl font-bold text-netflix-text mb-4",children:[o.jsx("span",{className:"text-netflix-text",children:"NOVO CONTEÚDO"}),o.jsx("br",{}),o.jsx("span",{className:"text-pink-500",children:"MENSALMENTE"})]})}),o.jsxs("div",{className:"bg-netflix-dark p-8 rounded-lg",children:[o.jsx("h3",{className:"text-2xl font-bold text-netflix-text mb-6",children:"PÍLULAS DO BEM"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4",children:_.map(E=>o.jsx(le,{className:"bg-netflix-card border-netflix-border hover:scale-105 transition-transform cursor-pointer group",onClick:()=>h(E),children:o.jsxs(ue,{className:"p-0 relative",children:[o.jsx("div",{className:"aspect-square rounded-full overflow-hidden bg-gradient-to-br from-green-400 to-green-600 flex items-center justify-center",children:o.jsx("div",{className:"w-16 h-16 bg-pink-400 rounded-full flex items-center justify-center",children:o.jsx("div",{className:"w-8 h-8 bg-pink-300 rounded-full"})})}),o.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center rounded-full",children:o.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg px-3 py-1 flex items-center gap-2",children:[o.jsx(qd,{className:"w-4 h-4 text-white"}),o.jsx("span",{className:"text-white text-sm",children:"Assistir"})]})})]})},E.id))})]})]})},v=w=>{const _=w.filter(E=>E.category==="plataforma");return o.jsxs("div",{className:"space-y-6",children:[o.jsx("h3",{className:"text-2xl font-bold text-netflix-text",children:"PLATAFORMA DOS SONHOS"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:_.map(E=>o.jsx(le,{className:"bg-netflix-card border-netflix-border hover:scale-105 transition-transform cursor-pointer group",onClick:()=>h(E),children:o.jsxs(ue,{className:"p-0",children:[o.jsxs("div",{className:"aspect-[4/3] bg-gradient-to-br from-blue-500 to-purple-600 rounded-t-lg relative overflow-hidden",children:[E.image_url&&o.jsx("img",{src:E.image_url,alt:E.title,className:"w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:o.jsxs(pe,{variant:"secondary",size:"sm",className:"gap-2",children:[o.jsx(qd,{className:"w-4 h-4"}),"Acessar Curso"]})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h4",{className:"font-semibold text-netflix-text mb-2",children:E.title}),o.jsx("p",{className:"text-sm text-netflix-text-secondary mb-3 line-clamp-2",children:E.description}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Nt,{className:`${p(E.category)} text-white`,children:E.category.toUpperCase()}),o.jsxs("div",{className:"flex items-center gap-1 text-yellow-500",children:[o.jsx(Io,{className:"w-4 h-4 fill-current"}),o.jsx("span",{className:"text-sm",children:"4.8"})]})]})]})]})},E.id))})]})},g=w=>{const _=w.filter(E=>E.category==="comunidade");return o.jsxs("div",{className:"space-y-6",children:[o.jsx("h3",{className:"text-2xl font-bold text-netflix-text",children:"COMUNIDADE DOS SONHOS"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:_.map(E=>o.jsx(le,{className:"bg-netflix-card border-netflix-border hover:scale-105 transition-transform cursor-pointer group",onClick:()=>h(E),children:o.jsxs(ue,{className:"p-0",children:[o.jsxs("div",{className:"aspect-[4/3] bg-gradient-to-br from-purple-500 to-pink-600 rounded-t-lg relative overflow-hidden",children:[E.image_url&&o.jsx("img",{src:E.image_url,alt:E.title,className:"w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:o.jsxs(pe,{variant:"secondary",size:"sm",className:"gap-2",children:[o.jsx(qd,{className:"w-4 h-4"}),"Acessar Conteúdo"]})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h4",{className:"font-semibold text-netflix-text mb-2",children:E.title}),o.jsx("p",{className:"text-sm text-netflix-text-secondary mb-3 line-clamp-2",children:E.description}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2 text-netflix-text-secondary",children:[o.jsx(ur,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm",children:"1.2k membros"})]}),o.jsx(Nt,{variant:"outline",className:"border-purple-500 text-purple-400",children:"EXCLUSIVO"})]})]})]})},E.id))})]})};return a?o.jsx(Ltt,{lesson:a,course:n,onBack:()=>l(null)}):n?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(pe,{variant:"outline",onClick:()=>r(null),children:"← Voltar"}),o.jsx("h2",{className:"text-2xl font-bold text-netflix-text",children:n.title})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsx("div",{className:"space-y-4",children:i.map(w=>o.jsx(le,{className:"bg-netflix-card border-netflix-border",children:o.jsxs(ue,{className:"p-6",children:[o.jsx("h3",{className:"text-xl font-semibold text-netflix-text mb-4",children:w.title}),w.description&&o.jsx("p",{className:"text-netflix-text-secondary mb-4",children:w.description}),o.jsx("div",{className:"space-y-2",children:w.lessons.map(_=>o.jsx("div",{className:"p-3 bg-netflix-hover rounded-lg cursor-pointer hover:bg-netflix-border transition-colors",onClick:()=>m(_),children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-8 h-8 bg-instituto-orange rounded-full flex items-center justify-center",children:o.jsx(qd,{className:"w-4 h-4 text-white"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-netflix-text",children:_.title}),_.description&&o.jsx("p",{className:"text-sm text-netflix-text-secondary",children:_.description})]})]}),_.duration_minutes&&o.jsxs("div",{className:"flex items-center gap-1 text-netflix-text-secondary",children:[o.jsx(pf,{className:"w-4 h-4"}),o.jsxs("span",{className:"text-sm",children:[_.duration_minutes,"min"]})]})]})},_.id))})]})},w.id))})}),o.jsx("div",{className:"space-y-4",children:o.jsx(le,{className:"bg-netflix-card border-netflix-border",children:o.jsxs(ue,{className:"p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-netflix-text mb-4",children:"Sobre o Curso"}),o.jsx("p",{className:"text-netflix-text-secondary mb-4",children:n.description}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ur,{className:"w-5 h-5 text-instituto-orange"}),o.jsx("span",{className:"text-netflix-text",children:"Acesso ilimitado"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(pf,{className:"w-5 h-5 text-instituto-orange"}),o.jsx("span",{className:"text-netflix-text",children:"No seu ritmo"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Io,{className:"w-5 h-5 text-instituto-orange"}),o.jsx("span",{className:"text-netflix-text",children:"Certificado incluso"})]})]})]})})})]})]}):c?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-instituto-orange"})}):o.jsxs("div",{className:"space-y-12",children:[x(t),v(t),g(t)]})},H9=[{id:1,name:"Ana Silva",points:3200,position:1,lastPosition:2,streak:25,completedChallenges:28,cidade:"São Paulo",trend:"up",positionChange:1},{id:2,name:"Carlos Santos",points:2800,position:2,lastPosition:1,streak:20,completedChallenges:22,cidade:"Rio de Janeiro",trend:"down",positionChange:1},{id:3,name:"Maria Costa",points:2400,position:3,lastPosition:3,streak:15,completedChallenges:18,cidade:"Belo Horizonte",trend:"stable",positionChange:0}],Utt=()=>{var c;const{user:t,signOut:e}=Or(),[n,r]=S.useState("inicio"),[i,s]=S.useState("week"),a=[{id:"inicio",label:"Início",icon:Fpe},{id:"cursos-pagos",label:"Cursos Pagos",icon:kR},{id:"sessoes",label:"Sessões",icon:af},{id:"ranking",label:"Ranking",icon:Xs},{id:"avaliacao-semanal",label:"Avaliação Semanal",icon:In},{id:"metas",label:"Minhas Metas",icon:Nn},{id:"desafios",label:"Desafios",icon:lw},{id:"diario",label:"Diário de Saúde",icon:af},{id:"teste-sabotadores",label:"Teste de Sabotadores",icon:eb},{id:"meu-progresso",label:"Meu Progresso",icon:mf}],l=()=>{switch(n){case"inicio":return o.jsx(b$,{isVisitor:!1});case"cursos-pagos":return o.jsx(Ftt,{});case"sessoes":return o.jsx(Dtt,{});case"ranking":return o.jsxs("div",{className:"space-y-6",children:[o.jsx(pNe,{users:H9,currentUser:H9[0],showPrizes:!0}),o.jsx(kNe,{timeFilter:i,onTimeFilterChange:s})]});case"avaliacao-semanal":return o.jsx(fNe,{});case"metas":return o.jsx(KCe,{userType:"cliente"});case"desafios":return o.jsx(rje,{});case"diario":return o.jsx(J8e,{});case"teste-sabotadores":return o.jsx(Ctt,{});case"meu-progresso":return o.jsxs("div",{className:"space-y-8",children:[o.jsx(IYe,{}),o.jsx(LYe,{})]});default:return o.jsx(b$,{isVisitor:!1})}};return o.jsxs("div",{className:"min-h-screen bg-netflix-dark",children:[o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"w-64 bg-netflix-card border-r border-netflix-border min-h-screen",children:o.jsxs("div",{className:"p-6",children:[o.jsxs(Yl,{to:"/",className:"inline-flex items-center gap-2 text-instituto-orange hover:opacity-90 transition-opacity mb-6",children:[o.jsx(xc,{className:"w-5 h-5"}),"Voltar ao início"]}),o.jsx("nav",{className:"space-y-2",children:a.map(u=>{const d=u.icon;return o.jsxs("button",{onClick:()=>r(u.id),className:`w-full flex items-center gap-3 px-3 py-2 rounded-lg text-left transition-colors ${n===u.id?"bg-instituto-orange text-white":"text-netflix-text hover:bg-netflix-hover"}`,children:[o.jsx(d,{className:"w-5 h-5"}),u.label]},u.id)})})]})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"bg-netflix-card border-b border-netflix-border p-6",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h1",{className:"text-2xl font-bold text-netflix-text",children:((c=a.find(u=>u.id===n))==null?void 0:c.label)||"Dashboard"}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(Ttt,{}),o.jsx(V3,{})]})]})}),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsx(jtt,{}),l()]})]})]}),o.jsx(Itt,{})]})},Btt=()=>{const{user:t,session:e}=Or();console.log("User:",t);const[n,r]=S.useState(null),[i,s]=S.useState(!0),a=Ym();return S.useEffect(()=>{(async()=>{if(console.log("Checking admin role for user:",t==null?void 0:t.id,"Session exists:",!!e),!e){console.log("No session found"),r(!1),s(!1),a("/auth");return}if(!t){console.log("No user found in session"),r(!1),s(!1);return}try{console.log("Fetching profile for user:",t.id);const{data:c}=await He.from("profiles").select("*").eq("user_id",t.id).single();if(console.log("Profile:",c),!c)console.log("Profile not found, creating new one"),r(!1);else{console.log("Profile found:",c);const u=(c==null?void 0:c.role)==="admin";console.log("Is admin?",u),r(u),u||(console.log("User is not admin, redirecting to home"),a("/"))}}catch(c){console.error("Erro na verificação de admin:",c),r(!1),a("/")}finally{s(!1)}})()},[t,e,a]),{isAdmin:n,loading:i}},ztt=({children:t})=>{const{isAdmin:e,loading:n}=Btt();return console.log("AdminProtectedRoute - Loading:",n,"IsAdmin:",e),n?o.jsx("div",{className:"min-h-screen bg-netflix-dark flex items-center justify-center",children:o.jsx(le,{className:"w-96 bg-netflix-card border-netflix-border",children:o.jsxs(ue,{className:"flex flex-col items-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-instituto-orange mb-4"}),o.jsx("p",{className:"text-netflix-text",children:"Verificando permissões..."})]})})}):e?o.jsx(o.Fragment,{children:t}):o.jsx("div",{className:"min-h-screen bg-netflix-dark flex items-center justify-center",children:o.jsx(le,{className:"w-96 bg-netflix-card border-netflix-border",children:o.jsxs(ue,{className:"flex flex-col items-center py-12 text-center",children:[o.jsx(ya,{className:"h-16 w-16 text-red-500 mb-4"}),o.jsx("h2",{className:"text-xl font-bold text-netflix-text mb-2",children:"Acesso Negado"}),o.jsx("p",{className:"text-netflix-text-muted",children:"Você não tem permissão para acessar o painel administrativo."})]})})})},Vtt=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(!0),[i,s]=S.useState(""),[a,l]=S.useState([]);S.useEffect(()=>{c()},[]),S.useEffect(()=>{const f=t.filter(h=>h.email.toLowerCase().includes(i.toLowerCase())||h.full_name&&h.full_name.toLowerCase().includes(i.toLowerCase())||h.nome_completo_dados&&h.nome_completo_dados.toLowerCase().includes(i.toLowerCase()));l(f)},[i,t]);const c=async()=>{try{r(!0);const{data:f,error:h}=await He.from("profiles").select("id, user_id, email, full_name, role, created_at").order("created_at",{ascending:!1});if(h)throw h;const m=await Promise.all(f.map(async p=>{const{data:x}=await He.from("dados_fisicos_usuario").select("nome_completo").eq("user_id",p.id).maybeSingle();return{...p,nome_completo_dados:(x==null?void 0:x.nome_completo)||null}}));e(m)}catch(f){console.error("Erro ao buscar usuários:",f)}finally{r(!1)}},u=f=>{switch(f){case"admin":return"bg-red-500/10 text-red-500 border-red-500/20";case"client":return"bg-blue-500/10 text-blue-500 border-blue-500/20";default:return"bg-gray-500/10 text-gray-500 border-gray-500/20"}},d=f=>{switch(f){case"admin":return"Administrador";case"client":return"Cliente";default:return"Usuário"}};return n?o.jsxs(le,{className:"bg-netflix-card border-netflix-border",children:[o.jsx(Qe,{children:o.jsxs(et,{className:"text-netflix-text flex items-center gap-2",children:[o.jsx(ur,{className:"h-5 w-5"}),"Lista de Usuários"]})}),o.jsx(ue,{children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-instituto-orange mx-auto mb-4"}),o.jsx("p",{className:"text-netflix-text-muted",children:"Carregando usuários..."})]})})]}):o.jsxs(le,{className:"bg-netflix-card border-netflix-border",children:[o.jsxs(Qe,{children:[o.jsxs(et,{className:"text-netflix-text flex items-center gap-2",children:[o.jsx(ur,{className:"h-5 w-5"}),"Lista de Usuários (",t.length,")"]}),o.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Qv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-netflix-text-muted"}),o.jsx(ut,{placeholder:"Buscar por email ou nome...",value:i,onChange:f=>s(f.target.value),className:"pl-10 bg-netflix-hover border-netflix-border text-netflix-text"})]}),o.jsx(pe,{onClick:c,variant:"outline",className:"border-netflix-border text-netflix-text hover:bg-netflix-hover",children:"Atualizar"})]})]}),o.jsx(ue,{children:a.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(ur,{className:"h-16 w-16 text-netflix-text-muted mx-auto mb-4"}),o.jsx("h3",{className:"text-xl font-bold text-netflix-text mb-2",children:i?"Nenhum usuário encontrado":"Nenhum usuário cadastrado"}),o.jsx("p",{className:"text-netflix-text-muted",children:i?"Tente uma busca diferente":"Os usuários aparecerão aqui quando se cadastrarem"})]}):o.jsx("div",{className:"space-y-4",children:a.map((f,h)=>o.jsxs("div",{className:"flex items-center justify-between p-4 bg-netflix-hover rounded-lg border border-netflix-border hover:border-instituto-orange/50 transition-all duration-300 animate-fade-in-up",style:{animationDelay:`${h*.1}s`},children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-12 h-12 bg-instituto-orange/20 rounded-full flex items-center justify-center",children:o.jsx(p2,{className:"h-6 w-6 text-instituto-orange"})}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("h3",{className:"font-semibold text-netflix-text",children:f.nome_completo_dados||f.full_name||"Nome não informado"}),o.jsx(Nt,{variant:"outline",className:u(f.role),children:d(f.role)})]}),o.jsxs("div",{className:"flex items-center gap-4 text-sm text-netflix-text-muted",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(jm,{className:"h-3 w-3"}),f.email]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(In,{className:"h-3 w-3"}),Ot(new Date(f.created_at),"dd/MM/yyyy",{locale:pn})]})]})]})]}),o.jsx("div",{className:"flex items-center gap-2",children:f.nome_completo_dados?o.jsx(Nt,{className:"bg-green-500/10 text-green-500 border-green-500/20",children:"Dados Completos"}):o.jsx(Nt,{className:"bg-yellow-500/10 text-yellow-500 border-yellow-500/20",children:"Cadastro Incompleto"})})]},f.id))})})]})},Wtt=({weightHistory:t,userName:e})=>{const n=t.slice().reverse().map((i,s)=>({index:s+1,data:Ot(new Date(i.data_medicao),"dd/MM",{locale:pn}),peso:i.peso_kg,imc:i.imc,gordura:i.gordura_corporal_pct,musculo:i.massa_muscular_kg,agua:i.agua_corporal_pct,dataCompleta:Ot(new Date(i.data_medicao),"dd/MM/yyyy HH:mm",{locale:pn})})),r=t.slice(0,10).reverse().filter(i=>i.gordura_corporal_pct||i.massa_muscular_kg||i.agua_corporal_pct).map((i,s)=>({data:Ot(new Date(i.data_medicao),"dd/MM",{locale:pn}),gordura:i.gordura_corporal_pct||0,musculo:i.massa_muscular_kg||0,agua:i.agua_corporal_pct||0,dataCompleta:Ot(new Date(i.data_medicao),"dd/MM/yyyy",{locale:pn})}));return t.length===0?o.jsxs(le,{className:"bg-netflix-card border-netflix-border",children:[o.jsx(Qe,{children:o.jsx(et,{className:"text-netflix-text",children:"Gráficos de Evolução"})}),o.jsx(ue,{children:o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-netflix-text-muted",children:"Dados insuficientes para gerar gráficos. Registre pelo menos 2 pesagens."})})})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs(le,{className:"bg-netflix-card border-netflix-border",children:[o.jsx(Qe,{children:o.jsxs(et,{className:"text-netflix-text",children:["Evolução do Peso e IMC - ",e]})}),o.jsx(ue,{children:o.jsx("div",{className:"h-80",children:o.jsx(li,{width:"100%",height:"100%",children:o.jsxs(jl,{data:n,children:[o.jsx(Ns,{strokeDasharray:"3 3",stroke:"#374151"}),o.jsx(Ji,{dataKey:"data",stroke:"#9CA3AF",fontSize:12}),o.jsx(wi,{yAxisId:"peso",stroke:"#9CA3AF",fontSize:12,label:{value:"Peso (kg)",angle:-90,position:"insideLeft"}}),o.jsx(wi,{yAxisId:"imc",orientation:"right",stroke:"#9CA3AF",fontSize:12,label:{value:"IMC",angle:90,position:"insideRight"}}),o.jsx(Zi,{contentStyle:{backgroundColor:"#1F1F1F",border:"1px solid #374151",borderRadius:"8px",color:"#F3F4F6"},labelFormatter:(i,s)=>s&&s[0]?s[0].payload.dataCompleta:i,formatter:(i,s)=>s==="peso"?[`${i}kg`,"Peso"]:s==="imc"?[i?`${i}`:"N/A","IMC"]:[i,s]}),o.jsx(Av,{}),o.jsx(bi,{yAxisId:"peso",type:"monotone",dataKey:"peso",stroke:"#F97316",strokeWidth:3,dot:{fill:"#F97316",strokeWidth:2,r:4},name:"Peso (kg)"}),n.some(i=>i.imc)&&o.jsx(bi,{yAxisId:"imc",type:"monotone",dataKey:"imc",stroke:"#8B5CF6",strokeWidth:2,dot:{fill:"#8B5CF6",strokeWidth:2,r:3},name:"IMC",strokeDasharray:"5 5"})]})})})})]}),r.length>0&&o.jsxs(le,{className:"bg-netflix-card border-netflix-border",children:[o.jsx(Qe,{children:o.jsxs(et,{className:"text-netflix-text",children:["Composição Corporal - ",e]})}),o.jsx(ue,{children:o.jsx("div",{className:"h-80",children:o.jsx(li,{width:"100%",height:"100%",children:o.jsxs(QN,{data:r,children:[o.jsx(Ns,{strokeDasharray:"3 3",stroke:"#374151"}),o.jsx(Ji,{dataKey:"data",stroke:"#9CA3AF",fontSize:12}),o.jsx(wi,{stroke:"#9CA3AF",fontSize:12,label:{value:"Percentual / Kg",angle:-90,position:"insideLeft"}}),o.jsx(Zi,{contentStyle:{backgroundColor:"#1F1F1F",border:"1px solid #374151",borderRadius:"8px",color:"#F3F4F6"},labelFormatter:(i,s)=>s&&s[0]?s[0].payload.dataCompleta:i,formatter:(i,s)=>s==="gordura"?[`${i}%`,"Gordura Corporal"]:s==="musculo"?[`${i}kg`,"Massa Muscular"]:s==="agua"?[`${i}%`,"Água Corporal"]:[i,s]}),o.jsx(Av,{}),r.some(i=>i.gordura>0)&&o.jsx(hc,{dataKey:"gordura",fill:"#EF4444",name:"Gordura (%)",radius:[2,2,0,0]}),r.some(i=>i.musculo>0)&&o.jsx(hc,{dataKey:"musculo",fill:"#10B981",name:"Músculo (kg)",radius:[2,2,0,0]}),r.some(i=>i.agua>0)&&o.jsx(hc,{dataKey:"agua",fill:"#3B82F6",name:"Água (%)",radius:[2,2,0,0]})]})})})})]}),o.jsxs(le,{className:"bg-netflix-card border-netflix-border",children:[o.jsx(Qe,{children:o.jsx(et,{className:"text-netflix-text",children:"Estatísticas do Período"})}),o.jsx(ue,{children:o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"text-center p-4 bg-netflix-hover rounded-lg",children:[o.jsx("p",{className:"text-netflix-text-muted text-sm",children:"Peso Máximo"}),o.jsxs("p",{className:"text-xl font-bold text-netflix-text",children:[Math.max(...t.map(i=>i.peso_kg)).toFixed(1),"kg"]})]}),o.jsxs("div",{className:"text-center p-4 bg-netflix-hover rounded-lg",children:[o.jsx("p",{className:"text-netflix-text-muted text-sm",children:"Peso Mínimo"}),o.jsxs("p",{className:"text-xl font-bold text-netflix-text",children:[Math.min(...t.map(i=>i.peso_kg)).toFixed(1),"kg"]})]}),o.jsxs("div",{className:"text-center p-4 bg-netflix-hover rounded-lg",children:[o.jsx("p",{className:"text-netflix-text-muted text-sm",children:"Variação Total"}),o.jsxs("p",{className:"text-xl font-bold text-netflix-text",children:[(Math.max(...t.map(i=>i.peso_kg))-Math.min(...t.map(i=>i.peso_kg))).toFixed(1),"kg"]})]}),o.jsxs("div",{className:"text-center p-4 bg-netflix-hover rounded-lg",children:[o.jsx("p",{className:"text-netflix-text-muted text-sm",children:"Peso Médio"}),o.jsxs("p",{className:"text-xl font-bold text-netflix-text",children:[(t.reduce((i,s)=>i+s.peso_kg,0)/t.length).toFixed(1),"kg"]})]})]})})]})]})},$tt=({selectedUser:t,weightHistory:e})=>{const n=()=>e.length>0?e[0]:null,r=()=>{if(e.length<2)return null;const d=e[0].peso_kg,f=e[1].peso_kg;return d-f},i=d=>d?d<18.5?{label:"Abaixo do peso",color:"text-blue-500"}:d<25?{label:"Peso normal",color:"text-green-500"}:d<30?{label:"Sobrepeso",color:"text-yellow-500"}:{label:"Obesidade",color:"text-red-500"}:null,s=()=>e.length===0?null:e.reduce((f,h)=>f+h.peso_kg,0)/e.length,a=n(),l=r(),c=i(a==null?void 0:a.imc),u=s();return o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsx(le,{className:"bg-netflix-card border-netflix-border",children:o.jsx(ue,{className:"p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-netflix-text-muted text-sm font-medium",children:"Peso Atual"}),o.jsx("p",{className:"text-2xl font-bold text-netflix-text",children:a?`${a.peso_kg}kg`:"N/A"}),a&&o.jsx("p",{className:"text-xs text-netflix-text-muted",children:Ot(new Date(a.data_medicao),"dd/MM/yyyy",{locale:pn})})]}),o.jsx("div",{className:"p-3 rounded-lg bg-instituto-orange/10",children:o.jsx(Wr,{className:"h-6 w-6 text-instituto-orange"})})]})})}),o.jsx(le,{className:"bg-netflix-card border-netflix-border",children:o.jsx(ue,{className:"p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-netflix-text-muted text-sm font-medium",children:"Tendência"}),o.jsxs("p",{className:`text-2xl font-bold flex items-center gap-1 ${l===null?"text-netflix-text-muted":l>0?"text-red-500":l<0?"text-green-500":"text-netflix-text"}`,children:[l===null?"N/A":l>0?"+":"",l!==null&&`${l.toFixed(1)}kg`]}),o.jsx("p",{className:"text-xs text-netflix-text-muted",children:"vs. pesagem anterior"})]}),o.jsx("div",{className:`p-3 rounded-lg ${l===null?"bg-gray-500/10":l>0?"bg-red-500/10":l<0?"bg-green-500/10":"bg-gray-500/10"}`,children:l===null?o.jsx(Wr,{className:"h-6 w-6 text-netflix-text-muted"}):l>0?o.jsx(Hr,{className:"h-6 w-6 text-red-500"}):l<0?o.jsx(jf,{className:"h-6 w-6 text-green-500"}):o.jsx(Wr,{className:"h-6 w-6 text-netflix-text"})})]})})}),o.jsx(le,{className:"bg-netflix-card border-netflix-border",children:o.jsx(ue,{className:"p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-netflix-text-muted text-sm font-medium",children:"IMC"}),o.jsx("p",{className:"text-2xl font-bold text-netflix-text",children:a!=null&&a.imc?a.imc.toFixed(1):"N/A"}),c&&o.jsx("p",{className:`text-xs font-medium ${c.color}`,children:c.label})]}),o.jsx("div",{className:"p-3 rounded-lg bg-instituto-purple/10",children:o.jsx(Nn,{className:"h-6 w-6 text-instituto-purple"})})]})})}),o.jsx(le,{className:"bg-netflix-card border-netflix-border",children:o.jsx(ue,{className:"p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-netflix-text-muted text-sm font-medium",children:"Total de Pesagens"}),o.jsx("p",{className:"text-2xl font-bold text-netflix-text",children:e.length}),u&&o.jsxs("p",{className:"text-xs text-netflix-text-muted",children:["Média: ",u.toFixed(1),"kg"]})]}),o.jsx("div",{className:"p-3 rounded-lg bg-instituto-green/10",children:o.jsx(In,{className:"h-6 w-6 text-instituto-green"})})]})})})]})},Htt=({selectedUser:t,weightHistory:e})=>{var m;const n=()=>{if(e.length<2)return null;const p=e[0].peso_kg,x=e[1].peso_kg;return p-x},r=()=>{if(e.length<2)return 0;const p=e[e.length-1].peso_kg;return(e[0].peso_kg-p)/p*100},i=()=>{if(e.length<2)return 0;const p=e[e.length-1].peso_kg-e[0].peso_kg,x=Math.ceil(e.length/7);return p/x},s=p=>p?p<18.5?"Abaixo do peso":p<25?"Peso normal":p<30?"Sobrepeso":"Obesidade":"Não calculado",a=p=>p?p<18.5?"text-blue-400":p<25?"text-instituto-green":p<30?"text-yellow-500":"text-red-500":"text-netflix-text-muted",l=()=>{const p=e[0];return p?{gordura:p.gordura_corporal_pct,massaMuscular:p.massa_muscular_kg,agua:p.agua_corporal_pct,gorduraVisceral:p.gordura_visceral,massaOssea:p.massa_ossea_kg,metabolismo:p.taxa_metabolica_basal,idadeMetabolica:p.idade_metabolica}:null},c=n(),u=r(),d=i(),f=e[0],h=l();return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsx(le,{className:"bg-netflix-card border-netflix-border",children:o.jsx(ue,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-netflix-text-muted",children:"Peso Atual"}),o.jsxs("p",{className:"text-2xl font-bold text-netflix-text",children:[f==null?void 0:f.peso_kg,"kg"]})]}),o.jsx(Wr,{className:"h-8 w-8 text-instituto-orange"})]})})}),o.jsx(le,{className:"bg-netflix-card border-netflix-border",children:o.jsx(ue,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-netflix-text-muted",children:"IMC"}),o.jsx("p",{className:`text-2xl font-bold ${a(f==null?void 0:f.imc)}`,children:((m=f==null?void 0:f.imc)==null?void 0:m.toFixed(1))||"--"}),o.jsx("p",{className:"text-xs text-netflix-text-muted",children:s(f==null?void 0:f.imc)})]}),o.jsx(Vr,{className:"h-8 w-8 text-instituto-purple"})]})})}),o.jsx(le,{className:"bg-netflix-card border-netflix-border",children:o.jsx(ue,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-netflix-text-muted",children:"Tendência"}),o.jsx("div",{className:"flex items-center gap-1",children:c!==null&&o.jsxs(o.Fragment,{children:[c>0?o.jsx(Hr,{className:"h-4 w-4 text-red-500"}):o.jsx(jf,{className:"h-4 w-4 text-instituto-green"}),o.jsxs("p",{className:`text-lg font-bold ${c>0?"text-red-500":"text-instituto-green"}`,children:[c>0?"+":"",c==null?void 0:c.toFixed(1),"kg"]})]})})]}),o.jsx(Nn,{className:"h-8 w-8 text-instituto-green"})]})})}),o.jsx(le,{className:"bg-netflix-card border-netflix-border",children:o.jsx(ue,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-netflix-text-muted",children:"Registros"}),o.jsx("p",{className:"text-2xl font-bold text-netflix-text",children:e.length}),o.jsxs("p",{className:"text-xs text-netflix-text-muted",children:["Desde ",e.length>0?Ot(new Date(e[e.length-1].data_medicao),"MMM/yyyy",{locale:pn}):"--"]})]}),o.jsx(In,{className:"h-8 w-8 text-instituto-lilac"})]})})})]}),h&&o.jsxs(le,{className:"bg-netflix-card border-netflix-border",children:[o.jsx(Qe,{children:o.jsx(et,{className:"text-netflix-text",children:"Composição Corporal"})}),o.jsx(ue,{children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[h.gordura&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-netflix-text-muted",children:"Gordura Corporal"}),o.jsxs("span",{className:"text-sm font-medium text-netflix-text",children:[h.gordura,"%"]})]}),o.jsx(Sa,{value:h.gordura,max:50,className:"h-2"}),o.jsx(Nt,{variant:"outline",className:"text-xs",children:h.gordura<15?"Baixa":h.gordura<25?"Normal":"Alta"})]}),h.massaMuscular&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-netflix-text-muted",children:"Massa Muscular"}),o.jsxs("span",{className:"text-sm font-medium text-netflix-text",children:[h.massaMuscular,"kg"]})]}),o.jsx(Sa,{value:h.massaMuscular/((f==null?void 0:f.peso_kg)||1)*100,max:100,className:"h-2"}),o.jsxs(Nt,{variant:"outline",className:"text-xs",children:[(h.massaMuscular/((f==null?void 0:f.peso_kg)||1)*100).toFixed(1),"% do peso"]})]}),h.agua&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-netflix-text-muted",children:"Água Corporal"}),o.jsxs("span",{className:"text-sm font-medium text-netflix-text",children:[h.agua,"%"]})]}),o.jsx(Sa,{value:h.agua,max:100,className:"h-2"}),o.jsx(Nt,{variant:"outline",className:"text-xs",children:h.agua>50?"Adequada":"Baixa"})]}),h.gorduraVisceral&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-netflix-text-muted",children:"Gordura Visceral"}),o.jsx("span",{className:"text-sm font-medium text-netflix-text",children:h.gorduraVisceral})]}),o.jsx(Sa,{value:h.gorduraVisceral,max:20,className:"h-2"}),o.jsx(Nt,{variant:"outline",className:"text-xs",children:h.gorduraVisceral<10?"Saudável":"Atenção"})]}),h.metabolismo&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-netflix-text-muted",children:"Taxa Metabólica"}),o.jsxs("span",{className:"text-sm font-medium text-netflix-text",children:[h.metabolismo," kcal"]})]}),o.jsx(Nt,{variant:"outline",className:"text-xs",children:"Basal por dia"})]}),h.idadeMetabolica&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-netflix-text-muted",children:"Idade Metabólica"}),o.jsxs("span",{className:"text-sm font-medium text-netflix-text",children:[h.idadeMetabolica," anos"]})]}),o.jsx(Nt,{variant:"outline",className:"text-xs",children:"Idade biológica"})]})]})})]}),o.jsxs(le,{className:"bg-netflix-card border-netflix-border",children:[o.jsx(Qe,{children:o.jsx(et,{className:"text-netflix-text",children:"Análise de Progresso"})}),o.jsx(ue,{children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"text-center p-4 bg-netflix-hover rounded-lg",children:[o.jsx("p",{className:"text-sm text-netflix-text-muted mb-2",children:"Progresso Total"}),o.jsxs("p",{className:`text-2xl font-bold ${u<0?"text-instituto-green":"text-red-500"}`,children:[u>0?"+":"",u.toFixed(1),"%"]}),o.jsx("p",{className:"text-xs text-netflix-text-muted",children:"desde o início"})]}),o.jsxs("div",{className:"text-center p-4 bg-netflix-hover rounded-lg",children:[o.jsx("p",{className:"text-sm text-netflix-text-muted mb-2",children:"Média Semanal"}),o.jsxs("p",{className:`text-2xl font-bold ${d<0?"text-instituto-green":"text-red-500"}`,children:[d>0?"+":"",d.toFixed(1),"kg"]}),o.jsx("p",{className:"text-xs text-netflix-text-muted",children:"por semana"})]}),o.jsxs("div",{className:"text-center p-4 bg-netflix-hover rounded-lg",children:[o.jsx("p",{className:"text-sm text-netflix-text-muted mb-2",children:"Meta Semanal"}),o.jsx("p",{className:"text-2xl font-bold text-instituto-orange",children:"-0.5kg"}),o.jsx("p",{className:"text-xs text-netflix-text-muted",children:"recomendada"})]})]})})]})]})},Gtt=({selectedUser:t,currentWeight:e})=>{const[n,r]=S.useState([]),[i,s]=S.useState(!1),[a,l]=S.useState(null),[c,u]=S.useState(!1),{toast:d}=Ui(),[f,h]=S.useState({name:"",type:"peso",start_date:new Date().toISOString().split("T")[0],target_date:"",notes:"",progress:0});S.useEffect(()=>{m()},[t]);const m=async()=>{try{const{data:E,error:N}=await He.from("goals").select("*").eq("user_id",t.id).eq("type","peso").order("created_at",{ascending:!1});if(N)throw N;r(E||[])}catch(E){console.error("Erro ao buscar metas:",E)}},p=async()=>{if(!f.name||!f.target_date){d({title:"Erro",description:"Preencha todos os campos obrigatórios",variant:"destructive"});return}try{if(u(!0),a){const{error:E}=await He.from("goals").update(f).eq("id",a.id);if(E)throw E;d({title:"Sucesso",description:"Meta atualizada com sucesso"})}else{const{error:E}=await He.from("goals").insert({user_id:t.id,...f});if(E)throw E;d({title:"Sucesso",description:"Meta criada com sucesso"})}s(!1),l(null),g(),m()}catch(E){console.error("Erro ao salvar meta:",E),d({title:"Erro",description:"Não foi possível salvar a meta",variant:"destructive"})}finally{u(!1)}},x=async E=>{try{const{error:N}=await He.from("goals").delete().eq("id",E);if(N)throw N;d({title:"Sucesso",description:"Meta excluída com sucesso"}),m()}catch(N){console.error("Erro ao excluir meta:",N),d({title:"Erro",description:"Não foi possível excluir a meta",variant:"destructive"})}},v=async(E,N)=>{try{const{error:C}=await He.from("goals").update({progress:N}).eq("id",E);if(C)throw C;m()}catch(C){console.error("Erro ao atualizar progresso:",C)}},g=()=>{h({name:"",type:"peso",start_date:new Date().toISOString().split("T")[0],target_date:"",notes:"",progress:0})},w=E=>{l(E),h({name:E.name,type:E.type,start_date:E.start_date.split("T")[0],target_date:E.target_date.split("T")[0],notes:E.notes||"",progress:E.progress||0}),s(!0)},_=()=>t.nome_completo_dados||t.full_name||t.email;return o.jsxs(le,{className:"bg-netflix-card border-netflix-border",children:[o.jsx(Qe,{children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs(et,{className:"text-netflix-text flex items-center gap-2",children:[o.jsx(Nn,{className:"h-5 w-5 text-instituto-orange"}),"Metas de Peso - ",_()]}),o.jsxs(Ii,{open:i,onOpenChange:s,children:[o.jsx(lo,{asChild:!0,children:o.jsxs(pe,{onClick:()=>{l(null),g()},className:"bg-instituto-orange hover:bg-instituto-orange/90",children:[o.jsx(ws,{className:"h-4 w-4 mr-2"}),"Nova Meta"]})}),o.jsxs(vi,{className:"bg-netflix-card border-netflix-border max-w-md",children:[o.jsx(xi,{children:o.jsx(yi,{className:"text-netflix-text",children:a?"Editar Meta":"Nova Meta de Peso"})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ce,{className:"text-netflix-text",children:"Nome da Meta"}),o.jsx(ut,{value:f.name,onChange:E=>h(N=>({...N,name:E.target.value})),className:"bg-netflix-hover border-netflix-border text-netflix-text",placeholder:"Ex: Perder 5kg"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ce,{className:"text-netflix-text",children:"Data Início"}),o.jsx(ut,{type:"date",value:f.start_date,onChange:E=>h(N=>({...N,start_date:E.target.value})),className:"bg-netflix-hover border-netflix-border text-netflix-text"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ce,{className:"text-netflix-text",children:"Data Limite"}),o.jsx(ut,{type:"date",value:f.target_date,onChange:E=>h(N=>({...N,target_date:E.target.value})),className:"bg-netflix-hover border-netflix-border text-netflix-text"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ce,{className:"text-netflix-text",children:"Observações"}),o.jsx(mn,{value:f.notes,onChange:E=>h(N=>({...N,notes:E.target.value})),className:"bg-netflix-hover border-netflix-border text-netflix-text",placeholder:"Observações sobre a meta..."})]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(pe,{variant:"outline",onClick:()=>s(!1),className:"border-netflix-border text-netflix-text",children:"Cancelar"}),o.jsx(pe,{onClick:p,disabled:c,className:"bg-instituto-orange hover:bg-instituto-orange/90",children:c?"Salvando...":"Salvar"})]})]})]})]})]})}),o.jsx(ue,{children:n.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Nn,{className:"h-12 w-12 text-netflix-text-muted mx-auto mb-4"}),o.jsx("p",{className:"text-netflix-text-muted",children:"Nenhuma meta de peso definida"})]}):o.jsx("div",{className:"space-y-4",children:n.map(E=>o.jsxs("div",{className:"p-4 bg-netflix-hover rounded-lg border border-netflix-border",children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-netflix-text",children:E.name}),o.jsxs("p",{className:"text-sm text-netflix-text-muted",children:["Peso atual: ",e,"kg"]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(Nt,{className:"bg-instituto-green text-white",children:[E.progress||0,"% concluído"]}),o.jsx(pe,{size:"sm",variant:"outline",onClick:()=>w(E),className:"border-netflix-border",children:o.jsx(yv,{className:"h-3 w-3"})}),o.jsx(pe,{size:"sm",variant:"outline",onClick:()=>x(E.id),className:"border-red-500 text-red-500 hover:bg-red-500/10",children:o.jsx(Tm,{className:"h-3 w-3"})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-netflix-text-muted",children:"Progresso"}),o.jsxs("span",{className:"text-netflix-text",children:[E.progress||0,"%"]})]}),o.jsx("div",{className:"w-full bg-netflix-border rounded-full h-2",children:o.jsx("div",{className:"bg-instituto-orange h-2 rounded-full transition-all duration-500",style:{width:`${E.progress||0}%`}})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-3 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-netflix-text-muted",children:"Início:"}),o.jsx("span",{className:"ml-1 text-netflix-text",children:Ot(new Date(E.start_date),"dd/MM/yyyy",{locale:pn})})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-netflix-text-muted",children:"Limite:"}),o.jsx("span",{className:"ml-1 text-netflix-text",children:Ot(new Date(E.target_date),"dd/MM/yyyy",{locale:pn})})]})]}),E.notes&&o.jsxs("div",{className:"mt-3 p-2 bg-netflix-dark rounded text-sm",children:[o.jsx("span",{className:"text-netflix-text-muted",children:"Obs:"}),o.jsx("span",{className:"ml-1 text-netflix-text",children:E.notes})]}),o.jsxs("div",{className:"flex gap-2 mt-3",children:[o.jsxs(pe,{size:"sm",onClick:()=>v(E.id,100),className:"bg-instituto-green hover:bg-instituto-green/90",children:[o.jsx(f2,{className:"h-3 w-3 mr-1"}),"Concluir (100%)"]}),o.jsx(pe,{size:"sm",onClick:()=>v(E.id,50),variant:"outline",className:"border-netflix-border text-netflix-text",children:"50% Concluído"})]})]},E.id))})})]})},qtt=({selectedUser:t,weightHistory:e})=>{const[n,r]=S.useState(!1),{toast:i}=Ui(),s=()=>t.nome_completo_dados||t.full_name||t.email,a=()=>{if(e.length===0){i({title:"Aviso",description:"Não há dados para exportar",variant:"destructive"});return}r(!0);try{const u=[["Data","Peso (kg)","IMC","Circunferência Abdominal (cm)","Gordura Corporal (%)","Massa Muscular (kg)","Água Corporal (%)","Gordura Visceral","Idade Metabólica","Massa Óssea (kg)","Taxa Metabólica Basal","Tipo Corpo","Origem"].join(","),...e.map(m=>[Ot(new Date(m.data_medicao),"dd/MM/yyyy",{locale:pn}),m.peso_kg,m.imc||"",m.circunferencia_abdominal_cm||"",m.gordura_corporal_pct||"",m.massa_muscular_kg||"",m.agua_corporal_pct||"",m.gordura_visceral||"",m.idade_metabolica||"",m.massa_ossea_kg||"",m.taxa_metabolica_basal||"",m.tipo_corpo||"",m.origem_medicao].join(","))].join(`
`),d=new Blob([u],{type:"text/csv;charset=utf-8;"}),f=document.createElement("a"),h=URL.createObjectURL(d);f.setAttribute("href",h),f.setAttribute("download",`pesagens-${s()}-${Ot(new Date,"dd-MM-yyyy")}.csv`),f.style.visibility="hidden",document.body.appendChild(f),f.click(),document.body.removeChild(f),i({title:"Sucesso",description:"Relatório exportado com sucesso"})}catch(c){console.error("Erro ao exportar:",c),i({title:"Erro",description:"Não foi possível exportar o relatório",variant:"destructive"})}finally{r(!1)}},l=()=>{var d;if(e.length===0){i({title:"Aviso",description:"Não há dados para imprimir",variant:"destructive"});return}const c=window.open("","_blank");if(!c)return;const u=`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Relatório de Pesagens - ${s()}</title>
          <style>
            body { font-family: Arial, sans-serif; margin: 20px; }
            .header { text-align: center; margin-bottom: 30px; }
            .client-info { background: #f5f5f5; padding: 15px; margin-bottom: 20px; border-radius: 5px; }
            .summary-stats { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 30px; }
            .stat-card { background: #e8f4fd; padding: 15px; border-radius: 5px; text-align: center; }
            .data-table { width: 100%; border-collapse: collapse; margin-top: 20px; }
            .data-table th, .data-table td { border: 1px solid #ddd; padding: 8px; text-align: left; }
            .data-table th { background-color: #f2f2f2; font-weight: bold; }
            .data-table tr:nth-child(even) { background-color: #f9f9f9; }
            .trend-indicator { font-weight: bold; }
            .trend-positive { color: #10b981; }
            .trend-negative { color: #ef4444; }
            @media print { body { margin: 0; } }
          </style>
        </head>
        <body>
          <div class="header">
            <h1>Relatório de Pesagens</h1>
            <h2>Trend Track Wellness Hub</h2>
            <p>Gerado em: ${Ot(new Date,"dd/MM/yyyy HH:mm",{locale:pn})}</p>
          </div>
          
          <div class="client-info">
            <h3>Informações do Cliente</h3>
            <p><strong>Nome:</strong> ${s()}</p>
            <p><strong>Email:</strong> ${t.email}</p>
            <p><strong>Período:</strong> ${Ot(new Date(e[e.length-1].data_medicao),"dd/MM/yyyy",{locale:pn})} a ${Ot(new Date(e[0].data_medicao),"dd/MM/yyyy",{locale:pn})}</p>
            <p><strong>Total de registros:</strong> ${e.length}</p>
          </div>

          <div class="summary-stats">
            <div class="stat-card">
              <h4>Peso Atual</h4>
              <p style="font-size: 24px; font-weight: bold; margin: 0;">${e[0].peso_kg}kg</p>
            </div>
            <div class="stat-card">
              <h4>IMC Atual</h4>
              <p style="font-size: 24px; font-weight: bold; margin: 0;">${((d=e[0].imc)==null?void 0:d.toFixed(1))||"--"}</p>
            </div>
            <div class="stat-card">
              <h4>Variação Total</h4>
              <p style="font-size: 24px; font-weight: bold; margin: 0;" class="trend-indicator ${e[0].peso_kg-e[e.length-1].peso_kg<0?"trend-positive":"trend-negative"}">
                ${e[0].peso_kg-e[e.length-1].peso_kg>0?"+":""}${(e[0].peso_kg-e[e.length-1].peso_kg).toFixed(1)}kg
              </p>
            </div>
          </div>

          <table class="data-table">
            <thead>
              <tr>
                <th>Data</th>
                <th>Peso (kg)</th>
                <th>IMC</th>
                <th>Circunf. Abd. (cm)</th>
                <th>Gordura (%)</th>
                <th>Massa Musc. (kg)</th>
                <th>Origem</th>
              </tr>
            </thead>
            <tbody>
              ${e.map(f=>{var h;return`
                <tr>
                  <td>${Ot(new Date(f.data_medicao),"dd/MM/yyyy",{locale:pn})}</td>
                  <td>${f.peso_kg}</td>
                  <td>${((h=f.imc)==null?void 0:h.toFixed(1))||"--"}</td>
                  <td>${f.circunferencia_abdominal_cm||"--"}</td>
                  <td>${f.gordura_corporal_pct||"--"}</td>
                  <td>${f.massa_muscular_kg||"--"}</td>
                  <td>${f.origem_medicao}</td>
                </tr>
              `}).join("")}
            </tbody>
          </table>

          <div style="margin-top: 40px; text-align: center; color: #666;">
            <p>Relatório gerado automaticamente pelo sistema Trend Track Wellness Hub</p>
          </div>
        </body>
      </html>
    `;c.document.write(u),c.document.close(),c.focus(),c.print()};return o.jsxs(le,{className:"bg-netflix-card border-netflix-border",children:[o.jsx(Qe,{children:o.jsxs(et,{className:"text-netflix-text flex items-center gap-2",children:[o.jsx(Xz,{className:"h-5 w-5 text-instituto-orange"}),"Exportar Relatórios - ",s()]})}),o.jsx(ue,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-netflix-text-muted text-sm",children:"Exporte os dados de pesagem em diferentes formatos para análise externa ou arquivo."}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs(pe,{onClick:a,disabled:n||e.length===0,className:"bg-instituto-green hover:bg-instituto-green/90 h-16 flex flex-col items-center justify-center",children:[o.jsx(VK,{className:"h-5 w-5 mb-1"}),o.jsx("span",{className:"text-sm",children:"Exportar CSV"}),o.jsx("span",{className:"text-xs opacity-75",children:"Excel/Planilha"})]}),o.jsxs(pe,{onClick:l,disabled:e.length===0,variant:"outline",className:"border-netflix-border text-netflix-text hover:bg-netflix-hover h-16 flex flex-col items-center justify-center",children:[o.jsx(Vpe,{className:"h-5 w-5 mb-1"}),o.jsx("span",{className:"text-sm",children:"Imprimir Relatório"}),o.jsx("span",{className:"text-xs opacity-75",children:"PDF/Impressão"})]})]}),e.length===0&&o.jsxs("div",{className:"text-center py-8 bg-netflix-hover rounded-lg",children:[o.jsx(Xz,{className:"h-12 w-12 text-netflix-text-muted mx-auto mb-2"}),o.jsx("p",{className:"text-netflix-text-muted",children:"Nenhum dado disponível para exportação"})]}),o.jsxs("div",{className:"mt-6 p-4 bg-netflix-hover rounded-lg",children:[o.jsx("h4",{className:"font-medium text-netflix-text mb-2",children:"Dados inclusos no relatório:"}),o.jsxs("ul",{className:"text-sm text-netflix-text-muted space-y-1",children:[o.jsx("li",{children:"• Histórico completo de pesagens"}),o.jsx("li",{children:"• Composição corporal (quando disponível)"}),o.jsx("li",{children:"• Cálculos de IMC e tendências"}),o.jsx("li",{children:"• Origem das medições"}),o.jsx("li",{children:"• Estatísticas resumidas"})]})]})]})})]})},Ktt=()=>{var T,A,P;const[t,e]=S.useState([]),[n,r]=S.useState(null),[i,s]=S.useState(""),[a,l]=S.useState([]),[c,u]=S.useState(!1),[d,f]=S.useState(!1),[h,m]=S.useState([]),[p,x]=S.useState("selection"),{toast:v}=Ui(),[g,w]=S.useState({peso_kg:0,origem_medicao:"admin"});S.useEffect(()=>{_()},[]),S.useEffect(()=>{const R=t.filter(D=>D.email.toLowerCase().includes(i.toLowerCase())||D.full_name&&D.full_name.toLowerCase().includes(i.toLowerCase())||D.nome_completo_dados&&D.nome_completo_dados.toLowerCase().includes(i.toLowerCase()));l(R)},[i,t]),S.useEffect(()=>{n&&E(n.id)},[n]);const _=async()=>{try{u(!0);const{data:R,error:D}=await He.from("profiles").select("id, user_id, email, full_name").eq("role","client").order("created_at",{ascending:!1});if(D)throw D;const F=await Promise.all(R.map(async I=>{const{data:G}=await He.from("dados_fisicos_usuario").select("nome_completo").eq("user_id",I.id).maybeSingle();return{...I,nome_completo_dados:(G==null?void 0:G.nome_completo)||null}}));e(F),l(F)}catch(R){console.error("Erro ao buscar usuários:",R),v({title:"Erro",description:"Não foi possível carregar a lista de usuários",variant:"destructive"})}finally{u(!1)}},E=async R=>{try{const{data:D,error:F}=await He.from("pesagens").select("*").eq("user_id",R).order("data_medicao",{ascending:!1});if(F)throw F;m(D||[])}catch(D){console.error("Erro ao buscar histórico:",D)}},N=async()=>{if(!n){v({title:"Erro",description:"Selecione um usuário primeiro",variant:"destructive"});return}if(g.peso_kg<=0){v({title:"Erro",description:"O peso deve ser maior que zero",variant:"destructive"});return}try{u(!0);let R=null;if(g.peso_kg){const{data:F}=await He.from("dados_fisicos_usuario").select("altura_cm").eq("user_id",n.id).maybeSingle();if(F!=null&&F.altura_cm){const I=F.altura_cm/100;R=g.peso_kg/(I*I)}}const{error:D}=await He.from("pesagens").insert({user_id:n.id,...g,imc:R?parseFloat(R.toFixed(2)):null,data_medicao:new Date().toISOString()});if(D)throw D;v({title:"Sucesso",description:"Pesagem registrada com sucesso",variant:"default"}),w({peso_kg:0,origem_medicao:"admin"}),f(!1),E(n.id)}catch(R){console.error("Erro ao registrar pesagem:",R),v({title:"Erro",description:"Não foi possível registrar a pesagem",variant:"destructive"})}finally{u(!1)}},C=R=>R.nome_completo_dados||R.full_name||R.email,j=()=>h.length>0?h[0]:null;return o.jsx("div",{className:"space-y-6",children:o.jsxs(Zu,{value:p,onValueChange:x,className:"w-full",children:[o.jsxs(Dc,{className:"grid w-full grid-cols-4 bg-netflix-card border border-netflix-border",children:[o.jsxs(On,{value:"selection",className:"data-[state=active]:bg-instituto-orange data-[state=active]:text-white text-netflix-text",children:[o.jsx(ur,{className:"h-4 w-4 mr-2"}),"Seleção"]}),o.jsxs(On,{value:"registration",className:"data-[state=active]:bg-instituto-orange data-[state=active]:text-white text-netflix-text",disabled:!n,children:[o.jsx(ws,{className:"h-4 w-4 mr-2"}),"Registro"]}),o.jsxs(On,{value:"history",className:"data-[state=active]:bg-instituto-orange data-[state=active]:text-white text-netflix-text",disabled:!n,children:[o.jsx(Yz,{className:"h-4 w-4 mr-2"}),"Histórico"]}),o.jsxs(On,{value:"analytics",className:"data-[state=active]:bg-instituto-orange data-[state=active]:text-white text-netflix-text",disabled:!n,children:[o.jsx(mf,{className:"h-4 w-4 mr-2"}),"Analytics"]})]}),o.jsxs(Dn,{value:"selection",className:"space-y-6",children:[o.jsxs(le,{className:"bg-netflix-card border-netflix-border",children:[o.jsxs(Qe,{children:[o.jsxs(et,{className:"text-netflix-text flex items-center gap-2",children:[o.jsx(Wr,{className:"h-5 w-5 text-instituto-orange"}),"Sistema Completo de Pesagem - Trend Track Wellness Hub 🎯"]}),o.jsx("div",{className:"mt-2 text-sm text-netflix-text-muted",children:"Sistema integrado para controle de peso e composição corporal dos clientes"})]}),o.jsx(ue,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Qv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-netflix-text-muted"}),o.jsx(ut,{placeholder:"Buscar usuário por email ou nome...",value:i,onChange:R=>s(R.target.value),className:"pl-10 bg-netflix-hover border-netflix-border text-netflix-text"})]}),n&&o.jsx("div",{className:"p-4 bg-instituto-orange/10 border border-instituto-orange/20 rounded-lg",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("p",{className:"font-semibold text-netflix-text",children:["Usuário Selecionado: ",C(n)]}),o.jsxs("p",{className:"text-sm text-netflix-text-muted",children:["Email: ",n.email]}),h.length>0&&o.jsxs("p",{className:"text-sm text-netflix-text-muted",children:["Última pesagem: ",(T=j())==null?void 0:T.peso_kg,"kg em"," ",Ot(new Date(((A=j())==null?void 0:A.data_medicao)||""),"dd/MM/yyyy",{locale:pn})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(pe,{onClick:()=>x("registration"),className:"bg-instituto-orange hover:bg-instituto-orange/90",children:[o.jsx(ws,{className:"h-4 w-4 mr-2"}),"Nova Pesagem"]}),o.jsxs(pe,{onClick:()=>x("history"),variant:"outline",className:"border-netflix-border text-netflix-text hover:bg-netflix-hover",children:[o.jsx(eo,{className:"h-4 w-4 mr-2"}),"Ver Histórico"]})]})]})})]})})]}),o.jsxs(le,{className:"bg-netflix-card border-netflix-border",children:[o.jsx(Qe,{children:o.jsxs(et,{className:"text-netflix-text flex items-center gap-2",children:[o.jsx(ur,{className:"h-5 w-5"}),"Lista de Usuários (",a.length,")"]})}),o.jsx(ue,{children:c?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-instituto-orange mx-auto mb-4"}),o.jsx("p",{className:"text-netflix-text-muted",children:"Carregando usuários..."})]}):a.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(ur,{className:"h-16 w-16 text-netflix-text-muted mx-auto mb-4"}),o.jsx("h3",{className:"text-xl font-bold text-netflix-text mb-2",children:i?"Nenhum usuário encontrado":"Nenhum cliente cadastrado"})]}):o.jsx("div",{className:"space-y-3",children:a.map((R,D)=>o.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border transition-all duration-300 cursor-pointer animate-fade-in-up ${(n==null?void 0:n.id)===R.id?"bg-instituto-orange/20 border-instituto-orange":"bg-netflix-hover border-netflix-border hover:border-instituto-orange/50"}`,style:{animationDelay:`${D*.1}s`},onClick:()=>r(R),children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${(n==null?void 0:n.id)===R.id?"bg-instituto-orange text-white":"bg-instituto-orange/20 text-instituto-orange"}`,children:o.jsx(Wr,{className:"h-5 w-5"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-netflix-text",children:C(R)}),o.jsx("p",{className:"text-sm text-netflix-text-muted",children:R.email})]})]}),o.jsx("div",{className:"flex items-center gap-2",children:(n==null?void 0:n.id)===R.id&&o.jsx(Nt,{className:"bg-instituto-orange text-white",children:"Selecionado"})})]},R.id))})})]})]}),o.jsx(Dn,{value:"registration",className:"space-y-6",children:n&&o.jsxs(o.Fragment,{children:[o.jsx($tt,{selectedUser:n,weightHistory:h}),o.jsxs(le,{className:"bg-netflix-card border-netflix-border",children:[o.jsx(Qe,{children:o.jsxs(et,{className:"text-netflix-text",children:["Registrar Nova Pesagem - ",C(n)]})}),o.jsxs(ue,{children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ce,{htmlFor:"peso",className:"text-netflix-text",children:"Peso (kg) *"}),o.jsx(ut,{id:"peso",type:"number",step:"0.1",value:g.peso_kg||"",onChange:R=>w(D=>({...D,peso_kg:parseFloat(R.target.value)||0})),className:"bg-netflix-hover border-netflix-border text-netflix-text",placeholder:"Ex: 70.5"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ce,{htmlFor:"circunferencia",className:"text-netflix-text",children:"Circunferência Abdominal (cm)"}),o.jsx(ut,{id:"circunferencia",type:"number",step:"0.1",value:g.circunferencia_abdominal_cm||"",onChange:R=>w(D=>({...D,circunferencia_abdominal_cm:parseFloat(R.target.value)||void 0})),className:"bg-netflix-hover border-netflix-border text-netflix-text",placeholder:"Ex: 85.0"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ce,{htmlFor:"gordura_corporal",className:"text-netflix-text",children:"Gordura Corporal (%)"}),o.jsx(ut,{id:"gordura_corporal",type:"number",step:"0.1",value:g.gordura_corporal_pct||"",onChange:R=>w(D=>({...D,gordura_corporal_pct:parseFloat(R.target.value)||void 0})),className:"bg-netflix-hover border-netflix-border text-netflix-text",placeholder:"Ex: 20.5"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ce,{htmlFor:"massa_muscular",className:"text-netflix-text",children:"Massa Muscular (kg)"}),o.jsx(ut,{id:"massa_muscular",type:"number",step:"0.1",value:g.massa_muscular_kg||"",onChange:R=>w(D=>({...D,massa_muscular_kg:parseFloat(R.target.value)||void 0})),className:"bg-netflix-hover border-netflix-border text-netflix-text",placeholder:"Ex: 35.2"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ce,{htmlFor:"agua_corporal",className:"text-netflix-text",children:"Água Corporal (%)"}),o.jsx(ut,{id:"agua_corporal",type:"number",step:"0.1",value:g.agua_corporal_pct||"",onChange:R=>w(D=>({...D,agua_corporal_pct:parseFloat(R.target.value)||void 0})),className:"bg-netflix-hover border-netflix-border text-netflix-text",placeholder:"Ex: 55.0"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ce,{htmlFor:"gordura_visceral",className:"text-netflix-text",children:"Gordura Visceral"}),o.jsx(ut,{id:"gordura_visceral",type:"number",value:g.gordura_visceral||"",onChange:R=>w(D=>({...D,gordura_visceral:parseInt(R.target.value)||void 0})),className:"bg-netflix-hover border-netflix-border text-netflix-text",placeholder:"Ex: 8"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ce,{htmlFor:"idade_metabolica",className:"text-netflix-text",children:"Idade Metabólica"}),o.jsx(ut,{id:"idade_metabolica",type:"number",value:g.idade_metabolica||"",onChange:R=>w(D=>({...D,idade_metabolica:parseInt(R.target.value)||void 0})),className:"bg-netflix-hover border-netflix-border text-netflix-text",placeholder:"Ex: 25"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ce,{htmlFor:"massa_ossea",className:"text-netflix-text",children:"Massa Óssea (kg)"}),o.jsx(ut,{id:"massa_ossea",type:"number",step:"0.1",value:g.massa_ossea_kg||"",onChange:R=>w(D=>({...D,massa_ossea_kg:parseFloat(R.target.value)||void 0})),className:"bg-netflix-hover border-netflix-border text-netflix-text",placeholder:"Ex: 3.2"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ce,{htmlFor:"taxa_metabolica",className:"text-netflix-text",children:"Taxa Metabólica Basal"}),o.jsx(ut,{id:"taxa_metabolica",type:"number",value:g.taxa_metabolica_basal||"",onChange:R=>w(D=>({...D,taxa_metabolica_basal:parseInt(R.target.value)||void 0})),className:"bg-netflix-hover border-netflix-border text-netflix-text",placeholder:"Ex: 1650"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ce,{htmlFor:"tipo_corpo",className:"text-netflix-text",children:"Tipo do Corpo"}),o.jsxs(nr,{value:g.tipo_corpo||"",onValueChange:R=>w(D=>({...D,tipo_corpo:R||void 0})),children:[o.jsx(Xn,{className:"bg-netflix-hover border-netflix-border text-netflix-text",children:o.jsx(rr,{placeholder:"Selecione..."})}),o.jsxs(Yn,{className:"bg-netflix-card border-netflix-border",children:[o.jsx(ht,{value:"magro",children:"Magro"}),o.jsx(ht,{value:"normal",children:"Normal"}),o.jsx(ht,{value:"sobrepeso",children:"Sobrepeso"}),o.jsx(ht,{value:"obeso",children:"Obeso"}),o.jsx(ht,{value:"atletico",children:"Atlético"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ce,{htmlFor:"origem_medicao",className:"text-netflix-text",children:"Origem da Medição"}),o.jsxs(nr,{value:g.origem_medicao,onValueChange:R=>w(D=>({...D,origem_medicao:R})),children:[o.jsx(Xn,{className:"bg-netflix-hover border-netflix-border text-netflix-text",children:o.jsx(rr,{})}),o.jsxs(Yn,{className:"bg-netflix-card border-netflix-border",children:[o.jsx(ht,{value:"admin",children:"Administrador"}),o.jsx(ht,{value:"balança",children:"Balança Comum"}),o.jsx(ht,{value:"bioimpedância",children:"Bioimpedância"}),o.jsx(ht,{value:"consultório",children:"Consultório"}),o.jsx(ht,{value:"casa",children:"Casa do Cliente"})]})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[o.jsx(pe,{variant:"outline",onClick:()=>x("selection"),className:"border-netflix-border text-netflix-text hover:bg-netflix-hover",children:"Voltar"}),o.jsx(pe,{onClick:N,disabled:c,className:"bg-instituto-orange hover:bg-instituto-orange/90",children:c?"Salvando...":"Salvar Pesagem"})]})]})]})]})}),o.jsx(Dn,{value:"history",className:"space-y-6",children:n&&o.jsxs(le,{className:"bg-netflix-card border-netflix-border",children:[o.jsx(Qe,{children:o.jsxs(et,{className:"text-netflix-text flex items-center gap-2",children:[o.jsx(Yz,{className:"h-5 w-5"}),"Histórico de Pesagens - ",C(n)]})}),o.jsx(ue,{children:h.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Wr,{className:"h-16 w-16 text-netflix-text-muted mx-auto mb-4"}),o.jsx("h3",{className:"text-xl font-bold text-netflix-text mb-2",children:"Nenhuma pesagem registrada"}),o.jsx("p",{className:"text-netflix-text-muted mb-4",children:"Registre a primeira pesagem deste usuário"}),o.jsxs(pe,{onClick:()=>x("registration"),className:"bg-instituto-orange hover:bg-instituto-orange/90",children:[o.jsx(ws,{className:"h-4 w-4 mr-2"}),"Registrar Primeira Pesagem"]})]}):o.jsx("div",{className:"space-y-4",children:h.map((R,D)=>o.jsxs("div",{className:"p-4 bg-netflix-hover rounded-lg border border-netflix-border animate-fade-in-up",style:{animationDelay:`${D*.1}s`},children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsxs("div",{children:[o.jsxs("h4",{className:"font-semibold text-netflix-text",children:[R.peso_kg,"kg",R.imc&&o.jsxs("span",{className:"ml-2 text-sm text-netflix-text-muted",children:["(IMC: ",R.imc,")"]})]}),o.jsx("p",{className:"text-sm text-netflix-text-muted",children:Ot(new Date(R.data_medicao),"dd/MM/yyyy HH:mm",{locale:pn})})]}),o.jsx(Nt,{variant:"outline",className:"border-instituto-orange text-instituto-orange",children:R.origem_medicao})]}),(R.circunferencia_abdominal_cm||R.gordura_corporal_pct||R.massa_muscular_kg)&&o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm",children:[R.circunferencia_abdominal_cm&&o.jsxs("div",{children:[o.jsx("span",{className:"text-netflix-text-muted",children:"Cintura:"}),o.jsxs("span",{className:"ml-1 text-netflix-text",children:[R.circunferencia_abdominal_cm,"cm"]})]}),R.gordura_corporal_pct&&o.jsxs("div",{children:[o.jsx("span",{className:"text-netflix-text-muted",children:"Gordura:"}),o.jsxs("span",{className:"ml-1 text-netflix-text",children:[R.gordura_corporal_pct,"%"]})]}),R.massa_muscular_kg&&o.jsxs("div",{children:[o.jsx("span",{className:"text-netflix-text-muted",children:"Músculo:"}),o.jsxs("span",{className:"ml-1 text-netflix-text",children:[R.massa_muscular_kg,"kg"]})]}),R.agua_corporal_pct&&o.jsxs("div",{children:[o.jsx("span",{className:"text-netflix-text-muted",children:"Água:"}),o.jsxs("span",{className:"ml-1 text-netflix-text",children:[R.agua_corporal_pct,"%"]})]})]})]},R.id))})})]})}),o.jsx(Dn,{value:"analytics",className:"space-y-6",children:n&&o.jsxs(o.Fragment,{children:[o.jsx(Htt,{selectedUser:n,weightHistory:h}),o.jsx(Gtt,{selectedUser:n,currentWeight:((P=j())==null?void 0:P.peso_kg)||0}),o.jsx(qtt,{selectedUser:n,weightHistory:h}),o.jsx(Wtt,{weightHistory:h,userName:C(n)})]})})]})})},Xtt=()=>{const{toast:t}=Ui(),[e,n]=S.useState(!1),[r,i]=S.useState({nomeCompleto:"",dataNascimento:"",sexo:"",altura:"",peso:"",circunferenciaAbdominal:"",email:"",telefone:""}),[s,a]=S.useState(null),[l,c]=S.useState(""),u=()=>{const h=parseFloat(r.peso),m=parseFloat(r.altura)/100;if(h&&m){const p=h/(m*m);a(parseFloat(p.toFixed(1)));const x=parseFloat(r.circunferenciaAbdominal);let v="Baixo";p>=30||r.sexo==="masculino"&&x>102||r.sexo==="feminino"&&x>88?v="Alto":(p>=25||r.sexo==="masculino"&&x>94||r.sexo==="feminino"&&x>80)&&(v="Moderado"),c(v)}};Ze.useEffect(()=>{r.peso&&r.altura&&r.circunferenciaAbdominal&&r.sexo&&u()},[r.peso,r.altura,r.circunferenciaAbdominal,r.sexo]);const d=async h=>{h.preventDefault();try{const{data:m,error:p}=await He.auth.signUp({email:r.email,password:"tempPassword123!",options:{data:{full_name:r.nomeCompleto}}});if(p)throw p;if(m.user){await new Promise(w=>setTimeout(w,1e3));const{data:x,error:v}=await He.from("profiles").select("id").eq("user_id",m.user.id).single();if(v)throw v;const{error:g}=await He.from("dados_fisicos_usuario").insert({user_id:x.id,nome_completo:r.nomeCompleto,data_nascimento:r.dataNascimento,sexo:r.sexo,altura_cm:parseInt(r.altura),peso_atual_kg:parseFloat(r.peso),circunferencia_abdominal_cm:parseFloat(r.circunferenciaAbdominal),meta_peso_kg:parseFloat(r.peso)});if(g)throw g;if(r.tentativaEmagrecimento||r.apoioFamiliar||r.nivelAutocuidado){const{error:w}=await He.from("perfil_comportamental").insert({user_id:x.id,tentativa_emagrecimento:r.tentativaEmagrecimento,apoio_familiar:r.apoioFamiliar,nivel_autocuidado:r.nivelAutocuidado?parseInt(r.nivelAutocuidado):null,nivel_estresse:r.nivelEstresse?parseInt(r.nivelEstresse):null,gratidao_hoje:r.gratidao});if(w)throw w}}t({title:"Cliente cadastrado com sucesso!",description:`${r.nomeCompleto} foi adicionado ao sistema.`}),i({nomeCompleto:"",dataNascimento:"",sexo:"",altura:"",peso:"",circunferenciaAbdominal:"",email:"",telefone:""}),a(null),c(""),n(!1)}catch(m){console.error("Erro ao cadastrar cliente:",m),t({title:"Erro ao cadastrar cliente",description:"Não foi possível cadastrar o cliente. Tente novamente.",variant:"destructive"})}},f=h=>{switch(h){case"Alto":return"bg-red-500/10 text-red-400 border-red-500/20";case"Moderado":return"bg-yellow-500/10 text-yellow-400 border-yellow-500/20";case"Baixo":return"bg-green-500/10 text-green-400 border-green-500/20";default:return"bg-gray-500/10 text-gray-400 border-gray-500/20"}};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs(Ii,{open:e,onOpenChange:n,children:[o.jsx(lo,{asChild:!0,children:o.jsxs(pe,{className:"w-full instituto-button",children:[o.jsx(XE,{className:"h-4 w-4 mr-2"}),"Cadastrar Novo Cliente"]})}),o.jsxs(vi,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[o.jsx(xi,{children:o.jsxs(yi,{className:"flex items-center gap-2",children:[o.jsx(ao,{className:"h-5 w-5 text-instituto-orange"}),"Cadastro Completo de Cliente"]})}),o.jsxs("form",{onSubmit:d,className:"space-y-6",children:[o.jsxs(le,{className:"bg-netflix-hover border-netflix-border",children:[o.jsx(Qe,{children:o.jsx(et,{className:"text-lg text-netflix-text",children:"Dados Obrigatórios"})}),o.jsxs(ue,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Ce,{htmlFor:"nome",children:"Nome Completo *"}),o.jsx(ut,{id:"nome",value:r.nomeCompleto,onChange:h=>i({...r,nomeCompleto:h.target.value}),className:"bg-netflix-gray border-netflix-border text-netflix-text",required:!0})]}),o.jsxs("div",{children:[o.jsx(Ce,{htmlFor:"nascimento",children:"Data de Nascimento *"}),o.jsx(ut,{id:"nascimento",type:"date",value:r.dataNascimento,onChange:h=>i({...r,dataNascimento:h.target.value}),className:"bg-netflix-gray border-netflix-border text-netflix-text",required:!0})]}),o.jsxs("div",{children:[o.jsx(Ce,{htmlFor:"sexo",children:"Sexo *"}),o.jsxs(nr,{value:r.sexo,onValueChange:h=>i({...r,sexo:h}),children:[o.jsx(Xn,{className:"bg-netflix-gray border-netflix-border text-netflix-text",children:o.jsx(rr,{placeholder:"Selecione"})}),o.jsxs(Yn,{children:[o.jsx(ht,{value:"masculino",children:"Masculino"}),o.jsx(ht,{value:"feminino",children:"Feminino"})]})]})]}),o.jsxs("div",{children:[o.jsx(Ce,{htmlFor:"altura",children:"Altura (cm) *"}),o.jsx(ut,{id:"altura",type:"number",value:r.altura,onChange:h=>i({...r,altura:h.target.value}),className:"bg-netflix-gray border-netflix-border text-netflix-text",placeholder:"Ex: 170",required:!0})]}),o.jsxs("div",{children:[o.jsx(Ce,{htmlFor:"peso",children:"Peso (kg) *"}),o.jsx(ut,{id:"peso",type:"number",step:"0.1",value:r.peso,onChange:h=>i({...r,peso:h.target.value}),className:"bg-netflix-gray border-netflix-border text-netflix-text",placeholder:"Ex: 70.5",required:!0})]}),o.jsxs("div",{children:[o.jsx(Ce,{htmlFor:"circunferencia",children:"Circunferência Abdominal (cm) *"}),o.jsx(ut,{id:"circunferencia",type:"number",value:r.circunferenciaAbdominal,onChange:h=>i({...r,circunferenciaAbdominal:h.target.value}),className:"bg-netflix-gray border-netflix-border text-netflix-text",placeholder:"Ex: 80",required:!0})]}),o.jsxs("div",{children:[o.jsx(Ce,{htmlFor:"email",children:"E-mail *"}),o.jsx(ut,{id:"email",type:"email",value:r.email,onChange:h=>i({...r,email:h.target.value}),className:"bg-netflix-gray border-netflix-border text-netflix-text",placeholder:"cliente@email.com",required:!0})]}),o.jsxs("div",{children:[o.jsx(Ce,{htmlFor:"telefone",children:"Telefone *"}),o.jsx(ut,{id:"telefone",value:r.telefone,onChange:h=>i({...r,telefone:h.target.value}),className:"bg-netflix-gray border-netflix-border text-netflix-text",placeholder:"(11) 99999-9999",required:!0})]})]})]}),s&&o.jsxs(le,{className:"bg-netflix-hover border-netflix-border",children:[o.jsx(Qe,{children:o.jsxs(et,{className:"text-lg text-netflix-text flex items-center gap-2",children:[o.jsx(Vr,{className:"h-5 w-5 text-instituto-green"}),"Resultados Calculados"]})}),o.jsxs(ue,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3 p-3 bg-instituto-orange/10 rounded-lg",children:[o.jsx(Wr,{className:"h-6 w-6 text-instituto-orange"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-netflix-text-muted",children:"IMC"}),o.jsx("p",{className:"text-xl font-bold text-netflix-text",children:s})]})]}),o.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border",children:[o.jsx(ya,{className:"h-6 w-6"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-netflix-text-muted",children:"Risco Cardiometabólico"}),o.jsx(Nt,{className:f(l),children:l})]})]})]})]}),o.jsxs(le,{className:"bg-netflix-hover border-netflix-border",children:[o.jsx(Qe,{children:o.jsx(et,{className:"text-lg text-netflix-text",children:"Perfil Comportamental (Opcional)"})}),o.jsxs(ue,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Ce,{htmlFor:"tentativa",children:"Já tentou emagrecer?"}),o.jsxs(nr,{value:r.tentativaEmagrecimento||"",onValueChange:h=>i({...r,tentativaEmagrecimento:h}),children:[o.jsx(Xn,{className:"bg-netflix-gray border-netflix-border text-netflix-text",children:o.jsx(rr,{placeholder:"Selecione"})}),o.jsxs(Yn,{children:[o.jsx(ht,{value:"sim",children:"Sim"}),o.jsx(ht,{value:"nao",children:"Não"}),o.jsx(ht,{value:"varias-vezes",children:"Várias vezes"})]})]})]}),o.jsxs("div",{children:[o.jsx(Ce,{htmlFor:"apoio",children:"Apoio familiar?"}),o.jsxs(nr,{value:r.apoioFamiliar||"",onValueChange:h=>i({...r,apoioFamiliar:h}),children:[o.jsx(Xn,{className:"bg-netflix-gray border-netflix-border text-netflix-text",children:o.jsx(rr,{placeholder:"Selecione"})}),o.jsxs(Yn,{children:[o.jsx(ht,{value:"total",children:"Total"}),o.jsx(ht,{value:"parcial",children:"Parcial"}),o.jsx(ht,{value:"nenhum",children:"Nenhum"})]})]})]}),o.jsxs("div",{children:[o.jsx(Ce,{htmlFor:"autocuidado",children:"Nível de Autocuidado (0-5)"}),o.jsx(ut,{id:"autocuidado",type:"number",min:"0",max:"5",value:r.nivelAutocuidado||"",onChange:h=>i({...r,nivelAutocuidado:h.target.value}),className:"bg-netflix-gray border-netflix-border text-netflix-text"})]}),o.jsxs("div",{children:[o.jsx(Ce,{htmlFor:"sono",children:"Horas de sono por noite"}),o.jsx(ut,{id:"sono",type:"number",min:"0",max:"12",step:"0.5",value:r.horasSono||"",onChange:h=>i({...r,horasSono:h.target.value}),className:"bg-netflix-gray border-netflix-border text-netflix-text",placeholder:"Ex: 7.5"})]}),o.jsxs("div",{children:[o.jsx(Ce,{htmlFor:"agua",children:"Litros de água por dia"}),o.jsx(ut,{id:"agua",type:"number",min:"0",max:"10",step:"0.1",value:r.litrosAgua||"",onChange:h=>i({...r,litrosAgua:h.target.value}),className:"bg-netflix-gray border-netflix-border text-netflix-text",placeholder:"Ex: 2.5"})]}),o.jsxs("div",{children:[o.jsx(Ce,{htmlFor:"estresse",children:"Nível de Estresse (0-10)"}),o.jsx(ut,{id:"estresse",type:"number",min:"0",max:"10",value:r.nivelEstresse||"",onChange:h=>i({...r,nivelEstresse:h.target.value}),className:"bg-netflix-gray border-netflix-border text-netflix-text"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx(Ce,{htmlFor:"gratidao",children:"Pelo que você é grato hoje?"}),o.jsx(mn,{id:"gratidao",value:r.gratidao||"",onChange:h=>i({...r,gratidao:h.target.value}),className:"bg-netflix-gray border-netflix-border text-netflix-text",placeholder:"Descreva algo pelo qual se sente grato..."})]})]})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs(pe,{type:"submit",className:"instituto-button flex-1",children:[o.jsx(XE,{className:"h-4 w-4 mr-2"}),"Cadastrar Cliente"]}),o.jsx(pe,{type:"button",variant:"outline",onClick:()=>n(!1),className:"border-netflix-border text-netflix-text hover:bg-netflix-gray",children:"Cancelar"})]})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"text-sm font-medium text-netflix-text",children:"Últimos Cadastros"}),o.jsx("div",{className:"space-y-1 max-h-40 overflow-y-auto",children:o.jsx("div",{className:"p-2 bg-netflix-hover rounded text-center text-sm text-netflix-text-muted",children:"Nenhum cliente cadastrado ainda"})})]})]})},Ytt=[{id:"1",name:"Ana Silva",email:"ana@email.com"},{id:"2",name:"Carlos Santos",email:"carlos@email.com"},{id:"3",name:"Maria Costa",email:"maria@email.com"}],Ztt=[{id:"1",name:"Grupo Iniciantes",members:5},{id:"2",name:"Grupo Avançado",members:8},{id:"3",name:"Grupo VIP",members:3}],Qtt=()=>{const{toast:t}=Ui(),[e,n]=S.useState(!1),[r,i]=S.useState({titulo:"",descricao:"",conteudo:"",destinoTipo:"usuario"}),s=(l,c)=>{i(c==="video"?{...r,videoFile:l}:{...r,pdfFile:l})},a=l=>{l.preventDefault(),console.log("Nova sessão:",r),t({title:"Sessão criada com sucesso!",description:`"${r.titulo}" foi enviada para ${r.destinoTipo==="usuario"?"usuário específico":"grupo"}.`}),i({titulo:"",descricao:"",conteudo:"",destinoTipo:"usuario"}),n(!1)};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs(Ii,{open:e,onOpenChange:n,children:[o.jsx(lo,{asChild:!0,children:o.jsxs(pe,{className:"w-full instituto-button",children:[o.jsx(ws,{className:"h-4 w-4 mr-2"}),"Criar Nova Sessão"]})}),o.jsxs(vi,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[o.jsx(xi,{children:o.jsxs(yi,{className:"flex items-center gap-2",children:[o.jsx(wl,{className:"h-5 w-5 text-instituto-purple"}),"Criar Nova Sessão"]})}),o.jsxs("form",{onSubmit:a,className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Ce,{htmlFor:"titulo",children:"Título da Sessão *"}),o.jsx(ut,{id:"titulo",value:r.titulo,onChange:l=>i({...r,titulo:l.target.value}),className:"bg-netflix-gray border-netflix-border text-netflix-text",placeholder:"Ex: Reflexão sobre Objetivos de Vida",required:!0})]}),o.jsxs("div",{children:[o.jsx(Ce,{htmlFor:"descricao",children:"Descrição *"}),o.jsx(mn,{id:"descricao",value:r.descricao,onChange:l=>i({...r,descricao:l.target.value}),className:"bg-netflix-gray border-netflix-border text-netflix-text",placeholder:"Breve descrição do objetivo da sessão...",required:!0})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-medium text-netflix-text",children:"Materiais (Opcional)"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Ce,{htmlFor:"video",children:"Upload de Vídeo"}),o.jsxs("div",{className:"mt-2",children:[o.jsx("input",{type:"file",accept:"video/*",onChange:l=>{var c;return((c=l.target.files)==null?void 0:c[0])&&s(l.target.files[0],"video")},className:"hidden",id:"video-upload"}),o.jsxs(pe,{type:"button",variant:"outline",onClick:()=>{var l;return(l=document.getElementById("video-upload"))==null?void 0:l.click()},className:"w-full border-netflix-border text-netflix-text hover:bg-netflix-gray",children:[o.jsx(YK,{className:"h-4 w-4 mr-2"}),r.videoFile?r.videoFile.name:"Selecionar Vídeo"]})]}),o.jsxs("div",{className:"mt-2",children:[o.jsx(Ce,{htmlFor:"videoUrl",children:"Ou Link do Vídeo"}),o.jsx(ut,{id:"videoUrl",value:r.videoUrl||"",onChange:l=>i({...r,videoUrl:l.target.value}),className:"bg-netflix-gray border-netflix-border text-netflix-text",placeholder:"https://youtube.com/watch?v=..."})]})]}),o.jsxs("div",{children:[o.jsx(Ce,{htmlFor:"pdf",children:"Upload de PDF"}),o.jsxs("div",{className:"mt-2",children:[o.jsx("input",{type:"file",accept:".pdf",onChange:l=>{var c;return((c=l.target.files)==null?void 0:c[0])&&s(l.target.files[0],"pdf")},className:"hidden",id:"pdf-upload"}),o.jsxs(pe,{type:"button",variant:"outline",onClick:()=>{var l;return(l=document.getElementById("pdf-upload"))==null?void 0:l.click()},className:"w-full border-netflix-border text-netflix-text hover:bg-netflix-gray",children:[o.jsx(af,{className:"h-4 w-4 mr-2"}),r.pdfFile?r.pdfFile.name:"Selecionar PDF"]})]})]})]})]}),o.jsxs("div",{children:[o.jsx(Ce,{htmlFor:"conteudo",children:"Conteúdo da Sessão *"}),o.jsx(mn,{id:"conteudo",value:r.conteudo,onChange:l=>i({...r,conteudo:l.target.value}),className:"bg-netflix-gray border-netflix-border text-netflix-text min-h-[120px]",placeholder:"Instruções detalhadas, perguntas para reflexão, exercícios práticos...",required:!0})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(Ce,{children:"Destino da Sessão *"}),o.jsxs(z2,{value:r.destinoTipo,onValueChange:l=>i({...r,destinoTipo:l}),children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ac,{value:"usuario",id:"usuario"}),o.jsxs(Ce,{htmlFor:"usuario",className:"flex items-center gap-2",children:[o.jsx(ao,{className:"h-4 w-4"}),"Usuário Específico"]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ac,{value:"grupo",id:"grupo"}),o.jsxs(Ce,{htmlFor:"grupo",className:"flex items-center gap-2",children:[o.jsx(ur,{className:"h-4 w-4"}),"Grupo de Usuários"]})]})]}),r.destinoTipo==="usuario"&&o.jsxs("div",{children:[o.jsx(Ce,{htmlFor:"usuario-select",children:"Selecionar Usuário"}),o.jsxs(nr,{value:r.usuarioSelecionado||"",onValueChange:l=>i({...r,usuarioSelecionado:l}),children:[o.jsx(Xn,{className:"bg-netflix-gray border-netflix-border text-netflix-text",children:o.jsx(rr,{placeholder:"Escolha um usuário"})}),o.jsx(Yn,{children:Ytt.map(l=>o.jsx(ht,{value:l.id,children:o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{children:l.name}),o.jsx("span",{className:"text-xs text-netflix-text-muted",children:l.email})]})},l.id))})]})]}),r.destinoTipo==="grupo"&&o.jsxs("div",{children:[o.jsx(Ce,{htmlFor:"grupo-select",children:"Selecionar Grupo"}),o.jsxs(nr,{value:r.grupoSelecionado||"",onValueChange:l=>i({...r,grupoSelecionado:l}),children:[o.jsx(Xn,{className:"bg-netflix-gray border-netflix-border text-netflix-text",children:o.jsx(rr,{placeholder:"Escolha um grupo"})}),o.jsx(Yn,{children:Ztt.map(l=>o.jsx(ht,{value:l.id,children:o.jsxs("div",{className:"flex items-center justify-between w-full",children:[o.jsx("span",{children:l.name}),o.jsxs(Nt,{variant:"secondary",className:"ml-2",children:[l.members," membros"]})]})},l.id))})]}),o.jsxs(pe,{type:"button",variant:"outline",className:"mt-2 w-full border-netflix-border text-netflix-text hover:bg-netflix-gray",children:[o.jsx(ws,{className:"h-4 w-4 mr-2"}),"Criar Novo Grupo"]})]})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs(pe,{type:"submit",className:"instituto-button flex-1",children:[o.jsx(cw,{className:"h-4 w-4 mr-2"}),"Publicar Sessão"]}),o.jsx(pe,{type:"button",variant:"outline",onClick:()=>n(!1),className:"border-netflix-border text-netflix-text hover:bg-netflix-gray",children:"Cancelar"})]})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"text-sm font-medium text-netflix-text",children:"Sessões Ativas"}),o.jsx("div",{className:"space-y-1 max-h-40 overflow-y-auto",children:o.jsx("div",{className:"p-2 bg-netflix-hover rounded text-center text-sm text-netflix-text-muted",children:"Nenhuma sessão ativa"})})]})]})},Jtt=[{id:"1",titulo:"Reflexão sobre Objetivos de Vida",cliente:"Ana Silva",tipo:"individual",status:"visualizada",dataEnvio:new Date("2024-01-15"),dataVisualizacao:new Date("2024-01-16")},{id:"2",titulo:"Autoconhecimento Profundo",cliente:"Grupo Iniciantes",tipo:"grupo",status:"em-andamento",dataEnvio:new Date("2024-01-14"),membrosGrupo:5},{id:"3",titulo:"Gestão de Ansiedade",cliente:"Carlos Santos",tipo:"individual",status:"nao-vista",dataEnvio:new Date("2024-01-13")}],ent=()=>{const[t]=S.useState(Jtt),[e,n]=S.useState(""),[r,i]=S.useState("todos"),s=c=>{switch(c){case"visualizada":return o.jsx(Nt,{className:"bg-instituto-green text-white",children:"Visualizada"});case"em-andamento":return o.jsx(Nt,{className:"bg-instituto-orange text-white",children:"Em Andamento"});case"nao-vista":return o.jsx(Nt,{variant:"outline",className:"border-netflix-border text-netflix-text-muted",children:"Não Vista"});default:return o.jsx(Nt,{variant:"secondary",children:"Desconhecido"})}},a=c=>{switch(c){case"visualizada":return o.jsx(eo,{className:"h-4 w-4 text-instituto-green"});case"em-andamento":return o.jsx(In,{className:"h-4 w-4 text-instituto-orange"});case"nao-vista":return o.jsx(qE,{className:"h-4 w-4 text-netflix-text-muted"});default:return o.jsx(In,{className:"h-4 w-4"})}},l=t.filter(c=>{const u=c.titulo.toLowerCase().includes(e.toLowerCase())||c.cliente.toLowerCase().includes(e.toLowerCase()),d=r==="todos"||c.status===r;return u&&d});return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(Qv,{className:"h-4 w-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-netflix-text-muted"}),o.jsx(ut,{placeholder:"Buscar por título ou cliente...",value:e,onChange:c=>n(c.target.value),className:"bg-netflix-gray border-netflix-border text-netflix-text pl-10"})]}),o.jsxs("select",{value:r,onChange:c=>i(c.target.value),className:"px-3 py-2 bg-netflix-gray border border-netflix-border text-netflix-text rounded-md",children:[o.jsx("option",{value:"todos",children:"Todos os Status"}),o.jsx("option",{value:"visualizada",children:"Visualizada"}),o.jsx("option",{value:"em-andamento",children:"Em Andamento"}),o.jsx("option",{value:"nao-vista",children:"Não Vista"})]})]}),o.jsx("div",{className:"space-y-3",children:l.length===0?o.jsx(le,{className:"bg-netflix-card border-netflix-border",children:o.jsxs(ue,{className:"text-center py-8",children:[o.jsx(In,{className:"h-12 w-12 text-netflix-text-muted mx-auto mb-3"}),o.jsx("p",{className:"text-netflix-text-muted",children:e||r!=="todos"?"Nenhuma sessão encontrada com os filtros aplicados":"Nenhuma sessão no histórico"})]})}):l.map((c,u)=>o.jsx(le,{className:"bg-netflix-card border-netflix-border hover:border-instituto-orange/50 transition-all duration-300 animate-fade-in-up",style:{animationDelay:`${u*.1}s`},children:o.jsx(ue,{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[o.jsx("div",{className:"p-2 bg-instituto-purple/10 rounded-lg",children:a(c.status)}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("h3",{className:"font-semibold text-netflix-text",children:c.titulo}),s(c.status)]}),o.jsxs("div",{className:"flex items-center gap-4 text-sm text-netflix-text-muted",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[c.tipo==="grupo"?o.jsx(ur,{className:"h-4 w-4"}):o.jsx(ao,{className:"h-4 w-4"}),o.jsxs("span",{children:[c.cliente,c.tipo==="grupo"&&c.membrosGrupo&&` (${c.membrosGrupo} membros)`]})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(In,{className:"h-4 w-4"}),o.jsxs("span",{children:["Enviado: ",c.dataEnvio.toLocaleDateString()]})]}),c.dataVisualizacao&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(eo,{className:"h-4 w-4"}),o.jsxs("span",{children:["Visto: ",c.dataVisualizacao.toLocaleDateString()]})]})]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(pe,{size:"sm",variant:"outline",className:"border-netflix-border text-netflix-text hover:bg-instituto-orange hover:text-white hover:border-instituto-orange transition-all duration-300",children:o.jsx(yv,{className:"h-4 w-4"})}),o.jsx(pe,{size:"sm",variant:"outline",className:"border-netflix-border text-netflix-text hover:bg-instituto-green hover:text-white hover:border-instituto-green transition-all duration-300",children:o.jsx(cw,{className:"h-4 w-4"})}),o.jsx(pe,{size:"sm",variant:"outline",className:"border-netflix-border text-netflix-text hover:bg-red-500 hover:text-white hover:border-red-500 transition-all duration-300",children:o.jsx(Tm,{className:"h-4 w-4"})})]})]})})},c.id))}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsx(le,{className:"bg-netflix-card border-netflix-border",children:o.jsxs(ue,{className:"p-4 text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-netflix-text",children:t.length}),o.jsx("div",{className:"text-sm text-netflix-text-muted",children:"Total de Sessões"})]})}),o.jsx(le,{className:"bg-netflix-card border-netflix-border",children:o.jsxs(ue,{className:"p-4 text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-instituto-green",children:t.filter(c=>c.status==="visualizada").length}),o.jsx("div",{className:"text-sm text-netflix-text-muted",children:"Visualizadas"})]})}),o.jsx(le,{className:"bg-netflix-card border-netflix-border",children:o.jsxs(ue,{className:"p-4 text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-instituto-orange",children:t.filter(c=>c.status==="em-andamento").length}),o.jsx("div",{className:"text-sm text-netflix-text-muted",children:"Em Andamento"})]})}),o.jsx(le,{className:"bg-netflix-card border-netflix-border",children:o.jsxs(ue,{className:"p-4 text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-netflix-text-muted",children:t.filter(c=>c.status==="nao-vista").length}),o.jsx("div",{className:"text-sm text-netflix-text-muted",children:"Não Vistas"})]})})]})]})},tnt=[{data:"15/01",horas:7.5},{data:"16/01",horas:6.5},{data:"17/01",horas:8},{data:"18/01",horas:7},{data:"19/01",horas:8.5},{data:"20/01",horas:7.5},{data:"21/01",horas:9}],nnt=[{data:"15/01",litros:2},{data:"16/01",litros:1.5},{data:"17/01",litros:2.5},{data:"18/01",litros:2.2},{data:"19/01",litros:3},{data:"20/01",litros:2.8},{data:"21/01",litros:2.5}],rnt=[{data:"15/01",nivel:4},{data:"16/01",nivel:6},{data:"17/01",nivel:3},{data:"18/01",nivel:5},{data:"19/01",nivel:2},{data:"20/01",nivel:4},{data:"21/01",nivel:3}],int=[{aspecto:"Autocuidado",valor:8,fullMark:10},{aspecto:"Gratidão",valor:9,fullMark:10},{aspecto:"Apoio Familiar",valor:7,fullMark:10},{aspecto:"Motivação",valor:6,fullMark:10},{aspecto:"Disciplina",valor:5,fullMark:10},{aspecto:"Bem-estar",valor:8,fullMark:10}],G9=[{id:"1",name:"Ana Silva"},{id:"2",name:"Carlos Santos"},{id:"3",name:"Maria Costa"}],snt=()=>{const[t,e]=S.useState(""),[n,r]=S.useState("completo"),i=()=>{console.log("Exportando relatório para:",{cliente:t,tipo:n})};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex gap-4",children:[o.jsx("div",{className:"flex-1",children:o.jsxs(nr,{value:t,onValueChange:e,children:[o.jsx(Xn,{className:"bg-netflix-gray border-netflix-border text-netflix-text",children:o.jsx(rr,{placeholder:"Selecionar Cliente"})}),o.jsx(Yn,{children:G9.map(s=>o.jsx(ht,{value:s.id,children:s.name},s.id))})]})}),o.jsx("div",{className:"flex-1",children:o.jsxs(nr,{value:n,onValueChange:r,children:[o.jsx(Xn,{className:"bg-netflix-gray border-netflix-border text-netflix-text",children:o.jsx(rr,{placeholder:"Tipo de Relatório"})}),o.jsxs(Yn,{children:[o.jsx(ht,{value:"completo",children:"Relatório Completo"}),o.jsx(ht,{value:"sono",children:"Evolução do Sono"}),o.jsx(ht,{value:"agua",children:"Consumo de Água"}),o.jsx(ht,{value:"estresse",children:"Níveis de Estresse"}),o.jsx(ht,{value:"emocional",children:"Perfil Emocional"})]})]})}),o.jsxs(pe,{onClick:i,disabled:!t,className:"instituto-button",children:[o.jsx(VK,{className:"h-4 w-4 mr-2"}),"Exportar PDF"]})]}),t?o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(le,{className:"bg-netflix-card border-netflix-border",children:[o.jsx(Qe,{children:o.jsxs(et,{className:"text-netflix-text flex items-center gap-2",children:[o.jsx(Am,{className:"h-5 w-5 text-instituto-purple"}),"Evolução do Sono"]})}),o.jsxs(ue,{children:[o.jsx(li,{width:"100%",height:200,children:o.jsxs(jl,{data:tnt,children:[o.jsx(Ns,{strokeDasharray:"3 3",stroke:"#333"}),o.jsx(Ji,{dataKey:"data",stroke:"#666"}),o.jsx(wi,{stroke:"#666"}),o.jsx(Zi,{contentStyle:{backgroundColor:"#1a1a1a",border:"1px solid #333",borderRadius:"8px"}}),o.jsx(bi,{type:"monotone",dataKey:"horas",stroke:"#8B5FBF",strokeWidth:2,dot:{fill:"#8B5FBF",strokeWidth:2}})]})}),o.jsxs("div",{className:"mt-4 p-3 bg-instituto-purple/10 rounded-lg",children:[o.jsxs("div",{className:"text-sm text-netflix-text",children:[o.jsx("strong",{children:"Média:"})," 7.6 horas/noite"]}),o.jsx("div",{className:"text-xs text-netflix-text-muted mt-1",children:"Recomendação: 7-9 horas por noite"})]})]})]}),o.jsxs(le,{className:"bg-netflix-card border-netflix-border",children:[o.jsx(Qe,{children:o.jsxs(et,{className:"text-netflix-text flex items-center gap-2",children:[o.jsx(xv,{className:"h-5 w-5 text-instituto-blue"}),"Consumo de Água"]})}),o.jsxs(ue,{children:[o.jsx(li,{width:"100%",height:200,children:o.jsxs(jl,{data:nnt,children:[o.jsx(Ns,{strokeDasharray:"3 3",stroke:"#333"}),o.jsx(Ji,{dataKey:"data",stroke:"#666"}),o.jsx(wi,{stroke:"#666"}),o.jsx(Zi,{contentStyle:{backgroundColor:"#1a1a1a",border:"1px solid #333",borderRadius:"8px"}}),o.jsx(bi,{type:"monotone",dataKey:"litros",stroke:"#4FC3F7",strokeWidth:2,dot:{fill:"#4FC3F7",strokeWidth:2}})]})}),o.jsxs("div",{className:"mt-4 p-3 bg-blue-500/10 rounded-lg",children:[o.jsxs("div",{className:"text-sm text-netflix-text",children:[o.jsx("strong",{children:"Média:"})," 2.4 litros/dia"]}),o.jsx("div",{className:"text-xs text-netflix-text-muted mt-1",children:"Meta: 2.5 litros por dia"})]})]})]}),o.jsxs(le,{className:"bg-netflix-card border-netflix-border",children:[o.jsx(Qe,{children:o.jsxs(et,{className:"text-netflix-text flex items-center gap-2",children:[o.jsx(Vr,{className:"h-5 w-5 text-instituto-orange"}),"Níveis de Estresse"]})}),o.jsxs(ue,{children:[o.jsx(li,{width:"100%",height:200,children:o.jsxs(jl,{data:rnt,children:[o.jsx(Ns,{strokeDasharray:"3 3",stroke:"#333"}),o.jsx(Ji,{dataKey:"data",stroke:"#666"}),o.jsx(wi,{domain:[0,10],stroke:"#666"}),o.jsx(Zi,{contentStyle:{backgroundColor:"#1a1a1a",border:"1px solid #333",borderRadius:"8px"}}),o.jsx(bi,{type:"monotone",dataKey:"nivel",stroke:"#FF7043",strokeWidth:2,dot:{fill:"#FF7043",strokeWidth:2}})]})}),o.jsxs("div",{className:"mt-4 p-3 bg-orange-500/10 rounded-lg",children:[o.jsxs("div",{className:"text-sm text-netflix-text",children:[o.jsx("strong",{children:"Média:"})," 4.0/10"]}),o.jsx("div",{className:"text-xs text-netflix-text-muted mt-1",children:"Tendência: Em redução"})]})]})]}),o.jsxs(le,{className:"bg-netflix-card border-netflix-border",children:[o.jsx(Qe,{children:o.jsxs(et,{className:"text-netflix-text flex items-center gap-2",children:[o.jsx(Es,{className:"h-5 w-5 text-instituto-green"}),"Perfil Emocional"]})}),o.jsxs(ue,{children:[o.jsx(li,{width:"100%",height:200,children:o.jsxs(P8e,{data:int,children:[o.jsx(Rie,{stroke:"#333"}),o.jsx(QC,{dataKey:"aspecto",tick:{fontSize:10,fill:"#666"}}),o.jsx(YC,{angle:90,domain:[0,10],tick:{fontSize:8,fill:"#666"}}),o.jsx(dF,{name:"Pontuação",dataKey:"valor",stroke:"#66BB6A",fill:"#66BB6A",fillOpacity:.2,strokeWidth:2})]})}),o.jsxs("div",{className:"mt-4 p-3 bg-green-500/10 rounded-lg",children:[o.jsxs("div",{className:"text-sm text-netflix-text",children:[o.jsx("strong",{children:"Score Geral:"})," 7.2/10"]}),o.jsx("div",{className:"text-xs text-netflix-text-muted mt-1",children:"Área de foco: Motivação e Disciplina"})]})]})]})]}):o.jsx(le,{className:"bg-netflix-card border-netflix-border",children:o.jsxs(ue,{className:"text-center py-12",children:[o.jsx(mf,{className:"h-16 w-16 text-netflix-text-muted mx-auto mb-4"}),o.jsx("h3",{className:"text-xl font-bold text-netflix-text mb-2",children:"Relatórios Personalizados"}),o.jsx("p",{className:"text-netflix-text-muted mb-6",children:"Selecione um cliente para visualizar gráficos detalhados de progresso"}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 max-w-2xl mx-auto",children:[o.jsxs("div",{className:"p-4 bg-netflix-hover rounded-lg",children:[o.jsx(Am,{className:"h-8 w-8 text-instituto-purple mx-auto mb-2"}),o.jsx("div",{className:"text-sm text-netflix-text",children:"Sono"})]}),o.jsxs("div",{className:"p-4 bg-netflix-hover rounded-lg",children:[o.jsx(xv,{className:"h-8 w-8 text-blue-400 mx-auto mb-2"}),o.jsx("div",{className:"text-sm text-netflix-text",children:"Hidratação"})]}),o.jsxs("div",{className:"p-4 bg-netflix-hover rounded-lg",children:[o.jsx(Vr,{className:"h-8 w-8 text-instituto-orange mx-auto mb-2"}),o.jsx("div",{className:"text-sm text-netflix-text",children:"Estresse"})]}),o.jsxs("div",{className:"p-4 bg-netflix-hover rounded-lg",children:[o.jsx(Es,{className:"h-8 w-8 text-instituto-green mx-auto mb-2"}),o.jsx("div",{className:"text-sm text-netflix-text",children:"Emocional"})]})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(le,{className:"bg-netflix-card border-netflix-border",children:o.jsx(ue,{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(ur,{className:"h-8 w-8 text-instituto-orange"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-2xl font-bold text-netflix-text",children:G9.length}),o.jsx("div",{className:"text-sm text-netflix-text-muted",children:"Clientes Ativos"})]})]})})}),o.jsx(le,{className:"bg-netflix-card border-netflix-border",children:o.jsx(ue,{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(In,{className:"h-8 w-8 text-instituto-green"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-2xl font-bold text-netflix-text",children:"89%"}),o.jsx("div",{className:"text-sm text-netflix-text-muted",children:"Taxa de Adesão"})]})]})})}),o.jsx(le,{className:"bg-netflix-card border-netflix-border",children:o.jsx(ue,{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Hr,{className:"h-8 w-8 text-instituto-purple"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-2xl font-bold text-netflix-text",children:"+15%"}),o.jsx("div",{className:"text-sm text-netflix-text-muted",children:"Melhoria Geral"})]})]})})})]})]})};var Kue="AlertDialog",[ant,Prt]=qr(Kue,[EJ]),ed=EJ(),Xue=t=>{const{__scopeAlertDialog:e,...n}=t,r=ed(e);return o.jsx(BJ,{...r,...n,modal:!0})};Xue.displayName=Kue;var ont="AlertDialogTrigger",Yue=S.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=ed(n);return o.jsx(zJ,{...i,...r,ref:e})});Yue.displayName=ont;var lnt="AlertDialogPortal",Zue=t=>{const{__scopeAlertDialog:e,...n}=t,r=ed(e);return o.jsx(VJ,{...r,...n})};Zue.displayName=lnt;var cnt="AlertDialogOverlay",Que=S.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=ed(n);return o.jsx(tL,{...i,...r,ref:e})});Que.displayName=cnt;var tv="AlertDialogContent",[unt,dnt]=ant(tv),fnt=gK("AlertDialogContent"),Jue=S.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...i}=t,s=ed(n),a=S.useRef(null),l=Wt(e,a),c=S.useRef(null);return o.jsx(pMe,{contentName:tv,titleName:ede,docsSlug:"alert-dialog",children:o.jsx(unt,{scope:n,cancelRef:c,children:o.jsxs(nL,{role:"alertdialog",...s,...i,ref:l,onOpenAutoFocus:ot(i.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[o.jsx(fnt,{children:r}),o.jsx(mnt,{contentRef:a})]})})})});Jue.displayName=tv;var ede="AlertDialogTitle",tde=S.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=ed(n);return o.jsx(rL,{...i,...r,ref:e})});tde.displayName=ede;var nde="AlertDialogDescription",rde=S.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=ed(n);return o.jsx(iL,{...i,...r,ref:e})});rde.displayName=nde;var hnt="AlertDialogAction",ide=S.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=ed(n);return o.jsx(sL,{...i,...r,ref:e})});ide.displayName=hnt;var sde="AlertDialogCancel",ade=S.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:i}=dnt(sde,n),s=ed(n),a=Wt(e,i);return o.jsx(sL,{...s,...r,ref:a})});ade.displayName=sde;var mnt=({contentRef:t})=>{const e=`\`${tv}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${tv}\` by passing a \`${nde}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${tv}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return S.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},pnt=Xue,gnt=Yue,vnt=Zue,ode=Que,lde=Jue,cde=ide,ude=ade,dde=tde,fde=rde;const xnt=pnt,ynt=gnt,bnt=vnt,hde=S.forwardRef(({className:t,...e},n)=>o.jsx(ode,{className:xt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));hde.displayName=ode.displayName;const mde=S.forwardRef(({className:t,...e},n)=>o.jsxs(bnt,{children:[o.jsx(hde,{}),o.jsx(lde,{ref:n,className:xt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));mde.displayName=lde.displayName;const pde=({className:t,...e})=>o.jsx("div",{className:xt("flex flex-col space-y-2 text-center sm:text-left",t),...e});pde.displayName="AlertDialogHeader";const gde=({className:t,...e})=>o.jsx("div",{className:xt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});gde.displayName="AlertDialogFooter";const vde=S.forwardRef(({className:t,...e},n)=>o.jsx(dde,{ref:n,className:xt("text-lg font-semibold",t),...e}));vde.displayName=dde.displayName;const xde=S.forwardRef(({className:t,...e},n)=>o.jsx(fde,{ref:n,className:xt("text-sm text-muted-foreground",t),...e}));xde.displayName=fde.displayName;const yde=S.forwardRef(({className:t,...e},n)=>o.jsx(cde,{ref:n,className:xt(cb(),t),...e}));yde.displayName=cde.displayName;const bde=S.forwardRef(({className:t,...e},n)=>o.jsx(ude,{ref:n,className:xt(cb({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));bde.displayName=ude.displayName;const wnt=()=>{const{toast:t}=Ui(),[e,n]=S.useState([]),[r,i]=S.useState(!0),[s,a]=S.useState(""),[l,c]=S.useState("all"),[u,d]=S.useState(null),[f,h]=S.useState(!1),[m,p]=S.useState(!1),[x,v]=S.useState({email:"",full_name:"",role:"client"}),[g,w]=S.useState({email:"",password:"",full_name:"",role:"client"});S.useEffect(()=>{_()},[]);const _=async()=>{try{i(!0);const{data:R,error:D}=await He.from("profiles").select(`
          id,
          user_id,
          email,
          full_name,
          role,
          created_at
        `).order("created_at",{ascending:!1});if(D)throw D;const F=await Promise.all(R.map(async I=>{const{data:G}=await He.from("dados_fisicos_usuario").select("nome_completo, peso_atual_kg, altura_cm, imc, meta_peso_kg").eq("user_id",I.id).maybeSingle();return{...I,dados_fisicos:G}}));n(F)}catch(R){console.error("Erro ao buscar usuários:",R),t({title:"Erro",description:"Não foi possível carregar a lista de usuários.",variant:"destructive"})}finally{i(!1)}},E=R=>{d(R),v({email:R.email,full_name:R.full_name||"",role:R.role}),h(!0)},N=async()=>{if(u)try{const{error:R}=await He.from("profiles").update({email:x.email,full_name:x.full_name,role:x.role}).eq("id",u.id);if(R)throw R;t({title:"Sucesso",description:"Usuário atualizado com sucesso."}),h(!1),d(null),_()}catch(R){console.error("Erro ao atualizar usuário:",R),t({title:"Erro",description:"Não foi possível atualizar o usuário.",variant:"destructive"})}},C=async()=>{try{const{data:R,error:D}=await He.auth.signUp({email:g.email,password:g.password,options:{data:{full_name:g.full_name}}});if(D)throw D;if(R.user&&g.role!=="client"){const{error:F}=await He.from("profiles").update({role:g.role}).eq("user_id",R.user.id);if(F)throw F}t({title:"Sucesso",description:"Usuário criado com sucesso."}),p(!1),w({email:"",password:"",full_name:"",role:"client"}),_()}catch(R){console.error("Erro ao criar usuário:",R),t({title:"Erro",description:"Não foi possível criar o usuário.",variant:"destructive"})}},j=async R=>{try{const{error:D}=await He.from("profiles").delete().eq("user_id",R);if(D)throw D;t({title:"Sucesso",description:"Usuário removido com sucesso."}),_()}catch(D){console.error("Erro ao deletar usuário:",D),t({title:"Erro",description:"Não foi possível remover o usuário.",variant:"destructive"})}},T=e.filter(R=>{var I;const D=R.email.toLowerCase().includes(s.toLowerCase())||R.full_name&&R.full_name.toLowerCase().includes(s.toLowerCase())||((I=R.dados_fisicos)==null?void 0:I.nome_completo)&&R.dados_fisicos.nome_completo.toLowerCase().includes(s.toLowerCase()),F=l==="all"||R.role===l;return D&&F}),A=R=>{switch(R){case"admin":return"bg-red-500/10 text-red-500 border-red-500/20";case"client":return"bg-blue-500/10 text-blue-500 border-blue-500/20";default:return"bg-gray-500/10 text-gray-500 border-gray-500/20"}},P=R=>{switch(R){case"admin":return"Administrador";case"client":return"Cliente";default:return"Visitante"}};return r?o.jsx(le,{className:"bg-netflix-card border-netflix-border",children:o.jsxs(ue,{className:"flex items-center justify-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-instituto-orange"}),o.jsx("span",{className:"ml-4 text-netflix-text",children:"Carregando usuários..."})]})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs(le,{className:"bg-netflix-card border-netflix-border",children:[o.jsx(Qe,{children:o.jsxs(et,{className:"text-netflix-text flex items-center gap-2",children:[o.jsx(KE,{className:"h-5 w-5 text-instituto-orange"}),"Gerenciamento de Usuários (",e.length,")"]})}),o.jsx(ue,{children:o.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Qv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-netflix-text-muted"}),o.jsx(ut,{placeholder:"Buscar por email ou nome...",value:s,onChange:R=>a(R.target.value),className:"pl-10 bg-netflix-hover border-netflix-border text-netflix-text"})]}),o.jsxs(nr,{value:l,onValueChange:c,children:[o.jsxs(Xn,{className:"w-48 bg-netflix-hover border-netflix-border text-netflix-text",children:[o.jsx($K,{className:"h-4 w-4 mr-2"}),o.jsx(rr,{})]}),o.jsxs(Yn,{children:[o.jsx(ht,{value:"all",children:"Todos os papéis"}),o.jsx(ht,{value:"admin",children:"Administradores"}),o.jsx(ht,{value:"client",children:"Clientes"}),o.jsx(ht,{value:"visitor",children:"Visitantes"})]})]}),o.jsxs(Ii,{open:m,onOpenChange:p,children:[o.jsx(lo,{asChild:!0,children:o.jsxs(pe,{className:"instituto-button",children:[o.jsx(XE,{className:"h-4 w-4 mr-2"}),"Criar Usuário"]})}),o.jsxs(vi,{children:[o.jsx(xi,{children:o.jsx(yi,{children:"Criar Novo Usuário"})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Ce,{htmlFor:"create-email",children:"Email"}),o.jsx(ut,{id:"create-email",type:"email",value:g.email,onChange:R=>w({...g,email:R.target.value}),className:"bg-netflix-hover border-netflix-border text-netflix-text"})]}),o.jsxs("div",{children:[o.jsx(Ce,{htmlFor:"create-password",children:"Senha"}),o.jsx(ut,{id:"create-password",type:"password",value:g.password,onChange:R=>w({...g,password:R.target.value}),className:"bg-netflix-hover border-netflix-border text-netflix-text"})]}),o.jsxs("div",{children:[o.jsx(Ce,{htmlFor:"create-name",children:"Nome Completo"}),o.jsx(ut,{id:"create-name",value:g.full_name,onChange:R=>w({...g,full_name:R.target.value}),className:"bg-netflix-hover border-netflix-border text-netflix-text"})]}),o.jsxs("div",{children:[o.jsx(Ce,{htmlFor:"create-role",children:"Papel"}),o.jsxs(nr,{value:g.role,onValueChange:R=>w({...g,role:R}),children:[o.jsx(Xn,{className:"bg-netflix-hover border-netflix-border text-netflix-text",children:o.jsx(rr,{})}),o.jsxs(Yn,{children:[o.jsx(ht,{value:"client",children:"Cliente"}),o.jsx(ht,{value:"visitor",children:"Visitante"}),o.jsx(ht,{value:"admin",children:"Administrador"})]})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(pe,{onClick:C,className:"instituto-button flex-1",children:"Criar Usuário"}),o.jsx(pe,{variant:"outline",onClick:()=>p(!1),className:"border-netflix-border text-netflix-text",children:"Cancelar"})]})]})]})]}),o.jsxs(pe,{onClick:_,variant:"outline",className:"border-netflix-border text-netflix-text hover:bg-netflix-hover",children:[o.jsx(KK,{className:"h-4 w-4 mr-2"}),"Atualizar"]})]})})]}),o.jsx(le,{className:"bg-netflix-card border-netflix-border",children:o.jsx(ue,{className:"p-0",children:T.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(ur,{className:"h-16 w-16 text-netflix-text-muted mx-auto mb-4"}),o.jsx("h3",{className:"text-xl font-bold text-netflix-text mb-2",children:"Nenhum usuário encontrado"}),o.jsx("p",{className:"text-netflix-text-muted",children:s||l!=="all"?"Tente ajustar os filtros":"Nenhum usuário cadastrado ainda"})]}):o.jsx("div",{className:"divide-y divide-netflix-border",children:T.map((R,D)=>{var F;return o.jsx("div",{className:"p-6 hover:bg-netflix-hover transition-colors",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-12 h-12 bg-instituto-orange/20 rounded-full flex items-center justify-center",children:o.jsx(p2,{className:"h-6 w-6 text-instituto-orange"})}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("h3",{className:"font-semibold text-netflix-text",children:((F=R.dados_fisicos)==null?void 0:F.nome_completo)||R.full_name||"Nome não informado"}),o.jsx(Nt,{variant:"outline",className:A(R.role),children:P(R.role)})]}),o.jsxs("div",{className:"flex items-center gap-4 text-sm text-netflix-text-muted",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(jm,{className:"h-3 w-3"}),R.email]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(In,{className:"h-3 w-3"}),Ot(new Date(R.created_at),"dd/MM/yyyy",{locale:pn})]})]}),R.dados_fisicos&&o.jsxs("div",{className:"text-xs text-netflix-text-muted",children:["IMC: ",R.dados_fisicos.imc," | Peso: ",R.dados_fisicos.peso_atual_kg,"kg | Meta: ",R.dados_fisicos.meta_peso_kg,"kg"]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(pe,{size:"sm",variant:"outline",onClick:()=>E(R),className:"border-netflix-border text-netflix-text hover:bg-netflix-gray",children:o.jsx(yv,{className:"h-4 w-4"})}),o.jsxs(xnt,{children:[o.jsx(ynt,{asChild:!0,children:o.jsx(pe,{size:"sm",variant:"outline",className:"border-red-500/20 text-red-500 hover:bg-red-500/10",children:o.jsx(Tm,{className:"h-4 w-4"})})}),o.jsxs(mde,{className:"bg-netflix-card border-netflix-border",children:[o.jsxs(pde,{children:[o.jsx(vde,{className:"text-netflix-text",children:"Confirmar exclusão"}),o.jsxs(xde,{className:"text-netflix-text-muted",children:["Tem certeza que deseja excluir o usuário ",R.email,"? Esta ação não pode ser desfeita."]})]}),o.jsxs(gde,{children:[o.jsx(bde,{className:"border-netflix-border text-netflix-text",children:"Cancelar"}),o.jsx(yde,{onClick:()=>j(R.user_id),className:"bg-red-500 hover:bg-red-600 text-white",children:"Excluir"})]})]})]})]})]})},R.id)})})})}),o.jsx(Ii,{open:f,onOpenChange:h,children:o.jsxs(vi,{children:[o.jsx(xi,{children:o.jsx(yi,{children:"Editar Usuário"})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Ce,{htmlFor:"edit-email",children:"Email"}),o.jsx(ut,{id:"edit-email",type:"email",value:x.email,onChange:R=>v({...x,email:R.target.value}),className:"bg-netflix-hover border-netflix-border text-netflix-text"})]}),o.jsxs("div",{children:[o.jsx(Ce,{htmlFor:"edit-name",children:"Nome Completo"}),o.jsx(ut,{id:"edit-name",value:x.full_name,onChange:R=>v({...x,full_name:R.target.value}),className:"bg-netflix-hover border-netflix-border text-netflix-text"})]}),o.jsxs("div",{children:[o.jsx(Ce,{htmlFor:"edit-role",children:"Papel"}),o.jsxs(nr,{value:x.role,onValueChange:R=>v({...x,role:R}),children:[o.jsx(Xn,{className:"bg-netflix-hover border-netflix-border text-netflix-text",children:o.jsx(rr,{})}),o.jsxs(Yn,{children:[o.jsx(ht,{value:"client",children:"Cliente"}),o.jsx(ht,{value:"visitor",children:"Visitante"}),o.jsx(ht,{value:"admin",children:"Administrador"})]})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(pe,{onClick:N,className:"instituto-button flex-1",children:"Salvar Alterações"}),o.jsx(pe,{variant:"outline",onClick:()=>h(!1),className:"border-netflix-border text-netflix-text",children:"Cancelar"})]})]})]})})]})},_nt=()=>{const[t,e]=S.useState([]),[n,r]=S.useState([]),[i,s]=S.useState([]),[a,l]=S.useState(!0),[c,u]=S.useState(""),[d,f]=S.useState("");S.useEffect(()=>{h()},[]);const h=async()=>{try{l(!0);const{data:v,error:g}=await He.from("missao_dia").select("id, data, user_id, humor, nota_dia, concluido").order("data",{ascending:!1}).limit(100);if(g)throw g;const w=await Promise.all(v.map(async A=>{const{data:P}=await He.from("profiles").select("email, full_name").eq("id",A.user_id).single();return{...A,user_name:(P==null?void 0:P.full_name)||"Nome não informado",user_email:(P==null?void 0:P.email)||""}}));e(w);const{data:_,error:E}=await He.from("goals").select("id, name, type, progress, target_date, user_id").order("created_at",{ascending:!1});if(E)throw E;const N=await Promise.all(_.map(async A=>{const{data:P}=await He.from("profiles").select("email, full_name").eq("id",A.user_id).single();return{...A,user_name:(P==null?void 0:P.full_name)||"Nome não informado",user_email:(P==null?void 0:P.email)||""}}));r(N);const{data:C,error:j}=await He.from("dados_saude_usuario").select("id, peso_atual_kg, imc, meta_peso_kg, data_atualizacao, user_id").order("data_atualizacao",{ascending:!1});if(j)throw j;const T=await Promise.all(C.map(async A=>{const{data:P}=await He.from("profiles").select("email, full_name").eq("id",A.user_id).single();return{...A,user_name:(P==null?void 0:P.full_name)||"Nome não informado",user_email:(P==null?void 0:P.email)||""}}));s(T)}catch(v){console.error("Erro ao buscar dados:",v)}finally{l(!1)}},m=t.filter(v=>{const g=v.user_name.toLowerCase().includes(c.toLowerCase())||v.user_email.toLowerCase().includes(c.toLowerCase()),w=!d||v.data===d;return g&&w}),p=v=>{switch(v){case"muito_bem":return"bg-green-500/10 text-green-500";case"bem":return"bg-blue-500/10 text-blue-500";case"normal":return"bg-yellow-500/10 text-yellow-500";case"mal":return"bg-orange-500/10 text-orange-500";case"muito_mal":return"bg-red-500/10 text-red-500";default:return"bg-gray-500/10 text-gray-500"}},x=v=>{switch(v){case"muito_bem":return"Muito Bem";case"bem":return"Bem";case"normal":return"Normal";case"mal":return"Mal";case"muito_mal":return"Muito Mal";default:return"Não informado"}};return a?o.jsx(le,{className:"bg-netflix-card border-netflix-border",children:o.jsxs(ue,{className:"flex items-center justify-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-instituto-orange"}),o.jsx("span",{className:"ml-4 text-netflix-text",children:"Carregando dados..."})]})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs(le,{className:"bg-netflix-card border-netflix-border",children:[o.jsx(Qe,{children:o.jsxs(et,{className:"text-netflix-text flex items-center gap-2",children:[o.jsx(eo,{className:"h-5 w-5 text-instituto-orange"}),"Visualização de Dados dos Usuários"]})}),o.jsx(ue,{children:o.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Qv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-netflix-text-muted"}),o.jsx(ut,{placeholder:"Buscar por nome ou email...",value:c,onChange:v=>u(v.target.value),className:"pl-10 bg-netflix-hover border-netflix-border text-netflix-text"})]}),o.jsx(ut,{type:"date",value:d,onChange:v=>f(v.target.value),className:"w-48 bg-netflix-hover border-netflix-border text-netflix-text"}),o.jsx(pe,{onClick:h,variant:"outline",className:"border-netflix-border text-netflix-text hover:bg-netflix-hover",children:"Atualizar"})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsx(le,{className:"bg-netflix-card border-netflix-border",children:o.jsx(ue,{className:"p-6",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-instituto-orange/10 rounded-lg",children:o.jsx(ur,{className:"h-6 w-6 text-instituto-orange"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-netflix-text-muted",children:"Missões Registradas"}),o.jsx("p",{className:"text-2xl font-bold text-netflix-text",children:t.length})]})]})})}),o.jsx(le,{className:"bg-netflix-card border-netflix-border",children:o.jsx(ue,{className:"p-6",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-instituto-green/10 rounded-lg",children:o.jsx(Nn,{className:"h-6 w-6 text-instituto-green"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-netflix-text-muted",children:"Metas Ativas"}),o.jsx("p",{className:"text-2xl font-bold text-netflix-text",children:n.length})]})]})})}),o.jsx(le,{className:"bg-netflix-card border-netflix-border",children:o.jsx(ue,{className:"p-6",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-instituto-purple/10 rounded-lg",children:o.jsx(Es,{className:"h-6 w-6 text-instituto-purple"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-netflix-text-muted",children:"Dados de Saúde"}),o.jsx("p",{className:"text-2xl font-bold text-netflix-text",children:i.length})]})]})})}),o.jsx(le,{className:"bg-netflix-card border-netflix-border",children:o.jsx(ue,{className:"p-6",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-instituto-lilac/10 rounded-lg",children:o.jsx(lw,{className:"h-6 w-6 text-instituto-lilac"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-netflix-text-muted",children:"Missões Concluídas"}),o.jsx("p",{className:"text-2xl font-bold text-netflix-text",children:t.filter(v=>v.concluido).length})]})]})})})]}),o.jsxs(Zu,{defaultValue:"missions",className:"space-y-4",children:[o.jsxs(Dc,{className:"bg-netflix-card border border-netflix-border",children:[o.jsxs(On,{value:"missions",className:"data-[state=active]:bg-instituto-orange data-[state=active]:text-white text-netflix-text",children:[o.jsx(Vr,{className:"h-4 w-4 mr-2"}),"Missões do Dia"]}),o.jsxs(On,{value:"goals",className:"data-[state=active]:bg-instituto-orange data-[state=active]:text-white text-netflix-text",children:[o.jsx(Nn,{className:"h-4 w-4 mr-2"}),"Metas"]}),o.jsxs(On,{value:"health",className:"data-[state=active]:bg-instituto-orange data-[state=active]:text-white text-netflix-text",children:[o.jsx(Es,{className:"h-4 w-4 mr-2"}),"Dados de Saúde"]})]}),o.jsx(Dn,{value:"missions",className:"space-y-4",children:o.jsx(le,{className:"bg-netflix-card border-netflix-border",children:o.jsx(ue,{className:"p-0",children:m.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Vr,{className:"h-16 w-16 text-netflix-text-muted mx-auto mb-4"}),o.jsx("h3",{className:"text-xl font-bold text-netflix-text mb-2",children:"Nenhuma missão encontrada"}),o.jsx("p",{className:"text-netflix-text-muted",children:"Tente ajustar os filtros ou aguarde os usuários preencherem suas missões."})]}):o.jsx("div",{className:"divide-y divide-netflix-border",children:m.map((v,g)=>o.jsx("div",{className:"p-6 hover:bg-netflix-hover transition-colors",children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("h3",{className:"font-semibold text-netflix-text",children:v.user_name}),o.jsx(Nt,{variant:"outline",className:p(v.humor),children:x(v.humor)}),v.concluido&&o.jsx(Nt,{className:"bg-green-500/10 text-green-500 border-green-500/20",children:"Concluída"})]}),o.jsxs("div",{className:"flex items-center gap-4 text-sm text-netflix-text-muted",children:[o.jsx("span",{children:v.user_email}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(In,{className:"h-3 w-3"}),Ot(new Date(v.data),"dd/MM/yyyy",{locale:pn})]}),v.nota_dia&&o.jsxs("span",{children:["Nota do dia: ",v.nota_dia,"/10"]})]})]})})},v.id))})})})}),o.jsx(Dn,{value:"goals",className:"space-y-4",children:o.jsx(le,{className:"bg-netflix-card border-netflix-border",children:o.jsx(ue,{className:"p-0",children:n.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Nn,{className:"h-16 w-16 text-netflix-text-muted mx-auto mb-4"}),o.jsx("h3",{className:"text-xl font-bold text-netflix-text mb-2",children:"Nenhuma meta encontrada"}),o.jsx("p",{className:"text-netflix-text-muted",children:"Os usuários ainda não criaram metas."})]}):o.jsx("div",{className:"divide-y divide-netflix-border",children:n.map((v,g)=>o.jsx("div",{className:"p-6 hover:bg-netflix-hover transition-colors",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("h3",{className:"font-semibold text-netflix-text",children:v.name}),o.jsx(Nt,{variant:"outline",className:"bg-blue-500/10 text-blue-500 border-blue-500/20",children:v.type})]}),o.jsxs("div",{className:"flex items-center gap-4 text-sm text-netflix-text-muted",children:[o.jsxs("span",{children:[v.user_name," (",v.user_email,")"]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(In,{className:"h-3 w-3"}),"Meta: ",Ot(new Date(v.target_date),"dd/MM/yyyy",{locale:pn})]})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"text-2xl font-bold text-netflix-text",children:[v.progress,"%"]}),o.jsx("div",{className:"text-sm text-netflix-text-muted",children:"Progresso"})]})]})},v.id))})})})}),o.jsx(Dn,{value:"health",className:"space-y-4",children:o.jsx(le,{className:"bg-netflix-card border-netflix-border",children:o.jsx(ue,{className:"p-0",children:i.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Es,{className:"h-16 w-16 text-netflix-text-muted mx-auto mb-4"}),o.jsx("h3",{className:"text-xl font-bold text-netflix-text mb-2",children:"Nenhum dado de saúde encontrado"}),o.jsx("p",{className:"text-netflix-text-muted",children:"Os usuários ainda não preencheram seus dados de saúde."})]}):o.jsx("div",{className:"divide-y divide-netflix-border",children:i.map((v,g)=>o.jsx("div",{className:"p-6 hover:bg-netflix-hover transition-colors",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("h3",{className:"font-semibold text-netflix-text",children:v.user_name}),o.jsxs("div",{className:"flex items-center gap-4 text-sm text-netflix-text-muted",children:[o.jsx("span",{children:v.user_email}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(In,{className:"h-3 w-3"}),Ot(new Date(v.data_atualizacao),"dd/MM/yyyy",{locale:pn})]})]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"text-lg font-bold text-netflix-text",children:[v.peso_atual_kg,"kg"]}),o.jsx("div",{className:"text-xs text-netflix-text-muted",children:"Peso Atual"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-lg font-bold text-netflix-text",children:v.imc}),o.jsx("div",{className:"text-xs text-netflix-text-muted",children:"IMC"})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"text-lg font-bold text-netflix-text",children:[v.meta_peso_kg,"kg"]}),o.jsx("div",{className:"text-xs text-netflix-text-muted",children:"Meta"})]})]})]})},v.id))})})})})]})]})},Snt=()=>{const[t,e]=S.useState({systemName:"Instituto Borboleta",timezone:"America/Sao_Paulo",language:"pt-BR",maintenanceMode:!1,emailNotifications:!0,pushNotifications:!1,smsNotifications:!1,notificationSound:!0,requireTwoFactor:!1,sessionTimeout:30,passwordExpiry:90,loginAttempts:5,autoBackup:!0,backupFrequency:"daily",dataRetention:365,debugMode:!1}),[n,r]=S.useState({smtpHost:"",smtpPort:587,smtpUser:"",smtpPassword:"",fromEmail:"",fromName:"Instituto Borboleta"}),i=async()=>{try{zy({title:"Configurações salvas",description:"As configurações do sistema foram atualizadas com sucesso."})}catch{zy({title:"Erro",description:"Não foi possível salvar as configurações.",variant:"destructive"})}},s=async()=>{try{zy({title:"Email de teste enviado",description:"Verifique sua caixa de entrada."})}catch{zy({title:"Erro no teste",description:"Não foi possível enviar o email de teste.",variant:"destructive"})}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs(Zu,{defaultValue:"general",className:"w-full",children:[o.jsxs(Dc,{className:"grid w-full grid-cols-4",children:[o.jsxs(On,{value:"general",className:"text-sm",children:[o.jsx(eb,{className:"h-4 w-4 mr-2"}),"Geral"]}),o.jsxs(On,{value:"notifications",className:"text-sm",children:[o.jsx(vv,{className:"h-4 w-4 mr-2"}),"Notificações"]}),o.jsxs(On,{value:"security",className:"text-sm",children:[o.jsx(KE,{className:"h-4 w-4 mr-2"}),"Segurança"]}),o.jsxs(On,{value:"system",className:"text-sm",children:[o.jsx(sE,{className:"h-4 w-4 mr-2"}),"Sistema"]})]}),o.jsx(Dn,{value:"general",className:"space-y-4",children:o.jsxs(le,{className:"bg-netflix-card border-netflix-border",children:[o.jsx(Qe,{children:o.jsxs(et,{className:"text-netflix-text flex items-center gap-2",children:[o.jsx(Lpe,{className:"h-5 w-5 text-instituto-orange"}),"Configurações Gerais"]})}),o.jsx(ue,{className:"space-y-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ce,{htmlFor:"systemName",children:"Nome do Sistema"}),o.jsx(ut,{id:"systemName",value:t.systemName,onChange:a=>e({...t,systemName:a.target.value}),className:"bg-netflix-hover border-netflix-border text-netflix-text"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ce,{htmlFor:"timezone",children:"Fuso Horário"}),o.jsxs(nr,{value:t.timezone,onValueChange:a=>e({...t,timezone:a}),children:[o.jsx(Xn,{className:"bg-netflix-hover border-netflix-border text-netflix-text",children:o.jsx(rr,{})}),o.jsxs(Yn,{children:[o.jsx(ht,{value:"America/Sao_Paulo",children:"São Paulo (UTC-3)"}),o.jsx(ht,{value:"America/New_York",children:"New York (UTC-5)"}),o.jsx(ht,{value:"Europe/London",children:"London (UTC+0)"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ce,{htmlFor:"language",children:"Idioma Padrão"}),o.jsxs(nr,{value:t.language,onValueChange:a=>e({...t,language:a}),children:[o.jsx(Xn,{className:"bg-netflix-hover border-netflix-border text-netflix-text",children:o.jsx(rr,{})}),o.jsxs(Yn,{children:[o.jsx(ht,{value:"pt-BR",children:"Português (Brasil)"}),o.jsx(ht,{value:"en-US",children:"English (US)"}),o.jsx(ht,{value:"es-ES",children:"Español"})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between p-4 bg-netflix-hover rounded-lg",children:[o.jsxs("div",{children:[o.jsx(Ce,{children:"Modo Manutenção"}),o.jsx("p",{className:"text-sm text-netflix-text-muted",children:"Bloqueia acesso de usuários ao sistema"})]}),o.jsx(fl,{checked:t.maintenanceMode,onCheckedChange:a=>e({...t,maintenanceMode:a})})]})]})})]})}),o.jsx(Dn,{value:"notifications",className:"space-y-4",children:o.jsxs(le,{className:"bg-netflix-card border-netflix-border",children:[o.jsx(Qe,{children:o.jsxs(et,{className:"text-netflix-text flex items-center gap-2",children:[o.jsx(vv,{className:"h-5 w-5 text-instituto-purple"}),"Configurações de Notificações"]})}),o.jsx(ue,{className:"space-y-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-netflix-text",children:"Tipos de Notificação"}),o.jsxs("div",{className:"flex items-center justify-between p-3 bg-netflix-hover rounded-lg",children:[o.jsxs("div",{children:[o.jsx(Ce,{children:"Email"}),o.jsx("p",{className:"text-sm text-netflix-text-muted",children:"Receber notificações por email"})]}),o.jsx(fl,{checked:t.emailNotifications,onCheckedChange:a=>e({...t,emailNotifications:a})})]}),o.jsxs("div",{className:"flex items-center justify-between p-3 bg-netflix-hover rounded-lg",children:[o.jsxs("div",{children:[o.jsx(Ce,{children:"Push"}),o.jsx("p",{className:"text-sm text-netflix-text-muted",children:"Notificações push no navegador"})]}),o.jsx(fl,{checked:t.pushNotifications,onCheckedChange:a=>e({...t,pushNotifications:a})})]}),o.jsxs("div",{className:"flex items-center justify-between p-3 bg-netflix-hover rounded-lg",children:[o.jsxs("div",{children:[o.jsx(Ce,{children:"SMS"}),o.jsx("p",{className:"text-sm text-netflix-text-muted",children:"Notificações por SMS"})]}),o.jsx(fl,{checked:t.smsNotifications,onCheckedChange:a=>e({...t,smsNotifications:a})})]}),o.jsxs("div",{className:"flex items-center justify-between p-3 bg-netflix-hover rounded-lg",children:[o.jsxs("div",{children:[o.jsx(Ce,{children:"Som"}),o.jsx("p",{className:"text-sm text-netflix-text-muted",children:"Reproduzir som nas notificações"})]}),o.jsx(fl,{checked:t.notificationSound,onCheckedChange:a=>e({...t,notificationSound:a})})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("h3",{className:"text-lg font-semibold text-netflix-text flex items-center gap-2",children:[o.jsx(jm,{className:"h-5 w-5"}),"Configuração SMTP"]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx(Ce,{htmlFor:"smtpHost",children:"Servidor SMTP"}),o.jsx(ut,{id:"smtpHost",value:n.smtpHost,onChange:a=>r({...n,smtpHost:a.target.value}),placeholder:"smtp.gmail.com",className:"bg-netflix-hover border-netflix-border text-netflix-text"})]}),o.jsxs("div",{children:[o.jsx(Ce,{htmlFor:"smtpPort",children:"Porta"}),o.jsx(ut,{id:"smtpPort",type:"number",value:n.smtpPort,onChange:a=>r({...n,smtpPort:parseInt(a.target.value)}),className:"bg-netflix-hover border-netflix-border text-netflix-text"})]}),o.jsxs("div",{children:[o.jsx(Ce,{htmlFor:"fromEmail",children:"Email Remetente"}),o.jsx(ut,{id:"fromEmail",type:"email",value:n.fromEmail,onChange:a=>r({...n,fromEmail:a.target.value}),placeholder:"noreply@institutoborboleta.com",className:"bg-netflix-hover border-netflix-border text-netflix-text"})]}),o.jsxs(pe,{onClick:s,variant:"outline",className:"w-full",children:[o.jsx(jm,{className:"h-4 w-4 mr-2"}),"Testar Configuração"]})]})]})]})})]})}),o.jsx(Dn,{value:"security",className:"space-y-4",children:o.jsxs(le,{className:"bg-netflix-card border-netflix-border",children:[o.jsx(Qe,{children:o.jsxs(et,{className:"text-netflix-text flex items-center gap-2",children:[o.jsx(KE,{className:"h-5 w-5 text-instituto-green"}),"Configurações de Segurança"]})}),o.jsx(ue,{className:"space-y-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between p-3 bg-netflix-hover rounded-lg",children:[o.jsxs("div",{children:[o.jsx(Ce,{children:"Autenticação em Duas Etapas"}),o.jsx("p",{className:"text-sm text-netflix-text-muted",children:"Exigir 2FA para todos os admins"})]}),o.jsx(fl,{checked:t.requireTwoFactor,onCheckedChange:a=>e({...t,requireTwoFactor:a})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ce,{htmlFor:"sessionTimeout",children:"Timeout de Sessão (minutos)"}),o.jsx(ut,{id:"sessionTimeout",type:"number",value:t.sessionTimeout,onChange:a=>e({...t,sessionTimeout:parseInt(a.target.value)}),className:"bg-netflix-hover border-netflix-border text-netflix-text"})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ce,{htmlFor:"passwordExpiry",children:"Expiração de Senha (dias)"}),o.jsx(ut,{id:"passwordExpiry",type:"number",value:t.passwordExpiry,onChange:a=>e({...t,passwordExpiry:parseInt(a.target.value)}),className:"bg-netflix-hover border-netflix-border text-netflix-text"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ce,{htmlFor:"loginAttempts",children:"Tentativas de Login"}),o.jsx(ut,{id:"loginAttempts",type:"number",value:t.loginAttempts,onChange:a=>e({...t,loginAttempts:parseInt(a.target.value)}),className:"bg-netflix-hover border-netflix-border text-netflix-text"})]})]})]})})]})}),o.jsx(Dn,{value:"system",className:"space-y-4",children:o.jsxs(le,{className:"bg-netflix-card border-netflix-border",children:[o.jsx(Qe,{children:o.jsxs(et,{className:"text-netflix-text flex items-center gap-2",children:[o.jsx(sE,{className:"h-5 w-5 text-instituto-lilac"}),"Configurações de Sistema"]})}),o.jsxs(ue,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between p-3 bg-netflix-hover rounded-lg",children:[o.jsxs("div",{children:[o.jsx(Ce,{children:"Backup Automático"}),o.jsx("p",{className:"text-sm text-netflix-text-muted",children:"Fazer backup automaticamente"})]}),o.jsx(fl,{checked:t.autoBackup,onCheckedChange:a=>e({...t,autoBackup:a})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ce,{htmlFor:"backupFrequency",children:"Frequência do Backup"}),o.jsxs(nr,{value:t.backupFrequency,onValueChange:a=>e({...t,backupFrequency:a}),children:[o.jsx(Xn,{className:"bg-netflix-hover border-netflix-border text-netflix-text",children:o.jsx(rr,{})}),o.jsxs(Yn,{children:[o.jsx(ht,{value:"hourly",children:"A cada hora"}),o.jsx(ht,{value:"daily",children:"Diário"}),o.jsx(ht,{value:"weekly",children:"Semanal"}),o.jsx(ht,{value:"monthly",children:"Mensal"})]})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ce,{htmlFor:"dataRetention",children:"Retenção de Dados (dias)"}),o.jsx(ut,{id:"dataRetention",type:"number",value:t.dataRetention,onChange:a=>e({...t,dataRetention:parseInt(a.target.value)}),className:"bg-netflix-hover border-netflix-border text-netflix-text"})]}),o.jsxs("div",{className:"flex items-center justify-between p-3 bg-netflix-hover rounded-lg",children:[o.jsxs("div",{children:[o.jsx(Ce,{children:"Modo Debug"}),o.jsx("p",{className:"text-sm text-netflix-text-muted",children:"Ativar logs detalhados"})]}),o.jsx(fl,{checked:t.debugMode,onCheckedChange:a=>e({...t,debugMode:a})})]})]})]}),o.jsxs("div",{className:"border-t border-netflix-border pt-4 mt-6",children:[o.jsxs("h3",{className:"text-lg font-semibold text-netflix-text mb-4 flex items-center gap-2",children:[o.jsx(ya,{className:"h-5 w-5 text-yellow-500"}),"Ações Críticas do Sistema"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs(pe,{variant:"outline",className:"h-auto p-4 flex flex-col items-center gap-2",children:[o.jsx(qK,{className:"h-6 w-6"}),o.jsx("span",{children:"Reiniciar Sistema"}),o.jsx("span",{className:"text-xs text-netflix-text-muted",children:"Reinicia todos os serviços"})]}),o.jsxs(pe,{variant:"outline",className:"h-auto p-4 flex flex-col items-center gap-2",children:[o.jsx(sE,{className:"h-6 w-6"}),o.jsx("span",{children:"Backup Manual"}),o.jsx("span",{className:"text-xs text-netflix-text-muted",children:"Criar backup agora"})]}),o.jsxs(pe,{variant:"outline",className:"h-auto p-4 flex flex-col items-center gap-2 text-red-500 border-red-500/20 hover:bg-red-500/10",children:[o.jsx(ya,{className:"h-6 w-6"}),o.jsx("span",{children:"Limpar Cache"}),o.jsx("span",{className:"text-xs text-netflix-text-muted",children:"Remove todos os caches"})]})]})]})]})]})})]}),o.jsx("div",{className:"flex justify-end",children:o.jsxs(pe,{onClick:i,className:"bg-instituto-orange hover:bg-instituto-orange/80",children:[o.jsx(XK,{className:"h-4 w-4 mr-2"}),"Salvar Configurações"]})})]})},Ent=()=>{const{user:t}=Or(),[e,n]=S.useState([]),[r,i]=S.useState(!0),[s,a]=S.useState(null);S.useEffect(()=>{l()},[]);const l=async()=>{try{i(!0);const{data:v,error:g}=await He.from("courses").select("*").eq("is_active",!0).order("created_at",{ascending:!1});if(g)throw g;n(v||[])}catch(v){console.error("Erro ao buscar cursos:",v),a("Erro ao carregar cursos")}finally{i(!1)}};return{courses:e,loading:r,error:s,fetchCourses:l,createCourse:async v=>{try{const{data:g}=await He.from("profiles").select("id").eq("user_id",t==null?void 0:t.id).single();if(!g)throw new Error("Perfil não encontrado");const{data:w,error:_}=await He.from("courses").insert([{...v,created_by:g.id}]).select().single();if(_)throw _;return n(E=>[w,...E]),w}catch(g){throw console.error("Erro ao criar curso:",g),g}},updateCourse:async(v,g)=>{try{const{data:w,error:_}=await He.from("courses").update(g).eq("id",v).select().single();if(_)throw _;return n(E=>E.map(N=>N.id===v?{...N,...w}:N)),w}catch(w){throw console.error("Erro ao atualizar curso:",w),w}},deleteCourse:async v=>{try{const{error:g}=await He.from("courses").update({is_active:!1}).eq("id",v);if(g)throw g;n(w=>w.filter(_=>_.id!==v))}catch(g){throw console.error("Erro ao deletar curso:",g),g}},fetchCourseModules:async v=>{try{const{data:g,error:w}=await He.from("course_modules").select(`
          *,
          course_lessons (*)
        `).eq("course_id",v).eq("is_active",!0).order("order_index",{ascending:!0});if(w)throw w;return(g==null?void 0:g.map(_=>{var E;return{..._,lessons:((E=_.course_lessons)==null?void 0:E.sort((N,C)=>N.order_index-C.order_index))||[]}}))||[]}catch(g){throw console.error("Erro ao buscar módulos:",g),g}},createModule:async v=>{try{const{data:g,error:w}=await He.from("course_modules").insert([v]).select().single();if(w)throw w;return g}catch(g){throw console.error("Erro ao criar módulo:",g),g}},createLesson:async v=>{try{const{data:g,error:w}=await He.from("course_lessons").insert([v]).select().single();if(w)throw w;return g}catch(g){throw console.error("Erro ao criar aula:",g),g}},markLessonAsCompleted:async(v,g)=>{if(t)try{const{data:w}=await He.from("profiles").select("id").eq("user_id",t.id).single();if(!w)throw new Error("Perfil não encontrado");const{error:_}=await He.from("user_course_progress").upsert({user_id:w.id,course_id:v,lesson_id:g,completed:!0,completed_at:new Date().toISOString()});if(_)throw _}catch(w){throw console.error("Erro ao marcar aula como concluída:",w),w}},getUserProgress:async v=>{if(!t)return[];try{const{data:g}=await He.from("profiles").select("id").eq("user_id",t.id).single();if(!g)return[];const{data:w,error:_}=await He.from("user_course_progress").select("*").eq("user_id",g.id).eq("course_id",v);if(_)throw _;return w||[]}catch(g){return console.error("Erro ao buscar progresso:",g),[]}}}},Nnt=()=>{const{courses:t,loading:e,createCourse:n,fetchCourseModules:r,createModule:i,createLesson:s}=Ent(),{toast:a}=Ui(),[l,c]=S.useState(!1),[u,d]=S.useState(!1),[f,h]=S.useState(!1),[m,p]=S.useState(null),[x,v]=S.useState(null),[g,w]=S.useState([]),[_,E]=S.useState({title:"",description:"",image_url:"",category:"general",price:0,is_active:!0}),[N,C]=S.useState({title:"",description:"",order_index:0,is_active:!0}),[j,T]=S.useState({title:"",description:"",video_url:"",duration_minutes:0,order_index:0,is_active:!0}),A=async()=>{try{await n(_),c(!1),E({title:"",description:"",image_url:"",category:"general",price:0,is_active:!0}),a({title:"Sucesso",description:"Curso criado com sucesso!"})}catch{a({title:"Erro",description:"Erro ao criar curso",variant:"destructive"})}},P=async()=>{if(m)try{await i({course_id:m.id,...N}),d(!1),C({title:"",description:"",order_index:0,is_active:!0});const I=await r(m.id);w(I),a({title:"Sucesso",description:"Módulo criado com sucesso!"})}catch{a({title:"Erro",description:"Erro ao criar módulo",variant:"destructive"})}},R=async()=>{if(x)try{await s({module_id:x.id,...j}),h(!1),T({title:"",description:"",video_url:"",duration_minutes:0,order_index:0,is_active:!0});const I=await r(m.id);w(I),a({title:"Sucesso",description:"Aula criada com sucesso!"})}catch{a({title:"Erro",description:"Erro ao criar aula",variant:"destructive"})}},D=async I=>{p(I);const G=await r(I.id);w(G)},F=I=>{switch(I){case"pilulas":return"bg-green-500";case"plataforma":return"bg-blue-500";case"comunidade":return"bg-purple-500";default:return"bg-instituto-orange"}};return e?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-instituto-orange"})}):m?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(pe,{variant:"outline",onClick:()=>p(null),children:"← Voltar"}),o.jsx("h2",{className:"text-2xl font-bold text-netflix-text",children:m.title})]}),o.jsxs(Ii,{open:u,onOpenChange:d,children:[o.jsx(lo,{asChild:!0,children:o.jsxs(pe,{className:"gap-2",children:[o.jsx(ws,{className:"w-4 h-4"}),"Adicionar Módulo"]})}),o.jsxs(vi,{className:"bg-netflix-card border-netflix-border",children:[o.jsx(xi,{children:o.jsx(yi,{className:"text-netflix-text",children:"Novo Módulo"})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Ce,{htmlFor:"module-title",children:"Título do Módulo"}),o.jsx(ut,{id:"module-title",value:N.title,onChange:I=>C(G=>({...G,title:I.target.value})),className:"bg-netflix-hover border-netflix-border"})]}),o.jsxs("div",{children:[o.jsx(Ce,{htmlFor:"module-description",children:"Descrição"}),o.jsx(mn,{id:"module-description",value:N.description,onChange:I=>C(G=>({...G,description:I.target.value})),className:"bg-netflix-hover border-netflix-border"})]}),o.jsxs("div",{children:[o.jsx(Ce,{htmlFor:"module-order",children:"Ordem"}),o.jsx(ut,{id:"module-order",type:"number",value:N.order_index,onChange:I=>C(G=>({...G,order_index:parseInt(I.target.value)})),className:"bg-netflix-hover border-netflix-border"})]}),o.jsx(pe,{onClick:P,className:"w-full",children:"Criar Módulo"})]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[g.map(I=>{var G;return o.jsxs(le,{className:"bg-netflix-card border-netflix-border",children:[o.jsxs(Qe,{children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(et,{className:"text-netflix-text",children:I.title}),o.jsxs(pe,{size:"sm",onClick:()=>{v(I),h(!0)},className:"gap-2",children:[o.jsx(ws,{className:"w-4 h-4"}),"Adicionar Aula"]})]}),I.description&&o.jsx("p",{className:"text-netflix-text-secondary",children:I.description})]}),o.jsx(ue,{children:o.jsx("div",{className:"space-y-3",children:((G=I.lessons)==null?void 0:G.map(q=>o.jsx("div",{className:"p-3 bg-netflix-hover rounded-lg",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-8 h-8 bg-instituto-orange rounded-full flex items-center justify-center",children:o.jsx(qd,{className:"w-4 h-4 text-white"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-netflix-text",children:q.title}),q.description&&o.jsx("p",{className:"text-sm text-netflix-text-secondary",children:q.description})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[q.duration_minutes&&o.jsxs("div",{className:"flex items-center gap-1 text-netflix-text-secondary",children:[o.jsx(pf,{className:"w-4 h-4"}),o.jsxs("span",{className:"text-sm",children:[q.duration_minutes,"min"]})]}),o.jsx(pe,{size:"sm",variant:"outline",className:"gap-1",children:o.jsx(yv,{className:"w-4 h-4"})})]})]})},q.id)))||o.jsx("p",{className:"text-netflix-text-secondary text-center py-4",children:"Nenhuma aula adicionada ainda"})})})]},I.id)}),g.length===0&&o.jsx(le,{className:"bg-netflix-card border-netflix-border",children:o.jsxs(ue,{className:"p-6 text-center",children:[o.jsx(l0,{className:"w-12 h-12 text-netflix-text-secondary mx-auto mb-4"}),o.jsx("p",{className:"text-netflix-text-secondary",children:"Nenhum módulo criado ainda. Adicione o primeiro módulo para começar."})]})})]}),o.jsx(Ii,{open:f,onOpenChange:h,children:o.jsxs(vi,{className:"bg-netflix-card border-netflix-border",children:[o.jsx(xi,{children:o.jsx(yi,{className:"text-netflix-text",children:"Nova Aula"})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Ce,{htmlFor:"lesson-title",children:"Título da Aula"}),o.jsx(ut,{id:"lesson-title",value:j.title,onChange:I=>T(G=>({...G,title:I.target.value})),className:"bg-netflix-hover border-netflix-border"})]}),o.jsxs("div",{children:[o.jsx(Ce,{htmlFor:"lesson-description",children:"Descrição"}),o.jsx(mn,{id:"lesson-description",value:j.description,onChange:I=>T(G=>({...G,description:I.target.value})),className:"bg-netflix-hover border-netflix-border"})]}),o.jsxs("div",{children:[o.jsx(Ce,{htmlFor:"lesson-video",children:"URL do Vídeo (YouTube)"}),o.jsx(ut,{id:"lesson-video",placeholder:"https://www.youtube.com/watch?v=...",value:j.video_url,onChange:I=>T(G=>({...G,video_url:I.target.value})),className:"bg-netflix-hover border-netflix-border"})]}),o.jsxs("div",{children:[o.jsx(Ce,{htmlFor:"lesson-duration",children:"Duração (minutos)"}),o.jsx(ut,{id:"lesson-duration",type:"number",value:j.duration_minutes,onChange:I=>T(G=>({...G,duration_minutes:parseInt(I.target.value)})),className:"bg-netflix-hover border-netflix-border"})]}),o.jsxs("div",{children:[o.jsx(Ce,{htmlFor:"lesson-order",children:"Ordem"}),o.jsx(ut,{id:"lesson-order",type:"number",value:j.order_index,onChange:I=>T(G=>({...G,order_index:parseInt(I.target.value)})),className:"bg-netflix-hover border-netflix-border"})]}),o.jsx(pe,{onClick:R,className:"w-full",children:"Criar Aula"})]})]})})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-2xl font-bold text-netflix-text",children:"Gerenciar Cursos"}),o.jsxs(Ii,{open:l,onOpenChange:c,children:[o.jsx(lo,{asChild:!0,children:o.jsxs(pe,{className:"gap-2",children:[o.jsx(ws,{className:"w-4 h-4"}),"Novo Curso"]})}),o.jsxs(vi,{className:"bg-netflix-card border-netflix-border",children:[o.jsx(xi,{children:o.jsx(yi,{className:"text-netflix-text",children:"Criar Novo Curso"})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Ce,{htmlFor:"course-title",children:"Título do Curso"}),o.jsx(ut,{id:"course-title",value:_.title,onChange:I=>E(G=>({...G,title:I.target.value})),className:"bg-netflix-hover border-netflix-border"})]}),o.jsxs("div",{children:[o.jsx(Ce,{htmlFor:"course-description",children:"Descrição"}),o.jsx(mn,{id:"course-description",value:_.description,onChange:I=>E(G=>({...G,description:I.target.value})),className:"bg-netflix-hover border-netflix-border"})]}),o.jsxs("div",{children:[o.jsx(Ce,{htmlFor:"course-image",children:"URL da Imagem"}),o.jsx(ut,{id:"course-image",value:_.image_url,onChange:I=>E(G=>({...G,image_url:I.target.value})),className:"bg-netflix-hover border-netflix-border"})]}),o.jsxs("div",{children:[o.jsx(Ce,{htmlFor:"course-category",children:"Categoria"}),o.jsxs(nr,{value:_.category,onValueChange:I=>E(G=>({...G,category:I})),children:[o.jsx(Xn,{className:"bg-netflix-hover border-netflix-border",children:o.jsx(rr,{})}),o.jsxs(Yn,{className:"bg-netflix-card border-netflix-border",children:[o.jsx(ht,{value:"pilulas",children:"Pílulas do Bem"}),o.jsx(ht,{value:"plataforma",children:"Plataforma dos Sonhos"}),o.jsx(ht,{value:"comunidade",children:"Comunidade dos Sonhos"}),o.jsx(ht,{value:"general",children:"Geral"})]})]})]}),o.jsxs("div",{children:[o.jsx(Ce,{htmlFor:"course-price",children:"Preço"}),o.jsx(ut,{id:"course-price",type:"number",step:"0.01",value:_.price,onChange:I=>E(G=>({...G,price:parseFloat(I.target.value)})),className:"bg-netflix-hover border-netflix-border"})]}),o.jsx(pe,{onClick:A,className:"w-full",children:"Criar Curso"})]})]})]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(I=>o.jsx(le,{className:"bg-netflix-card border-netflix-border group hover:scale-105 transition-transform",children:o.jsxs(ue,{className:"p-0",children:[o.jsx("div",{className:"aspect-video bg-gradient-to-br from-instituto-orange/20 to-purple-500/20 rounded-t-lg overflow-hidden",children:I.image_url&&o.jsx("img",{src:I.image_url,alt:I.title,className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsx("h3",{className:"font-semibold text-netflix-text",children:I.title}),o.jsx(Nt,{className:`${F(I.category)} text-white text-xs`,children:I.category.toUpperCase()})]}),o.jsx("p",{className:"text-sm text-netflix-text-secondary mb-4 line-clamp-2",children:I.description}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"font-medium text-instituto-orange",children:["R$ ",I.price.toFixed(2)]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(pe,{size:"sm",variant:"outline",onClick:()=>D(I),children:o.jsx(l0,{className:"w-4 h-4"})}),o.jsx(pe,{size:"sm",variant:"outline",children:o.jsx(yv,{className:"w-4 h-4"})}),o.jsx(pe,{size:"sm",variant:"outline",children:o.jsx(Tm,{className:"w-4 h-4"})})]})]})]})]})},I.id))}),t.length===0&&o.jsx(le,{className:"bg-netflix-card border-netflix-border",children:o.jsxs(ue,{className:"p-6 text-center",children:[o.jsx(l0,{className:"w-12 h-12 text-netflix-text-secondary mx-auto mb-4"}),o.jsx("p",{className:"text-netflix-text-secondary",children:"Nenhum curso criado ainda. Crie o primeiro curso para começar."})]})})]})},Mnt=({onUserSelect:t,selectedUserId:e})=>{const[n,r]=S.useState([]),[i,s]=S.useState([]),[a,l]=S.useState(""),[c,u]=S.useState("all"),[d,f]=S.useState("name"),[h,m]=S.useState(!0);S.useEffect(()=>{p()},[]),S.useEffect(()=>{x()},[n,a,c,d]);const p=async()=>{m(!0);try{const{data:E}=await He.from("profiles").select("*").eq("role","client").order("created_at",{ascending:!1});if(!E)return;const N=await Promise.all(E.map(async C=>{const{data:j}=await He.from("dados_fisicos_usuario").select("*").eq("user_id",C.id).single(),{data:T}=await He.from("missao_dia").select("data, concluido").eq("user_id",C.id).order("data",{ascending:!1}).limit(1).single(),{data:A}=await He.from("missao_dia").select("concluido").eq("user_id",C.id).order("data",{ascending:!1}).limit(7),{data:P}=await He.from("pontuacao_diaria").select("total_pontos_dia").eq("user_id",C.id).order("data",{ascending:!1}).limit(7),R=A!=null&&A.length?A.filter(G=>G.concluido).length/A.length*100:0,D=P!=null&&P.length?P.reduce((G,q)=>G+(q.total_pontos_dia||0),0)/P.length:0,F=T!=null&&T.data?Math.floor((new Date().getTime()-new Date(T.data).getTime())/(1e3*60*60*24)):999,I=F>3?"inactive":F>1?"at-risk":"active";return{id:C.id,full_name:C.full_name||"Cliente",email:C.email,created_at:C.created_at,physicalData:j,lastActivity:T==null?void 0:T.data,completionRate:R,avgScore:Math.round(D),status:I}}));r(N)}catch(E){console.error("Erro ao carregar usuários:",E)}finally{m(!1)}},x=()=>{let E=n;a&&(E=E.filter(N=>N.full_name.toLowerCase().includes(a.toLowerCase())||N.email.toLowerCase().includes(a.toLowerCase()))),c!=="all"&&(E=E.filter(N=>N.status===c)),E.sort((N,C)=>{switch(d){case"name":return N.full_name.localeCompare(C.full_name);case"activity":return(C.lastActivity||"").localeCompare(N.lastActivity||"");case"completion":return(C.completionRate||0)-(N.completionRate||0);case"score":return(C.avgScore||0)-(N.avgScore||0);case"created":return new Date(C.created_at).getTime()-new Date(N.created_at).getTime();default:return 0}}),s(E)},v=E=>{switch(E){case"active":return Rr;case"at-risk":return Wh;case"inactive":return jf;default:return ao}},g=E=>{switch(E){case"active":return"text-instituto-green";case"at-risk":return"text-instituto-gold";case"inactive":return"text-instituto-orange";default:return"text-netflix-text-muted"}},w=E=>{switch(E){case"active":return"bg-instituto-green text-white";case"at-risk":return"bg-instituto-gold text-white";case"inactive":return"bg-instituto-orange text-white";default:return"bg-netflix-border text-netflix-text"}},_=E=>{switch(E){case"active":return"Ativo";case"at-risk":return"Em Risco";case"inactive":return"Inativo";default:return"Desconhecido"}};return h?o.jsx(le,{className:"bg-netflix-card border-netflix-border",children:o.jsx(ue,{className:"flex items-center justify-center h-64",children:o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-instituto-orange border-t-transparent rounded-full mx-auto"}),o.jsx("p",{className:"text-netflix-text-muted",children:"Carregando clientes..."})]})})}):o.jsxs(le,{className:"bg-netflix-card border-netflix-border",children:[o.jsx(Qe,{children:o.jsxs(et,{className:"text-netflix-text flex items-center gap-2",children:[o.jsx(ur,{className:"h-5 w-5 text-instituto-orange"}),"Seletor de Clientes (",i.length,")"]})}),o.jsxs(ue,{className:"space-y-4",children:[o.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"relative",children:[o.jsx(Qv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-netflix-text-muted"}),o.jsx(ut,{placeholder:"Buscar por nome ou email...",value:a,onChange:E=>l(E.target.value),className:"pl-10 bg-netflix-hover border-netflix-border text-netflix-text"})]})}),o.jsxs(nr,{value:c,onValueChange:u,children:[o.jsxs(Xn,{className:"w-full md:w-48 bg-netflix-hover border-netflix-border",children:[o.jsx($K,{className:"h-4 w-4 mr-2"}),o.jsx(rr,{placeholder:"Status"})]}),o.jsxs(Yn,{children:[o.jsx(ht,{value:"all",children:"Todos os Status"}),o.jsx(ht,{value:"active",children:"Ativos"}),o.jsx(ht,{value:"at-risk",children:"Em Risco"}),o.jsx(ht,{value:"inactive",children:"Inativos"})]})]}),o.jsxs(nr,{value:d,onValueChange:f,children:[o.jsxs(Xn,{className:"w-full md:w-48 bg-netflix-hover border-netflix-border",children:[o.jsx(Hr,{className:"h-4 w-4 mr-2"}),o.jsx(rr,{placeholder:"Ordenar"})]}),o.jsxs(Yn,{children:[o.jsx(ht,{value:"name",children:"Nome (A-Z)"}),o.jsx(ht,{value:"activity",children:"Última Atividade"}),o.jsx(ht,{value:"completion",children:"Taxa de Conclusão"}),o.jsx(ht,{value:"score",children:"Pontuação Média"}),o.jsx(ht,{value:"created",children:"Mais Recentes"})]})]})]}),o.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:i.length===0?o.jsxs("div",{className:"text-center text-netflix-text-muted py-8",children:[o.jsx(ao,{className:"h-12 w-12 mx-auto mb-4 text-netflix-text-muted"}),o.jsx("p",{children:"Nenhum cliente encontrado com os filtros aplicados"})]}):i.map(E=>{var C;const N=v(E.status||"inactive");return o.jsxs("div",{className:`p-4 rounded-lg border cursor-pointer transition-all duration-200 ${e===E.id?"border-instituto-orange bg-instituto-orange/10":"border-netflix-border bg-netflix-hover hover:border-instituto-orange/50"}`,onClick:()=>t(E.id),children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(N,{className:`h-5 w-5 ${g(E.status||"inactive")}`}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-netflix-text",children:E.full_name}),o.jsx("p",{className:"text-sm text-netflix-text-muted",children:E.email})]})]}),o.jsxs("div",{className:"text-right space-y-1",children:[o.jsx(Nt,{className:w(E.status||"inactive"),children:_(E.status||"inactive")}),o.jsxs("div",{className:"flex gap-2 text-xs text-netflix-text-muted",children:[o.jsxs("span",{title:"Taxa de Conclusão",children:[(C=E.completionRate)==null?void 0:C.toFixed(0),"%"]}),o.jsxs("span",{title:"Pontuação Média",children:[E.avgScore||0,"pts"]})]})]})]}),E.lastActivity&&o.jsxs("div",{className:"mt-2 text-xs text-netflix-text-muted",children:["Última atividade: ",new Date(E.lastActivity).toLocaleDateString("pt-BR")]})]},E.id)})})]})]})},Cnt=({clientData:t})=>{var l;const e=t.weightHistory.slice(0,10).reverse().map(c=>({date:new Date(c.data_medicao).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"}),peso:parseFloat(c.peso_kg),imc:parseFloat(c.imc||0)})),n=t.weeklyScores.slice(0,14).reverse().map(c=>({date:new Date(c.data).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"}),pontos:c.total_pontos_dia||0,categoria:c.categoria_dia})),r=t.recentMissions.slice(0,7).reverse().map(c=>({date:new Date(c.data).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"}),agua:c.agua_litros?c.agua_litros.includes("3L")?3:c.agua_litros.includes("2L")?2:1:0,sono:c.sono_horas||0,exercicio:c.atividade_fisica?1:0,estresse:c.estresse_nivel?6-c.estresse_nivel:0})),i=n.reduce((c,u)=>{const d=u.categoria||"baixa";return c[d]=(c[d]||0)+1,c},{}),s=Object.entries(i).map(([c,u])=>({name:c==="excelente"?"Excelente":c==="medio"?"Médio":"Baixo",value:u,color:c==="excelente"?"#22c55e":c==="medio"?"#f59e0b":"#ef4444"})),a=["#22c55e","#f59e0b","#ef4444"];return o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(le,{className:"bg-netflix-card border-netflix-border",children:[o.jsx(Qe,{children:o.jsxs(et,{className:"text-netflix-text flex items-center gap-2",children:[o.jsx(Hr,{className:"h-5 w-5 text-instituto-green"}),"Evolução do Peso"]})}),o.jsx(ue,{children:e.length>0?o.jsx(li,{width:"100%",height:300,children:o.jsxs(jl,{data:e,children:[o.jsx(Ns,{strokeDasharray:"3 3",stroke:"#374151"}),o.jsx(Ji,{dataKey:"date",stroke:"#9CA3AF"}),o.jsx(wi,{stroke:"#9CA3AF"}),o.jsx(Zi,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151",borderRadius:"8px"}}),o.jsx(bi,{type:"monotone",dataKey:"peso",stroke:"#f97316",strokeWidth:3,dot:{fill:"#f97316",r:4}}),((l=t.physicalData)==null?void 0:l.meta_peso_kg)&&o.jsx(bi,{type:"monotone",dataKey:()=>t.physicalData.meta_peso_kg,stroke:"#22c55e",strokeDasharray:"5 5",dot:!1})]})}):o.jsx("div",{className:"text-center text-netflix-text-muted py-12",children:"Sem dados de peso disponíveis"})})]}),o.jsxs(le,{className:"bg-netflix-card border-netflix-border",children:[o.jsx(Qe,{children:o.jsxs(et,{className:"text-netflix-text flex items-center gap-2",children:[o.jsx(Nn,{className:"h-5 w-5 text-instituto-purple"}),"Pontuação Diária"]})}),o.jsx(ue,{children:n.length>0?o.jsx(li,{width:"100%",height:300,children:o.jsxs(QN,{data:n,children:[o.jsx(Ns,{strokeDasharray:"3 3",stroke:"#374151"}),o.jsx(Ji,{dataKey:"date",stroke:"#9CA3AF"}),o.jsx(wi,{stroke:"#9CA3AF"}),o.jsx(Zi,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151",borderRadius:"8px"}}),o.jsx(hc,{dataKey:"pontos",fill:"#8b5cf6",radius:[4,4,0,0]})]})}):o.jsx("div",{className:"text-center text-netflix-text-muted py-12",children:"Sem dados de pontuação disponíveis"})})]}),o.jsxs(le,{className:"bg-netflix-card border-netflix-border",children:[o.jsx(Qe,{children:o.jsxs(et,{className:"text-netflix-text flex items-center gap-2",children:[o.jsx(Vr,{className:"h-5 w-5 text-instituto-gold"}),"Atividades da Semana"]})}),o.jsx(ue,{children:r.length>0?o.jsx(li,{width:"100%",height:300,children:o.jsxs(QN,{data:r,children:[o.jsx(Ns,{strokeDasharray:"3 3",stroke:"#374151"}),o.jsx(Ji,{dataKey:"date",stroke:"#9CA3AF"}),o.jsx(wi,{stroke:"#9CA3AF"}),o.jsx(Zi,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151",borderRadius:"8px"}}),o.jsx(hc,{dataKey:"agua",fill:"#3b82f6",name:"Água (L)"}),o.jsx(hc,{dataKey:"sono",fill:"#8b5cf6",name:"Sono (h)"}),o.jsx(hc,{dataKey:"exercicio",fill:"#22c55e",name:"Exercício"})]})}):o.jsx("div",{className:"text-center text-netflix-text-muted py-12",children:"Sem dados de atividades disponíveis"})})]}),o.jsxs(le,{className:"bg-netflix-card border-netflix-border",children:[o.jsx(Qe,{children:o.jsxs(et,{className:"text-netflix-text flex items-center gap-2",children:[o.jsx(In,{className:"h-5 w-5 text-instituto-lilac"}),"Distribuição de Performance"]})}),o.jsx(ue,{children:s.length>0?o.jsx(li,{width:"100%",height:300,children:o.jsxs(sae,{children:[o.jsx(rj,{data:s,cx:"50%",cy:"50%",labelLine:!1,label:({name:c,percent:u})=>`${c} ${(u*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:s.map((c,u)=>o.jsx(ap,{fill:a[u%a.length]},`cell-${u}`))}),o.jsx(Zi,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151",borderRadius:"8px"}})]})}):o.jsx("div",{className:"text-center text-netflix-text-muted py-12",children:"Sem dados de performance disponíveis"})})]})]})},jnt=({missions:t,scores:e})=>{const n=t.map(a=>{const l=e.find(c=>c.data===a.data);return{...a,score:(l==null?void 0:l.total_pontos_dia)||0,categoria:(l==null?void 0:l.categoria_dia)||"baixa"}}).sort((a,l)=>new Date(l.data).getTime()-new Date(a.data).getTime()),r=a=>{switch(a){case"excelente":return"bg-instituto-green text-white";case"medio":return"bg-instituto-gold text-white";default:return"bg-instituto-orange text-white"}},i=a=>{switch(a){case"excelente":return"Excelente";case"medio":return"Médio";default:return"Baixo"}},s=a=>{switch(a==null?void 0:a.toLowerCase()){case"feliz":return"😊";case"triste":return"😢";case"ansioso":return"😰";case"irritado":return"😠";case"calmo":return"😌";default:return"😐"}};return o.jsxs(le,{className:"bg-netflix-card border-netflix-border",children:[o.jsx(Qe,{children:o.jsxs(et,{className:"text-netflix-text flex items-center gap-2",children:[o.jsx(In,{className:"h-5 w-5 text-instituto-purple"}),"Timeline de Progresso"]})}),o.jsx(ue,{children:o.jsx("div",{className:"space-y-6",children:n.length===0?o.jsx("div",{className:"text-center text-netflix-text-muted py-12",children:"Nenhum dado de progresso disponível"}):n.map((a,l)=>o.jsxs("div",{className:"relative",children:[l<n.length-1&&o.jsx("div",{className:"absolute left-6 top-12 w-0.5 h-16 bg-netflix-border"}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx("div",{className:"flex-shrink-0",children:a.concluido?o.jsx(Rr,{className:"h-12 w-12 text-instituto-green"}):o.jsx(o3,{className:"h-12 w-12 text-netflix-border"})}),o.jsxs("div",{className:"flex-1 space-y-3",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-netflix-text",children:new Date(a.data).toLocaleDateString("pt-BR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsxs(Nt,{className:r(a.categoria),children:[a.score," pontos - ",i(a.categoria)]}),a.humor&&o.jsx("span",{className:"text-2xl",title:`Humor: ${a.humor}`,children:s(a.humor)})]})]})}),o.jsxs("div",{className:"bg-netflix-hover rounded-lg p-4 space-y-3",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(xv,{className:"h-4 w-4 text-blue-400"}),o.jsxs("span",{className:"text-sm text-netflix-text",children:["Água: ",a.agua_litros||"Não registrado"]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Am,{className:"h-4 w-4 text-purple-400"}),o.jsxs("span",{className:"text-sm text-netflix-text",children:["Sono: ",a.sono_horas?`${a.sono_horas}h`:"Não registrado"]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(WK,{className:"h-4 w-4 text-green-400"}),o.jsxs("span",{className:"text-sm text-netflix-text",children:["Exercício: ",a.atividade_fisica?"Sim":"Não"]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Es,{className:"h-4 w-4 text-red-400"}),o.jsxs("span",{className:"text-sm text-netflix-text",children:["Estresse: ",a.estresse_nivel?`${a.estresse_nivel}/5`:"Não avaliado"]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Nn,{className:"h-4 w-4 text-instituto-gold"}),o.jsxs("span",{className:"text-sm text-netflix-text",children:["Nota do dia: ",a.nota_dia?`${a.nota_dia}/5`:"Não avaliada"]})]})]}),(a.gratidao||a.pequena_vitoria)&&o.jsxs("div",{className:"space-y-2 pt-2 border-t border-netflix-border",children:[a.gratidao&&o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-medium text-instituto-gold uppercase tracking-wide",children:"Gratidão"}),o.jsx("p",{className:"text-sm text-netflix-text-muted",children:a.gratidao})]}),a.pequena_vitoria&&o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-medium text-instituto-green uppercase tracking-wide",children:"Pequena Vitória"}),o.jsx("p",{className:"text-sm text-netflix-text-muted",children:a.pequena_vitoria})]})]})]})]})]})]},a.id))})})]})},Ant=({userId:t,clientData:e})=>{const[n,r]=S.useState([]),[i,s]=S.useState(""),[a,l]=S.useState("note"),[c,u]=S.useState(!1),{toast:d}=Ui();S.useEffect(()=>{f()},[t]);const f=async()=>{try{const{data:_}=await He.from("comments").select("*").eq("target_id",t).eq("target_type","user_intervention").order("created_at",{ascending:!1});_&&r(_.map(E=>({id:E.id,content:E.content,created_at:E.created_at,created_by:E.user_id,type:E.is_private?"alert":"note"})))}catch(_){console.error("Erro ao carregar notas:",_)}},h=async()=>{if(i.trim()){u(!0);try{const{data:{user:_}}=await He.auth.getUser();if(!_)throw new Error("Usuário não encontrado");const{data:E}=await He.from("profiles").select("id").eq("user_id",_.id).single();if(!E)throw new Error("Perfil do admin não encontrado");const{error:N}=await He.from("comments").insert({target_id:t,target_type:"user_intervention",content:i,user_id:E.id,is_private:a==="alert"});if(N)throw N;s(""),f(),d({title:"Nota adicionada",description:"A nota foi salva com sucesso."})}catch(_){console.error("Erro ao adicionar nota:",_),d({title:"Erro",description:"Não foi possível salvar a nota.",variant:"destructive"})}finally{u(!1)}}},m=()=>{const _=[],{engagementData:E,recentMissions:N,weightHistory:C}=e;return E.status==="inactive"&&_.push({type:"danger",title:"Cliente Inativo",message:`Sem atividade há ${E.daysSinceLastActivity} dias. Considere entrar em contato.`,icon:ya}),E.completionRate<30&&_.push({type:"warning",title:"Baixa Taxa de Conclusão",message:`Taxa de conclusão de apenas ${E.completionRate.toFixed(0)}%. Cliente pode precisar de apoio.`,icon:jf}),N.slice(0,3).filter(T=>!T.concluido).length>=3&&_.push({type:"warning",title:"Padrão Preocupante",message:"Últimos 3 dias sem conclusão de missões. Requer atenção.",icon:pf}),_},p=()=>{const _=[],{engagementData:E,recentMissions:N,physicalData:C}=e;return E.avgScore<15&&_.push({title:"Revisão de Metas",description:"Pontuação média baixa. Considere ajustar as metas para serem mais alcançáveis.",priority:"high"}),N.filter(A=>A.sono_horas).reduce((A,P)=>A+P.sono_horas,0)/N.filter(A=>A.sono_horas).length<6&&_.push({title:"Higiene do Sono",description:"Média de sono abaixo de 6h. Focar em estratégias de melhoria do sono.",priority:"medium"}),N.filter(A=>A.atividade_fisica).length<2&&_.push({title:"Atividade Física",description:"Baixa frequência de exercícios. Incentivar atividades físicas leves.",priority:"medium"}),_},x=m(),v=p(),g=_=>{switch(_){case"alert":return ya;case"goal":return Nn;default:return m2}},w=_=>{switch(_){case"alert":return"border-l-instituto-orange";case"goal":return"border-l-instituto-green";default:return"border-l-instituto-purple"}};return o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs(le,{className:"bg-netflix-card border-netflix-border",children:[o.jsx(Qe,{children:o.jsxs(et,{className:"text-netflix-text flex items-center gap-2",children:[o.jsx(ya,{className:"h-5 w-5 text-instituto-orange"}),"Alertas do Sistema"]})}),o.jsx(ue,{className:"space-y-3",children:x.length===0?o.jsx("p",{className:"text-netflix-text-muted text-center py-4",children:"Nenhum alerta ativo para este cliente"}):x.map((_,E)=>o.jsxs(mL,{className:`border-l-4 ${_.type==="danger"?"border-l-red-500":"border-l-yellow-500"}`,children:[o.jsx(_.icon,{className:"h-4 w-4"}),o.jsxs(pL,{children:[o.jsxs("strong",{children:[_.title,":"]})," ",_.message]})]},E))})]}),o.jsxs(le,{className:"bg-netflix-card border-netflix-border",children:[o.jsx(Qe,{children:o.jsxs(et,{className:"text-netflix-text flex items-center gap-2",children:[o.jsx(Nn,{className:"h-5 w-5 text-instituto-green"}),"Recomendações de Intervenção"]})}),o.jsx(ue,{className:"space-y-3",children:v.length===0?o.jsx("p",{className:"text-netflix-text-muted text-center py-4",children:"Cliente está dentro dos padrões esperados"}):v.map((_,E)=>o.jsxs("div",{className:"border border-netflix-border rounded-lg p-3",children:[o.jsx("div",{className:"flex items-center gap-2 mb-2",children:o.jsx(Nt,{variant:_.priority==="high"?"destructive":"outline",className:_.priority==="high"?"":"border-instituto-gold text-instituto-gold",children:_.priority==="high"?"Alta Prioridade":"Média Prioridade"})}),o.jsx("h4",{className:"font-medium text-netflix-text",children:_.title}),o.jsx("p",{className:"text-sm text-netflix-text-muted",children:_.description})]},E))})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs(le,{className:"bg-netflix-card border-netflix-border",children:[o.jsx(Qe,{children:o.jsxs(et,{className:"text-netflix-text flex items-center gap-2",children:[o.jsx(af,{className:"h-5 w-5 text-instituto-purple"}),"Adicionar Nota de Intervenção"]})}),o.jsxs(ue,{className:"space-y-4",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsx(pe,{variant:a==="note"?"default":"outline",size:"sm",onClick:()=>l("note"),className:a==="note"?"bg-instituto-purple":"",children:"Nota"}),o.jsx(pe,{variant:a==="alert"?"default":"outline",size:"sm",onClick:()=>l("alert"),className:a==="alert"?"bg-instituto-orange":"",children:"Alerta"}),o.jsx(pe,{variant:a==="goal"?"default":"outline",size:"sm",onClick:()=>l("goal"),className:a==="goal"?"bg-instituto-green":"",children:"Meta"})]}),o.jsx(mn,{placeholder:"Digite sua nota de intervenção...",value:i,onChange:_=>s(_.target.value),className:"bg-netflix-hover border-netflix-border text-netflix-text",rows:4}),o.jsxs(pe,{onClick:h,disabled:c||!i.trim(),className:"w-full bg-instituto-purple hover:bg-instituto-purple/90",children:[o.jsx(cw,{className:"h-4 w-4 mr-2"}),c?"Salvando...":"Adicionar Nota"]})]})]}),o.jsxs(le,{className:"bg-netflix-card border-netflix-border",children:[o.jsx(Qe,{children:o.jsxs(et,{className:"text-netflix-text flex items-center gap-2",children:[o.jsx(In,{className:"h-5 w-5 text-instituto-gold"}),"Histórico de Intervenções"]})}),o.jsx(ue,{className:"space-y-3 max-h-96 overflow-y-auto",children:n.length===0?o.jsx("p",{className:"text-netflix-text-muted text-center py-4",children:"Nenhuma nota de intervenção registrada"}):n.map(_=>{const E=g(_.type);return o.jsx("div",{className:`border-l-4 ${w(_.type)} bg-netflix-hover rounded-r-lg p-3`,children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(E,{className:"h-4 w-4 mt-1 text-netflix-text-muted"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm text-netflix-text",children:_.content}),o.jsx("p",{className:"text-xs text-netflix-text-muted mt-1",children:new Date(_.created_at).toLocaleString("pt-BR")})]})]})},_.id)})})]})]})]})};var Qj="Checkbox",[Tnt,krt]=qr(Qj),[Pnt,t5]=Tnt(Qj);function knt(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:i,disabled:s,form:a,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=t,[h,m]=Js({prop:n,defaultProp:i??!1,onChange:c,caller:Qj}),[p,x]=S.useState(null),[v,g]=S.useState(null),w=S.useRef(!1),_=p?!!a||!!p.closest("form"):!0,E={checked:h,disabled:s,setChecked:m,control:p,setControl:x,name:l,form:a,value:d,hasConsumerStoppedPropagationRef:w,required:u,defaultChecked:uf(i)?!1:i,isFormControl:_,bubbleInput:v,setBubbleInput:g};return o.jsx(Pnt,{scope:e,...E,children:Rnt(f)?f(E):r})}var wde="CheckboxTrigger",_de=S.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},i)=>{const{control:s,value:a,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:m,bubbleInput:p}=t5(wde,t),x=Wt(i,d),v=S.useRef(c);return S.useEffect(()=>{const g=s==null?void 0:s.form;if(g){const w=()=>f(v.current);return g.addEventListener("reset",w),()=>g.removeEventListener("reset",w)}},[s,f]),o.jsx(_t.button,{type:"button",role:"checkbox","aria-checked":uf(c)?"mixed":c,"aria-required":u,"data-state":Cde(c),"data-disabled":l?"":void 0,disabled:l,value:a,...r,ref:x,onKeyDown:ot(e,g=>{g.key==="Enter"&&g.preventDefault()}),onClick:ot(n,g=>{f(w=>uf(w)?!0:!w),p&&m&&(h.current=g.isPropagationStopped(),h.current||g.stopPropagation())})})});_de.displayName=wde;var n5=S.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:s,required:a,disabled:l,value:c,onCheckedChange:u,form:d,...f}=t;return o.jsx(knt,{__scopeCheckbox:n,checked:i,defaultChecked:s,disabled:l,required:a,onCheckedChange:u,name:r,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>o.jsxs(o.Fragment,{children:[o.jsx(_de,{...f,ref:e,__scopeCheckbox:n}),h&&o.jsx(Mde,{__scopeCheckbox:n})]})})});n5.displayName=Qj;var Sde="CheckboxIndicator",Ede=S.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,s=t5(Sde,n);return o.jsx(js,{present:r||uf(s.checked)||s.checked===!0,children:o.jsx(_t.span,{"data-state":Cde(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});Ede.displayName=Sde;var Nde="CheckboxBubbleInput",Mde=S.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:s,defaultChecked:a,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:m}=t5(Nde,t),p=Wt(n,m),x=Nw(s),v=dw(r);S.useEffect(()=>{const w=h;if(!w)return;const _=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(_,"checked").set,C=!i.current;if(x!==s&&N){const j=new Event("click",{bubbles:C});w.indeterminate=uf(s),N.call(w,uf(s)?!1:s),w.dispatchEvent(j)}},[h,x,s,i]);const g=S.useRef(uf(s)?!1:s);return o.jsx(_t.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??g.current,required:l,disabled:c,name:u,value:d,form:f,...e,tabIndex:-1,ref:p,style:{...e.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Mde.displayName=Nde;function Rnt(t){return typeof t=="function"}function uf(t){return t==="indeterminate"}function Cde(t){return uf(t)?"indeterminate":t?"checked":"unchecked"}const _E=S.forwardRef(({className:t,...e},n)=>o.jsx(n5,{ref:n,className:xt("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:o.jsx(Ede,{className:xt("flex items-center justify-center text-current"),children:o.jsx(f2,{className:"h-4 w-4"})})}));_E.displayName=n5.displayName;const Ont=({userId:t,userName:e})=>{const{toast:n}=Ui(),[r,i]=S.useState([]),[s,a]=S.useState(!0),[l,c]=S.useState(!1),[u,d]=S.useState(null),[f,h]=S.useState(!1),[m,p]=S.useState({title:"",description:"",content:"",video_url:"",pdf_url:"",category:"",estimated_time:"",send_immediately:!0,scheduled_date:"",notification_type:"immediate",template_name:"",wheel_tools:[]}),[x,v]=S.useState([{id:"1",name:"Reflexão Objetivos",title:"Reflexão sobre Objetivos Pessoais",description:"Uma sessão para refletir sobre metas e valores pessoais",content:`Assista ao vídeo e reflita sobre as seguintes perguntas:

1. Quais são seus principais objetivos de vida?
2. O que mais valoriza em suas relações?
3. Como seus valores se alinham com suas ações atuais?

Anote suas reflexões detalhadamente.`,category:"Autoconhecimento",estimated_time:"30-45 minutos"},{id:"2",name:"Gestão Ansiedade",title:"Técnicas para Gestão da Ansiedade",description:"Exercícios práticos para reduzir a ansiedade no dia a dia",content:`Esta sessão inclui 3 técnicas de respiração:

1. Respiração 4-7-8
2. Respiração diafragmática
3. Respiração quadrada

Pratique cada técnica por 5 minutos e anote suas sensações.`,category:"Bem-estar Mental",estimated_time:"20-30 minutos"}]);S.useEffect(()=>{g()},[t]);const g=async()=>{a(!0);try{const{data:A,error:P}=await He.from("sessions").select("*").eq("assigned_to",t).order("created_at",{ascending:!1});if(P)throw P;const R=(A||[]).map(D=>({...D,status:"sent"}));i(R)}catch(A){console.error("Erro ao carregar sessões:",A),n({title:"Erro",description:"Não foi possível carregar as sessões do usuário.",variant:"destructive"})}finally{a(!1)}},w=async()=>{if(!m.title.trim()){n({title:"Erro",description:"Título é obrigatório.",variant:"destructive"});return}if(!m.description.trim()){n({title:"Erro",description:"Descrição é obrigatória.",variant:"destructive"});return}if(!m.content.trim()){n({title:"Erro",description:"Conteúdo é obrigatório.",variant:"destructive"});return}console.log("Dados da sessão antes do envio:",m);try{const{data:A}=await He.from("profiles").select("id").eq("id",t).single();if(!A){n({title:"Erro",description:"Usuário não encontrado.",variant:"destructive"});return}const P={instructions:m.content,tools:m.wheel_tools,category:m.category,estimated_time:m.estimated_time},R={title:m.title.trim(),description:m.description.trim(),content:JSON.stringify(P),video_url:m.video_url||null,pdf_url:m.pdf_url||null,wheel_tools:m.wheel_tools.length>0?m.wheel_tools:null,estimated_time:m.estimated_time?parseInt(m.estimated_time.split("-")[0]):null,category:m.category||null,send_type:m.send_immediately?"immediate":"scheduled",scheduled_date:!m.send_immediately&&m.scheduled_date?new Date(m.scheduled_date).toISOString():null,notification_type:m.notification_type,assigned_to:t,is_public:!1,created_by:"d4c7e35c-2f66-4e5d-8d09-c0ba8d0d7187"};console.log("Dados finais para inserção:",R);const{data:D,error:F}=await He.from("sessions").insert(R).select().single();if(F){console.error("Erro detalhado do Supabase:",F),F.code==="PGRST204"?n({title:"Erro de Sistema",description:"Problema na estrutura do banco. Contate o suporte técnico.",variant:"destructive"}):F.code==="23505"?n({title:"Erro",description:"Já existe uma sessão com estes dados.",variant:"destructive"}):F.code==="23503"?n({title:"Erro",description:"Dados relacionados não encontrados.",variant:"destructive"}):n({title:"Erro",description:`Falha ao criar sessão: ${F.message}`,variant:"destructive"});return}const I={...D,status:"sent"};i([I,...r]),p({title:"",description:"",content:"",video_url:"",pdf_url:"",category:"",estimated_time:"",send_immediately:!0,scheduled_date:"",notification_type:"immediate",template_name:"",wheel_tools:[]}),c(!1),n({title:"Sessão criada com sucesso!",description:`A sessão "${D.title}" foi enviada para ${e}.`})}catch(A){console.error("Erro interno completo:",A),n({title:"Erro Interno",description:"Erro do sistema. Verifique os logs e tente novamente.",variant:"destructive"})}},_=()=>{if(!m.template_name.trim()){n({title:"Erro",description:"Nome do template é obrigatório.",variant:"destructive"});return}const A={id:Date.now().toString(),name:m.template_name,title:m.title,description:m.description,content:m.content,category:m.category,estimated_time:m.estimated_time};v([...x,A]),n({title:"Template salvo!",description:`Template "${m.template_name}" foi criado com sucesso.`})},E=A=>{p({...m,title:A.title,description:A.description,content:A.content,category:A.category,estimated_time:A.estimated_time}),n({title:"Template carregado",description:`Template "${A.name}" foi aplicado ao formulário.`})},N=async A=>{try{const{error:P}=await He.from("sessions").delete().eq("id",A);if(P)throw P;i(r.filter(R=>R.id!==A)),n({title:"Sessão excluída",description:"A sessão foi removida com sucesso."})}catch(P){console.error("Erro ao excluir sessão:",P),n({title:"Erro",description:"Não foi possível excluir a sessão.",variant:"destructive"})}},C=A=>{switch(A.status||"sent"){case"completed":return o.jsx(Nt,{className:"bg-instituto-green text-white",children:"Concluída"});case"in_progress":return o.jsx(Nt,{className:"bg-instituto-orange text-white",children:"Em Andamento"});case"viewed":return o.jsx(Nt,{className:"bg-instituto-purple text-white",children:"Visualizada"});default:return o.jsx(Nt,{variant:"outline",className:"border-netflix-border text-netflix-text-muted",children:"Enviada"})}},T=(()=>{const A=r.filter(F=>(F.status||"sent")==="completed").length,P=r.filter(F=>(F.status||"sent")==="in_progress").length,R=r.filter(F=>(F.status||"sent")==="viewed").length,D=r.filter(F=>(F.status||"sent")==="sent").length;return{completed:A,inProgress:P,viewed:R,sent:D,total:r.length}})();return s?o.jsx(le,{className:"bg-netflix-card border-netflix-border",children:o.jsxs(ue,{className:"p-6 text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-instituto-orange mx-auto"}),o.jsx("p",{className:"text-netflix-text-muted mt-2",children:"Carregando sessões..."})]})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs(le,{className:"bg-netflix-card border-netflix-border",children:[o.jsx(Qe,{children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsxs(et,{className:"text-xl text-netflix-text flex items-center gap-2",children:[o.jsx(wl,{className:"h-5 w-5 text-instituto-orange"}),"Sessões Individuais para ",e]}),o.jsx("p",{className:"text-netflix-text-muted mt-1",children:"Gerencie sessões personalizadas e acompanhe o progresso"})]}),o.jsxs(Ii,{open:l,onOpenChange:c,children:[o.jsx(lo,{asChild:!0,children:o.jsxs(pe,{className:"instituto-button",children:[o.jsx(ws,{className:"h-4 w-4 mr-2"}),"Nova Sessão"]})}),o.jsxs(vi,{className:"max-w-5xl max-h-[95vh] overflow-y-auto",children:[o.jsx(xi,{children:o.jsxs(yi,{className:"flex items-center gap-2",children:[o.jsx(wl,{className:"h-5 w-5 text-instituto-orange"}),"Criar Nova Sessão para ",e]})}),o.jsxs(Zu,{defaultValue:"create",className:"space-y-4",children:[o.jsxs(Dc,{className:"bg-netflix-card border border-netflix-border",children:[o.jsxs(On,{value:"create",className:"data-[state=active]:bg-instituto-orange data-[state=active]:text-white",children:[o.jsx(ws,{className:"h-4 w-4 mr-2"}),"Criar Nova"]}),o.jsxs(On,{value:"templates",className:"data-[state=active]:bg-instituto-purple data-[state=active]:text-white",children:[o.jsx(l0,{className:"h-4 w-4 mr-2"}),"Templates"]})]}),o.jsx(Dn,{value:"templates",className:"space-y-4",children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:x.map(A=>o.jsxs(le,{className:"bg-netflix-card border-netflix-border hover:border-instituto-orange/50 transition-all duration-300 cursor-pointer",onClick:()=>E(A),children:[o.jsx(Qe,{className:"pb-2",children:o.jsx(et,{className:"text-sm text-netflix-text",children:A.name})}),o.jsxs(ue,{className:"space-y-2",children:[o.jsx("p",{className:"text-xs text-netflix-text-muted",children:A.title}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx(Nt,{variant:"outline",className:"text-xs",children:A.category}),o.jsx("span",{className:"text-xs text-netflix-text-muted",children:A.estimated_time})]})]})]},A.id))})}),o.jsxs(Dn,{value:"create",className:"space-y-6",children:[o.jsxs(le,{className:"bg-netflix-card border-netflix-border",children:[o.jsx(Qe,{children:o.jsxs(et,{className:"text-netflix-text flex items-center gap-2",children:[o.jsx(af,{className:"h-4 w-4 text-instituto-orange"}),"Informações Básicas"]})}),o.jsxs(ue,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Ce,{htmlFor:"title",className:"text-sm font-medium text-netflix-text",children:"Título da Sessão *"}),o.jsx(ut,{id:"title",value:m.title,onChange:A=>p({...m,title:A.target.value}),placeholder:"Ex: Reflexão sobre Objetivos Pessoais",className:"bg-netflix-gray border-netflix-border text-netflix-text"})]}),o.jsxs("div",{children:[o.jsx(Ce,{htmlFor:"category",className:"text-sm font-medium text-netflix-text",children:"Categoria"}),o.jsxs(nr,{value:m.category,onValueChange:A=>p({...m,category:A}),children:[o.jsx(Xn,{className:"bg-netflix-gray border-netflix-border text-netflix-text",children:o.jsx(rr,{placeholder:"Selecione uma categoria"})}),o.jsxs(Yn,{children:[o.jsx(ht,{value:"autoconhecimento",children:"Autoconhecimento"}),o.jsx(ht,{value:"bem-estar-mental",children:"Bem-estar Mental"}),o.jsx(ht,{value:"relacionamentos",children:"Relacionamentos"}),o.jsx(ht,{value:"objetivos",children:"Objetivos e Metas"}),o.jsx(ht,{value:"mindfulness",children:"Mindfulness"}),o.jsx(ht,{value:"gestao-emocoes",children:"Gestão de Emoções"})]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Ce,{htmlFor:"estimated_time",className:"text-sm font-medium text-netflix-text",children:"Tempo Estimado"}),o.jsxs(nr,{value:m.estimated_time,onValueChange:A=>p({...m,estimated_time:A}),children:[o.jsx(Xn,{className:"bg-netflix-gray border-netflix-border text-netflix-text",children:o.jsx(rr,{placeholder:"Quanto tempo deve levar?"})}),o.jsxs(Yn,{children:[o.jsx(ht,{value:"10-15 minutos",children:"10-15 minutos"}),o.jsx(ht,{value:"15-30 minutos",children:"15-30 minutos"}),o.jsx(ht,{value:"30-45 minutos",children:"30-45 minutos"}),o.jsx(ht,{value:"45-60 minutos",children:"45-60 minutos"}),o.jsx(ht,{value:"1+ hora",children:"Mais de 1 hora"})]})]})]}),o.jsxs("div",{children:[o.jsx(Ce,{htmlFor:"template_name",className:"text-sm font-medium text-netflix-text",children:"Salvar como Template (opcional)"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ut,{id:"template_name",value:m.template_name,onChange:A=>p({...m,template_name:A.target.value}),placeholder:"Nome do template",className:"bg-netflix-gray border-netflix-border text-netflix-text"}),o.jsx(pe,{type:"button",variant:"outline",onClick:_,disabled:!m.template_name.trim()||!m.title.trim(),className:"border-instituto-purple text-instituto-purple hover:bg-instituto-purple hover:text-white",children:o.jsx(XK,{className:"h-4 w-4"})})]})]})]}),o.jsxs("div",{children:[o.jsx(Ce,{htmlFor:"description",className:"text-sm font-medium text-netflix-text",children:"Descrição"}),o.jsx(mn,{id:"description",value:m.description,onChange:A=>p({...m,description:A.target.value}),placeholder:"Breve descrição dos objetivos da sessão...",className:"bg-netflix-gray border-netflix-border text-netflix-text"})]})]})]}),o.jsxs(le,{className:"bg-netflix-card border-netflix-border",children:[o.jsx(Qe,{children:o.jsxs(et,{className:"text-netflix-text flex items-center gap-2",children:[o.jsx(YK,{className:"h-4 w-4 text-instituto-purple"}),"Materiais e Recursos"]})}),o.jsxs(ue,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(Ce,{htmlFor:"video_url",className:"text-sm font-medium text-netflix-text",children:"URL do Vídeo (YouTube, Vimeo, etc.)"}),o.jsx(ut,{id:"video_url",value:m.video_url,onChange:A=>p({...m,video_url:A.target.value}),placeholder:"https://youtube.com/watch?v=...",className:"bg-netflix-gray border-netflix-border text-netflix-text"})]}),o.jsxs("div",{children:[o.jsx(Ce,{htmlFor:"pdf_url",className:"text-sm font-medium text-netflix-text",children:"URL do Material (PDF, Slides, etc.)"}),o.jsx(ut,{id:"pdf_url",value:m.pdf_url,onChange:A=>p({...m,pdf_url:A.target.value}),placeholder:"Link para material de apoio...",className:"bg-netflix-gray border-netflix-border text-netflix-text"})]})]}),(m.video_url||m.pdf_url)&&o.jsxs("div",{className:"p-3 bg-instituto-green/10 rounded-lg border border-instituto-green/20",children:[o.jsx("p",{className:"text-sm text-instituto-green font-medium",children:"✓ Materiais configurados"}),o.jsx("p",{className:"text-xs text-netflix-text-muted mt-1",children:"O cliente terá acesso direto aos materiais na sessão"})]})]})]}),o.jsxs(le,{className:"bg-netflix-card border-netflix-border",children:[o.jsx(Qe,{children:o.jsxs(et,{className:"text-netflix-text flex items-center gap-2",children:[o.jsx(m2,{className:"h-4 w-4 text-instituto-orange"}),"Conteúdo e Instruções"]})}),o.jsx(ue,{children:o.jsxs("div",{children:[o.jsx(Ce,{htmlFor:"content",className:"text-sm font-medium text-netflix-text",children:"Instruções Detalhadas *"}),o.jsx(mn,{id:"content",value:m.content,onChange:A=>p({...m,content:A.target.value}),placeholder:"Instruções detalhadas, perguntas para reflexão, exercícios práticos...",className:"bg-netflix-gray border-netflix-border text-netflix-text min-h-[150px] mt-2"}),o.jsx("p",{className:"text-xs text-netflix-text-muted mt-1",children:"Use quebras de linha para organizar melhor o conteúdo. Seja específico nas instruções."})]})})]}),o.jsxs(le,{className:"bg-netflix-card border-netflix-border",children:[o.jsx(Qe,{children:o.jsxs(et,{className:"text-netflix-text flex items-center gap-2",children:[o.jsx(Nn,{className:"h-4 w-4 text-instituto-purple"}),"Ferramentas de Avaliação"]})}),o.jsxs(ue,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(Ce,{className:"text-sm font-medium text-netflix-text mb-3 block",children:"Selecione as ferramentas de roda que o cliente poderá usar:"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(_E,{id:"energia_vital",checked:m.wheel_tools.includes("energia_vital"),onCheckedChange:A=>{p(A?{...m,wheel_tools:[...m.wheel_tools,"energia_vital"]}:{...m,wheel_tools:m.wheel_tools.filter(P=>P!=="energia_vital")})}}),o.jsxs(Ce,{htmlFor:"energia_vital",className:"text-netflix-text cursor-pointer",children:[o.jsx("span",{className:"font-medium",children:"Roda da Energia Vital"}),o.jsx("span",{className:"block text-xs text-netflix-text-muted",children:"4 dimensões: Espiritual, Mental, Emocional, Físico"})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(_E,{id:"roda_vida",checked:m.wheel_tools.includes("roda_vida"),onCheckedChange:A=>{p(A?{...m,wheel_tools:[...m.wheel_tools,"roda_vida"]}:{...m,wheel_tools:m.wheel_tools.filter(P=>P!=="roda_vida")})}}),o.jsxs(Ce,{htmlFor:"roda_vida",className:"text-netflix-text cursor-pointer",children:[o.jsx("span",{className:"font-medium",children:"Roda da Vida"}),o.jsx("span",{className:"block text-xs text-netflix-text-muted",children:"5 pilares: Profissional, Financeiro, Família, Relacionamento, Saúde"})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(_E,{id:"saude_energia",checked:m.wheel_tools.includes("saude_energia"),onCheckedChange:A=>{p(A?{...m,wheel_tools:[...m.wheel_tools,"saude_energia"]}:{...m,wheel_tools:m.wheel_tools.filter(P=>P!=="saude_energia")})}}),o.jsxs(Ce,{htmlFor:"saude_energia",className:"text-netflix-text cursor-pointer",children:[o.jsx("span",{className:"font-medium",children:"Roda da Saúde e Energia"}),o.jsx("span",{className:"block text-xs text-netflix-text-muted",children:"8 áreas: Sono, Intestino, Atividade Física, Alimentação, etc."})]})]})]})]}),m.wheel_tools.length>0&&o.jsxs("div",{className:"p-3 bg-instituto-purple/10 rounded-lg border border-instituto-purple/20",children:[o.jsxs("p",{className:"text-sm text-instituto-purple font-medium",children:["✓ ",m.wheel_tools.length," ferramenta(s) selecionada(s)"]}),o.jsx("p",{className:"text-xs text-netflix-text-muted mt-1",children:"O cliente poderá preencher as rodas e suas respostas serão salvas automaticamente"})]})]})]}),o.jsxs(le,{className:"bg-netflix-card border-netflix-border",children:[o.jsx(Qe,{children:o.jsxs(et,{className:"text-netflix-text flex items-center gap-2",children:[o.jsx(vv,{className:"h-4 w-4 text-instituto-gold"}),"Configurações de Envio"]})}),o.jsxs(ue,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsx(Ce,{className:"text-sm font-medium text-netflix-text",children:"Quando enviar?"}),o.jsxs(z2,{value:m.send_immediately?"immediate":"scheduled",onValueChange:A=>p({...m,send_immediately:A==="immediate"}),children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ac,{value:"immediate",id:"immediate"}),o.jsx(Ce,{htmlFor:"immediate",className:"text-netflix-text cursor-pointer",children:"Enviar imediatamente"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ac,{value:"scheduled",id:"scheduled"}),o.jsx(Ce,{htmlFor:"scheduled",className:"text-netflix-text cursor-pointer",children:"Agendar para mais tarde"})]})]})]}),!m.send_immediately&&o.jsxs("div",{children:[o.jsx(Ce,{htmlFor:"scheduled_date",className:"text-sm font-medium text-netflix-text",children:"Data e Hora do Agendamento"}),o.jsx(ut,{id:"scheduled_date",type:"datetime-local",value:m.scheduled_date,onChange:A=>p({...m,scheduled_date:A.target.value}),className:"bg-netflix-gray border-netflix-border text-netflix-text"})]}),o.jsxs("div",{children:[o.jsx(Ce,{htmlFor:"notification_type",className:"text-sm font-medium text-netflix-text",children:"Tipo de Notificação"}),o.jsxs(nr,{value:m.notification_type,onValueChange:A=>p({...m,notification_type:A}),children:[o.jsx(Xn,{className:"bg-netflix-gray border-netflix-border text-netflix-text",children:o.jsx(rr,{placeholder:"Como notificar o cliente?"})}),o.jsxs(Yn,{children:[o.jsx(ht,{value:"immediate",children:"Notificação Imediata"}),o.jsx(ht,{value:"gentle",children:"Lembrete Suave (24h depois)"}),o.jsx(ht,{value:"weekly",children:"Lembrete Semanal"}),o.jsx(ht,{value:"none",children:"Sem Lembretes"})]})]})]})]})]}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsxs(pe,{onClick:w,className:"instituto-button flex-1",disabled:!m.title.trim()||!m.content.trim(),children:[o.jsx(cw,{className:"h-4 w-4 mr-2"}),m.send_immediately?"Criar e Enviar Agora":"Agendar Sessão"]}),o.jsx(pe,{variant:"outline",onClick:()=>c(!1),className:"border-netflix-border text-netflix-text hover:bg-netflix-gray",children:"Cancelar"})]})]})]})]})]})]})}),o.jsx(ue,{children:o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[o.jsxs("div",{className:"text-center p-3 bg-netflix-hover rounded-lg",children:[o.jsx("p",{className:"text-2xl font-bold text-netflix-text",children:T.total}),o.jsx("p",{className:"text-xs text-netflix-text-muted",children:"Total"})]}),o.jsxs("div",{className:"text-center p-3 bg-instituto-green/10 rounded-lg",children:[o.jsx("p",{className:"text-2xl font-bold text-netflix-text",children:T.completed}),o.jsx("p",{className:"text-xs text-netflix-text-muted",children:"Concluídas"})]}),o.jsxs("div",{className:"text-center p-3 bg-instituto-orange/10 rounded-lg",children:[o.jsx("p",{className:"text-2xl font-bold text-netflix-text",children:T.inProgress}),o.jsx("p",{className:"text-xs text-netflix-text-muted",children:"Em Andamento"})]}),o.jsxs("div",{className:"text-center p-3 bg-instituto-purple/10 rounded-lg",children:[o.jsx("p",{className:"text-2xl font-bold text-netflix-text",children:T.viewed}),o.jsx("p",{className:"text-xs text-netflix-text-muted",children:"Visualizadas"})]}),o.jsxs("div",{className:"text-center p-3 bg-netflix-hover rounded-lg",children:[o.jsx("p",{className:"text-2xl font-bold text-netflix-text",children:T.sent}),o.jsx("p",{className:"text-xs text-netflix-text-muted",children:"Enviadas"})]})]})})]}),o.jsx("div",{className:"space-y-4",children:r.map(A=>o.jsxs(le,{className:"bg-netflix-card border-netflix-border hover:border-instituto-orange/50 transition-all duration-300",children:[o.jsx(Qe,{children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{className:"space-y-2 flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(et,{className:"text-lg text-netflix-text",children:A.title}),C(A)]}),A.description&&o.jsx("p",{className:"text-sm text-netflix-text-muted",children:A.description})]}),o.jsxs("div",{className:"flex gap-2 ml-4",children:[o.jsx(pe,{size:"sm",variant:"outline",onClick:()=>{d(A),h(!0)},className:"border-netflix-border text-netflix-text hover:bg-instituto-purple/20",children:o.jsx(eo,{className:"h-4 w-4"})}),o.jsx(pe,{size:"sm",variant:"outline",onClick:()=>N(A.id),className:"border-netflix-border text-netflix-text hover:bg-red-500/20",children:o.jsx(Tm,{className:"h-4 w-4"})})]})]})}),o.jsxs(ue,{children:[o.jsxs("div",{className:"flex items-center justify-between text-sm text-netflix-text-muted",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(In,{className:"h-4 w-4"}),new Date(A.created_at).toLocaleDateString()]}),A.video_url&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(wl,{className:"h-4 w-4"}),"Vídeo"]}),A.pdf_url&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(af,{className:"h-4 w-4"}),"PDF"]})]}),A.completed_at&&o.jsxs("span",{className:"text-instituto-green text-xs",children:["Concluída em ",new Date(A.completed_at).toLocaleDateString()]})]}),A.response&&o.jsxs("div",{className:"mt-3 p-3 bg-netflix-hover rounded-lg",children:[o.jsx("p",{className:"text-xs text-netflix-text-muted mb-1",children:"Resposta do cliente:"}),o.jsx("p",{className:"text-sm text-netflix-text line-clamp-2",children:A.response})]})]})]},A.id))}),r.length===0&&o.jsx(le,{className:"bg-netflix-card border-netflix-border",children:o.jsxs(ue,{className:"text-center py-12",children:[o.jsx(wl,{className:"h-16 w-16 text-netflix-text-muted mx-auto mb-4"}),o.jsx("h3",{className:"text-xl font-bold text-netflix-text mb-2",children:"Nenhuma sessão criada"}),o.jsxs("p",{className:"text-netflix-text-muted mb-6",children:["Crie a primeira sessão personalizada para ",e]}),o.jsxs(pe,{onClick:()=>c(!0),className:"instituto-button",children:[o.jsx(ws,{className:"h-4 w-4 mr-2"}),"Criar Primeira Sessão"]})]})}),o.jsx(Ii,{open:f,onOpenChange:h,children:o.jsx(vi,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:u&&o.jsxs(o.Fragment,{children:[o.jsxs(xi,{children:[o.jsx(yi,{className:"text-2xl text-netflix-text",children:u.title}),o.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[C(u),o.jsxs("span",{className:"text-sm text-netflix-text-muted",children:["Criada em ",new Date(u.created_at).toLocaleDateString()]})]})]}),o.jsxs("div",{className:"space-y-6 py-4",children:[u.description&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-netflix-text mb-2",children:"Descrição"}),o.jsx("p",{className:"text-netflix-text-muted",children:u.description})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-netflix-text mb-2",children:"Conteúdo da Sessão"}),o.jsx("div",{className:"p-4 bg-netflix-gray/20 rounded-lg",children:o.jsx("p",{className:"text-netflix-text whitespace-pre-wrap",children:u.content})})]}),(u.video_url||u.pdf_url)&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-netflix-text mb-2",children:"Materiais"}),o.jsxs("div",{className:"flex gap-3",children:[u.video_url&&o.jsx(pe,{variant:"outline",asChild:!0,className:"border-instituto-orange text-instituto-orange hover:bg-instituto-orange hover:text-white",children:o.jsxs("a",{href:u.video_url,target:"_blank",rel:"noopener noreferrer",children:[o.jsx(wl,{className:"h-4 w-4 mr-2"}),"Abrir Vídeo"]})}),u.pdf_url&&o.jsx(pe,{variant:"outline",asChild:!0,className:"border-instituto-purple text-instituto-purple hover:bg-instituto-purple hover:text-white",children:o.jsxs("a",{href:u.pdf_url,target:"_blank",rel:"noopener noreferrer",children:[o.jsx(af,{className:"h-4 w-4 mr-2"}),"Abrir PDF"]})})]})]}),u.response&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-netflix-text mb-2",children:"Resposta do Cliente"}),o.jsxs("div",{className:"p-4 bg-instituto-green/10 rounded-lg border border-instituto-green/20",children:[o.jsx("p",{className:"text-netflix-text whitespace-pre-wrap",children:u.response}),u.completed_at&&o.jsxs("p",{className:"text-xs text-instituto-green mt-3",children:["Respondida em ",new Date(u.completed_at).toLocaleDateString()]})]})]}),u.private_notes&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-netflix-text mb-2",children:"Notas Privadas do Cliente"}),o.jsx("div",{className:"p-4 bg-netflix-hover rounded-lg",children:o.jsx("p",{className:"text-netflix-text-muted whitespace-pre-wrap",children:u.private_notes})})]})]})]})})})]})},Dnt=({selectedUserId:t,onClose:e})=>{var m;const[n,r]=S.useState(null),[i,s]=S.useState(!0);S.useEffect(()=>{t&&a(t)},[t]);const a=async p=>{s(!0);try{const{data:x}=await He.from("profiles").select("*").eq("id",p).single(),{data:v}=await He.from("dados_fisicos_usuario").select("*").eq("user_id",p).single(),{data:g}=await He.from("missao_dia").select("*").eq("user_id",p).order("data",{ascending:!1}).limit(7),{data:w}=await He.from("pontuacao_diaria").select("*").eq("user_id",p).order("data",{ascending:!1}).limit(30),{data:_}=await He.from("pesagens").select("*").eq("user_id",p).order("data_medicao",{ascending:!1}).limit(20),E=l(g,w);r({profile:x,physicalData:v,recentMissions:g||[],weeklyScores:w||[],weightHistory:_||[],engagementData:E})}catch(x){console.error("Erro ao carregar dados do cliente:",x)}finally{s(!1)}},l=(p,x)=>{var N;const v=(p==null?void 0:p.length)||0,g=(p==null?void 0:p.filter(C=>C.concluido).length)||0,w=x!=null&&x.length?x.reduce((C,j)=>C+(j.total_pontos_dia||0),0)/x.length:0,_=((N=p==null?void 0:p[0])==null?void 0:N.data)||null,E=_?Math.floor((new Date().getTime()-new Date(_).getTime())/(1e3*60*60*24)):999;return{completionRate:v>0?g/v*100:0,avgScore:Math.round(w),daysSinceLastActivity:E,status:E>3?"inactive":E>1?"at-risk":"active"}},c=p=>{switch(p){case"active":return"bg-instituto-green";case"at-risk":return"bg-instituto-gold";case"inactive":return"bg-instituto-orange";default:return"bg-netflix-border"}},u=p=>{switch(p){case"active":return"Ativo";case"at-risk":return"Em Risco";case"inactive":return"Inativo";default:return"Desconhecido"}};if(!t)return o.jsx(le,{className:"bg-netflix-card border-netflix-border",children:o.jsx(ue,{className:"flex items-center justify-center h-64",children:o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx(ao,{className:"h-12 w-12 text-netflix-text-muted mx-auto"}),o.jsx("p",{className:"text-netflix-text-muted",children:"Selecione um cliente para ver os detalhes"})]})})});if(i)return o.jsx(le,{className:"bg-netflix-card border-netflix-border",children:o.jsx(ue,{className:"flex items-center justify-center h-64",children:o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-instituto-orange border-t-transparent rounded-full mx-auto"}),o.jsx("p",{className:"text-netflix-text-muted",children:"Carregando dados do cliente..."})]})})});if(!(n!=null&&n.profile))return o.jsx(le,{className:"bg-netflix-card border-netflix-border",children:o.jsx(ue,{className:"flex items-center justify-center h-64",children:o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx(Wh,{className:"h-12 w-12 text-instituto-orange mx-auto"}),o.jsx("p",{className:"text-netflix-text-muted",children:"Cliente não encontrado"}),o.jsx(pe,{onClick:e,variant:"outline",children:"Voltar"})]})})});const{profile:d,physicalData:f,engagementData:h}=n;return o.jsxs("div",{className:"space-y-6",children:[o.jsxs(le,{className:"bg-netflix-card border-netflix-border",children:[o.jsx(Qe,{children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("h2",{className:"text-2xl font-bold text-netflix-text",children:(f==null?void 0:f.nome_completo)||d.full_name||"Cliente"}),o.jsx(Nt,{className:`${c(h.status)} text-white`,children:u(h.status)})]}),o.jsx("p",{className:"text-netflix-text-muted",children:d.email}),d.celular&&o.jsxs("p",{className:"text-netflix-text-muted",children:["📱 ",d.celular]})]}),o.jsx(pe,{onClick:e,variant:"outline",className:"border-netflix-border",children:"Voltar à Lista"})]})}),o.jsx(ue,{children:o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-2xl font-bold text-instituto-orange",children:[h.completionRate.toFixed(0),"%"]}),o.jsx("div",{className:"text-sm text-netflix-text-muted",children:"Taxa de Conclusão"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-instituto-purple",children:h.avgScore}),o.jsx("div",{className:"text-sm text-netflix-text-muted",children:"Pontuação Média"})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-2xl font-bold text-instituto-green",children:[(f==null?void 0:f.peso_atual_kg)||0,"kg"]}),o.jsx("div",{className:"text-sm text-netflix-text-muted",children:"Peso Atual"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-instituto-gold",children:((m=f==null?void 0:f.imc)==null?void 0:m.toFixed(1))||0}),o.jsx("div",{className:"text-sm text-netflix-text-muted",children:"IMC"})]})]})})]}),o.jsxs(Zu,{defaultValue:"overview",className:"space-y-4",children:[o.jsxs(Dc,{className:"bg-netflix-card border border-netflix-border grid grid-cols-5",children:[o.jsxs(On,{value:"overview",className:"data-[state=active]:bg-instituto-orange data-[state=active]:text-white",children:[o.jsx(Vr,{className:"h-4 w-4 mr-2"}),"Visão Geral"]}),o.jsxs(On,{value:"metrics",className:"data-[state=active]:bg-instituto-purple data-[state=active]:text-white",children:[o.jsx(Hr,{className:"h-4 w-4 mr-2"}),"Métricas"]}),o.jsxs(On,{value:"sessions",className:"data-[state=active]:bg-instituto-lilac data-[state=active]:text-white",children:[o.jsx(wl,{className:"h-4 w-4 mr-2"}),"Sessões"]}),o.jsxs(On,{value:"timeline",className:"data-[state=active]:bg-instituto-green data-[state=active]:text-white",children:[o.jsx(In,{className:"h-4 w-4 mr-2"}),"Timeline"]}),o.jsxs(On,{value:"intervention",className:"data-[state=active]:bg-instituto-gold data-[state=active]:text-white",children:[o.jsx(m2,{className:"h-4 w-4 mr-2"}),"Intervenção"]})]}),o.jsx(Dn,{value:"overview",className:"space-y-4",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(le,{className:"bg-netflix-card border-netflix-border",children:[o.jsx(Qe,{children:o.jsxs(et,{className:"text-netflix-text flex items-center gap-2",children:[o.jsx(Nn,{className:"h-5 w-5 text-instituto-orange"}),"Dados Físicos"]})}),o.jsx(ue,{className:"space-y-3",children:f&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-netflix-text-muted",children:"Altura"}),o.jsxs("p",{className:"font-semibold text-netflix-text",children:[f.altura_cm," cm"]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-netflix-text-muted",children:"Peso Meta"}),o.jsxs("p",{className:"font-semibold text-netflix-text",children:[f.meta_peso_kg||"Não definido"," kg"]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-netflix-text-muted",children:"Circunferência Abdominal"}),o.jsxs("p",{className:"font-semibold text-netflix-text",children:[f.circunferencia_abdominal_cm," cm"]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-netflix-text-muted",children:"Categoria IMC"}),o.jsx(Nt,{variant:"outline",className:"border-netflix-border text-netflix-text",children:f.categoria_imc||"Não calculado"})]})]})]})})]}),o.jsxs(le,{className:"bg-netflix-card border-netflix-border",children:[o.jsx(Qe,{children:o.jsxs(et,{className:"text-netflix-text flex items-center gap-2",children:[o.jsx(Es,{className:"h-5 w-5 text-instituto-purple"}),"Atividade Recente"]})}),o.jsxs(ue,{className:"space-y-3",children:[n.recentMissions.slice(0,3).map((p,x)=>o.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-netflix-border last:border-0",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-netflix-text",children:new Date(p.data).toLocaleDateString("pt-BR")}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[p.atividade_fisica&&o.jsx(Nt,{variant:"outline",className:"text-xs",children:"🏃 Exercício"}),p.agua_litros&&o.jsx(xv,{className:"h-3 w-3 text-blue-400"}),p.sono_horas&&o.jsx(Am,{className:"h-3 w-3 text-purple-400"})]})]}),o.jsx(Nt,{variant:p.concluido?"default":"outline",className:p.concluido?"bg-instituto-green text-white":"border-netflix-border",children:p.concluido?"Concluído":"Pendente"})]},p.id)),n.recentMissions.length===0&&o.jsx("p",{className:"text-netflix-text-muted text-center py-4",children:"Nenhuma atividade recente"})]})]})]})}),o.jsx(Dn,{value:"metrics",children:o.jsx(Cnt,{clientData:n,userId:t})}),o.jsx(Dn,{value:"sessions",children:o.jsx(Ont,{userId:t,userName:(f==null?void 0:f.nome_completo)||d.full_name||"Cliente"})}),o.jsx(Dn,{value:"timeline",children:o.jsx(jnt,{missions:n.recentMissions,scores:n.weeklyScores})}),o.jsx(Dn,{value:"intervention",children:o.jsx(Ant,{userId:t,clientData:n})})]})]})},Int=()=>{console.log("EnhancedAdminDashboard component rendering");const[t,e]=S.useState(3),[n,r]=S.useState(null),i=[{title:"Clientes Ativos",value:"47",change:"+12%",trend:"up",icon:ur,color:"instituto-orange"},{title:"Sessões Enviadas",value:"124",change:"+8%",trend:"up",icon:wl,color:"instituto-purple"},{title:"Taxa de Conclusão",value:"89%",change:"+5%",trend:"up",icon:Nn,color:"instituto-green"},{title:"Engajamento Semanal",value:"94%",change:"+15%",trend:"up",icon:Hr,color:"instituto-lilac"}];return o.jsx(ztt,{children:o.jsxs("div",{className:"min-h-screen bg-netflix-dark p-6",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("h1",{className:"text-4xl font-bold text-netflix-text flex items-center gap-3",children:[o.jsx(Ja,{className:"h-8 w-8 text-instituto-gold animate-glow"}),"Painel Administrativo Avançado"]}),o.jsx("p",{className:"text-netflix-text-muted text-lg",children:n?"Dashboard Individual do Cliente":"Gerencie e monitore seus clientes com análises detalhadas"})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(pe,{variant:"outline",className:"relative border-netflix-border text-netflix-text hover:bg-netflix-hover",children:[o.jsx(vv,{className:"h-4 w-4"}),t>0&&o.jsx("span",{className:"absolute -top-2 -right-2 bg-instituto-orange text-white text-xs rounded-full h-5 w-5 flex items-center justify-center animate-bounce-in",children:t})]}),o.jsxs(pe,{variant:"outline",className:"border-netflix-border text-netflix-text hover:bg-netflix-hover",children:[o.jsx(eb,{className:"h-4 w-4 mr-2"}),"Configurações"]})]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:i.map((s,a)=>o.jsx(le,{className:"bg-netflix-card border-netflix-border hover:border-instituto-orange/50 transition-all duration-300 floating-card animate-fade-in-up",style:{animationDelay:`${a*.1}s`},children:o.jsx(ue,{className:"p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-netflix-text-muted text-sm font-medium",children:s.title}),o.jsx("p",{className:"text-3xl font-bold text-netflix-text",children:s.value}),o.jsxs("p",{className:"text-sm font-medium flex items-center gap-1 mt-1 text-instituto-green",children:[o.jsx(Hr,{className:"h-3 w-3"}),s.change]})]}),o.jsx("div",{className:`p-3 rounded-lg bg-${s.color}/10 pulse-glow`,children:o.jsx(s.icon,{className:`h-6 w-6 text-${s.color}`})})]})})},s.title))})]}),o.jsxs(Zu,{defaultValue:"clientes",className:"space-y-6",children:[o.jsxs(Dc,{className:"bg-netflix-card border border-netflix-border grid grid-cols-2 lg:grid-cols-5 gap-1",children:[o.jsxs(On,{value:"clientes",className:"data-[state=active]:bg-instituto-orange data-[state=active]:text-white text-netflix-text transition-all duration-200 hover:bg-instituto-orange/20",children:[o.jsx(Kpe,{className:"h-4 w-4 mr-2"}),"👥 Clientes"]}),o.jsxs(On,{value:"usuarios",className:"data-[state=active]:bg-instituto-purple data-[state=active]:text-white text-netflix-text transition-all duration-200 hover:bg-instituto-purple/20",children:[o.jsx(ur,{className:"h-4 w-4 mr-2"}),"👥 Usuários"]}),o.jsxs(On,{value:"cursos",className:"data-[state=active]:bg-instituto-green data-[state=active]:text-white text-netflix-text transition-all duration-200 hover:bg-instituto-green/20",children:[o.jsx(kR,{className:"h-4 w-4 mr-2"}),"📚 Cursos"]}),o.jsxs(On,{value:"relatorios",className:"data-[state=active]:bg-instituto-gold data-[state=active]:text-white text-netflix-text transition-all duration-200 hover:bg-instituto-gold/20",children:[o.jsx(mf,{className:"h-4 w-4 mr-2"}),"📊 Relatórios"]}),o.jsxs(On,{value:"configuracoes",className:"data-[state=active]:bg-instituto-lilac data-[state=active]:text-white text-netflix-text transition-all duration-200 hover:bg-instituto-lilac/20",children:[o.jsx(eb,{className:"h-4 w-4 mr-2"}),"⚙️ Config"]})]}),o.jsx(Dn,{value:"clientes",className:"space-y-6",children:o.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[o.jsx("div",{className:"xl:col-span-1",children:o.jsx(Mnt,{onUserSelect:r,selectedUserId:n})}),o.jsx("div",{className:"xl:col-span-2",children:o.jsx(Dnt,{selectedUserId:n,onClose:()=>r(null)})})]})}),o.jsxs(Dn,{value:"usuarios",className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[o.jsxs(le,{className:"bg-netflix-card border-netflix-border hover:border-instituto-purple/50 transition-all duration-300",children:[o.jsx(Qe,{children:o.jsxs(et,{className:"text-netflix-text flex items-center gap-2",children:[o.jsx(XE,{className:"h-5 w-5 text-instituto-purple"}),"👤 Cadastrar Cliente"]})}),o.jsx(ue,{children:o.jsx(Xtt,{})})]}),o.jsxs(le,{className:"bg-netflix-card border-netflix-border hover:border-instituto-purple/50 transition-all duration-300",children:[o.jsx(Qe,{children:o.jsxs(et,{className:"text-netflix-text flex items-center gap-2",children:[o.jsx(ur,{className:"h-5 w-5 text-instituto-purple"}),"👥 Lista de Usuários"]})}),o.jsx(ue,{children:o.jsx(Vtt,{})})]})]}),o.jsxs(le,{className:"bg-netflix-card border-netflix-border hover:border-instituto-purple/50 transition-all duration-300",children:[o.jsx(Qe,{children:o.jsxs(et,{className:"text-netflix-text flex items-center gap-2",children:[o.jsx(KE,{className:"h-5 w-5 text-instituto-purple"}),"🔧 Gerenciamento Avançado"]})}),o.jsx(ue,{children:o.jsx(wnt,{})})]})]}),o.jsx(Dn,{value:"cursos",className:"space-y-6",children:o.jsxs(le,{className:"bg-netflix-card border-netflix-border hover:border-instituto-green/50 transition-all duration-300",children:[o.jsx(Qe,{children:o.jsxs(et,{className:"text-netflix-text flex items-center gap-2",children:[o.jsx(kR,{className:"h-5 w-5 text-instituto-green"}),"📚 Gerenciar Cursos Pagos"]})}),o.jsx(ue,{children:o.jsx(Nnt,{})})]})}),o.jsxs(Dn,{value:"relatorios",className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[o.jsxs(le,{className:"bg-netflix-card border-netflix-border hover:border-instituto-gold/50 transition-all duration-300",children:[o.jsx(Qe,{children:o.jsxs(et,{className:"text-netflix-text flex items-center gap-2",children:[o.jsx(eo,{className:"h-5 w-5 text-instituto-gold"}),"📈 Visualizar Dados"]})}),o.jsx(ue,{children:o.jsx(_nt,{})})]}),o.jsxs(le,{className:"bg-netflix-card border-netflix-border hover:border-instituto-gold/50 transition-all duration-300",children:[o.jsx(Qe,{children:o.jsxs(et,{className:"text-netflix-text flex items-center gap-2",children:[o.jsx(mf,{className:"h-5 w-5 text-instituto-gold"}),"📊 Relatórios de Clientes"]})}),o.jsx(ue,{children:o.jsx(snt,{})})]})]}),o.jsxs(le,{className:"bg-netflix-card border-netflix-border hover:border-instituto-gold/50 transition-all duration-300",children:[o.jsx(Qe,{children:o.jsxs(et,{className:"text-netflix-text flex items-center gap-2",children:[o.jsx(Hr,{className:"h-5 w-5 text-instituto-gold"}),"📈 Sistema de Controle de Peso"]})}),o.jsx(ue,{children:o.jsx(Ktt,{})})]})]}),o.jsxs(Dn,{value:"configuracoes",className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[o.jsxs(le,{className:"bg-netflix-card border-netflix-border hover:border-instituto-lilac/50 transition-all duration-300",children:[o.jsx(Qe,{children:o.jsxs(et,{className:"text-netflix-text flex items-center gap-2",children:[o.jsx(wl,{className:"h-5 w-5 text-instituto-lilac"}),"🎥 Gestão de Sessões"]})}),o.jsx(ue,{children:o.jsx(Qtt,{})})]}),o.jsxs(le,{className:"bg-netflix-card border-netflix-border hover:border-instituto-lilac/50 transition-all duration-300",children:[o.jsx(Qe,{children:o.jsxs(et,{className:"text-netflix-text flex items-center gap-2",children:[o.jsx(In,{className:"h-5 w-5 text-instituto-lilac"}),"📅 Histórico de Sessões"]})}),o.jsx(ue,{children:o.jsx(ent,{})})]})]}),o.jsxs(le,{className:"bg-netflix-card border-netflix-border hover:border-instituto-lilac/50 transition-all duration-300",children:[o.jsx(Qe,{children:o.jsxs(et,{className:"text-netflix-text flex items-center gap-2",children:[o.jsx(sE,{className:"h-5 w-5 text-instituto-lilac"}),"🔧 Configurações do Sistema"]})}),o.jsx(ue,{children:o.jsx(Snt,{})})]})]})]})]})})},Lnt=()=>(console.log("AdminDashboard component rendering - using enhanced dashboard"),o.jsx(Int,{})),Fnt=()=>{const[t,e]=S.useState(""),[n,r]=S.useState(""),[i,s]=S.useState(""),[a,l]=S.useState(""),[c,u]=S.useState(""),[d,f]=S.useState(""),[h,m]=S.useState(""),[p,x]=S.useState(!1),[v,g]=S.useState(!1),[w,_]=S.useState(""),[E,N]=S.useState(""),[C,j]=S.useState(!1),[T,A]=S.useState(null),{signIn:P,signUp:R,user:D}=Or(),{toast:F}=Ui(),I=Ym();S.useEffect(()=>{D&&I("/dashboard")},[D,I]);const G=B=>B.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(B)?(_(""),!0):(_("Por favor, digite um e-mail válido (exemplo: nome@email.com)"),!1):(_("E-mail é obrigatório"),!1),q=B=>B.trim()?B.length<6?(N("A senha deve ter pelo menos 6 caracteres"),!1):B.length>50?(N("A senha deve ter no máximo 50 caracteres"),!1):(N(""),!0):(N("Senha é obrigatória"),!1),$=B=>B.length===0?{strength:0,label:"",color:""}:B.length<6?{strength:25,label:"Muito fraca",color:"bg-red-500"}:B.length<8?{strength:50,label:"Fraca",color:"bg-orange-500"}:B.length<12&&/[A-Z]/.test(B)&&/[0-9]/.test(B)?{strength:75,label:"Boa",color:"bg-yellow-500"}:B.length>=12&&/[A-Z]/.test(B)&&/[0-9]/.test(B)&&/[!@#$%^&*]/.test(B)?{strength:100,label:"Muito forte",color:"bg-green-500"}:{strength:50,label:"Razoável",color:"bg-blue-500"},L=async B=>{if(B.preventDefault(),g(!0),!G(t)||!q(n)){g(!1);return}const{error:ee}=await P(t,n);if(ee)F({title:"❌ Erro no Login",description:ee.message==="Invalid login credentials"?"E-mail ou senha incorretos. Verifique suas credenciais.":"Erro ao fazer login. Tente novamente.",variant:"destructive"});else try{const{data:{user:Y}}=await He.auth.getUser();if(Y){const{data:Q}=await He.from("profiles").select("role").eq("user_id",Y.id).single();localStorage.setItem("userType","cliente"),(Q==null?void 0:Q.role)==="admin"?(F({title:"✨ Bem-vindo Administrador!",description:"Redirecionando para o painel administrativo..."}),I("/admin")):(F({title:"✨ Bem-vindo de volta!",description:"Login realizado com sucesso. Redirecionando..."}),I("/dashboard"))}}catch(Y){console.error("Erro ao verificar role:",Y),localStorage.setItem("userType","cliente"),I("/dashboard")}g(!1)},V=()=>{const B=localStorage.getItem("visitor_data");if(B)try{const ee=JSON.parse(B);console.log("Dados do visitante migrados:",ee),localStorage.removeItem("visitor_data")}catch(ee){console.error("Erro ao migrar dados do visitante:",ee)}},K=()=>{localStorage.setItem("userType","visitante"),I("/dashboard")},W=async B=>{if(B.preventDefault(),g(!0),!i.trim()){F({title:"❌ Nome obrigatório",description:"Por favor, digite seu nome completo.",variant:"destructive"}),g(!1);return}if(!a.trim()){F({title:"❌ Celular obrigatório",description:"Por favor, digite seu celular com DDD.",variant:"destructive"}),g(!1);return}if(!c.trim()){F({title:"❌ Data de nascimento obrigatória",description:"Por favor, informe sua data de nascimento.",variant:"destructive"}),g(!1);return}if(!d.trim()){F({title:"❌ Sexo obrigatório",description:"Por favor, selecione seu sexo.",variant:"destructive"}),g(!1);return}if(!h.trim()||isNaN(Number(h))||Number(h)<100||Number(h)>250){F({title:"❌ Altura inválida",description:"Por favor, informe uma altura válida entre 100 e 250 cm.",variant:"destructive"}),g(!1);return}if(!G(t)||!q(n)){g(!1);return}const{error:ee}=await R(t,n,i,a,c,d,Number(h));if(ee){let Y="Erro ao criar conta. Tente novamente.";ee.message.includes("already registered")||ee.message.includes("User already registered")?Y="📧 Este e-mail já está cadastrado! Tente fazer login ou use outro e-mail.":ee.message.includes("Password should be")?Y="🔒 A senha deve ter pelo menos 6 caracteres.":ee.message.includes("Invalid email")?Y="📧 E-mail inválido. Verifique se digitou corretamente.":ee.message.includes("Signup requires a valid password")?Y="🔒 Senha inválida. Use pelo menos 6 caracteres.":ee.message.includes("Unable to validate email address")&&(Y="📧 Não foi possível validar o e-mail. Verifique se está correto."),F({title:"❌ Erro no Cadastro",description:Y,variant:"destructive"})}else V(),localStorage.setItem("userType","cliente"),F({title:"🎉 Conta criada com sucesso!",description:"Redirecionando para o dashboard..."}),I("/dashboard");g(!1)};return T?T==="visitante"?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-instituto-light via-white to-instituto-cream flex items-center justify-center p-4",children:o.jsxs("div",{className:"w-full max-w-md space-y-6",children:[o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"flex justify-center",children:o.jsx("img",{src:cm,alt:"Instituto dos Sonhos",className:"w-16 h-16"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-instituto-dark",children:"Bem-vindo, Visitante!"}),o.jsx("p",{className:"text-instituto-dark/70 mt-2",children:"Como gostaria de continuar?"})]})]}),o.jsx(le,{className:"shadow-warm",children:o.jsxs(ue,{className:"p-6 space-y-4",children:[o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"w-16 h-16 bg-instituto-purple/20 rounded-full flex items-center justify-center mx-auto",children:o.jsx(ur,{className:"h-8 w-8 text-instituto-purple"})}),o.jsx("p",{className:"text-instituto-dark/70",children:"Como visitante, você pode explorar nosso conteúdo gratuito sem precisar se cadastrar."})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(pe,{onClick:K,className:"w-full bg-instituto-purple hover:bg-instituto-purple/90 text-white",size:"lg",children:"Continuar como Visitante"}),o.jsx("div",{className:"text-center",children:o.jsx("span",{className:"text-instituto-dark/50 text-sm",children:"ou"})}),o.jsx(pe,{onClick:()=>A("cliente"),variant:"outline",className:"w-full border-instituto-orange text-instituto-orange hover:bg-instituto-orange hover:text-white",size:"lg",children:"Criar Conta para Mais Benefícios"})]}),o.jsx("div",{className:"text-center pt-4",children:o.jsx("button",{onClick:()=>A(null),className:"text-instituto-dark/50 text-sm hover:text-instituto-dark transition-colors",children:"← Voltar à seleção"})})]})})]})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-instituto-light via-white to-instituto-cream flex items-center justify-center p-4",children:o.jsxs("div",{className:"w-full max-w-md space-y-6",children:[o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"flex justify-center",children:o.jsx("img",{src:cm,alt:"Instituto dos Sonhos",className:"w-16 h-16"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-instituto-dark",children:"Instituto dos Sonhos"}),o.jsx("p",{className:"text-instituto-dark/70 mt-2",children:"Área do Cliente - Faça login ou crie sua conta"})]})]}),o.jsxs(le,{className:"shadow-warm",children:[o.jsxs(Qe,{className:"text-center",children:[o.jsx(et,{className:"text-instituto-dark",children:"Entre em sua conta"}),o.jsx(lb,{children:"Ou crie uma conta gratuita para desbloquear todo o conteúdo"})]}),o.jsx(ue,{children:o.jsxs(Zu,{defaultValue:"login",className:"w-full",children:[o.jsxs(Dc,{className:"grid w-full grid-cols-2",children:[o.jsx(On,{value:"login",children:"Login"}),o.jsx(On,{value:"register",children:"Criar Conta"})]}),o.jsx(Dn,{value:"login",className:"space-y-4",children:o.jsxs("form",{onSubmit:L,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"relative",children:[o.jsx(jm,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),o.jsx(ut,{type:"email",placeholder:"Seu e-mail",value:t,onChange:B=>{e(B.target.value),w&&G(B.target.value)},className:"pl-10",required:!0})]}),w&&o.jsxs("div",{className:"flex items-center gap-2 text-red-500 text-sm",children:[o.jsx(Wh,{className:"h-4 w-4"}),w]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"relative",children:[o.jsx(RR,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),o.jsx(ut,{type:p?"text":"password",placeholder:"Sua senha",value:n,onChange:B=>{r(B.target.value),E&&q(B.target.value)},className:"pl-10 pr-10",required:!0}),o.jsx("button",{type:"button",onClick:()=>x(!p),className:"absolute right-3 top-3 h-4 w-4 text-muted-foreground hover:text-foreground",children:p?o.jsx(qE,{}):o.jsx(eo,{})})]}),E&&o.jsxs("div",{className:"flex items-center gap-2 text-red-500 text-sm",children:[o.jsx(Wh,{className:"h-4 w-4"}),E]})]}),o.jsx(pe,{type:"submit",className:"w-full bg-instituto-orange hover:bg-instituto-orange-hover",disabled:v,size:"lg",children:v?"Entrando...":"Entrar"})]})}),o.jsx(Dn,{value:"register",className:"space-y-4",children:o.jsxs("form",{onSubmit:W,className:"space-y-4",children:[o.jsx("div",{className:"space-y-2",children:o.jsxs("div",{className:"relative",children:[o.jsx(ao,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),o.jsx(ut,{type:"text",placeholder:"Seu nome completo",value:i,onChange:B=>s(B.target.value),className:"pl-10",required:!0})]})}),o.jsx("div",{className:"space-y-2",children:o.jsxs("div",{className:"relative",children:[o.jsx(GK,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),o.jsx(ut,{type:"tel",placeholder:"Celular com DDD (11) 99999-9999",value:a,onChange:B=>l(B.target.value),className:"pl-10",required:!0})]})}),o.jsx("div",{className:"space-y-2",children:o.jsxs("div",{className:"relative",children:[o.jsx(In,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),o.jsx(ut,{type:"date",placeholder:"Data de nascimento",value:c,onChange:B=>u(B.target.value),className:"pl-10",required:!0})]})}),o.jsx("div",{className:"space-y-2",children:o.jsxs("div",{className:"relative",children:[o.jsx(p2,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),o.jsxs(nr,{value:d,onValueChange:f,children:[o.jsx(Xn,{className:"pl-10",children:o.jsx(rr,{placeholder:"Selecione seu sexo"})}),o.jsxs(Yn,{children:[o.jsx(ht,{value:"masculino",children:"Masculino"}),o.jsx(ht,{value:"feminino",children:"Feminino"}),o.jsx(ht,{value:"outro",children:"Outro"})]})]})]})}),o.jsx("div",{className:"space-y-2",children:o.jsxs("div",{className:"relative",children:[o.jsx(Nu,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),o.jsx(ut,{type:"number",placeholder:"Altura em centímetros (ex: 170)",value:h,onChange:B=>m(B.target.value),className:"pl-10",min:"100",max:"250",required:!0})]})}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"relative",children:[o.jsx(jm,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),o.jsx(ut,{type:"email",placeholder:"Seu melhor e-mail",value:t,onChange:B=>{e(B.target.value),w&&G(B.target.value)},className:"pl-10",required:!0})]}),w&&o.jsxs("div",{className:"flex items-center gap-2 text-red-500 text-sm",children:[o.jsx(Wh,{className:"h-4 w-4"}),w]}),t&&!w&&o.jsxs("div",{className:"flex items-center gap-2 text-green-600 text-sm",children:[o.jsx(Rr,{className:"h-4 w-4"}),"E-mail válido"]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"relative",children:[o.jsx(RR,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),o.jsx(ut,{type:p?"text":"password",placeholder:"Crie uma senha (mín. 6 caracteres)",value:n,onChange:B=>{r(B.target.value),E&&q(B.target.value)},className:"pl-10 pr-10",required:!0}),o.jsx("button",{type:"button",onClick:()=>x(!p),className:"absolute right-3 top-3 h-4 w-4 text-muted-foreground hover:text-foreground",children:p?o.jsx(qE,{}):o.jsx(eo,{})})]}),E&&o.jsxs("div",{className:"flex items-center gap-2 text-red-500 text-sm",children:[o.jsx(Wh,{className:"h-4 w-4"}),E]}),n&&!E&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-green-600 text-sm",children:[o.jsx(Rr,{className:"h-4 w-4"}),"Senha válida"]}),(()=>{const B=$(n);return B.strength>0?o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex justify-between text-xs",children:[o.jsx("span",{className:"text-instituto-dark/70",children:"Força da senha:"}),o.jsx("span",{className:`font-medium ${B.strength>=75?"text-green-600":B.strength>=50?"text-yellow-600":"text-red-600"}`,children:B.label})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${B.color}`,style:{width:`${B.strength}%`}})})]}):null})()]})]}),o.jsx(pe,{type:"submit",className:"w-full bg-instituto-orange hover:bg-instituto-orange-hover",disabled:v,size:"lg",children:v?"Criando conta...":"Criar Conta Gratuita"})]})})]})})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"text-center text-sm text-instituto-dark/70",children:"Ao continuar, você concorda com nossos Termos de Uso"}),o.jsx("div",{className:"text-center",children:o.jsx("button",{onClick:()=>A(null),className:"text-instituto-dark/50 text-sm hover:text-instituto-dark transition-colors",children:"← Voltar à seleção de perfil"})})]})]})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-instituto-light via-white to-instituto-cream flex items-center justify-center p-4",children:o.jsxs("div",{className:"w-full max-w-4xl space-y-6",children:[o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx("div",{className:"flex justify-center",children:o.jsx("img",{src:cm,alt:"Instituto dos Sonhos",className:"w-16 h-16"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-instituto-dark",children:"Instituto dos Sonhos"}),o.jsx("p",{className:"text-instituto-dark/70 mt-2",children:"Sua jornada de transformação começa aqui"})]})]}),o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h2",{className:"text-2xl font-semibold text-instituto-dark mb-2",children:"Como você gostaria de começar?"}),o.jsx("p",{className:"text-instituto-dark/70",children:"Escolha a opção que melhor se adequa ao seu perfil"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[o.jsx(le,{onClick:()=>A("visitante"),className:"shadow-warm cursor-pointer hover:shadow-lg transition-all duration-300 group border-2 hover:border-instituto-purple/50 bg-stone-300",children:o.jsxs(ue,{className:"p-8",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("div",{className:"w-20 h-20 bg-instituto-purple/20 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(ur,{className:"h-10 w-10 text-instituto-purple"})}),o.jsx("h3",{className:"text-2xl font-bold text-instituto-dark mb-4",children:"Sou Visitante"}),o.jsx("p",{className:"text-instituto-dark/70 mb-6",children:"Explore conteúdos gratuitos, veja benefícios e participe do ranking público"})]}),o.jsxs("div",{className:"space-y-3 text-left",children:[o.jsxs("div",{className:"flex items-center gap-3 text-instituto-dark/70",children:[o.jsx(Ql,{className:"h-4 w-4 text-instituto-purple"}),o.jsx("span",{children:"Acesso ao ranking público"})]}),o.jsxs("div",{className:"flex items-center gap-3 text-instituto-dark/70",children:[o.jsx(Ql,{className:"h-4 w-4 text-instituto-purple"}),o.jsx("span",{children:"Missões diárias gratuitas"})]}),o.jsxs("div",{className:"flex items-center gap-3 text-instituto-dark/70",children:[o.jsx(Ql,{className:"h-4 w-4 text-instituto-purple"}),o.jsx("span",{children:"Conteúdos de bem-estar"})]}),o.jsxs("div",{className:"flex items-center gap-3 text-instituto-dark/70",children:[o.jsx(Ql,{className:"h-4 w-4 text-instituto-purple"}),o.jsx("span",{children:"Testes e avaliações básicos"})]})]}),o.jsx(pe,{className:"w-full mt-6 bg-instituto-purple hover:bg-instituto-purple/90 text-white group-hover:scale-105 transition-transform",children:"Explorar como Visitante"})]})}),o.jsx(le,{className:"shadow-warm cursor-pointer hover:shadow-lg transition-all duration-300 group border-2 hover:border-instituto-orange/50",onClick:()=>A("cliente"),children:o.jsxs(ue,{className:"p-8 bg-red-50",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("div",{className:"w-20 h-20 bg-instituto-orange/20 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(lw,{className:"h-10 w-10 text-instituto-orange"})}),o.jsx("h3",{className:"text-2xl font-bold text-instituto-dark mb-4",children:"Sou Cliente"}),o.jsx("p",{className:"text-instituto-dark/70 mb-6",children:"Acesso completo a todos os cursos, acompanhamento personalizado e ferramentas avançadas"})]}),o.jsxs("div",{className:"space-y-3 text-left",children:[o.jsxs("div",{className:"flex items-center gap-3 text-instituto-dark/70",children:[o.jsx(Ql,{className:"h-4 w-4 text-instituto-orange"}),o.jsx("span",{children:"Biblioteca completa de cursos"})]}),o.jsxs("div",{className:"flex items-center gap-3 text-instituto-dark/70",children:[o.jsx(Ql,{className:"h-4 w-4 text-instituto-orange"}),o.jsx("span",{children:"Acompanhamento personalizado"})]}),o.jsxs("div",{className:"flex items-center gap-3 text-instituto-dark/70",children:[o.jsx(Ql,{className:"h-4 w-4 text-instituto-orange"}),o.jsx("span",{children:"Diário de saúde privado"})]}),o.jsxs("div",{className:"flex items-center gap-3 text-instituto-dark/70",children:[o.jsx(Ql,{className:"h-4 w-4 text-instituto-orange"}),o.jsx("span",{children:"Metas e progresso avançado"})]})]}),o.jsx(pe,{className:"w-full mt-6 bg-instituto-orange hover:bg-instituto-orange-hover text-white group-hover:scale-105 transition-transform",children:"Acessar Área do Cliente"})]})})]}),o.jsx("div",{className:"text-center text-sm text-instituto-dark/70 mt-8",children:"Você pode alterar sua escolha a qualquer momento no dashboard"})]})})},Ok="visitor_data",Unt=()=>{const[t,e]=S.useState({sessionProgress:{},sessionResponses:{},completedSessions:[],timeSpent:0,favoriteContent:[]});S.useEffect(()=>{const d=localStorage.getItem(Ok);if(d)try{const f=JSON.parse(d);e(f)}catch(f){console.error("Erro ao carregar dados do visitante:",f)}},[]);const n=d=>{const f={...t,...d};e(f),localStorage.setItem(Ok,JSON.stringify(f))};return{visitorData:t,saveSessionProgress:(d,f)=>{const h={...t.sessionProgress,[d]:f};n({sessionProgress:h,lastActiveSession:d})},saveSessionResponse:(d,f,h)=>{const p=[...t.sessionResponses[d]||[]];p[f]=h;const x={...t.sessionResponses,[d]:p};n({sessionResponses:x})},completeSession:d=>{if(!t.completedSessions.includes(d)){const f=[...t.completedSessions,d];n({completedSessions:f,sessionProgress:{...t.sessionProgress,[d]:100}})}},addTimeSpent:d=>{n({timeSpent:t.timeSpent+d})},addToFavorites:d=>{if(!t.favoriteContent.includes(d)){const f=[...t.favoriteContent,d];n({favoriteContent:f})}},clearVisitorData:()=>{localStorage.removeItem(Ok),e({sessionProgress:{},sessionResponses:{},completedSessions:[],timeSpent:0,favoriteContent:[]})},getVisitorStats:()=>{const d=Object.keys(t.sessionProgress).length,f=d>0?Object.values(t.sessionProgress).reduce((h,m)=>h+m,0)/d:0;return{totalSessions:d,completedSessions:t.completedSessions.length,avgProgress:Math.round(f),timeSpent:t.timeSpent,favoriteCount:t.favoriteContent.length,hasData:d>0||t.timeSpent>0}}}},Iy=({variant:t="default",message:e,className:n=""})=>{const r=Ym(),i=()=>{r("/auth")};return t==="floating"?o.jsx("div",{className:`fixed bottom-4 right-4 z-50 max-w-sm ${n}`,children:o.jsx(le,{className:"border-instituto-orange/20 bg-white shadow-warm animate-slide-in-right",children:o.jsx(ue,{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-instituto-orange/10 rounded-full flex items-center justify-center",children:o.jsx(Ja,{className:"w-5 h-5 text-instituto-orange"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold text-sm text-instituto-dark",children:"Desbloqueie Tudo!"}),o.jsx("p",{className:"text-xs text-instituto-dark/70",children:e||"Cadastre-se para acesso completo"})]}),o.jsx(pe,{size:"sm",onClick:i,className:"bg-instituto-orange hover:bg-instituto-orange-hover",children:o.jsx(gu,{className:"w-3 h-3"})})]})})})}):t==="banner"?o.jsx("div",{className:`bg-gradient-to-r from-instituto-orange to-instituto-warm p-4 ${n}`,children:o.jsx("div",{className:"container mx-auto",children:o.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between text-white",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-3 md:mb-0",children:[o.jsx(Ja,{className:"w-6 h-6"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:e||"Você está no modo visitante"}),o.jsx("p",{className:"text-sm text-white/90",children:"Cadastre-se grátis para salvar progresso e acessar conteúdo exclusivo"})]})]}),o.jsxs(pe,{onClick:i,variant:"outline",className:"bg-white text-instituto-orange hover:bg-instituto-light border-white",children:["Criar Conta Gratuita",o.jsx(sf,{className:"w-4 h-4 ml-2"})]})]})})}):t==="inline"?o.jsx(le,{className:`border-instituto-orange/20 bg-gradient-to-r from-instituto-orange/5 to-instituto-warm/10 ${n}`,children:o.jsxs(ue,{className:"p-6 text-center",children:[o.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[o.jsx(Es,{className:"h-5 w-5 text-instituto-orange animate-pulse"}),o.jsx("h3",{className:"font-semibold text-instituto-dark",children:"Gostou do que viu?"}),o.jsx(Es,{className:"h-5 w-5 text-instituto-orange animate-pulse"})]}),o.jsx("p",{className:"text-sm text-instituto-dark/70 mb-4",children:e||"Clientes registrados recebem sessões completas, desafios personalizados e acompanhamento do Rafael."}),o.jsxs(pe,{onClick:i,className:"bg-instituto-orange hover:bg-instituto-orange-hover",size:"lg",children:[o.jsx(gu,{className:"w-4 h-4 mr-2"}),"Cadastrar Gratuitamente",o.jsx(sf,{className:"w-4 h-4 ml-2"})]}),o.jsxs("div",{className:"flex items-center justify-center gap-4 mt-4 text-xs text-instituto-dark/60",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Io,{className:"w-3 h-3 text-yellow-500"}),"4.9/5 avaliação"]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(ur,{className:"w-3 h-3"}),"500+ membros"]}),o.jsx("span",{children:"100% gratuito"})]})]})}):o.jsx(le,{className:`border-instituto-orange/20 bg-gradient-to-r from-instituto-orange/5 to-instituto-warm/10 ${n}`,children:o.jsx(ue,{className:"p-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between",children:[o.jsxs("div",{className:"text-center md:text-left mb-4 md:mb-0",children:[o.jsxs("h3",{className:"text-xl font-semibold text-instituto-dark mb-2 flex items-center justify-center md:justify-start gap-2",children:[o.jsx(Ja,{className:"w-5 h-5 text-instituto-orange"}),"Desbloqueie Todo o Conteúdo"]}),o.jsx("p",{className:"text-instituto-dark/70",children:e||"Clientes registrados têm acesso a sessões completas, desafios personalizados e acompanhamento do Rafael."})]}),o.jsxs(pe,{onClick:i,size:"lg",className:"bg-instituto-orange hover:bg-instituto-orange-hover whitespace-nowrap",children:[o.jsx(gu,{className:"w-4 h-4 mr-2"}),"Cadastre-se Grátis",o.jsx(sf,{className:"w-4 h-4 ml-2"})]})]})})})},Bnt=()=>{var x;const{id:t}=QX(),e=Ym(),[n,r]=S.useState(0),[i,s]=S.useState([]),{saveSessionProgress:a,completeSession:l,addTimeSpent:c}=Unt(),d=[{id:1,title:"Descobrindo Seus Sabotadores Internos",description:"Uma sessão introdutória sobre como identificar padrões mentais que limitam seu crescimento.",estimated_duration:"15 min",content:JSON.stringify({intro:"Bem-vindo a esta jornada de autoconhecimento. Nesta sessão, você vai descobrir os padrões mentais que podem estar limitando seu crescimento pessoal.",video_url:"https://www.youtube.com/embed/dQw4w9WgXcQ",tasks:[{title:"Identifique Seus Padrões",description:"Reflita sobre situações em que você se sabotou ou limitou suas próprias oportunidades."},{title:"Reconheça os Gatilhos",description:"Quais situações ou emoções costumam ativar esses padrões limitantes?"},{title:"Visualize a Mudança",description:"Como seria sua vida se você conseguisse superar esses sabotadores internos?"}],conclusion:"Parabéns por completar esta sessão introdutória! O autoconhecimento é o primeiro passo para a transformação. Continue praticando a observação de seus padrões para desenvolver mais consciência sobre si mesmo."})},{id:2,title:"Primeiros Passos da Transformação",description:"Aprenda as bases da metodologia do Instituto dos Sonhos e comece sua jornada.",estimated_duration:"20 min",content:JSON.stringify({intro:"Esta é uma sessão fundamental para entender nossa metodologia única de transformação pessoal. Você aprenderá os pilares básicos que sustentam uma mudança duradoura.",video_url:"https://www.youtube.com/embed/dQw4w9WgXcQ",tasks:[{title:"Defina Sua Visão",description:"Descreva como você gostaria que sua vida fosse em 12 meses."},{title:"Identifique Obstáculos",description:"Quais são os principais desafios que você enfrenta atualmente?"},{title:"Primeiro Compromisso",description:"Que pequena ação você pode tomar hoje para se aproximar da sua visão?"},{title:"Rede de Apoio",description:"Quem são as pessoas que podem te apoiar nesta jornada?"}],conclusion:"Excelente trabalho! Você deu os primeiros passos importantes na sua jornada de transformação. Lembre-se: grandes mudanças começam com pequenas ações consistentes."})},{id:3,title:"Respiração Consciente para Ansiedade",description:"Técnicas práticas de respiração para momentos de estresse e ansiedade.",estimated_duration:"12 min",content:JSON.stringify({intro:"A respiração é uma ferramenta poderosa para regular suas emoções e reduzir a ansiedade. Nesta sessão prática, você aprenderá técnicas simples que pode usar em qualquer lugar.",video_url:"https://www.youtube.com/embed/dQw4w9WgXcQ",tasks:[{title:"Técnica 4-7-8",description:"Pratique a respiração 4-7-8: inspire por 4, segure por 7, expire por 8. Como se sentiu?"},{title:"Respiração do Quadrado",description:"Inspire por 4, segure por 4, expire por 4, segure por 4. Repita 5 vezes e observe as sensações."}],conclusion:"Parabéns por praticar essas técnicas! A respiração consciente é uma habilidade que melhora com a prática. Use essas técnicas sempre que precisar de um momento de calma."})}].find(v=>v.id===parseInt(t||"1"));if(!d)return null;const f=typeof d.content=="string"?JSON.parse(d.content):d.content;if(!(f!=null&&f.tasks))return o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("p",{className:"text-muted-foreground",children:"Conteúdo da sessão não disponível."})});const h=[{name:"Introdução",component:"intro"},{name:"Vídeo",component:"video"},...f.tasks.map((v,g)=>({name:`Tarefa ${g+1}`,component:"task",taskIndex:g})),{name:"Conclusão",component:"conclusion"}],m=h[n];S.useEffect(()=>{const v=setInterval(()=>{c(.5)},3e4);return()=>clearInterval(v)},[c]),S.useEffect(()=>{if(t){const v=n/(h.length-1)*100;a(t,v),n===h.length-1&&l(t)}},[n,t,a,l,h.length]);const p=()=>{const v=m;switch(v.component){case"intro":return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-instituto-dark mb-4",children:"🌟 Bem-vindo à sua sessão de transformação"}),o.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:f.intro}),o.jsx(le,{className:"mt-6 border-instituto-orange/20 bg-instituto-orange/5",children:o.jsxs(ue,{className:"p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-instituto-orange mb-2",children:[o.jsx(gu,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm font-semibold",children:"Amostra Limitada"})]}),o.jsx("p",{className:"text-sm text-instituto-dark/70",children:"Esta é uma versão resumida. A sessão completa inclui exercícios interativos, reflexões guiadas e materiais extras."})]})})]}),o.jsxs("div",{className:"bg-instituto-orange/10 p-6 rounded-lg border border-instituto-orange/20",children:[o.jsx("h3",{className:"font-semibold text-instituto-dark mb-2",children:"O que você vai descobrir:"}),o.jsxs("ul",{className:"space-y-2 text-instituto-dark/80",children:[o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx(Rr,{className:"h-4 w-4 text-green-500"}),"Como identificar padrões limitantes"]}),o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx(Rr,{className:"h-4 w-4 text-green-500"}),"Técnicas de autoconhecimento"]}),o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx(Rr,{className:"h-4 w-4 text-green-500"}),"Primeiros passos para a transformação"]}),o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx(RR,{className:"h-4 w-4 text-instituto-orange"}),o.jsx("span",{className:"text-instituto-orange",children:"Exercícios práticos (versão completa)"})]})]})]})]});case"video":return o.jsxs("div",{className:"space-y-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-instituto-dark mb-4",children:"🎥 Conteúdo Principal"}),o.jsx("div",{className:"aspect-video rounded-lg overflow-hidden bg-black",children:o.jsx("iframe",{src:f.video_url,title:d.title,className:"w-full h-full",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),o.jsx(Iy,{variant:"inline",message:"Na versão completa, você tem acesso a vídeos exclusivos com o Rafael e materiais complementares.",className:"mt-4"})]});case"task":const g=v,w=f.tasks[g.taskIndex];return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold text-instituto-dark mb-4",children:w.title}),o.jsx("p",{className:"text-instituto-dark/70 mb-6",children:w.description})]}),o.jsxs(le,{className:"p-6 bg-instituto-orange/5 border border-instituto-orange/20",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[o.jsx("h4",{className:"font-semibold text-instituto-dark",children:"Espaço para Reflexão:"}),o.jsxs(Nt,{variant:"outline",className:"text-xs border-instituto-orange text-instituto-orange",children:[o.jsx(eo,{className:"w-3 h-3 mr-1"}),"Prévia"]})]}),o.jsx(mn,{placeholder:"💭 Na versão completa, você poderia salvar suas reflexões e acompanhar seu progresso...",className:"min-h-[120px] resize-none bg-white/50",value:i[g.taskIndex]||"",onChange:_=>{const E=[...i];E[g.taskIndex]=_.target.value,s(E)},disabled:!0}),o.jsxs("div",{className:"flex items-center justify-between mt-3",children:[o.jsx("p",{className:"text-xs text-instituto-dark/60",children:"💡 Dica: Na versão completa, suas respostas são salvas automaticamente"}),o.jsxs(pe,{size:"sm",onClick:()=>e("/auth"),className:"bg-instituto-orange hover:bg-instituto-orange-hover",children:[o.jsx(Ja,{className:"w-3 h-3 mr-1"}),"Desbloquear"]})]})]}),o.jsx(Iy,{variant:"inline",message:"Quer salvar suas reflexões e acessar exercícios personalizados?",className:"mt-4"})]});case"conclusion":return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-3xl font-bold text-instituto-dark mb-4",children:"🎉 Parabéns! Amostra Concluída"}),o.jsx("p",{className:"text-lg text-instituto-dark/70",children:"Você experimentou uma pequena amostra do poder das nossas sessões"})]}),o.jsx("div",{className:"bg-gradient-to-r from-instituto-orange/10 to-instituto-warm/10 p-6 rounded-lg border border-instituto-orange/20",children:o.jsx("p",{className:"text-lg text-instituto-dark leading-relaxed text-center",children:f.conclusion})}),o.jsx(Iy,{message:"Gostou desta amostra? Membros registrados têm acesso a +100 sessões completas, exercícios interativos e acompanhamento personalizado do Rafael.",className:"my-6"}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsxs(pe,{onClick:()=>e("/visitor-sessions"),variant:"outline",size:"lg",className:"border-instituto-orange text-instituto-orange hover:bg-instituto-orange hover:text-white",children:[o.jsx(xc,{className:"w-4 h-4 mr-2"}),"Explorar Outras Amostras"]}),o.jsxs(pe,{onClick:()=>e("/auth"),size:"lg",className:"bg-instituto-orange hover:bg-instituto-orange-hover",children:[o.jsx(Ja,{className:"w-4 h-4 mr-2"}),"Desbloquear Conteúdo Completo",o.jsx(sf,{className:"w-4 h-4 ml-2"})]})]})]});default:return o.jsx("div",{children:"Conteúdo não encontrado"})}};return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-instituto-light via-white to-instituto-cream",children:[o.jsx("header",{className:"border-b bg-white/80 backdrop-blur-sm sticky top-0 z-10",children:o.jsx("div",{className:"container mx-auto px-6 py-4",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("img",{src:cm,alt:"Instituto dos Sonhos",className:"w-8 h-8"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold text-instituto-dark",children:"Instituto dos Sonhos"}),o.jsxs(Nt,{variant:"outline",className:"text-xs border-instituto-orange text-instituto-orange",children:[o.jsx(eo,{className:"w-3 h-3 mr-1"}),"Modo Visitante"]})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs(pe,{variant:"ghost",onClick:()=>e("/visitor-sessions"),className:"text-instituto-dark",children:[o.jsx(xc,{className:"w-4 h-4 mr-2"}),"Voltar"]}),o.jsxs(pe,{onClick:()=>e("/auth"),className:"bg-instituto-orange hover:bg-instituto-orange-hover",children:[o.jsx(Ja,{className:"w-4 h-4 mr-2"}),"Criar Conta"]})]})]})})}),o.jsxs("div",{className:"container mx-auto px-6 py-8",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-instituto-dark mb-2",children:d.title}),o.jsxs("div",{className:"flex items-center justify-center gap-4 text-sm text-instituto-dark/70",children:[o.jsxs(Nt,{variant:"outline",className:"border-green-500 text-green-600",children:[o.jsx(eo,{className:"w-3 h-3 mr-1"}),"Amostra Gratuita"]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(pf,{className:"w-4 h-4"}),d.estimated_duration]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(ur,{className:"w-4 h-4"}),((x=f.tasks)==null?void 0:x.length)||0," atividades"]})]}),o.jsxs("div",{className:"mt-4",children:[o.jsx("div",{className:"text-sm text-instituto-dark/70 mb-2",children:"Progresso da Amostra"}),o.jsx(Sa,{value:n/(h.length-1)*100,className:"w-full max-w-md mx-auto"}),o.jsxs("div",{className:"text-sm text-instituto-orange font-semibold mt-1",children:[Math.round(n/(h.length-1)*100),"% concluído"]})]})]}),o.jsx(Iy,{variant:"banner",message:"🎯 Você está visualizando uma amostra",className:"mb-8"}),o.jsx(le,{className:"mb-8",children:o.jsx(ue,{className:"p-8",children:p()})}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs(pe,{variant:"outline",onClick:()=>r(Math.max(0,n-1)),disabled:n===0,className:"border-instituto-orange text-instituto-orange hover:bg-instituto-orange hover:text-white",children:[o.jsx(xc,{className:"mr-2 h-4 w-4"}),"Anterior"]}),o.jsx("div",{className:"flex gap-2",children:h.map((v,g)=>o.jsx("div",{className:`w-2 h-2 rounded-full transition-colors ${g===n?"bg-instituto-orange":g<n?"bg-instituto-orange/60":"bg-gray-300"}`},g))}),o.jsxs(pe,{onClick:()=>r(Math.min(h.length-1,n+1)),disabled:n===h.length-1,className:"bg-instituto-orange hover:bg-instituto-orange-hover",children:["Próximo",o.jsx(sf,{className:"ml-2 h-4 w-4"})]})]})]}),o.jsx(Iy,{variant:"floating"})]})},znt=()=>{var p;const{id:t}=QX(),e=Ym(),{user:n}=Or(),[r,i]=S.useState(0),[s,a]=S.useState([]),c=[{id:1,title:"Descobrindo Seus Sabotadores Internos",description:"Uma sessão completa sobre como identificar padrões mentais que limitam seu crescimento.",estimated_duration:"15 min",content:JSON.stringify({intro:"Bem-vindo a esta jornada completa de autoconhecimento. Nesta sessão, você vai descobrir os padrões mentais que podem estar limitando seu crescimento pessoal e aprenderá estratégias práticas para superá-los.",video_url:"https://www.youtube.com/embed/dQw4w9WgXcQ",tasks:[{title:"Identifique Seus Padrões",description:"Reflita sobre situações em que você se sabotou ou limitou suas próprias oportunidades. Descreva pelo menos 3 situações específicas."},{title:"Reconheça os Gatilhos",description:"Quais situações ou emoções costumam ativar esses padrões limitantes? Como você se sente fisicamente quando isso acontece?"},{title:"Visualize a Mudança",description:"Como seria sua vida se você conseguisse superar esses sabotadores internos? Seja específico sobre os resultados que gostaria de alcançar."},{title:"Estratégias de Superação",description:"Baseado no que descobriu, quais são 3 estratégias práticas que você pode implementar quando perceber esses padrões?"}],conclusion:"Parabéns por completar esta sessão! O autoconhecimento é o primeiro passo para a transformação. Continue praticando a observação de seus padrões para desenvolver mais consciência sobre si mesmo."})},{id:2,title:"Primeiros Passos da Transformação",description:"Aprenda as bases completas da metodologia do Instituto dos Sonhos.",estimated_duration:"25 min",content:JSON.stringify({intro:"Esta é uma sessão fundamental para entender nossa metodologia completa de transformação pessoal. Você aprenderá todos os pilares que sustentam uma mudança duradoura.",video_url:"https://www.youtube.com/embed/dQw4w9WgXcQ",tasks:[{title:"Defina Sua Visão Completa",description:"Descreva detalhadamente como você gostaria que sua vida fosse em 12 meses. Include aspectos pessoais, profissionais, relacionamentos e saúde."},{title:"Mapeie Obstáculos",description:"Liste todos os principais desafios que você enfrenta atualmente. Categorize-os entre internos (crenças, medos) e externos (circunstâncias)."},{title:"Plano de Ação Detalhado",description:"Crie um plano com 5 ações específicas que você pode tomar nas próximas 2 semanas para se aproximar da sua visão."},{title:"Rede de Apoio e Recursos",description:"Identifique pessoas, livros, cursos ou recursos que podem te apoiar nesta jornada. Como você vai ativar essa rede?"}],conclusion:"Excelente trabalho! Você criou uma base sólida para sua jornada de transformação. Lembre-se: grandes mudanças começam com pequenas ações consistentes."})},{id:3,title:"Respiração Consciente para Ansiedade",description:"Técnicas completas de respiração e regulação emocional.",estimated_duration:"18 min",content:JSON.stringify({intro:"A respiração é uma ferramenta poderosa para regular suas emoções e reduzir a ansiedade. Nesta sessão completa, você aprenderá múltiplas técnicas que pode usar em qualquer situação.",video_url:"https://www.youtube.com/embed/dQw4w9WgXcQ",tasks:[{title:"Técnica 4-7-8 Avançada",description:"Pratique a respiração 4-7-8 por 10 ciclos. Descreva como se sentiu antes, durante e depois. Quais sensações físicas notou?"},{title:"Respiração do Quadrado Completa",description:"Pratique por 15 minutos: inspire por 4, segure por 4, expire por 4, segure por 4. Como esta técnica afeta seu estado mental?"},{title:"Situações de Aplicação",description:"Identifique 5 situações específicas da sua vida onde você pode usar essas técnicas. Como vai lembrar de aplicá-las?"}],conclusion:"Parabéns por dominar essas técnicas! A respiração consciente é uma habilidade que melhora com a prática. Use essas técnicas diariamente para resultados duradouros."})}].find(x=>x.id===parseInt(t||"1"));if(!c)return o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("p",{className:"text-muted-foreground",children:"Sessão não encontrada."})});const u=typeof c.content=="string"?JSON.parse(c.content):c.content,d=[{name:"Introdução",component:"intro"},{name:"Vídeo",component:"video"},...u.tasks.map((x,v)=>({name:`Tarefa ${v+1}`,component:"task",taskIndex:v})),{name:"Conclusão",component:"conclusion"}],f=d[r];S.useEffect(()=>{t&&n&&(r/(d.length-1)*100,d.length-1)},[r,t,n]);const h=(x,v)=>{const g=[...s];g[x]=v,a(g)},m=()=>{const x=f;switch(x.component){case"intro":return o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-instituto-dark mb-4",children:"🌟 Bem-vindo à sua sessão completa"}),o.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:u.intro})]})});case"video":return o.jsxs("div",{className:"space-y-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-instituto-dark mb-4",children:"🎥 Conteúdo Principal"}),o.jsx("div",{className:"aspect-video rounded-lg overflow-hidden bg-black",children:o.jsx("iframe",{src:u.video_url,title:c.title,className:"w-full h-full",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})]});case"task":const v=x,g=u.tasks[v.taskIndex];return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold text-instituto-dark mb-4",children:g.title}),o.jsx("p",{className:"text-instituto-dark/70 mb-6",children:g.description})]}),o.jsxs(le,{className:"p-6",children:[o.jsx("div",{className:"flex items-center justify-between mb-3",children:o.jsx("h4",{className:"font-semibold text-instituto-dark",children:"Sua Resposta:"})}),o.jsx(mn,{placeholder:"Digite sua resposta aqui...",className:"min-h-[150px] resize-none",value:s[v.taskIndex]||"",onChange:w=>h(v.taskIndex,w.target.value)})]})]});case"conclusion":return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-3xl font-bold text-instituto-dark mb-4",children:"🎉 Sessão Concluída com Sucesso!"}),o.jsx("p",{className:"text-lg text-instituto-dark/70",children:"Parabéns por completar esta jornada de autoconhecimento"})]}),o.jsx("div",{className:"bg-gradient-to-r from-instituto-green/10 to-instituto-light/10 p-6 rounded-lg border border-instituto-green/20",children:o.jsx("p",{className:"text-lg text-instituto-dark leading-relaxed text-center",children:u.conclusion})}),o.jsx("div",{className:"flex justify-center",children:o.jsxs(pe,{onClick:()=>e("/dashboard"),variant:"outline",size:"lg",className:"border-instituto-orange text-instituto-orange hover:bg-instituto-orange hover:text-white",children:[o.jsx(xc,{className:"w-4 h-4 mr-2"}),"Voltar ao Dashboard"]})})]});default:return o.jsx("div",{children:"Conteúdo não encontrado"})}};return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-instituto-light via-white to-instituto-cream",children:[o.jsx("header",{className:"border-b bg-white/80 backdrop-blur-sm sticky top-0 z-10",children:o.jsx("div",{className:"container mx-auto px-6 py-4",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("img",{src:cm,alt:"Instituto dos Sonhos",className:"w-8 h-8"}),o.jsx("div",{children:o.jsx("h1",{className:"text-xl font-bold text-instituto-dark",children:"Instituto dos Sonhos"})})]}),o.jsx("div",{className:"flex items-center gap-3",children:o.jsxs(pe,{variant:"ghost",onClick:()=>e("/dashboard"),className:"text-instituto-dark",children:[o.jsx(xc,{className:"w-4 h-4 mr-2"}),"Voltar"]})})]})})}),o.jsxs("div",{className:"container mx-auto px-6 py-8",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-instituto-dark mb-2",children:c.title}),o.jsxs("div",{className:"flex items-center justify-center gap-4 text-sm text-instituto-dark/70",children:[o.jsxs(Nt,{variant:"outline",className:"border-instituto-green text-instituto-green",children:[o.jsx(Rr,{className:"w-3 h-3 mr-1"}),"Acesso Completo"]}),o.jsx("span",{children:c.estimated_duration}),o.jsxs("span",{children:[((p=u.tasks)==null?void 0:p.length)||0," atividades"]})]}),o.jsxs("div",{className:"mt-4",children:[o.jsx("div",{className:"text-sm text-instituto-dark/70 mb-2",children:"Progresso"}),o.jsx(Sa,{value:r/(d.length-1)*100,className:"w-full max-w-md mx-auto"}),o.jsxs("div",{className:"text-sm text-instituto-orange font-semibold mt-1",children:[Math.round(r/(d.length-1)*100),"% concluído"]})]})]}),o.jsx(le,{className:"mb-8",children:o.jsx(ue,{className:"p-8",children:m()})}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs(pe,{variant:"outline",onClick:()=>i(Math.max(0,r-1)),disabled:r===0,className:"border-instituto-orange text-instituto-orange hover:bg-instituto-orange hover:text-white",children:[o.jsx(xc,{className:"mr-2 h-4 w-4"}),"Anterior"]}),o.jsx("div",{className:"flex gap-2",children:d.map((x,v)=>o.jsx("div",{className:`w-2 h-2 rounded-full transition-colors ${v===r?"bg-instituto-orange":v<r?"bg-instituto-orange/60":"bg-gray-300"}`},v))}),o.jsxs(pe,{onClick:()=>i(Math.min(d.length-1,r+1)),disabled:r===d.length-1,className:"bg-instituto-orange hover:bg-instituto-orange-hover",children:["Próximo",o.jsx(sf,{className:"ml-2 h-4 w-4"})]})]})]})]})},Vnt=()=>{const t=mw();return S.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),o.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-100",children:[o.jsx("div",{className:"absolute top-4 right-4",children:o.jsx(V3,{})}),o.jsx("div",{className:"flex-1 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),o.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),o.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})]})},Wnt=new yye,$nt=()=>o.jsx(wye,{client:Wnt,children:o.jsxs(Xxe,{children:[o.jsx(Rge,{}),o.jsx(dve,{}),o.jsx(Fwe,{children:o.jsx(y0e,{children:o.jsxs(f0e,{children:[o.jsx(Cd,{path:"/",element:o.jsx(fSe,{})}),o.jsx(Cd,{path:"/auth",element:o.jsx(Fnt,{})}),o.jsx(Cd,{path:"/sample-session/:id",element:o.jsx(Bnt,{})}),o.jsx(Cd,{path:"/session/:id",element:o.jsx(znt,{})}),o.jsx(Cd,{path:"/dashboard",element:o.jsx(Utt,{})}),o.jsx(Cd,{path:"/admin",element:o.jsx(Lnt,{})}),o.jsx(Cd,{path:"*",element:o.jsx(Vnt,{})})]})})})]})});mK(document.getElementById("root")).render(o.jsx($nt,{}));
